/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{baabifghjg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cfiefabjeg")),o=({header:e})=>s.createElement("div",{className:n.default.container},e);t.default=o},baadgiggci:function(e,t){e.exports={bubble:"_1cbKf",container:"_1ygSL",title:"_6rCIE",meta:"_1p7ay",actionContainer:"qK-Ia",action:"_1vnL6",icon:"_1S5EO"}},babdhfcgdb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){new r.default.WebcMenu({webcMenuAction:r.default.WEBC_MENU_TYPE.THREADS_SCREEN_CLICK,webcMenuItemLabel:e}).commit()};var r=i(a("bdcchebfge"))},babicefcfg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupSubject=function(e,t){var a;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(!a)return Promise.reject(new Error("sendSetGroupSubject: not supported when not build with MD_BACKEND"))}else a=o.default.changeSubject(e,t).then(e=>200!==e.status?Promise.reject(new s.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate});return a},t.sendSetGroupDescription=function(e,t,a,i){var r;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(!r)return Promise.reject(new Error("sendSetGroupDescription: not supported when not build with MD_BACKEND"))}else r=o.default.setGroupDescription(e,t,a,i).then(e=>200!==e.status?Promise.reject(new s.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate});return r},t.sendSetGroupProperty=function(e,t,a){var i;if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(!i)return Promise.reject(new Error("sendSetGroupProperty: not supported when not build with MD_BACKEND"))}else i=(i=t===r.default.GROUP_SETTING_TYPE.EPHEMERAL?o.default.setGroupEphemeralDuration(e,a):o.default.setGroupProperty(e,t,Boolean(a))).then(e=>200!==e.status?Promise.reject(new s.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate});return i};var r=i(a("hgigjbgie")),s=a("bgihjbde"),n=i(a("bhbdiadfhj")),o=i(a("cfidecfjad"))},baccfdhebd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createLocal=function(){r.default.supportsFeature(r.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("bhbdiadfhj"))},baccjfeija:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ciafdhcchg")),o=i(a("bdjjabfecc")),d=i(a("ciddgidbcj")),l=r(a("fcejjgddj"));class c extends s.PureComponent{constructor(...e){super(...e),this._handleClick=e=>{this.props.onClick(this.props.sectionId,e)}}render(){var e={[n.default.RECENT]:o.default.t(541),[n.default.SMILEYS_PEOPLE]:o.default.t(542),[n.default.ANIMALS_NATURE]:o.default.t(536),[n.default.FOOD_DRINK]:o.default.t(538),[n.default.ACTIVITY]:o.default.t(535),[n.default.TRAVEL_PLACES]:o.default.t(544),[n.default.OBJECTS]:o.default.t(540),[n.default.SYMBOLS]:o.default.t(543),[n.default.FLAGS]:o.default.t(537)},{sectionId:t}=this.props,a=e[t];return s.createElement(l.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,theme:l.THEMES.MENU,title:a},s.createElement(d.default,{sectionId:t}))}}t.default=c},bacdbbiiid:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("dgdjiicfdg")),n=i(a("dhigahgdjb"));function o(){var e=(0,r.default)(["bin-recv: response,",""]);return o=function(){return e},e}var d={queryNextLabelColor(){return this._queryLabelColor(!0)},queryLabelPalette(){return this._queryLabelColor()},createLabel(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){var t=e?"next label color":"all label color palette";return new Promise((a,i)=>{var r=this.queryNode({type:"label",kind:"color",create:e?"true":void 0});this.binSend("sendEphemeral",r,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var i={};if(__LOG__(2)(o(),t),"response"===this.N.tag(e)&&"label"===this.N.attr("type",e)){i.labelColors=[];var r=this.N.children(e);if(Array.isArray(r))for(var s=0;s<r.length;s++){var n=this.parseLabelColor(r[s]);n&&i.labelColors.push(n)}}a(i)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:"query,".concat(t),metricName:e?"QUERY_NEXT_LABEL_COLOR":"QUERY_LABEL_PALETTE"})})},addOrRemoveLabels:function(e,t=[]){return new Promise((i,r)=>{var o=this.wrap(i),d=e.map(e=>["label",{id:e.id,type:e.type},void 0]),l=t.map(e=>e instanceof a("dbdfbgehgj").default.modelClass?["chat",{jid:e.id},void 0]:e instanceof n.default.modelClass?["contact",{jid:e.id},void 0]:e instanceof a("biecbbiiee").default.modelClass?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0),c=this.actionNode("set",[["label",{type:"update"},l.concat(d)]]);this.binSend("send",c,r,{onSend:o,onDrop:this.wrap(r)},{debugString:"action,label,remove or add",metricName:"ADD_OR_REMOVE_LABELS",expires:(0,s.default)().unix()})})},_createOrDeleteLabels:function(e,t,a,i){if("delete"!==e&&"create"!==e)throw new Error("_createOrDeleteLabels must be called with type of delete or create");return new Promise((r,n)=>{var o=this.wrap(r),d={type:e,name:t,color:a,id:i||void 0},l=this.actionNode("set",[["label",d,void 0]]);this.binSend("send",l,n,{onSend:o,onDrop:this.wrap(n)},{debugString:"action,label,create or delete",metricName:"CREATE_OR_DELETE_LABELS",expires:(0,s.default)().unix()})})},editLabel:function(e,t,a){return new Promise((i,r)=>{var n=this.wrap(i),o={id:e,name:t||void 0,color:a||void 0,type:"update"},d=this.actionNode("set",[["label",o,void 0]]);this.binSend("send",d,r,{onSend:n,onDrop:this.wrap(r)},{debugString:"action,label,edit",metricName:"EDIT_LABELS",expires:(0,s.default)().unix()})})},parseLabelColor:function(e){if("label"===this.N.tag(e)){var t=this.N.attr("color",e);return this.dropIfConditionMet([!t],{color:t})}}};t.default=d},bacefjjjdb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("caifijidhe")),o=a("cdbgdedbdh"),d=i(a("dcdbbhicce"));class l extends s.PureComponent{constructor(...e){super(...e),this.stopPropagation=e=>{e.stopPropagation()}}render(){var{altText:e,mediaData:t}=this.props,a=t.preview&&t.preview.url(),i=(0,o.aspectRatioScaled)(t.aspectRatio,500);return s.createElement("div",{className:n.default.mediaViewerBlurCrop,style:i,onClick:this.stopPropagation},s.createElement("img",{className:n.default.mediaViewerBlurImg,src:a,alt:e}))}}l.CONCERNS={mediaData:["preview","aspectRatio"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},bacfccchhf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.gifProvider=function(){switch(r.default.gifSearch){case"giphy":return"giphy";case"tenor":default:return"tenor"}},t.GIPHY_LOCALES=t.BRAND_NAMES=t.GifInfo=t.TENOR=t.GIPHY=t.GAP_SIZE=t.TARGET_GIF_HEIGHT=void 0;var r=i(a("bfgbdiffgd"));t.TARGET_GIF_HEIGHT=130;t.GAP_SIZE=6;t.GIPHY="giphy";t.TENOR="tenor";var s=0;t.GifInfo=class{constructor(e,t,a,i,r,n,o,d){this.rank=e,this.gifId=++s,this.url=t,this.size=a,this.previewUrl=i||t,this.nonVideoUrl=r,this.width=n,this.widthStr="".concat(n,"px"),this.ratioStr="".concat(Math.ceil(13e3/n),"%"),this.attribution=o,this.trending=d}};t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"};t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},badbjbecei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("dfjejeffdj")),l=r(a("dgebcfedgb")),c=i(a("cdidgggjha")),u=i(a("bdjjabfecc")),f=i(a("ebddggeaib")),h=i(a("dhjjffibdg")),p=a("edagdaii"),g=a("cjfegjecaj"),m=i(a("cficggdeda")),b=i(a("cgjdibiahi")),v=i(a("dfciadajdf")),_=i(a("didfdhbecg")),E=a("bedfbecdgd");class j extends s.Component{constructor(...e){super(...e),this.addRevokeListener=()=>{this.props.listeners.add(this.props.msg,"change:asRevoked",this.handleRevoke)},this.handleRevoke=()=>{o.default.refreshMessages()},this.state={contextMenu:null,hover:!1},this.setRefContext=e=>this.refContext=e,this.mouseOver=e=>{e.buttons||this.state.hover||this.setState({hover:!0})},this.mouseDown=()=>{this.state.hover&&this.setState({hover:!1})},this.openContextMenu=()=>{this.onMenu(void 0,!0)},this.closeContextMenu=()=>{this.setState({contextMenu:null})},this.onOpenInfoDrawer=()=>{o.default.msgInfoDrawer((0,g.unproxy)(this.props.msg.unsafe()))},this.onReplyMessage=()=>{var e=(0,g.unproxy)(this.props.msg.unsafe()),t=e.chat;t.composeQuotedMsg=e,o.default.focusChatTextInput(t)},this.onPrivateReplyMessage=()=>{var e=(0,g.unproxy)(this.props.msg.unsafe());n.default.find(e.sender).then(e=>Promise.props({ok:o.default.openChatBottom(e),chat:e})).then(({ok:t,chat:a})=>{t&&(a.composeQuotedMsg=e,this.props.msg&&this.props.msg.chat&&(a.composeQuotedMsgRemoteJid=this.props.msg.chat.id))})},this.onStarMessage=()=>{var e=(0,g.unproxy)(this.props.msg.unsafe());o.default.sendStarMsgs(e.chat,[e])},this.onUnstarMessage=()=>{var e=(0,g.unproxy)(this.props.msg.unsafe());o.default.sendUnstarMsgs(e.chat,[e])},this.onDeleteMessage=()=>{var{msg:e,isMsgVisible:t}=this.props;o.default.openModal(s.createElement(d.default,{chat:e.chat,msgList:[(0,g.unproxy)(e.unsafe())],deletePrompt:!0,revokePrompt:e.canRevoke(),isMsgVisible:t}))},this.openContactChat=()=>{n.default.find(this.props.msg.author).then(e=>{o.default.openChatFromUnread(e).then(t=>{t&&o.default.focusChatTextInput(e)})})},this._getMenuRefContext=()=>{if(this.refContext)return this.refContext.getComponent().refContext},this.onMenu=(e,t)=>{if(t&&this.state.contextMenu)this.setState({contextMenu:null});else{var a=t?this._getMenuRefContext():e,i=(0,g.unproxy)(this.props.msg),r=[];i.isSentByMe&&!i.asRevoked&&r.push(s.createElement(l.default,{key:"info",a8n:"mi-msg-info",action:this.onOpenInfoDrawer},u.default.t(889))),i.canReply()&&r.push(s.createElement(l.default,{key:"reply",a8n:"mi-msg-reply",action:this.onReplyMessage},u.default.t(1143))),(i.canPrivateReply()||i.canPrivateReplyInRestrictedGrp())&&r.push(s.createElement(l.default,{key:"private_reply",a8n:"mi-msg-reply",action:this.onPrivateReplyMessage},u.default.t(1095))),i.canForward()&&r.push(s.createElement(l.default,{key:"forward",a8n:"mi-msg-forward",action:()=>{this.props.onOpenForwardFlow(!0,i.unsafe())}},u.default.t(625))),i.canStar()&&(i.star?r.push(s.createElement(l.default,{key:"star",a8n:"mi-msg-unstar",action:this.onUnstarMessage},u.default.t(1337))):r.push(s.createElement(l.default,{key:"star",a8n:"mi-msg-star",action:this.onStarMessage},u.default.t(1259)))),r.push(s.createElement(l.default,{key:"delete",a8n:"mi-msg-delete",action:this.onDeleteMessage},u.default.t(494))),i.isGroupMsg&&i.author&&!i.isSentByMe&&r.push(s.createElement(l.default,{key:"author",a8n:"mi-msg-author",action:this.openContactChat},u.default.t(885,{author:i.displayName()}))),this.setState({contextMenu:{menu:r,anchor:a,theme:l.ThemeOptions.COMPACT}})}}}componentDidMount(){this.addRevokeListener()}componentDidUpdate(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:asRevoked",this.handleRevoke),this.addRevokeListener())}scrollMsg(e,t){this.props.scrollMsg(e,t)}highlight(e){this.props.highlight(e)}render(){var e,t,a,{msg:i,menuTransition:r}=this.props;return(this.state.hover||this.state.contextMenu)&&(e=s.createElement(h.default,{msg:i.unsafe(),position:p.MsgPosition.SINGLE,key:"icon-context",ref:this.setRefContext,onToggle:e=>{this.onMenu(e)},isGroupedSticker:!0})),this.props.isFocused&&(t=s.createElement(E.WhileFocusedListener,{parent:this})),this.state.contextMenu&&(a=s.createElement(b.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},s.createElement(v.default,{contextMenu:this.state.contextMenu}))),s.createElement("div",{className:c.default.stickerItem,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},s.createElement(m.default,{mediaData:i.mediaData,msg:i,forwardRef:this.props.forwardRef,animateOnView:!0}),s.createElement("div",{className:c.default.stickerMenu},s.createElement(_.default,{transitionName:r},e)),a,t)}}var y=(0,f.default)(j);t.default=y},badbjjhijd:function(e,t){e.exports={multiControls:"yVipa",multiselectIcon:"_2OhFa",multiCount:"lBvmv",mediaGalleryTheme:"_220gr"}},badciidhcf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgComponent=void 0;var s=r(a("dfadhaifh")),n=r(a("cdfdfciehj")),o=i(a("ddhijeejag")),d=r(a("cjeibbeacf")),l=r(a("bdajcibefj")),c=r(a("hgigjbgie")),u=r(a("ejhahcjef")),f=r(a("bjjjgheffc")),h=r(a("bhbdiadfhj")),p=r(a("bfcdiahdjh")),g=a("dhegcfddhg"),m=r(a("eafbbijijj")),b=r(a("cgdeicdhag")),v=r(a("bjhejdiicf")),_=r(a("ecdffdifib")),E=r(a("bdcchebfge")),j=r(a("dgjfhfaeci")),y=r(a("cgjbifjfcd")),S=r(a("ciidaeaiaj")),C=r(a("dggicbgjfb")),M=r(a("dccbehddaf")),T=r(a("bghjhaheia")),P=r(a("bfhjjefchf")),O=r(a("cbgdhcfbei")),N=r(a("dfifdafgfa")),I=r(a("cdhbiabgae")),A=r(a("dageadjdbi")),w=r(a("dcdbbhicce")),R=a("cjfegjecaj"),D=r(a("cficggdeda")),L=r(a("bjfjfdaihd")),k=r(a("dbgfcgihid")),x=r(a("ecbchdhdcg")),G=r(a("dgigfhdcif")),U=a("cjjdjbcgjh"),F=r(a("cfjjhfcjhj")),B=r(a("egccfhbgc"));function V(){var e=(0,s.default)(["messageList:render Unknown message type: ",""]);return V=function(){return e},e}class H extends o.PureComponent{constructor(...e){super(...e),this._getParsedVcardList=(0,_.default)(({vcardList:e})=>e?e.map(e=>(0,n.default)((0,n.default)({},e),{},{parsedVcard:(0,U.parseVcard)(e.vcard)})):[])}getQuotedMsg(){var e,{displayType:t,msg:a,chat:i}=this.props;if(h.default.supportsFeature(h.default.F.REPLIES_IN)&&t!==c.default.DISP_TYPE.GALLERY){var r=a.quotedMsgObj();if(r)e=o.createElement(N.default,{msg:r,key:r.id.toString(),rootMsg:(0,R.unproxy)(a),displayType:t,theme:"conversation",chat:(0,R.unproxy)(i),t:a.t});else{var s=a.getQuotedMsgAdminGroupJid();s&&(e=o.createElement(I.default,{quotedGroupJid:s}))}}return e}getRef(){return this.ref}render(){var{chat:e,displayAuthor:t,displayType:a,isMsgVisible:i,msg:r}=this.props,s=r.safe();if(null!=s.asViewOnce)return o.createElement(B.default,{displayType:a,displayAuthor:t,msg:s.asViewOnce,quotedMsg:this.getQuotedMsg(),trusted:r.isTrusted()});switch(s.type){case c.default.MSG_TYPE.CHAT:case c.default.MSG_TYPE.LIST_RESPONSE:return o.createElement(L.default,{msg:(0,R.unproxy)(s),contact:s.senderObj,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),trusted:s.isTrusted(),displayType:a,displayAuthor:t});case c.default.MSG_TYPE.IMAGE:return o.createElement(T.default,{msg:s,displayType:a,mediaData:s.mediaData,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),isMsgVisible:i,trusted:s.isTrusted(),displayAuthor:t});case c.default.MSG_TYPE.PRODUCT:return o.createElement(P.default,{msg:s,mediaData:s.mediaData,displayAuthor:t,trusted:s.isTrusted(),onProductClick:this.props.onProductClick,quotedMsg:this.getQuotedMsg()});case c.default.MSG_TYPE.GROUP_NOTIFICATION:case c.default.MSG_TYPE.GP2:case c.default.MSG_TYPE.BROADCAST_NOTIFICATION:case c.default.MSG_TYPE.NOTIFICATION:case c.default.MSG_TYPE.NOTIFICATION_TEMPLATE:case c.default.MSG_TYPE.E2E_NOTIFICATION:case c.default.MSG_TYPE.CALL_LOG:return o.createElement(y.default,{contact:(0,R.unproxy)(e).contact,msg:s,ref:(0,g.GetRef)("ref",this)});case c.default.MSG_TYPE.AUDIO:return o.createElement(d.default,{msg:s,mediaData:s.mediaData,quotedMsg:this.getQuotedMsg(),displayAuthor:t,displayType:a,ref:(0,g.GetRef)("ref",this)});case c.default.MSG_TYPE.VIDEO:return!0===s.isGif?o.createElement(f.default,{displayAuthor:t,displayType:a,isMsgVisible:i,maxWidth:this.props.maxWidth,mediaData:s.mediaData,msg:s,quotedMsg:this.getQuotedMsg(),ref:(0,g.GetRef)("ref",this),trusted:s.isTrusted()}):o.createElement(F.default,{displayAuthor:t,displayType:a,hover:this.props.hover,isMsgVisible:i,mediaData:s.mediaData,msg:s,quotedMsg:this.getQuotedMsg(),ref:(0,g.GetRef)("ref",this),trusted:s.isTrusted()});case c.default.MSG_TYPE.VCARD:return o.createElement(x.default,{msg:s,vcard:s.vcard,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:a,displayAuthor:t,onMessageClick:this.props.onMessageClick});case c.default.MSG_TYPE.MULTI_VCARD:return o.createElement(j.default,{msg:s,vcardList:this._getParsedVcardList({vcardList:this.props.msg.vcardList}),ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:a,displayAuthor:t});case c.default.MSG_TYPE.GROUPS_V4_INVITE:return o.createElement(p.default,{msg:s,ref:(0,g.GetRef)("ref",this),displayAuthor:t});case c.default.MSG_TYPE.LOCATION:return!0===s.isLive?o.createElement(b.default,{msg:(0,R.unproxy)(s),ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),trusted:s.isTrusted(),displayAuthor:t}):o.createElement(v.default,{msg:(0,R.unproxy)(s),ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayAuthor:t});case c.default.MSG_TYPE.PAYMENT:return o.createElement(M.default,{msg:s,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayAuthor:t});case c.default.MSG_TYPE.PTT:return o.createElement(O.default,{msg:s,mediaData:s.mediaData,quotedMsg:this.getQuotedMsg(),displayAuthor:t,displayType:a,ref:(0,g.GetRef)("ref",this),getSequentialMsg:this.props.getSequentialMsg});case c.default.MSG_TYPE.STICKER:return o.createElement(D.default,{msg:s,mediaData:s.mediaData,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayAuthor:t,position:this.props.position,forwardRef:this.props.forwardStickerRef,animateOnView:!0});case c.default.MSG_TYPE.DOCUMENT:var{isVcardOverMmsDocument:n}=r;if(n){var h=r.isTrusted()?()=>{r.downloadMedia(!0,E.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}:null;return o.createElement(G.default,{chat:e,msg:s,mediaData:r.mediaData,displayAuthor:t,displayType:a,getQuotedMsg:()=>this.getQuotedMsg(),onMessageClick:this.props.onMessageClick,downloadMedia:h})}return o.createElement(u.default,{msg:s,displayType:a,mediaData:s.mediaData,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),trusted:s.isTrusted(),displayAuthor:t});case c.default.MSG_TYPE.UNKNOWN:return o.createElement(k.default,{msg:(0,R.unproxy)(s),displayAuthor:t});case c.default.MSG_TYPE.CIPHERTEXT:return o.createElement(l.default,{msg:s,ref:(0,g.GetRef)("ref",this),displayAuthor:t});case c.default.MSG_TYPE.REVOKED:return o.createElement(A.default,{msg:(0,R.unproxy)(s),ref:(0,g.GetRef)("ref",this)});case c.default.MSG_TYPE.OVERSIZED:return o.createElement(C.default,{msg:(0,R.unproxy)(s),displayAuthor:t});case c.default.MSG_TYPE.HSM:case c.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return o.createElement(L.default,{msg:(0,R.unproxy)(s),contact:s.senderObj,ref:(0,g.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),trusted:s.isTrusted(),displayType:a,displayAuthor:t});case c.default.MSG_TYPE.PROTOCOL:return"ephemeral_setting"===r.subtype?o.createElement(y.default,{contact:(0,R.unproxy)(e).contact,msg:s,ref:(0,g.GetRef)("ref",this)}):o.createElement(k.default,{msg:(0,R.unproxy)(s),ref:(0,g.GetRef)("ref",this),displayAuthor:t});case c.default.MSG_TYPE.ORDER:return o.createElement(S.default,{displayAuthor:t,msg:(0,R.unproxy)(s),ref:(0,g.GetRef)("ref",this)});case c.default.MSG_TYPE.LIST:return o.createElement(m.default,{msg:(0,R.unproxy)(s),displayAuthor:t});default:return __LOG__(2)(V(),r.type),o.createElement(k.default,{msg:(0,R.unproxy)(s),ref:(0,g.GetRef)("ref",this),displayAuthor:t})}}}t.MsgComponent=H,H.CONCERNS={msg:["body","caption","rtl","dir","isSentByMe","isPSA","isViewOnce","ctwaContext","initialPageSize","hasTemplateButtons","thumbnail","orderTitle","isGif","isLive","isVcardOverMmsDocument","mediaData","senderObj","subtype","type","t","id","title","isFromTemplate","vcard","vcardList"],chat:["trusted"]};var W=(0,w.default)(H,H.CONCERNS);t.default=class extends W{getRef(){return this.getComponent().getRef()}}},badddahij:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(a,i){var o="",d=!1,l=!0;return(0,s.default)(a,i,a=>{return d?(i=a,l=r.default.isEmoji(i)||n.test(i),!0):o.length>e||void((d=a===t)||(o=a+o));var i}),d&&l?o:null}};var r=i(a("djegeegcbf")),s=i(a("ccdccbedad")),n=/\W/},baebehedbi:function(e,t){e.exports={container:"_33OoY"}},baedhcchje:function(e,t){e.exports={checkboxContainer:"_2K7JO",containerDisabled:"t4v-l",checkbox:"_2KoSK",checkmark:"_1hDF",partialCheckMark:"_CvXG",checkedCheckbox:"RXL_k",checkedCheckmark:"_1ACXZ","checkmark-expand":"_139nG",checkmarkExpand:"_139nG",uncheckedCheckmark:"O2xKS",disabled:"MZttk",a11yHidden:"_12tnw",a11YHidden:"_12tnw"}},baeibjjidd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bjfhachbaa",7)).then(e=>e.default),"AttachVcardsFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(1223),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},bafdehfigc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendExitGroup=function(e){return function e(t){var{isGroup:a,promises:i}=t;if(!a)return Promise.reject(new c.ActionError);if(i.sendExit)return i.sendExit;var r=i.sendExit=(0,u.sendExitGroup)(t.id),s=new o.ActionType(h.default.t(81)),f=r.then((function(){return new o.ActionType(h.default.t(80))})).catchType(l.ServerStatusCodeError,e=>{if(e.status>=400)return new o.ActionType(h.default.t(79))}).catch((function(){return __LOG__(3)(m()),new o.ActionType(h.default.t(79),h.default.t(174),()=>e(t))}));return d.default.openToast(n.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:s,pendingAction:f})),r.then(e=>{e._duplicate||b(t)}).finally(()=>{i.sendExit=null}).catchType(l.ServerStatusCodeError,()=>{})}((0,p.unproxy)(e))},t.localExitGroup=b;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=a("bgihjbde"),c=i(a("cajijabhgb")),u=a("ecffadehg"),f=a("ddbdgibbbi"),h=r(a("bdjjabfecc")),p=a("cjfegjecaj");function g(){var e=(0,s.default)(["failed to merge chat table"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["actions:chat:sendExit dropped"]);return m=function(){return e},e}function b(e){e.isGroup&&(e.groupMetadata.participants.remove((0,f.getMaybeMeUser)()),(0,u.markExited)(e.id).then(()=>{e.isReadOnly=!0}).catch(()=>{throw __LOG__(4,!0,new Error)(g()),SEND_LOGS("failed to merge chat table when exiting group"),new Error("failed to merge chat table")}))}},baffhfhhda:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaTagErrorReason=M,t.loadImage=T,t.image=function(e){return T(e).then(e=>e&&e.naturalWidth>0?{img:e,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}:Promise.reject(new o.MediaLoadError("image loaded with zero width"))).catch(()=>Promise.reject(new o.MediaLoadError("unable to render image")))},t.video=P,t.videoWidthHeightDuration=function(e){return P(e,!0).then(({video:e,fullWidth:t,fullHeight:a,duration:i})=>(O(e),{width:t,height:a,duration:i}))},t.disposeVideo=O,t.audio=function(e){var t;return new Promise((function(a,i){(t=document.createElement("audio")).volume=0,t.autoplay=!0,t.onplay=function(){t.pause(),a({audio:t})},t.onerror=()=>{i(new o.MediaLoadError("unable to play audio"))},t.src=e})).finally(()=>{t&&(t.onplay=t.onerror=null)})},t.transcode=function(e,t){var a=t||e.type;if(a&&a.includes(n.default.MIMETYPE_OGG)&&!y){if(e.size<=3e5)return new c.default(e).generateBlob();throw new o.TranscodeBlobTooLargeError}return Promise.resolve(e)},t.canPlayOgg=void 0;var s=r(a("dfadhaifh")),n=r(a("hgigjbgie")),o=i(a("cajijabhgb")),d=r(a("bcbhbedgh")),l=r(a("bdcchebfge")),c=r(a("bejfdgbdag")),u=r(a("bcjcbbafcj"));function f(){var e=(0,s.default)(["Error: ",""]);return f=function(){return e},e}function h(){var e=(0,s.default)(["MediaLoad:video #"," dimensions are not defined. Video readyState: ",". Video width: ",""]);return h=function(){return e},e}function p(){var e=(0,s.default)(["MediaLoad:video #"," successful"]);return p=function(){return e},e}function g(){var e=(0,s.default)(["unable to load video #"," ("," bytes)"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["MediaLoad:video.onerror #",": ","\n Blob info -> size:",", type: ",""],["MediaLoad:video.onerror #",": ","\\n Blob info -> size:",", type: ",""]);return m=function(){return e},e}function b(){var e=(0,s.default)(["MediaLoad:video.oncanplay #",". Metadata loaded: ",". Video width: ",""]);return b=function(){return e},e}function v(){var e=(0,s.default)(["MediaLoad:video.onprogress #",""]);return v=function(){return e},e}function _(){var e=(0,s.default)(["MediaLoad:video.onloadeddata #",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["MediaLoad:video.onloadedmetadata #",". Video ready: ",". Video width: ",""]);return E=function(){return e},e}function j(){var e=(0,s.default)(["MediaLoad:video called (#","). Should wait for a first frame: ",""]);return j=function(){return e},e}var y=(new Audio).canPlayType("audio/ogg");t.canPlayOgg=y;var S=0,C=Promise.resolve();function M(e){if(!e||!e.error)return null;var t=e.error,a=Object.keys(d.default).find(e=>d.default[e]===t.code);a=a||"UNKNOWN CODE ".concat(t.code);var i=t.message&&~t.message.indexOf(":")?t.message.split(":")[0]:"";return i?"".concat(a,": ").concat(i):a}function T(e,t=!0){var a;return new Promise((function(i,r){a=new Image;var s=/^(?:data|blob):/.test(e);t&&!s&&a.setAttribute("crossOrigin","anonymous"),a.onload=i,a.onabort=()=>{r(new Error("loadImage onabort"))},a.onerror=()=>{r(new o.InvalidImageFileType("Image tag load error"))},a.src=e})).then(()=>a)}function P(e,t=!1){var a=C.then(()=>function(e,t=!1){var a,i,r=new l.default.WebcMediaLoad,s=null,n=++S;function d(){a&&s&&(document.body&&document.body.removeChild(s),s=null)}var c=new Promise((function(r,d){__LOG__(2)(j(),n,t);var l=!1,c=!1;(a=document.createElement("video")).volume=0,a.muted=!0,a.playsinline=!0,a.onloadedmetadata=()=>{__LOG__(2)(E(),n,c,a.videoWidth),l=!0,!c&&t||r()},a.onloadeddata=()=>{__LOG__(2)(_(),n)},a.onprogress=()=>{__LOG__(2)(v(),n)},a.oncanplay=()=>{__LOG__(2)(b(),n,l,a.videoWidth),c=!0,l&&t&&r()},a.onerror=()=>{var t=a.error?a.error.message:"no error message";__LOG__(3)(m(),n,String(t),e.size,e.type);var i=M(a);d(new o.UnableToPlayVideoError(i))},a.src=i=window.URL.createObjectURL(e),(u.default.isSafari||u.default.isBuggyVideoLoadChrome)&&((s=document.createElement("div")).style="opacity: 0.004",s.appendChild(a),document.body&&document.body.appendChild(s)),a.load()}));setTimeout(()=>{d(),c.isPending()&&(__LOG__(3)(g(),n,e.size),new l.default.WebcMediaLoad({webcMediaLoadResult:l.default.WEBC_MEDIA_LOAD_RESULT_CODE.SILENCE}).commit())},8e3);var f=c.delay(10).then(()=>{if(r.markWebcMediaLoadT(),__LOG__(2)(p(),n),a.pause(),a.videoWidth>0)return r.webcMediaLoadResult=l.default.WEBC_MEDIA_LOAD_RESULT_CODE.SUCCESS,r.commit(),{video:a,fullWidth:a.videoWidth,fullHeight:a.videoHeight,duration:a.duration};throw a.duration>0?(__LOG__(3)(h(),n,a.readyState,a.videoWidth),new o.MediaUnsupportedError("video loaded with duration but no dims")):(r.webcMediaLoadResult=l.default.WEBC_MEDIA_LOAD_RESULT_CODE.ZEROWIDTH,r.commit(),new o.MediaLoadError("video loaded with zero width"))}).finally(()=>{d(),a&&(a.onloadedmetadata=null,a.onloadeddata=null,a.onplay=null,a.onerror=null),i&&window.URL.revokeObjectURL(i)});return f.catch(()=>{O(a)}),f}(e,t));return C=a.timeout(1e3).then(()=>{},()=>{}),a}function O(e){try{e.pause(),e.src="",e.load()}catch(e){__LOG__(4,!1,new Error)(f(),String(e)),SEND_LOGS("dispose-video-error")}}},bafgbijhfi:function(e,t){e.exports={hasText:"R8RdR",noText:"_3bvwv",quote:"_1wV61",forwarded:"I09HN",hasAuthor:"sv0oF"}},bafhagiedc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement("div",{className:d.default.container},s.createElement("div",{className:d.default.body,dir:"ltr"},s.createElement("div",{className:d.default.imageContainer},s.createElement("div",{className:d.default.defaultIcon},s.createElement(l.default,{name:e.svgName}))),e.error?s.createElement(o.LazyLoadRetry,{className:d.default.lazyLoadRetry,onClick:e.retry}):s.createElement(n.default,null)))};var s=r(a("ddhijeejag")),n=i(a("ecfgahegjj")),o=a("cdhbdacigj"),d=i(a("dicacbdagf")),l=i(a("dgdcjccfdi"))},bafhiehiig:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("ecafecbdig")),d=(i(a("dcjigehfeb")),i(a("dffjiffehg")));class l extends s.Component{constructor(e){super(e),this.state=this.getInitialMediaStyle()}getInitialMediaStyle(){var e;if(this.props.initialStyle)return{initialStyle:this.props.initialStyle,aspectRatio:.67};n.default.getConversationHeaderOffset(t=>{e=t});return e||(e={right:window.innerWidth,bottom:0}),{initialStyle:{width:330*.67,left:e.right<window.innerWidth?e.right-330*.67-10:window.innerWidth-330*.67-10,bottom:window.innerHeight-10-330-e.bottom},aspectRatio:.67}}render(){return s.createElement(d.default,{aspectRatio:.67,margin:{x:10,y:10},minWidth:145,className:o.default.voipFloater,initialStyle:this.state.initialStyle,escapeConversationHeader:!0},this.props.children)}}t.default=l},bagdbbeecc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{error:t,text:a,retry:i}=e,r=(0,s.default)(l.default.closeButton,c.default.v3X,{}),f=(0,s.default)(l.default.closeButton,c.default.backIcon,{}),h=()=>o.default.closeModalMedia();return n.createElement("div",{className:c.default.viewer,"data-animate-status-v3-viewer":!0},n.createElement("button",{className:r,onClick:h},n.createElement(u.default,{name:"x-viewer"})),n.createElement("button",{className:f,onClick:h},n.createElement(u.default,{name:"back",directional:!0})),n.createElement(d.default,{error:t,text:a,retry:i}))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("ecffbdieca")),l=r(a("bfjaedbeii")),c=r(a("dgdfbejdgf")),u=r(a("dgdcjccfdi"))},bagefjifjg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("gfebgebbi")),o=i(a("cffccdfbea")),d=a("gaifbabbj"),l=i(a("bdjjabfecc")),c=i(a("fjgaiebfh")),u=i(a("dcdbbhicce")),f=i(a("dggfhciihi"));class h extends s.PureComponent{render(){var{msg:e,spacer:t,trusted:a}=this.props,i=(a?d.Configuration.TrustedConversation:d.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks(),selectable:!0}),r=e.text;if(!r)return null;var u=!(!e.dir||e.rtl===l.default.isRTL());return s.createElement(s.Fragment,null,!e.ctwaContext&&s.createElement(f.default,{msg:e}),s.createElement(c.default,{msg:e,"data-id":e.id,spacer:t},s.createElement(o.default,{text:r,textLimit:e.initialPageSize},t=>s.createElement(n.default,{direction:e.dir,dirMismatch:u,formatters:i,inferLinesDirection:!0,noInvisibleSpace:u&&null!=e.footer,selectable:!0,text:e.text,textLimit:t.textLimit}))))}}h.CONCERNS={msg:["t","id","dir","rtl","text","initialPageSize","footer","ctwaContext"]};var p=(0,u.default)(h,h.CONCERNS);t.default=p},baghacicdd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.metaInfoSizeIndex=t.metaInfoDateIndex=t.metaInfoPrimaryIndex=void 0;var r=i(a("diaiajeedf")),s=i(a("bhjiahgdac")),n=i(a("bddiehgeji")),o=i(a("ebhdfjjdeb"));t.metaInfoPrimaryIndex="id";t.metaInfoDateIndex="timestamp";t.metaInfoSizeIndex="size";n.default.add("lru-media-meta-info").version(n.default.versions.version(1),[new o.default("id"),new r.default("timestamp"),new s.default("timestamp")]).version(n.default.versions.version(2),[new r.default("size")]).view(e=>({id:e.id,timestamp:e.timestamp,size:e.size||0}));var d=n.default.table("lru-media-meta-info");t.default=d},bahajbigbf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]}},bahgegbhg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("gfebgebbi")),d=a("gaifbabbj"),l=r(a("bdjjabfecc")),c=r(a("ddcdjgjjga")),u=r(a("fjgaiebfh")),f=r(a("bgdeabjbjd")),h=a("cicjibbhdb"),p=r(a("dgfgceghic"));class g extends n.Component{render(){var e,t=this.props.msg,a=(t.isTrusted()?d.Configuration.TrustedConversation:d.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),i=t.comment?n.createElement(u.default,{msg:t.unsafe()},n.createElement(o.default,{text:t.comment,formatters:a,selectable:!0,dirMismatch:t.rtl!==l.default.isRTL(),direction:t.dir})):null;if(this.props.quotedMsg){var r=(0,s.default)(c.default.quote,{[c.default.hasAuthor]:this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,[c.default.forwarded]:t.showForwarded()});e=n.createElement("div",{className:r},this.props.quotedMsg)}return n.createElement(p.default,{msg:t,displayAuthor:this.props.displayAuthor},e,n.createElement("div",{className:i?c.default.hasText:c.default.noText},n.createElement(f.default,{hasCaption:!!i,iconName:(0,h.liveLocationIcon)(!1),msg:this.props.msg.unsafe(),theme:"small-icon"},l.default.t(419))),i)}}t.default=g},bahheegiac:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({productId:e,businessOwnerJid:t,msgT:a}){var i=(0,s.createWid)(t);if(!i)return;var n=r.default.get(i);if(!n)return;var o=n.productCollection.get(e),d=n.msgProductCollection.get(e);if(d&&o){var l=null!=a?a:d.t;return o.t>=l?(n.msgProductCollection.remove(d),o):d}return o||d};var r=i(a("ejegihaeh")),s=a("dcbdjheea")},bahjhjjhfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=a("cbhhehcjbb"),d=i(a("bfebcgehdb"));function l({link:e,children:t,selectable:a}){return s.createElement(o.SelectableLink,{onClick:()=>n.default.openModal(s.createElement(d.default,{link:e})),selectable:a,style:{cursor:"pointer"}},t)}l.defaultProps={children:""};var c=l;t.default=c},baiidbedjj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.reduce((e,t)=>{var{hotkeys:a}=t;return a?(Object.keys(a).forEach(i=>{e[i]||(e[i]=[]),e[i].push([t,a[i]])}),e):e},{});return Object.keys(a).reduce((e,i)=>(e[i]=function(e,t){return a=>{e.some(([e,i])=>{var r=i.call(e,a,t);return!!a.defaultPrevented||!0===r&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!0)})}}(a[i],t),e),{})}},baijfhbiei:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("cgeeeeddea")),o=i(a("ddhijeejag")),d=r(a("ccbgfecegc")),l=r(a("bbfjdcedab")),c=r(a("bjigbaghc")),u=r(a("hgigjbgie")),f=r(a("dhigahgdjb")),h=r(a("djaiggcdb")),p=a("facgccaif"),g=a("dgjddffcfg"),m=a("ddbdgibbbi"),b=r(a("bhbdiadfhj")),v=r(a("bdjjabfecc")),_=r(a("bfgbdiffgd")),E=a("cjfegjecaj"),j=r(a("edbaidcaf")),y=r(a("jccfhaecf")),S=r(a("djbfhebjhe"));function C(){var e=(0,s.default)(["formatE2ENotification: receive identity notification of self"]);return C=function(){return e},e}class M extends o.Component{constructor(...e){super(...e),this.onVerificationClick=()=>{var{jid:e,chatId:t}=this.props;if(e){var a=e.equals((0,m.getMeUser)())?t:e;d.default.closeModal(),d.default.verificationDrawer(a)}}}componentDidMount(){b.default.supportsFeature(b.default.F.MD_BACKEND)}render(){var e,t,a,i,r=null,s=null,m=v.default.t(794);a=()=>d.default.closeModal(),i=v.default.t(1649);var{e2eSubtype:M,chatId:T,chat:P,msg:O}=this.props;switch(M){case"info_encrypted":y.default.isGroup(T)?(null==P?void 0:P.isSupportGroup())?(e=v.default.t(1294),m=v.default.t(1295),t=(0,p.getSupportChatFaqUrl)()):e=v.default.t(1576):y.default.isBroadcast(T)&&(e=v.default.t(1488)),t=(0,p.getE2EFaqUrl)();break;case"identity":var{jid:N}=this.props,I=N&&f.default.get(N);if(I&&I.isMe)if(__LOG__(4,!1,new Error)(C()),SEND_LOGS("SelfIdentityNotificationError"),y.default.isGroup(T))e=v.default.t(1716);else if(y.default.isBroadcast(T))e=v.default.t(1714);else{var A=f.default.get(T),w=A?A.formattedName:(0,S.default)(T);e=v.default.t(1715,{name:w})}else{var R=I?I.formattedName:(0,S.default)(this.props.jid);e=v.default.t(1713,{name:R})}r=a,s=v.default.t(1497),t=b.default.supportsFeature(b.default.F.MD_BACKEND)?(0,p.getMDCodeChangeFaqUrl)():(0,p.getCodeChangeFaqUrl)();break;case"device":var{msg:D}=this.props;(0,n.default)(null!=D,"msg shouldn't be null"),D=(0,E.unproxy)(D),e=(0,g.formatE2ENotificationForDeviceChange)(D,!0),r=a,s=v.default.t(1497),t=b.default.supportsFeature(b.default.F.MD_BACKEND)?(0,p.getMDCodeChangeFaqUrl)():(0,p.getCodeChangeFaqUrl)();break;case"encrypt":case"encrypt_now":default:if(t=j.default.build(u.default.SECURITY_LINK,{lg:c.default.lg,lc:c.default.lc}),y.default.isGroup(T))(null==O?void 0:O.chat.isSupportGroup())?(e=v.default.t(1294),m=v.default.t(1295),t=(0,p.getSupportChatFaqUrl)()):e=v.default.t(1504);else if(y.default.isBroadcast(T))e=v.default.t(1504);else if(y.default.isOfficialBizAccount(T))e=v.default.t(1647),t=(0,p.getE2EEnterpriseFaqUrl)();else{var L=f.default.get(T);if(!_.default.bspUi&&L&&L.isEnterprise){var k=(0,g.formatEnterpriseE2EName)(L);e=v.default.t(1620,{businessName:k}),t=(0,p.getE2EEnterpriseFaqUrl)()}else e=v.default.t(1504)}}var x=o.createElement(h.default,{href:t},m);return o.createElement(l.default,{onOK:a,okText:i,onCancel:r,cancelText:s},e," ",x)}}t.default=M},bajjbhjaec:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="",a="",i=e.singleByte,r=e.doubleByte,o=e.nibbleDecode;this.readNode=function(e){var a=e.readByte(),i=this.readListSize(e,a);if((a=e.readByte())===s.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var r=this.readString(e,a);if(0===i||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());t=r;var n,o=this.readAttributes(e,i-2+i%2>>1);if(i%2==1)return[r,o,void 0];if(a=e.readByte(),this.isListTag(a))n=this.readList(e,a);else if(a===s.default.BINARY_8){var d=e.readByte();n=e.readBytes(d)}else if(a===s.default.BINARY_20){var l=e.readInt20();n=e.readBytes(l)}else if(a===s.default.BINARY_32){var c=e.readInt32();n=e.readBytes(c)}else n=this.readString(e,a);return[r,o,n]},this.isListTag=function(e){return e===s.default.LIST_EMPTY||e===s.default.LIST_8||e===s.default.LIST_16},this.readListSize=function(e,t){if(t===s.default.LIST_EMPTY)return 0;if(t===s.default.LIST_8)return e.readByte();if(t===s.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,i,r=!0){var o;if(-1===i)throw new Error("invalid start token readString"+e.debugInfo());if(i>2&&i<236){var c=this.getToken(i);return"s.whatsapp.net"===c&&(c="c.us"),c}switch(i){case s.default.DICTIONARY_0:case s.default.DICTIONARY_1:case s.default.DICTIONARY_2:case s.default.DICTIONARY_3:var u=e.readByte();return this.getTokenDouble(i-s.default.DICTIONARY_0,u);case s.default.LIST_EMPTY:return;case s.default.BINARY_8:return o=e.readString(e.readByte()),this.isAttr&&r&&n.default.isWid(o)?l(o):o;case s.default.BINARY_20:return o=e.readString(e.readInt20()),this.isAttr&&r&&n.default.isWid(o)?l(o):o;case s.default.BINARY_32:return o=e.readString(e.readInt32()),this.isAttr&&r&&n.default.isWid(o)?l(o):o;case s.default.JID_PAIR:var f=this.readString(e,e.readByte()),h=this.readString(e,e.readByte());if(void 0!==f&&void 0!==h){var p=f+"@"+h;return r&&n.default.isWid(p)?l(p):p}if(void 0!==h)return h;throw new Error("invalid jid "+f+","+h+" "+e.debugInfo());case s.default.NIBBLE_8:case s.default.HEX_8:return this.readPacked8(i,e);default:throw __LOG__(1,!0)(d(),i,t,a,e.debugInfoWithPadding()),new Error("invalid string "+i)}},this.getToken=function(e){var t;if(e>=0&&e<i.length&&(t=i[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var a,i=256*e+t;if(i>=0&&i<r.length&&(a=r[i]),void 0===a)throw new Error("invalid double byte token "+e+" "+t);return a},this.readAttributes=function(e,t){var i,r;this.isAttr=!0;for(var s=t?{}:void 0,o=0;o<t;o++)i=this.readString(e,e.readByte()),a=i,r=this.readString(e,e.readByte(),n.default.canBeWid(i)),s[i]=r;return this.isAttr=!1,s},this.readList=function(e,t){for(var a=[],i=this.readListSize(e,t),r=0;r<i;r++)a.push(this.readNode(e));return a},this.readPacked8=function(e,t){for(var a=t.readByte(),i="",r=0;r<(127&a);r++){var s=t.readByte();i+=this.unpackByte(e,(240&s)>>4),i+=this.unpackByte(e,15&s)}return a>>7&&(i=i.substring(0,i.length-1)),i},this.unpackByte=function(e,t){switch(e){case s.default.NIBBLE_8:return this.unpackNibble(t);case s.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!o.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return o[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}};var r=i(a("dfadhaifh")),s=i(a("bhejigcige")),n=i(a("jccfhaecf")),o=a("dcbdjheea");function d(){var e=(0,r.default)(["Unexpected token in binary protocol read. Token : ","\nlastTag: ","\nlastAttributeKey: ","\n",""]);return d=function(){return e},e}function l(e){try{return(0,o.createWid)(e)}catch(t){return e}}},bbacdcchfi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhbjajgac")),o=i(a("dahbdjdajd"));class d extends n.default{static jsx(e,t,{selectable:a,theme:i}){return s.createElement(o.default,{contact:t,selectable:a,theme:i})}}t.default=d},bbbdgehigj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setProfilePic=function(e,t,a){return function e(t,a,i,r=(0,o.genId)()){var{id:s}=t;if(!t.canSet())return Promise.reject(new c.ActionError);var p=(0,h.sendSetPicture)(s,a,i);t.pendingPic=a;var g=(0,u.getMaybeMeUser)(),b=s.equals(g)?new o.ActionType(f.default.t(161)):new o.ActionType(f.default.t(91)),v=p.catch(()=>{throw __LOG__(3)(m()),s.equals(g)?new o.ActionType(f.default.t(160)):new o.ActionType(f.default.t(90))}).catchType(l.ServerStatusCodeError,n=>{if(n.status>=400){var d=s.equals(g)?f.default.t(160):f.default.t(90);return new o.ActionType(d,f.default.t(174),()=>e(t,a,i,r))}}).then(()=>s.equals(g)?new o.ActionType(f.default.t(159)):new o.ActionType(f.default.t(89)));return d.default.openToast(n.createElement(o.ActionToast,{id:r,initialAction:b,pendingAction:v})),p.then(e=>{e._duplicate||t.set({tag:e.tag,eurl:e.eurl,token:e.token})}).finally(()=>{t.pendingPic=void 0})}((0,p.unproxy)(e),t,a)},t.deleteProfilePic=function(e){return function e(t,a=(0,o.genId)()){var{id:i}=t;if(!t.canDelete())return Promise.reject(new c.ActionError);var r=(0,h.requestDeletePicture)(i);t.pendingPic=t.fallbackType;var s=(0,u.getMaybeMeUser)(),p=i.equals(s)?new o.ActionType(f.default.t(158)):new o.ActionType(f.default.t(88)),m=r.catch(()=>{throw __LOG__(3)(g()),i.equals(s)?new o.ActionType(f.default.t(156)):new o.ActionType(f.default.t(86))}).catchType(l.ServerStatusCodeError,r=>{if(r.status>=400){var n=i.equals(s)?f.default.t(156):f.default.t(86);return new o.ActionType(n,f.default.t(174),()=>e(t,a))}}).then(()=>i.equals(s)?new o.ActionType(f.default.t(157)):new o.ActionType(f.default.t(87)));return d.default.openToast(n.createElement(o.ActionToast,{id:a,initialAction:p,pendingAction:m})),r.then(e=>{e._duplicate||t.set({tag:void 0,eurl:void 0})}).finally(()=>{t.pendingPic=void 0})}((0,p.unproxy)(e))};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=a("bgihjbde"),c=i(a("cajijabhgb")),u=a("ddbdgibbbi"),f=r(a("bdjjabfecc")),h=a("biahggehgf"),p=a("cjfegjecaj");function g(){var e=(0,s.default)(["models:ProfilePicThumb:deletePicture dropped"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["models:ProfilePicThumb:setPicture dropped"]);return m=function(){return e},e}},bbbdigbec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("eageibbbbb")),o=i(a("dgdcjccfdi")),d=i(a("bcjcbbafcj"));class l extends s.Component{get messagePreviewRef(){return this._messagePreviewRef}constructor(e){super(e),this.setRefVideo=e=>{this._videoRef=e,this.synchronizeVideo()},this.synchronizeVideo=()=>{var e=this._videoRef;e&&(this.state.animate?e.paused&&e.play():e.paused||(e.pause(),e.currentTime=0))},this.setShouldAnimate=e=>{this.state.animate===e&&this.state.show||this.setState({animate:e,show:!0},this.synchronizeVideo)},this.handleClick=()=>{this.props.onSend(this.props.gif)},this.setRefHotKeys=e=>{this._messagePreviewRef=e},this.onFocus=e=>{e.preventDefault(),e.stopPropagation(),this.setState({focused:!0})},this.onBlur=e=>{e.preventDefault(),e.stopPropagation(),this.setState({focused:!1})},this._videoRef=null,this.state={animate:!1,show:!1,focused:!1}}render(){var e,t=this.props.gif,a=null;return this.state.show&&(a=d.default.troublesWithLotsOfVideos&&t.nonVideoUrl?s.createElement("img",{className:n.default.body,onClick:this.handleClick,src:t.nonVideoUrl}):s.createElement("video",{className:n.default.body,onClick:this.handleClick,controls:!1,autoPlay:this.state.animate,loop:!0,muted:!0,ref:this.setRefVideo,src:t.previewUrl})),this.props.isStarred&&this.props.onUnstarMsg&&(e=s.createElement("button",{className:n.default.icon,onClick:this.props.onUnstarMsg},s.createElement(o.default,{name:"star"}))),s.createElement("div",{ref:this.setRefHotKeys,className:n.default.preview,tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur,style:{flexBasis:t.widthStr}},this.state.focused&&s.createElement("div",{style:{flexBasis:t.widthStr},className:n.default.focusBorder}),s.createElement("div",{style:{width:t.widthStr},className:n.default.wrapper},s.createElement("div",{style:{paddingBottom:t.ratioStr},className:n.default.container},a)),e)}}var c=l;t.default=c},bbbhcihbeh:function(e,t){e.exports={chatstateTyping:"_2NMQ2"}},bbccjbdggc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]}},bbcgaaied:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryOrder=function(e,t,a,i){var n;r.default.supportsFeature(r.default.F.MD_BACKEND)?n||(n=Promise.reject(new Error("md:queryOrder: should not reach here"))):n=s.default.queryOrder(e,t,a,i);return n};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},bbcicibehe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bbfjdcedab")),l=r(a("hgigjbgie")),c=r(a("jjhbchhce")),u=a("ddbdgibbbi"),f=r(a("bdjjabfecc")),h=r(a("ebddggeaib")),p=a("cbbdfhcegf"),g=r(a("hgbgeecgi")),m=r(a("bdcchebfge")),b=a("dhhjhedjij"),v=r(a("dighddcfg")),_={light:{low:a("cfbfafadca"),high:a("gchfjdjij")},dark:{low:a("chbibiabba"),high:a("djihadgbci")}};class E extends n.PureComponent{constructor(e){super(e),this.onOK=()=>{(0,p.openMessengerRoomUrl)(this.props.chat),o.default.closeModal()},this.onCancel=()=>{var e=m.default.DESTINATION.CANCELLED,t=this.props.chat?m.default.ROOMS_ENTRY_POINT.ATTACHMENT:m.default.ROOMS_ENTRY_POINT.WEB_MENU;new m.default.RoomsCreationFlow({entryResult:e,roomsEntryPoint:t}).commit(),o.default.closeModal()},(0,u.getNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_NEW)||(0,u.setNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_NEW,{views:0,maxViews:1}),(0,u.getNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_RETURNING)||(0,u.setNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_RETURNING,{views:0,maxViews:5}),e.chat||(0,u.getNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_FROM_CHATLIST)||(0,u.setNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_FROM_CHATLIST,{views:0,maxViews:1}),e.chat&&!(0,u.getNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_FROM_ATTACH_DROPDOWN)&&(0,u.setNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_FROM_ATTACH_DROPDOWN,{views:0,maxViews:1})}componentDidMount(){(0,u.shouldShowNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_NEW)?((0,u.viewNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_NEW),this.props.listeners.add(window,"dpichange",()=>{this.forceUpdate()})):(0,u.viewNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_RETURNING),this.props.chat?(0,u.viewNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_FROM_ATTACH_DROPDOWN):(0,u.viewNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_FROM_CHATLIST)}render(){var e=(0,u.shouldShowNUX)(l.default.NUX.MESSENGER_ROOM_DIALOG_NEW),t=_[this.context.theme][c.default.currentRes],a=e?n.createElement(n.Fragment,null,n.createElement("img",{src:t,className:g.default.illustration}),n.createElement(b.TextDiv,{theme:"popup-title",className:(0,s.default)(g.default.title,g.default.block)},f.default.t(907)),n.createElement(b.TextDiv,{theme:"plain",className:g.default.block},f.default.t(905)),n.createElement(b.TextDiv,{theme:"muted-small",className:g.default.block},f.default.t(906))):n.createElement(b.TextDiv,{theme:"plain"},f.default.t(908));return n.createElement(d.default,{okText:f.default.t(904),onOK:this.onOK,onCancel:this.onCancel},a)}}E.contextType=v.default;var j=(0,h.default)(E);t.default=j},bbdejcifaj:function(e,t){e.exports={caption:"_3O11n",meta:"_2Luuy"}},bbdfdihgc:function(e,t){e.exports={shadow:"_2N4YS"}},bbdfhdhjfj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("cagdbihcfc")),l=i(a("eaeccjdifj")),c=i(a("cciddfgfcg")),u=(0,l.default)(()=>Promise.all([a.e(3),a.e(0),a.e(7)]).then(a.t.bind(null,"cciddfgfcg",7)).then(e=>e.default),"ComposeBoxPanels");t.requireBundle=u;(0,n.default)({loader:u,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});var f=c.default;t.default=f},bbdgfjajfg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.storeDataIndex=t.storePrimaryIndex=void 0;var r=i(a("diaiajeedf")),s=i(a("bddiehgeji")),n=i(a("ebhdfjjdeb"));t.storePrimaryIndex="id";t.storeDataIndex="data";s.default.add("lru-media-array-buffer").version(s.default.versions.version(0),[new n.default("id"),new r.default("data")]).view(e=>({id:e.id,data:e.data}));var o=s.default.table("lru-media-array-buffer");t.default=o},bbdhigdced:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfiaijfhc")),s=i(a("hejdgecbj")),n=i(a("badddahij")),o=i(a("bhccfhjdga")),d=i(a("bcjcbbafcj")),l=(0,n.default)(25,"/"),c={Enter:s.default.ENTER,Tab:s.default.TAB,ArrowUp:s.default.UP,ArrowDown:s.default.DOWN,Backspace:s.default.BACKSPACE};class u extends r.default{constructor(...e){super(...e),this.handleSelect=e=>{e.useOnce();var t=window.getSelection(),a=l(this.ctx,t);null!=a&&((0,o.default)(t,a.length+1),this.ctx.replaceSelection(e.message),(0,o.default)(t,e.message.length),this.handle(s.default.INACTIVE))},this.handlers={onKeyDown(e,t){var a=c[e.key];return!!a&&this.handle(a,[e,t])},onSelect(){if(d.default.isTrident)return!1;if(this.ctx.isComposing)return!1;var e=window.getSelection(),t=l(this.ctx,e);return null==t?(this.handle(s.default.INACTIVE),!1):(this.handle(s.default.FILTER,[t]),!1)},onBlur(){return this.handle(s.default.INACTIVE),!1}}}}var f=new u;t.default=f},bbdjghabi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var[t,a]=s.useState(null),i=()=>{n.default.closeModal()},r=e=>{a(e)},v=e.msg.list;if(!v)return null;var _;t&&(_=s.createElement("div",{className:u.default.controlsSummary},t.title,s.createElement("div",{className:u.default.btnActive},s.createElement(p.default,{large:!0,onClick:()=>{t&&((0,g.default)(e.msg,t),i())}},s.createElement(m.default,{directional:!0,name:"send"})))));return s.createElement(h.default,{type:h.TowerModalType},s.createElement(o.default,{theme:"products"},s.createElement(l.default,{title:v.title,type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:i}),s.createElement(d.default,{theme:"padding"},v.sections.map((e,a)=>s.createElement(c.default,{title:e.title,key:a,theme:"list-section"},e.rows.map((e,a)=>s.createElement(f.default,{key:a,row:e,onSelect:r.bind(null,e),selected:e===t}))))),s.createElement(b.default,{transitionName:"slide-up-down-footer",className:u.default.container},_)))};var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),l=r(a("bjjhgjdbhd")),c=i(a("ddeefhbafc")),u=i(a("eegidcced")),f=i(a("cijdifebhj")),h=r(a("dgjfidhijd")),p=i(a("deffjjfcba")),g=i(a("dcfaahbejd")),m=i(a("dgdcjccfdi")),b=i(a("didfdhbecg"))},bbebhbifga:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("biejajcgdf")),o=i(a("bfhhijajg")),d=a("higbihfff"),l=i(a("cefccdiabc")),c=r(a("bjgiedaj")),u=i(a("gfebgebbi")),f=a("ddbdgibbbi"),h=i(a("ebddggeaib")),p=i(a("dbibhcfcjc")),g=a("cjcghajbag"),m=i(a("dchhjffcdj")),b=i(a("bfgbdiffgd")),v=i(a("dcdbbhicce")),_=a("cjfegjecaj"),E=i(a("dgdcjccfdi"));class j extends s.Component{constructor(...e){super(...e),this.state={active:!1},this.onActiveChange=e=>{this.setState({active:!!e})},this.onAddToCart=e=>{var{product:t,onCartOpen:a}=this.props;null!=a&&((0,d.addProductToCart)(t,a),e.preventDefault(),e.stopPropagation())}}componentDidMount(){var{active:e,listeners:t,product:a}=this.props;e&&t.add(e,a.id.toString(),this.onActiveChange)}getShareIcon(){var{product:e,onProductShare:t}=this.props;return null!=t&&e.reviewStatus===g.PRODUCT_REVIEW_STATUS.APPROVED?s.createElement(E.default,{className:p.default.shareButton,onClick:a=>t(a,(0,_.unproxy)(e)),name:"link"}):null}getAddToCartIcon(){var{product:e}=this.props;return!e.catalogWid.equals((0,f.getMaybeMeUser)())&&b.default.webCatalogCart?s.createElement(n.default,{onClick:this.onAddToCart}):null}renderDetail(){return s.createElement("div",{className:p.default.detailContainer},this.getShareIcon(),this.getAddToCartIcon())}render(){var e,{product:t,onClick:a,theme:i,isMuted:r}=this.props,n=t.imageCdnUrl.productImageModel.mediaData;switch(t.reviewStatus){case g.PRODUCT_REVIEW_STATUS.NO_REVIEW:case g.PRODUCT_REVIEW_STATUS.OUTDATED:case g.PRODUCT_REVIEW_STATUS.PENDING:e=s.createElement(o.default,{theme:"pending",svg:"business-hours"});break;case g.PRODUCT_REVIEW_STATUS.REJECTED:e=s.createElement(o.default,{theme:"warning",svg:"error"})}var d=s.createElement(m.default,{theme:"list",onClick:a,mediaData:n,badge:e}),f=s.createElement(u.default,{text:t.name,ellipsify:!0,titlify:!0}),h=s.createElement("div",{className:p.default.description,key:"desc"},s.createElement(u.default,{text:t.description,ellipsify:!0})),b=t.currency&&null!=t.priceAmount1000&&0!==t.priceAmount1000?s.createElement("div",{className:p.default.price,key:"price"},s.createElement(u.default,{text:c.format(t.currency,t.priceAmount1000),ellipsify:!0})):null;return s.createElement(l.default,{key:t.id.toString(),customImage:!0,image:d,primary:f,onClick:a,secondary:[h,b],theme:i,active:this.state.active,idle:r,detail:this.renderDetail(),className:p.default.catalogListItem})}}j.CONCERNS={product:["id","imageCdnUrl","name","description","url","retailerId","currency","priceAmount1000","reviewStatus","catalogWid"]},j.defaultProps={theme:"product",isMuted:!1};var y=(0,h.default)((0,v.default)(j,j.CONCERNS));t.default=y},bbegjdfcja:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ffedgcdgj")),n=r(a("dhdiigfejc")),o=r(a("hgigjbgie")),d=r(a("bhbdiadfhj")),l=i(a("dgjacfgggf")),c=r(a("dcdjgccech")),u=i(a("bgabgddgch"));t.default=class{static fileToPdf(e){var t=URL.createObjectURL(e);return Promise.loop((function(e,t,i){var r=Promise.delay(u.expBackoff(i,12e4,0,0));return new Promise(t=>{Promise.all([a.e(4),a.e(2)]).then((i=>{var r=a("bgdajhffca");r.GlobalWorkerOptions.workerSrc=n.default,e(r),t(r)}).bind(null,a)).catch(a.oe)}).catch(()=>r)})).then(e=>e.getDocument(t).promise)}static releasePdf(e){return e.destroy()}static pdfToImg(e,t){var a=document.createElement("canvas");return e.getPage(t).then(e=>{var t=e.getViewport({scale:1}),i=a.getContext("2d");return a.height=t.height,a.width=t.width,e.render({canvasContext:i,viewport:t}).promise}).then(()=>Promise.props({blob:l.canvasToBlob(a),thumbnail:l.rotateAndResize(a,o.default.DOC_THUMB_MAX_EDGE,l.DATA_URL|l.CANVAS|l.BLOB),microThumbnail:d.default.supportsFeature(d.default.F.UPLOAD_DOCUMENT_THUMB_MMS)?l.generateMicroThumb(a,1300,{mimetype:"image/jpeg",maxAttempts:10}):Promise.resolve(null)})).then(function(){var t=(0,s.default)((function*({blob:t,thumbnail:a,microThumbnail:i}){return{url:URL.createObjectURL(t),thumbUrl:a.images.dataUrl,width:a.images.canvas.width,height:a.images.canvas.height,fullPreviewData:yield c.default.createFromData(a.images.blob,"image/jpeg"),fullPreviewSize:{width:a.images.canvas.width,height:a.images.canvas.height},pdfPages:e.numPages,microThumbnail:i}}));return function(){return t.apply(this,arguments)}}())}}},bbehchjdcf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfacahcafg")),n=i(a("ddhijeejag")),o=r(a("ebddggeaib")),d=r(a("cgfidiajgj")),l=a("dhjffabgfb"),c=r(a("becgjbhfe")),u=r(a("baebehedbi")),f=r(a("dgcjjbdicd"));class h extends n.PureComponent{constructor(e){super(e),this._handleFetchState=()=>{this.forceUpdate()},this._handleRetryClick=()=>{this.props.stickers.fetch(!0)},this._setRefScrollGrid=e=>{this._refScrollGrid=e},this._fetchStickers(this.props.stickers)}componentDidUpdate(e){var t=e.stickers,a=this.props.stickers;this._handleStickersChange(t,a)}focus(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}_fetchStickers(e,t){this.props.listeners.add(e,"change:fetchState",this._handleFetchState),e.fetch(t)}_handleStickersChange(e,t){if(e!==t){e&&this.props.listeners.remove(e,"change:fetchState",this._handleFetchState);var a=t.fetchState===l.FETCH_STATE.ERROR;this._fetchStickers(t,a),this._refScrollGrid&&this._refScrollGrid.scrollToTop()}}render(){var{stickers:e}=this.props;if(e.fetchState===l.FETCH_STATE.ERROR)return this.props.renderError(this._handleRetryClick);if(!e.fetchState||e.fetchState===l.FETCH_STATE.PENDING){var t=d.default.getPlaceholder();return n.createElement("div",{className:u.default.container},(0,s.default)(24,e=>n.createElement(c.default,{key:e,sticker:t})))}return n.createElement(f.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.props.stickers.toArray()})}}var p=(0,o.default)(h);t.default=class extends p{focus(e){this.getComponent().focus(e)}}},bbehjhfdfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!0){if(!(0,s.getMaybeMeUser)().equals(e.id)){var a=n.default.get(e.id);a&&("unsubscribe"===e.type?a.set({isSubscribed:!1,stale:!0}):(!function(e,t){var a,i=!1;void 0===t.type?t.type=e.chatstate.type||"unavailable":"paused"===t.type&&(i=!0,t.type="available");e.isGroup&&"available"!==t.type&&(t.updateTime=Date.now());if(e.isGroup){if(!t.participant)return;t.id=t.participant,t.participant=void 0,a=e.chatstates.gadd(t.id)}else a=e.chatstate;i&&"composing"!==a.type&&"recording"!==a.type||a.set(t);a.expireTimerId&&clearTimeout(a.expireTimerId);"composing"===a.type||"recording"===a.type?a.expireTimerId=setTimeout(()=>function(e){var t=e.type;"composing"!==t&&"recording"!==t||(e.type="available")}(a),r.default.PRESENCE_COMPOSING_TIMEOUT):a.expireTimerId=void 0;var s=e.forceDisplay||e.isOnline||e.isUser&&!e.chatstate.deny;e.set({hasData:!0,forceDisplay:s})}(a,e),t&&a.set({stale:!1})))}return Promise.resolve()};var r=i(a("hgigjbgie")),s=a("ddbdgibbbi"),n=i(a("ebbjbbjjg"))},bbeifbebhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bfifighhia")),o=i(a("dfehedcfdb")),d=i(a("djidjciehe")),l=i(a("gjhhbhigc")),c=i(a("dfaebdhdda")),u=i(a("bahjhjjhfe"));class f extends l.default{static jsx(e,t,{selectable:a=!1}){var{href:i,suspiciousCharacters:r}=t;return r&&r.size?s.createElement(u.default,{link:t,selectable:a},e):s.createElement(d.default,{href:i,selectable:a},e)}}function h(e){var{index:t,url:a}=e,i=t+a.length-1;return[t,t,i,i,e]}function p(e,t){for(var a=0,i=0;a<e.length&&i<t.length;){var r=t[i][3]-e[a][3];if(r>0)a++;else if(r<0)i++;else{e[a][2]--,e[a][3]--;var s=e[a][5];s.href=s.href.slice(0,-1),s.path=s.path&&s.path.slice(0,-1),s.url=s.url.slice(0,-1),i++,a++}}}t.default=f,f.format=!1,f.match=(e,t)=>{if(!t)return[];var{links:a=[]}=t;return a.map(h)},f.conflictResolvers=new Map([[n.default,p],[o.default,p],[c.default,p]])},bbejbbdigc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("hgigjbgie")),l=i(a("bdjjabfecc")),c=i(a("dcdbbhicce"));class u extends s.PureComponent{render(){var e;switch(this.props.msg.type){case d.default.MSG_TYPE.VIDEO:this.props.msg.isGif||(e=l.default.t(1031))}return s.createElement(o.default,{onOK:()=>{n.default.closeModal()},okText:l.default.t(1649)},e)}}u.CONCERNS={msg:["type","isGif"]};var f=(0,c.default)(u,u.CONCERNS);t.default=f},bbfdcdieie:function(e,t){e.exports={container:"_32vnm",title:"_9lZ0E","padding-large":"_1e2Fr",paddingLarge:"_1e2Fr","padding-small":"_10oMU",paddingSmall:"_10oMU",padding:"_2zqsv","group-desc-padding":"XwEQG",groupDescPadding:"XwEQG","no-padding":"_29t3v",noPadding:"_29t3v","padding-product":"_8IB0E",paddingProduct:"_8IB0E",animate:"_2k4Ax","well-animation2":"_1L54Y",wellAnimation2:"_1L54Y","list-section":"rmeve",listSection:"rmeve"}},bbfehhddha:function(e,t){e.exports={title:"_3Tk1z",large:"_3ZYWe",muted:"_2Phw8","section-title":"_1fPA0",sectionTitle:"_1fPA0","section-title-larger":"cfOIi",sectionTitleLarger:"cfOIi",small:"dPvdk","muted-small":"_13D7V",mutedSmall:"_13D7V",plain:"_4NnSi",danger:"_1WmI4",success:"_2GOq-",dark:"_3OStv","popup-title":"_32QJG",popupTitle:"_32QJG",light:"_3PgT-",normal:"_27rts",medium:"_1Won6",semibold:"_25DeY",bold:"pWS_g"}},bbgcbbdeja:function(e,t){e.exports={item:"_216Di",itemBody:"_20YJ6",row:"_2MaDn",main:"_2fQSa",side:"_2que9",primary:"_12JBd",secondary:"_31nvl"}},bbggcihdcc:function(e,t){e.exports={badge:"_2gUkr",icon:"_2qYWf",pending:"_30JEU",warning:"_1zyNt"}},bbghaeibcf:function(e,t){e.exports={option:"_1Ykq_",label:"_3xWWc",input:"_1W34-",footer:"inn3e",nuxIllustration:"_1ulzL",nuxIcon:"lac0v",nuxHeader:"_1_2t1",nuxContent:"_1vBVw",nuxText:"_1IlIT",nuxAction:"_3AwW5",chatIcon:"_2COf7",chatIcon1:"hNWl5",chatIcon2:"_3W8Rm",chatIcon3:"_1NM32",chatIcon4:"_3XCCM",chatIcon5:"P9TC8",chatIcon6:"_3XV5I",ephemeralIcon:"_3DL-X"}},bbhahjgijh:function(e,t,a){"use strict";function i(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a=i){if(e===t)return!0;if(e.length!==t.length)return!1;return e.every((e,i)=>a(e,t[i]))}},bbhejgbajf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Promise.all(e.map(({blob:e})=>function(e){var t;return new Promise((a,i)=>{(t=new FileReader).addEventListener("loadend",()=>{a(r.default.build(t.result))}),t.addEventListener("error",e=>i(e)),t.readAsArrayBuffer(e)})}(e))).then(t=>{var a,i=new s.default;return t.forEach((t,a)=>i.add(t,e[a].name)),a=i.create(),new Blob([a.readByteArray()],{type:"application/zip"})})};var r=i(a("bfefjaegfe")),s=i(a("fdcggefjc"))},bbhfcbifea:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.createElement(l.default,{type:l.TowerModalType},n.createElement(d.default,(0,s.default)({headerType:o.DRAWER_HEADER_TYPE.POPUP},e)))};var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=a("bjjhgjdbhd"),d=r(a("chieajfcec")),l=i(a("dgjfidhijd"))},bbhhhbhiic:function(e,t){e.exports={container:"_3P53a",image:"_1XXab",body:"_27m8N",badge:"_1bUEU",name:"_1WDpk",address:"RYmeK",description:"_2Nkes"}},bbhigggbgi:function(e,t){e.exports={btn:"q2PP6",disabled:"f0mbk",large:"_3Git-",small:"_1WvpE"}},bbiacghfif:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(!e)return;var i=[];i.push(e);for(;i.length;){var r=i.shift();if(a(r))return r;i=i.concat(t(r))}}},bbicgeccjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("degjdeieba"));class s extends r.default{get(e){return this.open().then(()=>this.doGet(e))}queryByIndex(e,t){return this.open().then(()=>this.doQueryByIndex(e,t))}getAll(){return this.open().then(()=>this.doGetAll())}put(e,t){return this.open().then(()=>this.doPut(e,t))}del(e){return this.open().then(()=>this.doDel(e))}count(){return this.open().then(()=>this.doCount())}clear(){return this.open().then(()=>this.doClear())}doGet(){throw new Error("Not implemented")}doQueryByIndex(){throw new Error("Not implemented")}doGetAll(){throw new Error("Not implemented")}doPut(){throw new Error("Not implemented")}doDel(){throw new Error("Not implemented")}doCount(){throw new Error("Not implemented")}doClear(){throw new Error("Not implemented")}doOpen(){throw new Error("Not implemented")}doClose(){throw new Error("Not implemented")}}t.default=s},bbiefjiacc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=(a("dbjbdhhhea"),i(a("cffajefeag"))),n=i(a("cahfddcdga"));function o(){var e=(0,r.default)(["bin-recv: response,label"]);return o=function(){return e},e}var d={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]},l={queryLabels:function(){return new Promise((e,t)=>{var a=this.queryNode({type:"label"});this.binSend("sendEphemeral",a,t,{onSend:this.binWrap(a=>{this.BinaryProtocol.read(a).then(t=>{var a={labels:[]};if(__LOG__(2)(o()),"response"===this.N.tag(t)&&"label"===this.N.attr("type",t)){a.checksum=this.N.attr("checksum",t);var i=this.N.children(t);if(Array.isArray(i))for(var r=0;r<i.length;r++){var s=this.parseLabel(i[r]),n=s&&s.label;n&&a.labels.push(n)}}e(a)}).catch(t)},e),onDrop:this.wrap(t)},{debugString:"query,labels",metricName:"QUERY_LABELS"})})},parseLabel:function(e){if("label"===this.N.tag(e)){var t,a=parseInt(this.N.attr("count",e),10),i=this.N.attr("id",e),r=this.N.attr("name",e),o=this.N.attr("color",e),l=isNaN(a)?void 0:a,u=this.N.attr("type",e);if("update"===u)for(var f=this.N.children(e),h=0;h<f.length;h++){var p=f[h],g=null;switch(this.N.tag(p)){case"chat":g=this.N.attr("jid",p);break;case"message":var m=this.N.attr("jid",p),b=this.N.attr("index",p),v="true"===this.N.attr("owner",p),_=this.N.attr("participant",p);g=new s.default({fromMe:v,remote:m,id:b,participant:_})}var E={id:(0,n.default)(g,"updateId"),labels:c(this.N.children(p),this.N.attr),collection:d[this.N.tag(p)]};t=t?t.concat(E):[E]}var j={label:{id:i,name:r,color:o,count:l},type:u,labelUpdates:t};return this.dropIfConditionMet([!(u||i&&r&&o),u&&"update"!==u&&"delete"!==u],j)}}};function c(e,t){return e&&Array.isArray(e)?e.reduce((e,a)=>[...e,(0,n.default)(t("id",a),"attr('id', label)")],[]):[]}t.default=l},bbjjjbicfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.intColorToHex=f,t.default=void 0;var s=r(a("dcaifjegcg")),n=r(a("bjigbaghc")),o=i(a("hgigjbgie")),d=i(a("bhbdiadfhj")),l=i(a("ddcfhecgai")),c=a("dbjbdhhhea");class u extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.name=(0,s.prop)(),this.colorIndex=(0,s.prop)(),this.color=(0,s.prop)(),this.count=(0,s.prop)(),this.stale=(0,s.session)(!0),this.hexColor=(0,s.derived)(this._hexColor,["color","colorIndex"])}initialize(){super.initialize(),this.labelItemCollection=new l.default,this._triggerLabelUpdate(),this.listenTo(this,"change:name",this._triggerLabelUpdate),this.listenTo(this,"change:color",this._triggerLabelUpdate),this.listenTo(this,"change:colorIndex",this._triggerLabelUpdate),this.listenTo(this,"change:count",this._triggerLabelUpdate),d.default.supportsFeature(d.default.F.MD_BACKEND)&&(this.listenTo(this.labelItemCollection,"add",this._handleLabelItemCollectionUpdate),this.listenTo(this.labelItemCollection,"remove",this._handleLabelItemCollectionUpdate))}_hexColor(){if(d.default.supportsFeature(d.default.F.MD_BACKEND)){var e=this.colorIndex;if(null==e)return;return n.default.platform===n.PLATFORMS.SMBI?o.default.IPHONE_LABEL_COLOR_PALETTE[e]:o.default.ANDROID_LABEL_COLOR_PALETTE[e]}if(this.color)return f(this.color)}_find(e){return Promise.resolve({id:e})}_triggerLabelUpdate(){this.name&&a("bijffg").default.trigger("label_updated_".concat(this.id))}_handleLabelItemCollectionUpdate(){var e=this.labelItemCollection.filter(e=>e.parentType!==c.LabelItemParentType.Contact).length;this.count=String(e)}}function f(e){var t=parseInt(e,10);return"#".concat((t>>>0).toString(16).slice(-6))}u.Proxy="label";var h=(0,s.defineModel)(u);t.default=h},bcagcbehg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bebajedcaf")),n=i(a("ddhijeejag")),o=r(a("ejiicdbii")),d=r(a("ebcagbhefg")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=r(a("ddgfbcgedg")),f=a("bgihjbde"),h=r(a("fajbchaji")),p=r(a("ebddggeaib")),g=r(a("biecbbiiee")),m=r(a("bfgbdiffgd")),b=r(a("dcdiaahjj")),v=r(a("diffaiehid"));class _ extends n.Component{constructor(){super(...arguments),this._refContainer=n.createRef(),this.msgCollectionChanged=(e,t,a,i)=>{var r=this.state.msgCollection;r!==e&&r!==t||this.setState({msgCollection:a,focusCtx:i&&(i.msg||i.collection)?i:this.state.focusCtx})},this.windowGainedFocus=()=>{b.default.markAvailable();var e=this.state.chat;e&&e.isUser&&e.presence.subscribe().catchType(f.WebdDrop,()=>{})},this.windowLostFocus=()=>{b.default.markUnavailable(c.default.SEND_UNAVAILABLE_WAIT)},this.handleClearChat=e=>{this.state.chat===e&&this.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},this._handleOpenChatId=0,this.handleOpenChat=(e,t,a)=>{l.default.updateChatlistSelection(e);var i=this.openedChatInfo,r={};this.openedChatInfo=r;var s=t?t.collection:e.msgs;this._handleOpenChatId++;var n=this._handleOpenChatId,o=()=>n===this._handleOpenChatId,d=!1,c=()=>{o()&&(d=!0,a(this.newChatScrollInfo(i,t)))},u=t&&t.msg&&t.msg.id||t&&t.key;this.setState({chat:e,msgCollection:s,focusCtx:t,notifyChatRendered:e=>{!d&&o()&&(u?e.some(e=>e.id.equals(u))&&c():c())},updateOpenedChatInfo:e=>{Object.assign(r,e)}})},this.newChatScrollInfo=(e,t)=>{var a=t?t.msg||g.default.get(t.key):void 0;if(t&&a&&e){var{chat:i,renderedMsgsInfo:r,visibleMsgOrder:n}=e;if(i&&r&&n&&!(0,s.default)(r)&&!(0,s.default)(n)){var o=r[n[0].toString()],d=Object.keys(r).find(e=>e===a.id.toString()),l=d?r[d]:null;if(l)return{wasVisible:!0,offset:l.offset};if(i===a.chat)return o&&a.t<o.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},this.state={chat:void 0,msgCollection:void 0,focusCtx:void 0,showConversationPreview:!1,animate:void 0}}componentDidMount(){this.props.listeners.add(l.default,"open_chat",this.handleOpenChat),this.props.listeners.add(l.default,"clear_chat",this.handleClearChat),this.props.listeners.add(window,"focus",this.windowGainedFocus),this.props.listeners.add(window,"blur",this.windowLostFocus),m.default.wallpapersV2&&(this.props.listeners.add(d.default,"wallpaper_drawer_open",()=>{this.setState({showConversationPreview:!0})}),this.props.listeners.add(d.default,"wallpaper_drawer_close",()=>{this.setState({showConversationPreview:!1})}))}shouldComponentUpdate(e,t){return t!==this.state||e.animate!==this.props.animate}componentDidUpdate(e,t){var a=this.state.chat,i=t.chat;if(a&&i!==a){if(this.props.listeners.add(a,"change:cmc:merge",this.msgCollectionChanged),i&&this.props.listeners.remove(i,"change:cmc:merge",this.msgCollectionChanged),!a.contact.isBusiness)return;var r=o.default.get(a.id);r&&!r.stale||o.default.find(a.id)}}animatePanel(e,t){var a;return!!(null===(a=this._refContainer)||void 0===a?void 0:a.current)&&this._refContainer.current.animatePanel(e,t)}containsDOMNode(e){var t;return!!(null===(t=this._refContainer)||void 0===t?void 0:t.current)&&this._refContainer.current.containsDOMNode(e)}static getDerivedStateFromProps(e,t){return null==t.animate?{animate:e.animate}:!1!==t.animate?{animate:!1}:null}render(){var{chat:e,msgCollection:t,focusCtx:a,showConversationPreview:i,animate:r}=this.state;return e&&t||i?n.createElement(u.default,{chat:e,groupMetadata:null==e?void 0:e.groupMetadata,chatPreference:d.default.assertGet("defaultPreference"),focusCtx:a,msgCollection:t,notifyChatRendered:this.state.notifyChatRendered||(()=>{}),updateOpenedChatInfo:this.state.updateOpenedChatInfo||(()=>{}),key:null==e?void 0:e.id.toString(),ref:this._refContainer,showPreview:i}):n.createElement(h.default,{animate:r,ref:this._refContainer})}}var E=(0,p.default)((0,v.default)(_));t.default=class extends E{animatePanel(e,t){return super.getComponent().animatePanel(e,t)}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},bcagigidbd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dcifcfjhgj")),o=i(a("gfebgebbi")),d=i(a("bhbdiadfhj")),l=i(a("dcdbbhicce")),c=i(a("dgdcjccfdi")),u=i(a("eceegjifj"));class f extends s.PureComponent{render(){var e,t,{contact:a,presence:i}=this.props;return(e="list"===this.props.location||"info"===this.props.location?i.getFormattedString():i.withholdDisplay?this.props.placeholder:i.getFormattedString()||(i.forceDisplay?"":this.props.placeholder))&&(t=s.createElement(n.default,{text:e,location:this.props.location})),"title"===this.props.location&&d.default.supportsFeature(d.default.F.VNAME_V_2)&&e!==this.props.placeholder&&a&&a.showBusinessVname?s.createElement("div",{className:u.default.wrapper},s.createElement(o.default,{text:a.verifiedName,className:u.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),s.createElement("div",{className:u.default.icon},s.createElement(c.default,{name:"psa-verified"})),t&&s.createElement("span",{className:u.default.divider},"·"),t):t||null}}f.CONCERNS={contact:["name","verifiedName","showBusinessVname"],presence:["withholdDisplay","forceDisplay","hasData"],chatstate:["type","deny","t"]};var h=(0,l.default)(f,f.CONCERNS);t.default=h},bcahedbfdh:function(e,t){e.exports={menuTabsMarker:"_14wV4",hide:"_3ftJy"}},bcbcbjijjd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=(i(a("hgigjbgie")),i(a("diffhbjceb"))),o=i(a("dfagjeehi")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{render(){var{displayType:e,msg:t}=this.props;return t.mediaData?s.createElement(n.default,{displayType:e,mediaData:t.mediaData,msg:t}):s.createElement(o.default,{msg:t,displayType:e})}}l.CONCERNS={msg:["mediaData","mdDowngrade"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},bcbcchgbgj:function(e,t){e.exports={multiControls:"SkkMJ",chatListPanel:"_1rZMB",drawerHeader:"ReUcj",multiselectIcon:"dKkGl",multiCount:"_3vcSp",mediaGalleryTheme:"_2VB16"}},bcbdbebgci:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=r.default.get(e);return t?t.formattedName:(0,s.default)(e)};var r=i(a("dhigahgdjb")),s=i(a("djbfhebjhe"))},bcbfebgcic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroupInviteCode=function(e){var t;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!t)return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"))}else t=n.default.groupInviteCode(e).then(e=>200===e.status?e.code:Promise.reject(new r.ServerStatusCodeError(e.status)));return t},t.sendRevokeGroupInviteCode=function(e){var t;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!t)return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"))}else t=n.default.revokeGroupInvite(e).then(e=>200===e.status?e.code:Promise.reject(new r.ServerStatusCodeError(e.status)));return t},t.sendJoinGroupViaInvite=function(e){var t;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!t)return Promise.reject(new Error("joinGroupViaInvite: not supported when not build with MD_BACKEND"))}else t=n.default.acceptGroupInvite(e).then(e=>200===e.status?e.gid:Promise.reject(new r.ServerStatusCodeError(e.status)));return t};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},bcbhbedgh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=window.MediaError||{MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};t.default=i},bcbjfabfcc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("ebibaajhjh")),l=i(a("cfbhddjcif")),c=r(a("bdcchebfge")),u=r(a("didfijejjb")),f=r(a("dcdbbhicce")),h=r(a("bjfjcjhfjj"));class p extends n.PureComponent{constructor(...e){super(...e),this._showMediaMissing=()=>{o.default.openModal(n.createElement(d.default,{msg:this.props.msg.unsafe()}))},this._downloadMedia=()=>{this.props.msg.downloadMedia(!0,c.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},this._cancelDownload=()=>{this.props.msg.cancelDownload()},this._cancelUpload=()=>{this.props.msg.cancelUpload()},this._resumeUpload=()=>{this.props.msg.resumeUpload()},this._resumeRemoteUpload=()=>{this.props.msg.resumeRemoteUpload()}}render(){var e,t,a=this.props.mediaData,{mediaStage:i}=a;switch(i){case"RESOLVED":e=null,t=null;break;case"FETCHING":e=this._cancelDownload,t=n.createElement(l.PendingCancel,null);break;case"NEED_POKE":e=this._downloadMedia,t=n.createElement(l.Download,{filesize:a.size});break;case"UPLOADING":e=this._cancelUpload,t=n.createElement(l.PendingCancel,null);break;case"NEED_UPLOAD":e=this._resumeUpload,t=n.createElement(l.Upload,{filesize:a.size});break;case"REMOTE_NEED_UPLOAD":e=this._resumeRemoteUpload,t=n.createElement(l.Upload,{filesize:a.size});break;case"ERROR_MISSING":e=this._showMediaMissing,t=n.createElement(l.Upload,{filesize:a.size});break;case"ERROR_UNSUPPORTED":e=this._showMediaMissing,t=n.createElement(l.Download,{filesize:a.size});break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":t=n.createElement(l.Pending,null);break;case"PROGRESSIVE_READY":default:throw new Error("invalid value for sticker mediaStage '".concat(i,"'"))}return n.createElement("div",{className:(0,s.default)(u.default.thumb,h.default.cursorAuto),onClick:e},t,this.props.children)}}p.CONCERNS={mediaData:["mediaStage","size"]};var g=(0,f.default)(p,p.CONCERNS);t.default=g},bcccgdhied:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getBizPrivacyInfoString=function(e,t,a){switch(e){case s.WebMessageInfoBizPrivacyStatus.E2EE:return a?r.default.t(238,{businessName:t}):r.default.t(237,{businessName:t});case s.WebMessageInfoBizPrivacyStatus.FB:return r.default.t(239,{businessName:t});case s.WebMessageInfoBizPrivacyStatus.BSP:return r.default.t(235,{businessName:t});case s.WebMessageInfoBizPrivacyStatus.BSP_AND_FB:return r.default.t(236,{businessName:t})}};var r=i(a("bdjjabfecc")),s=a("bbjghgfabf")},bcceihjgfi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bbicgeccjj"));class s extends r.default{get(){return Promise.resolve()}queryByIndex(){return Promise.resolve([])}getAll(){return Promise.resolve([])}put(e,t){return Promise.resolve(t)}del(){return Promise.resolve()}count(){return Promise.resolve(0)}clear(){return Promise.resolve()}}t.default=s},bccggdcfj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getImageWidthHeight=function(e){return q(t=>{var a;return t(e),new Promise((t,i)=>{(a=new Image).onload=t,a.onabort=()=>{i(new Error("getImageWidthHeight onabort"))},a.onerror=()=>{i(new Error("getImageWidthHeight onerror"))},a.src=e.url()}).then(()=>({width:a.naturalWidth,height:a.naturalHeight}))})},t.getImageWidthHeightNoOpaque=G,t.opaqueDataToArrayBuffer=function(e){return q(t=>{t(e);var a=e._blob;if(a)return U(a);var i=e._b64;return(0,d.decodeB64)(i)})},t.decodeWebpToRGBANoOpaque=F,t.parseWebpNoOpaque=B,t.videoWidthHeightDuration=V,t.videoWidthHeightDurationNoOpaque=H,t.processRawImage=function(e){var t=e.forceToBlob();return E.rotateAndResize(t,O.default.imageMaxEdge,E.BLOB|E.CANVAS).then(({width:e,height:t,images:{blob:a,canvas:i}})=>E.rotateAndResize(i,u.default.IMG_THUMB_MAX_EDGE,E.DATA_URL|E.CANVAS).then(({images:{canvas:i}})=>{var r=E.getResizedDataUrl(i,"image/jpeg",2e4),s=r?N.default.parseDataURL(r).data:null;return s||__LOG__(2)(k()),{blob:a,width:e,height:t,preview:s}}))},t.processRawAudioVideo=function(e,t,a,i,r){var s=e.forceToBlob();return(0,j.checkAndRepair)(s,!!i).then(e=>{if(!e)return __LOG__(3)(L(),s.type),Promise.reject(new g.InvalidMediaFileType);var o=e.type,d=e.file,l=i||e.isGif;switch((0,m.typeFromMimetype)(o)){case m.FILETYPE.VIDEO:if(t)return __LOG__(4,!1,new Error)(D()),SEND_LOGS("media-fault: ptt became video"),Promise.reject(new g.InvalidMediaFileType);var c={type:C.OUTWARD_TYPES.VIDEO,mediaBlob:d,mimetype:o,isGif:l,gifAttribution:l?r||0:void 0};return a&&null!=a.duration&&null!=a.fullHeight&&0!==a.fullHeight&&null!=a.fullWidth&&0!==a.fullWidth&&a.preview?Promise.resolve((0,n.default)((0,n.default)({},c),{},{fullWidth:a.fullWidth,fullHeight:a.fullHeight,preview:a.preview,duration:a.duration.toString()})):E.generateVideoThumbAndDuration(d,u.default.IMG_THUMB_MAX_EDGE).then(({thumb:e,duration:t})=>(0,n.default)((0,n.default)({},c),{},{fullWidth:e.fullWidth,fullHeight:e.fullHeight,preview:N.default.parseDataURL(e.url).data,duration:t.toString()}));case m.FILETYPE.AUDIO:return(a&&null!=a.duration?Promise.resolve(a.duration):(0,m.getAudioDuration)(d)).then(e=>({type:t?C.OUTWARD_TYPES.PTT:C.OUTWARD_TYPES.AUDIO,mediaBlob:d,mimetype:o,duration:e.toString()}));default:throw __LOG__(4,!1,new Error)(R()),SEND_LOGS("media-fault: audio/video became other"),new Error("audio/video became ".concat(o))}})},t.getRawDocumentMimetype=W,t.processRawDocument=function(){return Y.apply(this,arguments)},t.fetchMedia=function(e){return(0,v.default)(e,"GET",null,A.default.RESP_TYPE.ARRAY_BUFFER).then(e=>e?Promise.resolve({result:e.response,status:e.status}):Promise.resolve(null))},t.canPlayOgg=function(){return!!y.canPlayOgg},t.gatherAndSetMetadata=function(e,t){t.retain();var a=Promise.resolve().then(()=>{var i,r,s;switch(t.autoreleaseWhenPromiseCompletes(a),e.type){case C.TYPE.VIDEO:i=V(t).then(e=>({mediaBlob:t,renderableUrl:t.url(),fullWidth:e.width,fullHeight:e.height,duration:void 0!==e.duration?"".concat(Math.ceil(e.duration)):void 0,durationFloat:e.duration}));break;case C.TYPE.AUDIO:i=(r=t,q(e=>(e(r),y.transcode(r.forceToBlob(),s).then(e=>T.default.createFromData(e,e.type)).then(t=>(e(t),t.autorelease(),t))))).then(e=>(e.retain(),e.autoreleaseWhenPromiseCompletes(a),{mediaBlob:e,renderableUrl:e.url()}));break;default:e.type!==C.TYPE.IMAGE&&e.type!==C.TYPE.STICKER||(__LOG__(4,!1,new Error)(w(),e.type||""),SEND_LOGS("Entering gatherAndSetMetadata (with OpaqueData) unexpectedly")),i=Promise.resolve({mediaBlob:t,renderableUrl:t.url()})}return i.catchType(g.MediaUnsupportedError,()=>{e.consolidate({mediaBlob:t,renderableUrl:t.url()})}),i}).then(t=>{e.consolidate(t)});return a},t.gatherAndSetMetadataNoOpaque=function(e,t){return Promise.resolve().then(()=>{switch(e.type){case C.TYPE.VIDEO:return H(t).then(e=>({fullWidth:e.width,fullHeight:e.height,duration:void 0!==e.duration?"".concat(Math.ceil(e.duration)):void 0,durationFloat:e.duration}));case C.TYPE.IMAGE:return null!=e.contentInfo.fullHeight&&null!=e.contentInfo.fullWidth&&e.size===t.size?null:G(t).then(e=>({fullWidth:e.width,fullHeight:e.height,size:t.size}));case C.TYPE.STICKER:return(0,h.default)().then(e=>e?Promise.props({widthHeight:G(t),webpData:B(t)}).then(e=>({fullWidth:e.widthHeight.width,fullHeight:e.widthHeight.height,animationDuration:e.webpData.animationDuration,firstFrameLength:e.webpData.firstFrameLength,singleLoopDuration:e.webpData.singleLoopDuration,emojis:e.webpData.emojis,isAnimated:e.webpData.animationDuration>0,size:t.size})):B(t).then(({animationDuration:e,firstFrameLength:a,singleLoopDuration:i,emojis:r})=>e>0?{animationDuration:e,firstFrameLength:a,singleLoopDuration:i,emojis:r,isAnimated:!0,size:t.size}:F(t).then(a=>({animationDuration:e,rgbaBuffer:a.rgbaBuffer,rgbaWidth:a.width,rgbaHeight:a.height,size:t.size}))));case C.TYPE.AUDIO:default:return{}}}).catchType(g.MediaUnsupportedError,t=>{throw e.consolidate({}),t}).then(t=>{null!=t&&e.consolidate(t)})},t.shouldUseMediaCache=function(e){return e===S.default.STICKER||e===S.default.IMAGE||e===S.default.PRODUCT||e===S.default.PTT||e===S.default.AUDIO},t.shouldUseLruMediaStore=function(e){var t=_.default.supportsFeature(_.default.F.LRU_MEDIA_STORE)&&(e===S.default.STICKER||e===S.default.IMAGE),a=_.default.supportsFeature(_.default.F.LRU_MEDIA_STORE_OTHER_MEDIA_TYPES)&&(e===S.default.AUDIO||e===S.default.DOCUMENT||e===S.default.GIF||e===S.default.PPIC||e===S.default.PRODUCT||e===S.default.PTT||e===S.default.VIDEO||e===S.default.TEMPLATE);return(t||a)&&(0,b.getRememberMe)()};var s=r(a("ffedgcdgj")),n=r(a("cdfdfciehj")),o=r(a("dfadhaifh")),d=a("dibgccbbif"),l=r(a("ddeicfhhch")),c=a("dbejeibfid"),u=r(a("hgigjbgie")),f=r(a("bffbhdadij")),h=r(a("dcaiaeaebb")),p=i(a("dhgbabghaf")),g=i(a("cajijabhgb")),m=a("cgffhfegce"),b=a("ddbdgibbbi"),v=r(a("eefifcjac")),_=r(a("bhbdiadfhj")),E=i(a("dgjacfgggf")),j=a("cgajeaebeb"),y=i(a("baffhfhhda")),S=r(a("bihjffdjjj")),C=a("ccfjbcbbga"),M=a("cedhgehjef"),T=r(a("dcdjgccech")),P=r(a("dbjchhfjhj")),O=r(a("bfgbdiffgd")),N=r(a("edbaidcaf")),I=a("cjjdjbcgjh"),A=r(a("bjieiiccce"));function w(){var e=(0,o.default)(["object type: ",""]);return w=function(){return e},e}function R(){var e=(0,o.default)(["Assertion failed!"]);return R=function(){return e},e}function D(){var e=(0,o.default)(["Assertion failed!"]);return D=function(){return e},e}function L(){var e=(0,o.default)(["processRawAudioVideo bad video file ",""]);return L=function(){return e},e}function k(){var e=(0,o.default)(["processRawImage: Failed to reach max thumbnail size, preview will be null"]);return k=function(){return e},e}function x(){var e=(0,o.default)(["MediaUtils error: ",""]);return x=function(){return e},e}function G(e){return new Promise((t,a)=>{var i=new Image,r=window.URL.createObjectURL(e);i.onload=()=>{var e={width:i.naturalWidth,height:i.naturalHeight};window.URL.revokeObjectURL(r),t(e)},i.onabort=()=>{window.URL.revokeObjectURL(r),a(new Error("getImageWidthHeight onabort"))},i.onerror=()=>{window.URL.revokeObjectURL(r),a(new Error("getImageWidthHeight onerror"))},i.src=r})}function U(e){return(0,m.blobToArrayBuffer)(e).catch(e=>{throw __LOG__(3)(x(),e),e})}function F(e){return U(e).then(e=>(0,f.default)(e))}function B(e){return U(e).then(P.default)}function V(e){return q(t=>(t(e),y.videoWidthHeightDuration(e.forceToBlob())))}function H(e){return y.videoWidthHeightDuration(e)}function W(){return K.apply(this,arguments)}function K(){return(K=(0,s.default)((function*(e,t){var a=e.type;if(a){if("*"===M.DOC_MIMES||M.DOC_MIMES.includes(a))return a;throw new g.InvalidMediaFileType("disallowed mimetype ".concat(a))}var i=yield U(e),r=(0,l.default)(new Uint8Array(i,0,Math.min(262,i.byteLength)));if(r&&r.mime){var s=(0,M.isAllowedDocumentMimetype)(r.mime,t,!0);if(s)return s}else if(t){var n=(0,m.getMimeTypeForFilepath)(t);if(n)return n}throw new g.InvalidMediaFileType("type: ".concat(String(e.type)," name: ").concat(String(t)))}))).apply(this,arguments)}function Y(){return(Y=(0,s.default)((function*(e,t,a,i){var r,s,n=e.forceToBlob(),o=(0,c.cleanFilename)(n.name||t||null),d=yield W(n,o),l=a?(0,m.blobToText)(n):null,[u,f]=yield Promise.all([p.enrich(n,d),l]),h=null!==(r=null==u||null===(s=u.microThumbnail)||void 0===s?void 0:s.dataUrl)&&void 0!==r?r:null==u?void 0:u.thumbUrl,g=h?N.default.parseDataURL(h).data:null;return{type:C.OUTWARD_TYPES.DOCUMENT,mediaBlob:yield T.default.createFromData(n,d),mimetype:d,filename:o||void 0,documentPreview:u,preview:g,fullPreviewData:null==u?void 0:u.fullPreviewData,fullPreviewSize:u?{width:u.width,height:u.height}:null,microThumbnail:null==u?void 0:u.microThumbnail,pageCount:null!=i?i:null==u?void 0:u.pdfPages,isVcardOverMmsDocument:a,parsedVcards:f?(0,I.parseMultiVcard)(f):null}}))).apply(this,arguments)}function q(e){var t=[];return Promise.callSynchronously(e,null,(function(e){e.retain(),t.push(e)})).finally(()=>{for(var e=0;e<t.length;e++)t[e].autorelease()})}},bccgiaijaj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("egjbcdafa")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=(r(a("hgigjbgie")),a("djaiggcdb")),l=r(a("bcggadeggg")),c=r(a("dcdbbhicce")),u=r(a("bfebcgehdb")),f=r(a("edbaidcaf"));class h extends n.PureComponent{constructor(...e){super(...e),this.onLinkClick=()=>{var e=this.props.msg.matchedText;(0,d.openExternalLink)(e)},this.onSuspiciousLinkClick=e=>{o.default.openModal(n.createElement(u.default,{link:e}))}}render(){var{msg:e,displayType:t,invite:a}=this.props,i=null;if(!a){i=f.default.hostname(e.canonicalUrl||e.matchedText);try{i=s.default.toUnicode(i)}catch(e){}}var r,o,d,c=e.getSuspiciousLinks().filter(({url:t})=>e.matchedText===t);return c.length?d=()=>this.onSuspiciousLinkClick(c[0]):(r=e.description,o=e.thumbnail,d=this.onLinkClick),n.createElement(l.default,{canonicalUrl:i,description:r,displayType:t,invite:a,onClick:d,isSentByMe:e.isSentByMe,thumbnailJpeg:o,title:e.title,star:e.star})}}h.CONCERNS={msg:["thumbnail","title","description","canonicalUrl","matchedText","isSentByMe","star"]};var p=(0,c.default)(h,h.CONCERNS);t.default=p},bcdafjgefj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>e},bcdeiabhcf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.animateConversationPanel=function(e,t){return(0,r.default)(e,{scaleX:[1,t]},{duration:300,easing:[.1,.82,.25,1]}),1!==t};var r=i(a("bcifhbgija"))},bcdeiggheh:function(e,t){e.exports={menu:"chGSa",menuDefault:"LhZF7",menuStrong:"_1RLgD",menuInverse:"_1umq5",item:"_2wfYK",active:"lpKIg",selected:"_3Hj74",disabled:"_3Ppmx",itemText:"_66M2L"}},bcdfadbhgb:function(e,t){e.exports={item:"_1uAPO",text:"_14FXT",hover:"_2S4cq",action:"_3oTCZ",compact:"_1NUp7",icon:"_1Ske5",emoji:"dXdpP",emojiGrid:"_1I3LT",ellipsify:"_1OwwW",disabled:"_1VBFT",shortcut:"_2AkAt"}},bcdhbefeei:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var i=16*Math.ceil(e/16),n=t.slice(0,r.IV_LENGTH+i);return new s.default(a).sign(n,r.HMAC_LENGTH)};var r=a("cggdahefjh"),s=i(a("bbejegbieb"))},bcdhfbefgb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("gcfidijgh")),o=r(a("eaaagccfda")),d=i(a("ddhijeejag")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=a("ddbdgibbbi"),f=r(a("ebddggeaib")),h=r(a("beiicjadi")),p=(0,o.default)(e=>{(0,u.setVideoVolumeSetting)(e)},500),g=(0,o.default)(e=>{(0,u.setVideoMutedSetting)(e)},500),m=1,b={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}};class v extends d.PureComponent{constructor(...e){super(...e),this.updateInterval=null,this.player=void 0,this.currentTime=0,this.videoLoadedFraction=0,this.getPlayerState=()=>this.player?this.player.getPlayerState():void 0,this.setStartTime=()=>{this.player&&"number"==typeof this.props.startTime&&this.player.seekTo(this.props.startTime,!0)},this.onOtherPlaying=e=>{e!==this&&this.player&&this.player.pauseVideo()},this.onReady=e=>{this.player=e.target;var t,a,i=this.player,r=(0,u.getVideoVolumeSettings)();r&&("number"==typeof r.volume&&(t=r.volume),"boolean"==typeof r.muted&&(a=r.muted));var s=i.getDuration(),n=null!=t?t:.01*i.getVolume(),o=null!=a?a:i.isMuted(),d=i.getIframe().getBoundingClientRect(),l=d.width,c=d.height;this.videoTagMetadata={duration:s,volume:n,muted:o,videoWidth:l,videoHeight:c},this.props.onLoadedMetadata(this.videoTagMetadata),this.currentTime=i.getCurrentTime(),this.updateInterval=setInterval(this.update,250),null!=this.props.startTime&&this.setStartTime(),null!=t&&this.setVolume(t),null!=a&&this.setMuted(a)},this.update=()=>{var e=this.player;if(e){var t=e.getCurrentTime();t!==this.currentTime&&(this.currentTime=t,this.props.onTimeUpdate(t));var a=e.getVideoLoadedFraction();if(a!==this.videoLoadedFraction){this.videoLoadedFraction=a;var i=this.videoTagMetadata?this.videoTagMetadata.duration*a:0;this.props.onProgress([[0,i]])}var r=this.videoTagMetadata;if(r){var n=.01*e.getVolume(),o=e.isMuted();n===r.volume&&o===r.muted||(this.videoTagMetadata=(0,s.default)((0,s.default)({},r),{},{volume:n,muted:o}),this.props.onVolumeChange({volume:n,muted:o}))}}},this.onPlay=()=>{l.default.mediaPlaying(this),this.props.onPlaying()},this.onPause=()=>{this.props.onPause()},this.onEnd=()=>{this.props.onEnded();var e=this.player;e&&(e.playVideo(),e.pauseVideo())},this.onError=()=>{this.props.onError()},this.onStateChange=e=>{e.target.getPlayerState()!==m&&this.props.onPause()},this.play=()=>{this.player&&this.player.playVideo()},this.pause=()=>{this.player&&this.player.pauseVideo()},this.getPaused=()=>!this.player||this.getPlayerState()!==m,this.getCurrentTime=()=>this.player?this.player.getCurrentTime():0,this.setCurrentTime=e=>{this.player&&this.player.seekTo(e,!0)},this.getDuration=()=>this.player?this.player.getDuration():0,this.getVolume=()=>this.player?.01*this.player.getVolume():0,this.setVolume=e=>{this.player&&(this.player.setVolume(100*e),p(e))},this.getMuted=()=>!!this.player&&this.player.isMuted(),this.setMuted=e=>{var t=this.player;t&&(e?t.mute():t.unMute(),g(e))}}componentDidMount(){this.props.listeners.add(l.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(l.default,"pttRecording",this.pause)}componentWillUnmount(){this.updateInterval&&clearInterval(this.updateInterval)}componentDidUpdate(e){e.startTime!==this.props.startTime&&this.setStartTime()}render(){var e=(0,n.default)({},b,{playerVars:{autoplay:this.props.autoPlay?1:0,widget_referrer:c.default.WHATSAPP_ORIGIN,origin:window.location.origin}});return d.createElement(h.default,{videoId:this.props.youtubeVideoId,opts:e,onReady:this.onReady,onPlay:this.onPlay,onPause:this.onPause,onEnd:this.onEnd,onError:this.onError,onStateChange:this.onStateChange})}}var _=(0,f.default)(v);t.default=class extends _{constructor(...e){super(...e),this.play=()=>{this.getComponent().play()},this.pause=()=>{this.getComponent().pause()},this.getPaused=()=>this.getComponent().getPaused(),this.getCurrentTime=()=>this.getComponent().getCurrentTime(),this.setCurrentTime=e=>{this.getComponent().setCurrentTime(e)},this.getDuration=()=>this.getComponent().getDuration(),this.getVolume=()=>this.getComponent().getVolume(),this.setVolume=e=>{this.getComponent().setVolume(e)},this.getMuted=()=>this.getComponent().getMuted(),this.setMuted=e=>{this.getComponent().setMuted(e)}}}},bcebgbcbbc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cfaeajeid")),o=i(a("bdjjabfecc")),d=i(a("dbihfhidgd")),l=r(a("fcejjgddj"));class c extends s.PureComponent{constructor(...e){super(...e),this._handleClick=e=>{this.props.onClick(this.props.sectionId,e)}}render(){var e={[n.default.FAVORITES]:o.default.t(645),[n.default.TRENDING]:o.default.t(651),[n.default.HAHA]:o.default.t(646),[n.default.SAD]:o.default.t(649),[n.default.LOVE]:o.default.t(647),[n.default.REACTIONS]:o.default.t(648),[n.default.SPORTS]:o.default.t(650),[n.default.TV]:o.default.t(652)},{sectionId:t}=this.props,a=e[t];return s.createElement(l.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,title:a,theme:l.THEMES.MENU},s.createElement(d.default,{sectionId:t,sectionTitle:a}))}}t.default=c},bcegddjcgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("gfebgebbi")),d=a("gaifbabbj"),l=r(a("cifgfhieji")),c=r(a("dcdbbhicce"));class u extends n.Component{render(){var{quickReply:{shortcut:e,message:t},query:a,selected:i,onMouseDown:r,onMouseEnter:c,onMouseUp:u}=this.props,f=e.slice(a.length);return n.createElement("div",{className:(0,s.default)(l.default.result,{[l.default.selected]:i}),onMouseDown:r,onMouseUp:u,onMouseEnter:c},n.createElement("span",{className:l.default.slash},"/"),n.createElement(o.default,{className:l.default.shortcutPrefix,text:a}),n.createElement(o.default,{className:l.default.shortcutSuffix,text:f}),n.createElement(o.default,{className:l.default.message,ellipsify:!0,text:t,formatters:d.Configuration.QuickReply()}))}}u.CONCERNS={quickReply:["shortcut","message"]};var f=(0,c.default)(u,u.CONCERNS);t.default=f},bceidbcgfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="",a="",i=e.singleByte,r=e.doubleByte,o=e.nibbleDecode;this.readNode=function(e){var a=e.readByte(),i=this.readListSize(e,a);if((a=e.readByte())===s.default.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var r=this.readString(e,a);if(t=r,0===i||!r)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var n,o=this.readAttributes(e,i-2+i%2>>1);if(i%2==1)return[r,o,void 0];if(a=e.readByte(),this.isListTag(a))n=this.readList(e,a);else if(a===s.default.BINARY_8){var d=e.readByte();n=e.readBytes(d)}else if(a===s.default.BINARY_20){var l=e.readInt20();n=e.readBytes(l)}else if(a===s.default.BINARY_32){var c=e.readInt32();n=e.readBytes(c)}else n=this.readString(e,a);return[r,o,n]},this.isListTag=function(e){return e===s.default.LIST_EMPTY||e===s.default.LIST_8||e===s.default.LIST_16},this.readListSize=function(e,t){if(t===s.default.LIST_EMPTY)return 0;if(t===s.default.LIST_8)return e.readByte();if(t===s.default.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,i,r=!0){var o;if(-1===i)throw new Error("invalid start token readString"+e.debugInfo());if(i>2&&i<236){var c=this.getToken(i);return"s.whatsapp.net"===c&&(c="c.us"),c}switch(i){case s.default.DICTIONARY_0:case s.default.DICTIONARY_1:case s.default.DICTIONARY_2:case s.default.DICTIONARY_3:var u=e.readByte();return this.getTokenDouble(i-s.default.DICTIONARY_0,u);case s.default.LIST_EMPTY:return;case s.default.BINARY_8:return o=e.readString(e.readByte()),this.isAttr&&r&&n.default.isWid(o)?l(o):o;case s.default.BINARY_20:return o=e.readString(e.readInt20()),this.isAttr&&r&&n.default.isWid(o)?l(o):o;case s.default.BINARY_32:return o=e.readString(e.readInt32()),this.isAttr&&r&&n.default.isWid(o)?l(o):o;case s.default.JID_PAIR:var f=this.readString(e,e.readByte()),h=this.readString(e,e.readByte());if(void 0!==f&&void 0!==h){var p=f+"@"+h;return r&&n.default.isWid(p)?l(p):p}if(void 0!==h)return h;throw new Error("invalid jid "+f+","+h+" "+e.debugInfo());case s.default.JID_AD:var g=e.readByte(),m=e.readByte(),b=this.readString(e,e.readByte());if(void 0!==b)return l(g&&m?b+"."+g+":"+m+"@c.us":g?b+"."+g+"@c.us":m?b+":"+m+"@c.us":b+"@c.us");throw new Error("invalid JID_AD agent:".concat(g," device:").concat(m," user:").concat(b));case s.default.NIBBLE_8:case s.default.HEX_8:return this.readPacked8(i,e);default:throw __LOG__(1,!0)(d(),i,t,a,e.debugInfoWithPadding()),new Error("invalid string "+i)}},this.getToken=function(e){var t;if(e>=0&&e<i.length&&(t=i[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var a,i=256*e+t;if(i>=0&&i<r.length&&(a=r[i]),void 0===a)throw new Error("invalid double byte token "+e+" "+t);return a},this.readAttributes=function(e,t){var i,r;this.isAttr=!0;for(var s=t?{}:void 0,o=0;o<t;o++)i=this.readString(e,e.readByte()),a=i,r=this.readString(e,e.readByte(),n.default.canBeWid(i)),s[i]=r;return this.isAttr=!1,s},this.readList=function(e,t){for(var a=[],i=this.readListSize(e,t),r=0;r<i;r++)a.push(this.readNode(e));return a},this.readPacked8=function(e,t){for(var a=t.readByte(),i="",r=0;r<(127&a);r++){var s=t.readByte();i+=this.unpackByte(e,(240&s)>>4),i+=this.unpackByte(e,15&s)}return a>>7&&(i=i.substring(0,i.length-1)),i},this.unpackByte=function(e,t){switch(e){case s.default.NIBBLE_8:return this.unpackNibble(t);case s.default.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!o.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return o[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}};var r=i(a("dfadhaifh")),s=i(a("bghhdaaaej")),n=i(a("jccfhaecf")),o=a("dcbdjheea");function d(){var e=(0,r.default)(["Unexpected token in binary protocol read. Token : ","\nlastTag: ","\nlastAttributeKey: ","\n",""]);return d=function(){return e},e}function l(e){try{return(0,o.createWid)(e)}catch(t){return e}}},bcejgahfia:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.globalUnixTime()-e<s.default.mmsMediaKeyTTL+Math.floor(86400*Math.random())};var r=i(a("cfadcbbiie")),s=i(a("bfgbdiffgd"))},bcfjiacdah:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("ddfeabiaci")),o=i(a("dbafiicfja")),d=i(a("begjbhhee")),l=i(a("gcfidijgh")),c=a("dibgccbbif"),u=i(a("dgdjiicfdg")),f=i(a("ebjgfjehcc")),h=a("dbejeibfid"),p=i(a("hgigjbgie")),g=a("ddbdgibbbi"),m=i(a("cffajefeag")),b=i(a("djafcfdghc")),v=a("hjbbdjjdf"),_=i(a("edbaidcaf")),E=i(a("jccfhaecf")),j=i(a("bgeajihhc"));function y(){var e=(0,s.default)(["bin-recv: response,receipt"]);return y=function(){return e},e}function S(){var e=(0,s.default)(["bin-recv: response,resume"]);return S=function(){return e},e}function C(){var e=(0,s.default)(["wap:requestMediaReupload:malformed"]);return C=function(){return e},e}function M(){var e=(0,s.default)(["wap:requestMediaReupload:error ",""]);return M=function(){return e},e}function T(){var e=(0,s.default)(["wap:requestMediaReupload:error ",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["bin-recv: response,media"]);return P=function(){return e},e}function O(){var e=(0,s.default)(["bin-recv: response,emoji"]);return O=function(){return e},e}function N(){var e=(0,s.default)(["bin-recv: response,actions"]);return N=function(){return e},e}function I(){var e=(0,s.default)(["bin-recv: response,msg,info"]);return I=function(){return e},e}function A(){var e=(0,s.default)(["bin-recv: response,url"]);return A=function(){return e},e}function w(){var e=(0,s.default)(["bin-recv: response,identity"]);return w=function(){return e},e}function R(){var e=(0,s.default)(["expected tag: user, received tag: ",", tag id: ",""]);return R=function(){return e},e}function D(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return D=function(){return e},e}function L(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return L=function(){return e},e}function k(){var e=(0,s.default)(["expected tag: notification, received tag: ",", tag id: ",""]);return k=function(){return e},e}function x(){var e=(0,s.default)(["wap:parseMsgMessage unknown message type: ",""]);return x=function(){return e},e}function G(){var e=(0,s.default)(["wap:parseMsgMessage unknown media type: ",""]);return G=function(){return e},e}function U(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return U=function(){return e},e}function F(){var e=(0,s.default)(["expected tag: message, received tag: ",", tag id: ",""]);return F=function(){return e},e}function B(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return B=function(){return e},e}function V(){var e=(0,s.default)(["expected tag: groups_v2, received tag: ",", tag id: ",""]);return V=function(){return e},e}function H(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return H=function(){return e},e}function W(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return W=function(){return e},e}function K(){var e=(0,s.default)(["expected tag: broadcast, received tag: ",", tag id: ",""]);return K=function(){return e},e}function Y(){var e=(0,s.default)(["received tag: ",", tag id: ",""]);return Y=function(){return e},e}function q(){var e=(0,s.default)(["expected tag: chat, received tag: ",", tag id: ",""]);return q=function(){return e},e}function z(){var e=(0,s.default)(["expected tag: broadcast, received tag: ",", tag id: ",""]);return z=function(){return e},e}function Q(){var e=(0,s.default)(["expected tag: battery, received tag: ",", tag id: ",""]);return Q=function(){return e},e}function J(){var e=(0,s.default)(["expected tag: received, received tag: ",", tag id: ",""]);return J=function(){return e},e}function X(){var e=(0,s.default)(["bin-recv: response,msg"]);return X=function(){return e},e}function Z(){var e=(0,s.default)(["wap:msgCreateRecord mPromise error"]);return Z=function(){return e},e}function $(){var e=(0,s.default)(["wap:msgCreateRecord:sendMedia dropped"]);return $=function(){return e},e}function ee(){var e=(0,s.default)(["wap:msgCreateRecord:sendMedia error ",""]);return ee=function(){return e},e}function te(){var e=(0,s.default)(["create group tag"]);return te=function(){return e},e}var ae={version:"09",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28},addContact:function(e){return new Promise((t,a)=>{var i=this.actionNode("set",[["contacts",{type:"add"},e]]);this.binSend("send",i,a,{clientCacheable:!0,onSend:this.binWrap(t,t),onDrop:this.wrap(a)},{debugString:"action,contact,add",metricName:"CONTACT",ackRequest:!0})})},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){return new Promise((a,i)=>{var r=j.default.tag(),s=this.wrap(a);s.tag=r;var n=["group",{id:r,jid:e,type:"subject",author:(0,g.getMaybeMeUser)(),subject:t},void 0],o=this.actionNode("set",[n]);this.binSend("send",o,i,{clientCacheable:!0,onSend:s,onDrop:this.wrap(i)},{debugString:"action,group,subject",metricName:"GROUP",ackRequest:!1,expires:(0,u.default)().unix()})})},chatFindQuery:function(e,t){return new Promise((a,i)=>{var r={type:"chat"};"boolean"==typeof e&&e?r.kind="retry":"string"==typeof e&&(r.jid=e);var s=this.queryNode(r,void 0);this.binSend("sendEphemeral",s,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var t=[],i=this.N.children(e);if("response"===this.N.tag(e)&&"chat"===this.N.attr("type",e))if("true"===this.N.attr("duplicate",e))t="preempted";else if(Array.isArray(i)){var r,s=i.length;for(r=0;r<s;r++){var n=this.parseChat(i[r]);n&&t.push(n)}}a(t)}).catch(i)},a),logOnSend:t,onDrop:this.wrap(i)},{debugString:["query","chat",e].join(),metricName:"QUERY_CHAT",ackRequest:!1})})},contactFindQuery:function(e,t){return new Promise((a,i)=>{var r=this.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);this.binSend("send",r,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var t=[],i=this.N.children(e);if("response"===this.N.tag(e)&&"contacts"===this.N.attr("type",e))if("true"===this.N.attr("duplicate",e))t="preempted";else if(Array.isArray(i)){var r,s=i.length;for(r=0;r<s;r++){var n=this.parseContact(i[r]);n&&t.push(n)}}a({checksum:this.N.attr("checksum",e),data:t})}).catch(i)},a),logOnSend:t,onDrop:this.wrap(i)},{debugString:"query,contacts, "+String(e),metricName:"QUERY_CONTACTS",ackRequest:!1})})},createGroup:function(e,t){return new Promise((a,i)=>{var r=j.default.tag(),s=this.wrap(a);s.tag=r;var n=t.map(e=>["participant",{jid:e},void 0]);__LOG__(2)(te());var o=["group",{id:r,type:"create",author:(0,g.getMaybeMeUser)(),subject:e},n],d=this.actionNode("set",[o]);this.binSend("send",d,i,{clientCacheable:!0,onSend:s,onDrop:this.wrap(i)},{debugString:"action,group,create",metricName:"GROUP",ackRequest:!1,expires:(0,u.default)().unix()})})},deletePicture:function(e){return new Promise((t,a)=>{var i=j.default.tag(),r=this.wrap(t);r.tag=i;var s=["picture",{id:i,jid:e,type:"delete"},void 0],n=this.actionNode("set",[s]);this.binSend("send",n,a,{clientCacheable:!0,onSend:r,onDrop:this.wrap(a)},{debugString:"action,delete_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,u.default)().unix()})})},groupMetadataFindFromPhone:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"group",jid:e},[]);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(i=>{this.BinaryProtocol.read(i).then(a=>{if("response"===this.N.tag(a)&&"group"===this.N.attr("type",a)){var i=this.N.children(a),r=i&&i[0];if(r)if("missing"!==this.N.attr("type")){var s,n=[],o=this.N.children(r);Array.isArray(o)&&o.forEach(e=>{switch(this.N.tag(e)){case"participant":n.push({id:this.N.attr("jid",e),isAdmin:"admin"===this.N.attr("type",e)});break;case"description":s=this.N.dataStr(e)}}),t({status:"ok",data:{id:e,owner:this.N.attr("creator",r),creation:parseInt(this.N.attr("create",r),10)||void 0,participants:n,desc:s}})}else t({status:"missing"});else t({status:"error",info:"bad format: no group node"})}else t({status:"error",info:"bad format: response incorrect"})}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,group,"+e,metricName:"QUERY_GROUP",ackRequest:!1})})},leaveGroup:function(e){return new Promise((t,a)=>{var i=j.default.tag(),r=this.wrap(t);r.tag=i;var s=["group",{id:i,jid:e,type:"leave",author:(0,g.getMaybeMeUser)()},void 0],n=this.actionNode("set",[s]);this.binSend("send",n,a,{clientCacheable:!0,onSend:r,onDrop:this.wrap(a)},{debugString:"action,group,delete",metricName:"GROUP",ackRequest:!1,expires:(0,u.default)().unix()})})},msgCreateRecord:function(e,t){return new Promise((a,i)=>{var s,n,o=e.id.id;if("chat"===e.type){var d=[["body",void 0,e.body]];"url"===e.subtype&&d.push(["media",{type:"url",title:e.title,description:e.description,"canonical-url":e.canonicalUrl,"matched-text":e.matchedText,preview:e.richPreviewType,encoding:"raw"},e.thumbnail?(0,c.decodeB64)(e.thumbnail):void 0]),n=Promise.resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},d])}else if("location"===e.type)s=e.body?(0,c.decodeB64)(e.body):void 0,n=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},s]]]);else if("vcard"===e.type){var u=["vcard",{name:e.vcardFormattedName},e.body];n=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[u]]]])}else{var f=e.mediaKey;s=e.body?(0,c.decodeB64)(e.body):void 0;var h="ptt"===e.type?"audio":e.type,p={};n=(t&&!f?this.sendMedia(e.avparams):Promise.resolve((0,l.default)({status:200,type:h},e.avparams))).then(t=>200===t.status?Promise.resolve(["message",(0,r.default)({type:"media",to:e.to,id:e.id.id,t:e.t.toString()},p),[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type&&"document"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:f,filename:t.filename},s]]]):(__LOG__(3)(ee(),t.status),Promise.reject("wap:msgCreateRecord:sendMedia error ".concat(t.status)))).catch(()=>(__LOG__(3)($()),Promise.reject("wap:msgCreateRecord:sendMedia dropped")))}n.then(t=>{var r=this.actionNode("relay",[t]),s=this.wrap(a);s.tag=o,s.meta={type:"message",key:e.id},this.binSend("send",r,i,{onSend:s,onDrop:this.wrap(i)},{debugString:["action","message",e.type,e.subtype].join(),metricName:"MESSAGE",ackRequest:!1})}).catch(()=>{__LOG__(3)(Z()),i("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t,a,i){var r=e;return new Promise((e,s)=>{var n,o="";switch(r){case"after":t.id||(r="before");case"before":n={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},o=[t.toString(),t.count].join();break;case"search":n={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),canceled:t.tagToCancel},o=["search",t.page,t.count].join();break;case"star":n={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},o="starred";break;case"media":n={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},o="media"}var d=this.queryNode(n,void 0);this.binSend("sendEphemeral",d,s,{onSend:this.binWrap(t=>{this.BinaryProtocol.read(t).then(t=>{var a=[],i=this.N.children(t);if(__LOG__(2)(X()),"response"===this.N.tag(t)&&("message"===this.N.attr("type",t)||"star"===this.N.attr("type",t)||"search"===this.N.attr("type",t)||"media_message"===this.N.attr("type",t))){if(Array.isArray(i)){var s,n=i.length;for(s=0;s<n;s++){var o=this.parseMsg(i[s],"response");o&&a.push(o)}}"search"===this.N.attr("type",t)?a={eof:"true"===this.N.attr("last",t),messages:a}:"media"===r&&(a={messages:a})}e(a)}).catch(s)},e),onDrop:this.wrap(s),logOnSend:a,onTag:i,tagToCancel:t.tagToCancel},{debugString:"query,message,"+o,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseAck:function(e){if("received"!==this.N.tag(e))return __LOG__(4,!1,new Error)(J(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t,a=this.N.attr("type",e),i=this.N.attr("id",e),r=this.N.attr("to",e);switch(a){case"message":t=p.default.ACK.RECEIVED;break;case"read":t=p.default.ACK.READ;break;case"played":t=p.default.ACK.PLAYED;break;case"error":t=p.default.ACK.FAILED;break;case"pending":default:t=p.default.ACK.CLOCK}var s={cmd:"ack",id:i,ack:t,from:(0,g.getMaybeMeUser)(),to:r};return this.dropIfConditionMet([!i,!r,"message"!==a&&"read"!==a&&"played"!==a&&"error"!==a&&"pending"!==a],s)},parseBattery:function(e){if("battery"!==this.N.tag(e))return __LOG__(4,!1,new Error)(Q(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),a=this.N.attr("live",e),i={battery:t<0?void 0:t,plugged:a?"true"===a:void 0};return this.dropIfConditionMet([t<0&&!a],i)},parseBCUpdate:function(e){if("broadcast"!==this.N.tag(e)||"modify"!==this.N.attr("type",e))return __LOG__(4,!1,new Error)(z(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t=this.N.attr("jid",e),a=this.N.children(e),i=[];if(Array.isArray(a)){var r,s,n,o=a.length;for(r=0;r<o;r++)s=a[r],n=this.N.attr("jid",s),"recipient"===this.N.tag(s)&&n&&E.default.isUser(n)&&i.push({id:n})}var d=[!t,!E.default.isBroadcast(t),0===i.length];return this.dropIfConditionMet(d,{id:t,participants:i})},parseChat:function(e){if("chat"!==this.N.tag(e))return __LOG__(4,!1,new Error)(q(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t=this.N.attr("kind",e),a=this.N.attr("type",e),i=this.N.attr("jid",e),r=parseInt(this.N.attr("t",e),10)||void 0,s=parseInt(this.N.attr("mute",e),10),n=parseInt(this.N.attr("before",e),10)||void 0,o="true"===this.N.attr("archive",e),d="true"===this.N.attr("read_only",e),l=parseInt(this.N.attr("modify_tag",e),10)||void 0,c=this.N.attr("name",e)||void 0,u=this.safeParseInt(e,"count"),f="true"===this.N.attr("message",e),h="true"===this.N.attr("star",e),p="false"===this.N.attr("spam",e),g=parseInt(this.N.attr("pin",e),10)||0,m=this.N.attr("old_jid",e),b=this.N.attr("new_jid",e),v=parseInt(this.N.attr("ephemeral",e),10)||0,_=parseInt(this.N.attr("eph_setting_ts",e),10)||0;switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===a&&(a="clear");var j,y,S=this.N.children(e);if(Array.isArray(S)){var C,M;j=[],y=[];var T=S.length;for(C=0;C<T;C++)if(M=S[C],"item"===this.N.tag(M)){var P=this.N.attr("index",M);P&&j.push([P,"true"===this.N.attr("owner",M),this.N.attr("participant",M)])}else if("label"===this.N.tag(M)){var O=this.N.attr("id",M);O&&y.push(O)}else{var N=this.parseMsgMessage(M,"response");N&&j.push(N)}}var I={id:i,t:r,type:a,kind:t,keys:j,before:n,archive:o,isReadOnly:d,unreadCount:u,muteExpiration:isNaN(s)?void 0:s,modifyTag:l,name:c,pendingMsgs:f,star:h,notSpam:p,pin:g,changeNumberOldJid:m,changeNumberNewJid:b,ephemeralDuration:E.default.isUser(i)?v:void 0,ephemeralSettingTimestamp:E.default.isUser(i)?_:void 0,labels:y};this.pruneUndefinedProps(I);var A=[a&&"delete"!==a&&"clear"!==a&&"ephemeral"!==a&&"archive"!==a&&"unarchive"!==a&&"mute"!==a&&"star"!==a&&"unstar"!==a&&"spam"!==a&&"modify_tag"!==a&&"pin"!==a&&"modify"!==a,!a&&!i,o&&a&&"clear"!==a,"clear"!==a&&n&&n>0,"clear"!==a&&"star"!==a&&"unstar"!==a&&j&&j.length>0];return this.dropIfConditionMet(A,I)},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);case"groups_v2":return this.parseMsgGp2(e);case"broadcast":return this.parseMsgBroadcast(e);case"notification":return this.parseMsgNotification(e);case"call_log":return this.parseMsgCallLog(e);case"security":return this.parseMsgSecurity(e);default:return __LOG__(4,!1,new Error)(Y(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unknown-tag")}},parseMsgBroadcast:function(e){if("broadcast"!==this.N.tag(e))return __LOG__(4,!1,new Error)(K(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t,a,i,r=this.N.attr("type",e),s=this.N.attr("id",e),n=parseInt(this.N.attr("t",e),10)||0,o=this.N.attr("jid",e),d="true"===this.N.attr("owner",e),l=this.N.attr("participant",e);switch(r){case"create":t=""+(parseInt(this.N.attr("count",e),10)||0);break;case"add":case"remove":(a=this.N.child("participant",e))&&(t=this.N.attr("jid",a))}try{i=new m.default({fromMe:d,remote:o,id:s,participant:l})}catch(e){return void __LOG__(3)(W(),e.stack)}var c=(0,g.getMaybeMeUser)(),u={id:i,t:n,participant:l,type:"broadcast_notification",subtype:r,from:d?c:o,to:d?o:c,body:t||void 0},f=[!s,!n,!o,!E.default.isBroadcast(o),"create"!==r&&"add"!==r&&"remove"!==r,("add"===r||"remove"===r)&&!E.default.isWid(t)];return this.dropIfConditionMet(f,u)},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t,a=parseInt(this.N.attr("t",e),10)||0,i=this.N.attr("id",e),r=this.N.attr("jid",e),s="true"===this.N.attr("owner",e),n=this.N.attr("participant",e),o=this.N.attr("type",e);o;try{t=new m.default({fromMe:s,remote:r,id:i,participant:n})}catch(e){return void __LOG__(3)(H(),e.stack)}var d=(0,g.getMaybeMeUser)(),l={id:t,t:a,participant:n,type:"call_log",subtype:o,from:s?d:r,to:s?r:d};return this.dropIfConditionMet([!i,!a,!r,"miss"!==o],l)}},parseMsgGp2:function(e){if("groups_v2"!==this.N.tag(e))return __LOG__(4,!1,new Error)(V(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t,a,i=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("id",e),s=this.N.attr("jid",e),n="invis"===this.N.attr("web",e),o="true"===this.N.attr("owner",e),d=this.N.attr("type",e),l=this.N.attr("author",e),c=this.N.children(e),u=this.N.attr("participant",e),f=[];switch(d){case"create":case"subject":t=this.N.attr("subject",e);break;case"picture":t=this.N.attr("picture",e)}if(Array.isArray(c)){var h,p=c.length;for(h=0;h<p;h++){var b=c[h],v=this.N.attr("jid",b);"participant"===this.N.tag(b)&&v&&f.push(v)}}try{a=new m.default({fromMe:o,remote:s,id:r,participant:u})}catch(e){return void __LOG__(3)(B(),e.stack)}var _=(0,g.getMaybeMeUser)(),j={t:i,id:a,from:o?_:s,to:o?s:_,author:l,participant:u,body:t?t.toString():void 0,type:"gp2",subtype:d,invis:n,recipients:f},y=[!r,!i,"subject"!==d&&"add"!==d&&"invite"!==d&&"remove"!==d&&"leave"!==d&&"picture"!==d&&"modify"!==d&&"create"!==d&&"delete"!==d&&"promote"!==d&&"demote"!==d&&"revoke_invite"!==d,"subject"===d&&!t,("add"===d||"invite"===d||"remove"===d||"leave"===d||"promote"===d||"demote"===d||"modify"===d)&&0===f.length,!s,!E.default.isGroup(s)];return this.dropIfConditionMet(y,j)},parseMsgMessage:function(e,t){if("message"!==this.N.tag(e))return __LOG__(4,!1,new Error)(F(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var a,i=(0,g.getMaybeMeUser)();i.equals(this.N.attr("from",e))&&!this.N.attr("to",e)?a="in":i.equals(this.N.attr("to",e))&&!this.N.attr("from",e)&&(a="out");var r,s=this.N.attr("id",e),n=parseInt(this.N.attr("t",e),10)||0,o=this.N.attr("to",e)||i,d=this.N.attr("from",e)||i,c=E.default.isBroadcast(d),u=this.N.attr("participant",e),f=c?u:d,p=c?void 0:u,b=!c&&(this.N.child("broadcast",e)&&i.equals(d)),_="invis"===this.N.attr("web",e),j=this.N.attr("notify",e)||"",y=parseInt(this.N.attr("status",e),10)||0,S=[],C=this.N.child("broadcast",e),M="true"===this.N.attr("star",e);if("broadcast"!==o){var T;try{T=new m.default({from:f,to:o,id:s,participant:u,selfDir:a})}catch(e){return void __LOG__(3)(U(),e.stack)}switch(t){case"fresh":r=1;break;default:r=y>=-1&&y<=4?y:1}if(Array.isArray(C)){var P,O=C.length;for(P=0;P<O;P++){var N=C[P],I=this.N.attr("jid",N);"to"===this.N.tag(N)&&I&&S.push(I)}}var A,w=[],R=this.N.attr("type",e);switch(R){case"ciphertext":case"unknown":A={id:T,type:R,t:n,notifyName:j,from:f,to:o,self:a,author:p,participant:u,invis:_,ack:r,broadcast:b,recipients:S,star:M},w=[!s,!n,!f,!o];break;case"text":A={id:T,body:this.N.dataStr(this.N.child("body",e))||"",type:"chat",t:n,notifyName:j,from:f,to:o,self:a,author:p,participant:u,invis:_,ack:r,broadcast:b,recipients:S,star:M};var D=this.N.child("media",e);D&&"url"===this.N.attr("type",D)&&(0,l.default)(A,{subtype:"url",title:this.N.attr("title",D),description:this.N.attr("description",D),canonicalUrl:this.N.attr("canonical-url",D),matchedText:this.N.attr("matched-text",D),thumbnail:this.thumbFromMediaXml(D),richPreviewType:this.N.attr("preview",D),doNotPlayInline:"true"===this.N.attr("do-not-play-inline",D)}),w=[!s,!n,!f,!o];break;case"media":var L,k,B,V,H,W=this.N.child("media",e),K=this.N.attr("type",W),Y=this.N.attr("media_key",W),q=this.N.attr("mimetype",W);if("retry"===this.N.attr("reason",W))return;switch(K){case"image":case"video":case"document":var z=parseInt(this.N.attr("page_count",W),10)||0,Q=(0,h.cleanIncomingFilename)(this.N.attr("filename",W));H=(0,h.cleanIncomingFilename)(this.N.attr("caption",W)),L=this.thumbFromMediaXml(W),k=this.N.attr("url",W),k=(0,v.isString)(k)&&k.indexOf("/u/")>0?void 0:k,B=this.N.attr("filehash",W),V=parseInt(this.N.attr("size",W),10)||0,A={id:T,body:L,type:K,t:n,notifyName:j,from:f,to:o,self:a,author:p,participant:u,invis:_,ack:r,clientUrl:k,duration:this.N.attr("seconds",W),broadcast:b,recipients:S,filehash:B,size:V,caption:H,mediaKey:Y,star:M,pageCount:z,mimetype:q,filename:Q},w=[!s,!n,!f,!o];break;case"location":var J=this.N.attr("latitude",W),X=this.N.attr("longitude",W),Z=this.N.attr("name",W);A={id:T,body:L=this.thumbFromMediaXml(W),type:K,t:n,notifyName:j,from:f,to:o,self:a,author:p,participant:u,invis:_,ack:r,clientUrl:k=this.N.attr("url",W),loc:Z,lat:J,lng:X,broadcast:b,recipients:S,star:M},w=[!s,!n,!f,!o,!J||!X];break;case"audio":var $="live"===this.N.attr("origin",W)?"ptt":K;k=this.N.attr("url",W),k=(0,v.isString)(k)&&k.indexOf("/u/")>0?void 0:k,B=this.N.attr("filehash",W),V=parseInt(this.N.attr("size",W),10)||0,A={id:T,type:$,t:n,notifyName:j,from:f,to:o,self:a,author:p,participant:u,invis:_,ack:r,clientUrl:k,duration:this.N.attr("seconds",W),broadcast:b,recipients:S,filehash:B,size:V,star:M,mediaKey:Y,mimetype:q},w=[!s,!n,!f,!o];break;case"vcard":var ee=this.N.child("vcard",W),te=this.N.dataStr(ee),ae=this.N.attr("name",ee);A={id:T,body:te,type:K,vcardFormattedName:ae,t:n,notifyName:j,from:f,to:o,self:a,author:p,participant:u,invis:_,ack:r,broadcast:b,recipients:S,star:M},w=[!s,!n,!f,!o,!te,!ae];break;default:__LOG__(3)(G(),this.N.toString(e))}break;default:__LOG__(3)(x(),this.N.toString(e))}return this.dropIfConditionMet(w,A)}},parseMsgNotification:function(e){if("notification"!==this.N.tag(e))return __LOG__(4,!1,new Error)(k(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t,a=this.N.attr("id",e),i=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("jid",e),s=this.N.attr("participant",e),n="invis"===this.N.attr("web",e),o=this.N.dataStr(e),d="true"===this.N.attr("owner",e);try{t=new m.default({fromMe:d,remote:r,id:a,participant:s})}catch(e){return void __LOG__(3)(L(),e.stack)}var l=(0,g.getMaybeMeUser)(),c={id:t,type:"notification",t:i,invis:n,from:d?l:r,to:d?r:l,participant:s,body:o};return this.dropIfConditionMet([!a,!i,!r],c)},parseMsgSecurity:function(e){if("security"===this.N.tag(e)){var t,a,i=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("id",e),s=this.N.attr("jid",e),n="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),d=this.N.attr("type",e);switch(d){case"identity":var l=this.N.child("participant",e);l&&(t=this.N.attr("jid",l))}try{a=new m.default({fromMe:n,remote:s,id:r,participant:o})}catch(e){return void __LOG__(3)(D(),e.stack)}var c=(0,g.getMaybeMeUser)(),u={id:a,t:i,participant:o,type:"e2e_notification",subtype:d,from:n?c:s,to:n?s:c,body:t},f=[!r,!i,!s,"identity"!==d&&"encrypt"!==d,"identity"===d&&!t];return this.dropIfConditionMet(f,u)}},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),a={type:"false"===this.N.attr("type",e)?"unread":"read",jid:t};return this.dropIfConditionMet([!t],a);case"identity":var i=this.parseIdentity(e);return i?(i.type="identity",i):void 0;default:return}},parseContact:function(e){if("user"!==this.N.tag(e))return __LOG__(4,!1,new Error)(R(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t=this.N.attr("jid",e),a=this.N.attr("name",e),i=this.N.attr("short",e)||void 0,r=this.N.attr("type",e)||"in";return this.dropIfConditionMet([!t,"in"!==r&&"out"!==r&&!!r],{id:t,name:a,type:r,shortName:i})},parseIdentity:function(e){var t=this.N.child("raw",e),a=this.N.child("text",e);if(t&&a&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(a))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(a)}},profilePicFindThumbFromPhone:function(e,t,a){return new Promise((i,r)=>{var s={type:"preview",jid:e};t&&t.tag&&t.raw&&(s.id=t.tag),a&&(s.kind="status");var n=this.queryNode(s,[]);this.binSend("sendEphemeral",n,r,{onSend:this.binWrap(a=>{this.BinaryProtocol.read(a).then(a=>{"response"===this.N.tag(a)&&"preview"===this.N.attr("type",a)||r("Not response or preview");var s=this.N.children(a),n=s&&s[0];if(n||r("Missing preview node"),"missing"===this.N.attr("type",n))i({id:e,tag:void 0,raw:void 0});else{var o,d=this.N.attr("id",n);if(t&&d===t.tag&&t.raw)o=t.raw;else{var l=this.N.children(n);o=l?(0,c.encodeB64)(l):void 0}i({id:e,tag:d,raw:o})}}).catch(r)},i),onDrop:this.wrap(r)},{debugString:"query,thumb,"+e,metricName:"QUERY_PREVIEW",ackRequest:!1})})},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"identity",jid:e},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=void 0;__LOG__(2)(w()),"response"===this.N.tag(e)&&"identity"===this.N.attr("type",e)&&(a=this.parseIdentity(e)),t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,identity,".concat(e),metricName:"QUERY_IDENTITY",ackRequest:!1})})},queryLinkPreview:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"url",url:e},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=void 0;if(__LOG__(2)(A()),"response"===this.N.tag(e)&&"url"===this.N.attr("type",e)){var i=this.N.children(e);a={title:this.N.attr("title",e),description:this.N.attr("description",e),canonicalUrl:this.N.attr("canonical-url",e),matchedText:this.N.attr("matched-text",e),preview:this.N.attr("preview",e),thumbnail:i?(0,c.encodeB64)(i):void 0,doNotPlayInline:"true"===this.N.attr("do-not-play-inline",e)}}t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,url",metricName:"QUERY_URL",ackRequest:!1})})},queryMsgInfo:function(e){var t=e=>{var t,a,i=[];if(Array.isArray(e)){t=e.length;for(var r=0;r<t;r++)a=e[r],"item"===this.N.tag(a)&&this.N.attr("jid",a)&&this.N.attr("t",a)&&i.push({id:this.N.attr("jid",a),t:parseInt(this.N.attr("t",a),10)||0})}return i};return new Promise((a,i)=>{var r=this.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);this.binSend("sendEphemeral",r,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var i={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(__LOG__(2)(I()),"response"===this.N.tag(e)&&"message_info"===this.N.attr("type",e)){var r=this.N.child("played",e),s=this.N.child("read",e),n=this.N.child("delivery",e),o=this.N.children(r),d=this.N.children(s),l=this.N.children(n),c=parseInt(this.N.attr("count",e),10)||0;i.played=t(o),i.read=t(d),i.delivery=t(l);var u=c-i.played.length,f=c-i.played.length-i.read.length,h=c-i.played.length-i.read.length-i.delivery.length;i.playedRemaining=u<0?0:u,i.readRemaining=f<0?0:f,i.deliveryRemaining=h<0?0:h}a(i)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metricName:"QUERY_MESSAGE_INFO",ackRequest:!1})})},queryReceivedActions:function(e){return new Promise((t,a)=>{var i=e.map(e=>["item",{id:e},void 0]),r=this.queryNode({type:"action"},i);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=[],i=this.N.children(e);if(__LOG__(2)(N()),"response"===this.N.tag(e)&&"action"===this.N.attr("type",e))if(Array.isArray(i)){var r,s=i.length;for(r=0;r<s;r++){var n=i[r],o=this.N.attr("id",n),d=parseInt(this.N.attr("code",n),10)||0;"item"===this.N.tag(n)&&o&&0!==d&&a.push({id:o,code:d})}}else"true"===this.N.attr("replaced",e)&&(a="replaced");t(a)}).catch(a)},t),onDrop:this.wrap(a),serverCacheable:!0},{debugString:"query,actions",metricName:"QUERY_ACTIONS",ackRequest:!1})})},recentEmojiQuery:function(e){return new Promise((t,a)=>{var i=Array.isArray(e)?e.map(e=>["item",{code:e.id,value:e.weight.toString()},void 0]):void 0,r=this.queryNode({type:"emoji"},i);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=[],i=this.N.children(e);if(__LOG__(2)(O()),"response"===this.N.tag(e)&&"emoji"===this.N.attr("type",e)&&Array.isArray(i)){var r,s=i.length;for(r=0;r<s;r++){var n=i[r],o=this.N.attr("code",n),d=parseFloat(this.N.attr("value",n))||0;"item"===this.N.tag(n)&&o&&d&&!isNaN(d)&&a.push({id:o,weight:d})}}t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,emoji",metricName:"QUERY_EMOJI",ackRequest:!1})})},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},requestMediaReupload:function(e){return new Promise((t,a)=>{var i=e.id,r=this.queryNode({type:"media",index:i.id,jid:i.remote,owner:i.fromMe.toString(),participant:i.participant},void 0);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a;if(__LOG__(2)(P()),"response"===this.N.tag(e)&&"media"===this.N.attr("type",e)){var i=parseInt(this.N.attr("code",e),10)||400,r=this.N.attr("url",e);i>=500&&502!==i?(__LOG__(3)(T(),i),a={status:i}):200===i&&r?a={status:200,url:r,mediaKey:this.N.attr("media_key",e)}:200!==i||r?(__LOG__(3)(M(),i),a={status:i}):a={status:400}}else __LOG__(3)(C()),a={status:400};t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},resyncMessages:function(e){return new b.default((t,a)=>{var i=e.map(e=>{var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),E.default.isUser(e.wid)&&e.ephemeralDuration&&(t.ephemeral=e.ephemeralDuration.toString()),E.default.isUser(e.wid)&&null!=e.ephemeralSettingTimestamp&&(t.eph_setting_ts=e.ephemeralSettingTimestamp.toString()),e.active&&(t.active="true"),E.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]}),r=this.queryNode({type:"resume"},i);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=[],i=this.N.children(e);if(__LOG__(2)(S()),"response"===this.N.tag(e)&&"resume"===this.N.attr("type",e)&&Array.isArray(i)){var r,s=i.length;for(r=0;r<s;r++){var n=this.parseChat(i[r]);n&&a.push(n)}}t({checksum:this.N.attr("checksum",e),statusChecksum:this.N.attr("status",e),labelsChecksum:this.N.attr("label",e),quickRepliesChecksum:this.N.attr("quick_reply",e),stickerPackChecksum:this.N.attr("sticker_pack",e),recentStickersChecksum:this.N.attr("recent_stickers",e),starredStickersChecksum:this.N.attr("starred_stickers",e),data:a})}).catch(a)},t),onDrop:this.wrap(a),serverCacheable:!0},{debugString:"query,resume",metricName:"QUERY_RESUME",ackRequest:!1})})},resyncReceipts:function(e){return new Promise((t,a)=>{var i=e.map(e=>["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0]),r=this.queryNode({type:"receipt"},i);this.binSend("sendEphemeral",r,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=[],i=this.N.children(e);if(__LOG__(2)(y()),"response"===this.N.tag(e)&&"receipt"===this.N.attr("type",e)&&Array.isArray(i)){var r,s,n,o=i.length;for(r=0;r<o;r++){s=i[r],n=this.N.children(s);var d=this.N.attr("jid",s),l=this.N.attr("t",s),c=this.N.attr("pay_t",s);if("receipt"===this.N.tag(s)&&d&&(l||c)&&Array.isArray(n)){var u=void 0,f=[],h=[],p=n.length;for(u=0;u<p;u++){var g=n[u];if("item"===this.N.tag(g)){var m=this.N.attr("index",g),b="true"===this.N.attr("owner",g),v=parseInt(this.N.attr("status",g),10)||0,_=this.N.attr("participant",g),E=parseInt(this.N.attr("t",g),10)||void 0;m&&0!==v&&v<=4&&f.push({id:m,fromMe:b,participant:_,status:v,t:E})}else if("message"===this.N.tag(g)){var j=this.parseMsgMessage(g);j&&h.push(j)}}f.length>0&&a.push({id:d,t:l&&parseInt(l,10),payT:c&&parseInt(c,10),acks:f,msgs:h})}}}t(a)}).catch(a)},t),onDrop:this.wrap(a),serverCacheable:!0},{debugString:"query,receipt",metricName:"QUERY_RECEIPT",ackRequest:!1})})},sendChatstateUpdate:function(e,t){if(["composing","paused","recording"].includes(e))return new Promise((a,i)=>{var r=this.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);this.binSend("sendEphemeralIgnore",r,i,{onSend:a,onDrop:i,epochIneligible:!0},{debugString:"action,chatstate,"+e,metricName:"PRESENCE",skipOffline:!0,ackRequest:!1})})},sendConversationArchive:function(e,t,a){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,a)},sendConversationClear:function(e,t,a){return this.sendConversationOpWithKey("clear",e,t,a)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,a){return new Promise((i,r)=>{var s=t?t.toString():void 0,n=a?a.toString():void 0,o=this.actionNode("set",[["chat",{type:"mute",mute:s,previous:n,jid:e},void 0]]);this.binSend("send",o,r,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(r)},{debugString:"action,chat,"+e+", "+(s?"mute,"+s:"unmute"),metricName:"CHAT",ackRequest:!0})})},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,a,i){return new Promise((r,s)=>{var n,o;switch(e){case"clear":n=(!!i).toString();break;case"spam":o=(!!i).toString()}var d=this.actionNode("set",[["chat",{type:e,jid:t,index:a?a.id:void 0,owner:a?a.fromMe.toString():void 0,participant:a?a.participant:void 0,star:void 0!==n?n:void 0,spam:void 0!==o?o:void 0},void 0]]);this.binSend("send",d,s,{clientCacheable:!0,onSend:this.wrap(r),onDrop:this.wrap(s)},{debugString:"action,chat,"+[e,a,i].join(),metricName:"CHAT",ackRequest:!0})})},sendConversationSeen:function(e,t,a){return new Promise((i,r)=>{var s=this.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:a&&t?a.toString():void 0},void 0]]);this.binSend("send",s,r,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(r)},{debugString:"action,chat,read,"+JSON.stringify(t)+","+a,metricName:"READ",ackRequest:!0})})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){return new Promise((t,a)=>{var i=(0,d.default)(e);j.default.send({data:["query","sendMedia",i.url],onSend:this.wrap02(e=>{t((0,l.default)(i,e))}),onDrop:a})})},sendMessageDelete:function(e,t,a){return new Promise((i,r)=>{var s=t.map(e=>["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]),n=this.actionNode("set",[["chat",{type:"clear",jid:e,media:a.toString()},s]]);this.binSend("send",n,r,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(r)},{debugString:"action,msgs,delete,"+[e,a,t.length].join(),metricName:"CHAT",ackRequest:!0})})},sendMessagePlayed:function(e){return new Promise((t,a)=>{var i=this.wrap(t),r=this.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);this.binSend("send",r,a,{onSend:i,onDrop:this.wrap(a)},{debugString:"action,played,"+e.toString(),metricName:"RECEIVED",ackRequest:!0})})},sendMessageStarred:function(e,t,a){return new Promise((i,r)=>{var s=t.map(e=>["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]),n=this.actionNode("set",[["chat",{type:a?"star":"unstar",jid:e},s]]);this.binSend("send",n,r,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(r)},{debugString:"action,msgs,star,"+[e,a,t.length].join(),metrics:"CHAT",ackRequest:!0})})},sendPresenceUpdate:function(e){if(["available","unavailable"].includes(e))return new Promise((t,a)=>{var i="available"===e,r=this.actionNode("set",[["presence",{type:e},void 0]],!i),s=i?"sendEphemeral":"sendEphemeralIgnore";this.binSend(s,r,a,{onSend:i?this.wrap(t):t,onDrop:i?this.wrap(a):t,epochIneligible:!i},{debugString:"action,presence,"+e,metricName:"PRESENCE",available:"available"===e,ackRequest:i})})},sendSetBlock:function(e,t){return new Promise((a,i)=>{var r=t.map(e=>["user",{jid:e.jid},void 0]),s=["block",{type:e?"add":"remove"},r],n=this.actionNode("set",[s]);this.binSend("send",n,i,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(i)},{debugString:"action,block,"+e+","+(0,o.default)(t,"jid").join(","),metricName:"BLOCK",ackRequest:!1,expires:(0,u.default)().unix()})})},sendSetPicture:function(e,t,a){return new Promise((i,r)=>{var s=_.default.parseDataURL(t).data,n=_.default.parseDataURL(a).data,o=(0,c.decodeB64)(s),d=(0,c.decodeB64)(n),l=j.default.tag(),f=this.wrap(i);f.tag=l;var h=["picture",{id:l,jid:e,type:"set"},[["image",void 0,d],["preview",void 0,o]]],p=this.actionNode("set",[h]);this.binSend("send",p,r,{clientCacheable:!0,onSend:f,onDrop:this.wrap(r)},{debugString:"action,set_pic,"+e,metricName:"PIC",ackRequest:!1,expires:(0,u.default)().unix()})})},sendSetStatus:function(e){return new Promise((t,a)=>{var i=this.wrap(t),r=this.actionNode("set",[["status",void 0,e]]);this.binSend("send",r,a,{clientCacheable:!0,onSend:i,onDrop:this.wrap(a)},{debugString:"action,status,set",metricName:"STATUS",ackRequest:!1,expires:(0,u.default)().unix()})})},sendSpamReport:function(e){return new Promise((t,a)=>{var i=this.actionNode("set",[["spam",{jid:e},void 0]]);this.binSend("send",i,a,{onSend:this.wrap(t),onDrop:this.wrap(a)},{debugString:"action,spam,"+e,metricName:"SPAM",ackRequest:!1,expires:(0,u.default)().unix()})})},sendUnstarAll:function(e){return new Promise((t,a)=>{var i=this.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);this.binSend("send",i,a,{clientCacheable:!0,onSend:this.binWrap(t,t),onDrop:this.wrap(a)},{debugString:"action,unstar,all,"+e,metrics:"CHAT",ackRequest:!0,expires:(0,u.default)().unix()})})},setGroupParticipants:function(e,t,a){return new Promise((i,r)=>{var s=j.default.tag(),n=this.wrap(i),o=a.map(e=>["participant",{jid:e},void 0]),d=["group",{id:s,jid:t,type:e,author:(0,g.getMaybeMeUser)()},o],l=this.actionNode("set",[d]);this.binSend("send",l,r,{tag:s,clientCacheable:!0,onSend:n,onDrop:this.wrap(r)},{debugString:["action,group,participant",e,t].concat(a).join(),metricName:"GROUP",ackRequest:!1,expires:(0,u.default)().unix()})})},setPushname:function(e){return new Promise((t,a)=>{var i=this.actionNode("set",[["profile",{name:e},void 0]]);this.binSend("send",i,a,{onSend:this.binWrap(t,t),onDrop:this.wrap(a)},{debugString:"action,pushname",metricName:"PROFILE",ackRequest:!1})})}},ie=(0,n.default)(ae,f.default);t.default=ie},bcggadeggg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({canonicalUrl:e,compose:t,description:a,displayType:i,invite:r,onClick:u,isSentByMe:f,star:h,thumbnail:p,thumbnailJpeg:g,title:m,theme:b}){var v,_;null!=p?_=n.createElement("div",{className:l.default.media},p):g?_=n.createElement("img",{className:l.default.media,src:"data:image/jpeg;base64,"+g}):i===o.default.DISP_TYPE.GALLERY&&(_=n.createElement("div",{className:l.default.noThumbContainer},n.createElement(c.default,{className:l.default.noThumbIcon,name:"link"})));if(i===o.default.DISP_TYPE.GALLERY){var E=h?n.createElement(c.default,{className:l.default.iconStar,name:"star"}):null;v=n.createElement("div",{className:l.default.noThumbContainer},_,E)}else v=_;var j=null!=a?n.createElement("div",{className:l.default.description},"string"==typeof a?n.createElement(d.default,{text:a,titlify:!0}):a):null,y=e?n.createElement("div",{className:l.default.source},n.createElement(d.default,{text:e})):null,S=(0,s.default)(l.default.preview,{[l.default.isInvite]:i!==o.default.DISP_TYPE.GALLERY&&r,[l.default.isCompose]:t,[l.default.bubbleIn]:!f,[l.default.bubbleOut]:f,[l.default.extended]:"extended"===b});return n.createElement("div",{className:S,onClick:u},v,n.createElement("div",{className:l.default.body},n.createElement("div",{className:l.default.title,title:m},n.createElement(d.default,{text:m})),j,y))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("gfebgebbi")),l=r(a("deeafdcghd")),c=r(a("dgdcjccfdi"))},bcgiihjdgi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return x.apply(this,arguments)};var r=i(a("dfadhaifh")),s=i(a("ffedgcdgj")),n=a("iecijehdi"),o=a("ihfbhicij"),d=a("ebfffgeaff"),l=a("cijgjjjjhf"),c=a("baeibjjidd"),u=a("cadjefbajf"),f=a("cddfegbdha"),h=a("jhjbdcjbc"),p=a("ddbeddiehf"),g=a("ecigjabbeb"),m=a("bdcagghfei"),b=a("ibdhiicje"),v=a("ccfehggbjf"),_=a("dhiafhdedd"),E=a("cdfejjabfa"),j=a("bihiceijie"),y=a("dfgdeffjcd"),S=a("eajighiif"),C=a("ggcdageid"),M=a("hajhefagc"),T=a("cjgdgbgbj"),P=a("daehjhdfgf"),O=a("edgdahgdh"),N=a("caifaihfad"),I=a("djiecjceea"),A=a("cafcabcicd"),w=a("edfbdbajd"),R=a("dfbjgaaea"),D=a("dbdbehfcia"),L=a("chfbdgegdf");function k(){var e=(0,r.default)(["Error prefetching loadables: ",""]);return k=function(){return e},e}function x(){return(x=(0,s.default)((function*(){try{var e=[(0,y.requireBundle)(),(0,v.requireBundle)()];yield Promise.all(e);var t=[(0,P.requireBundle)(),(0,M.requireBundle)(),(0,E.requireBundle)(),(0,D.requireBundle)(),(0,d.requireBundle)(),(0,u.requireBundle)(),(0,h.requireBundle)(),(0,m.requireBundle)(),(0,S.requireBundle)(),(0,C.requireBundle)(),(0,w.requireBundle)(),(0,l.requireBundle)(),(0,N.requireBundle)(),(0,A.requireBundle)(),(0,p.requireBundle)(),(0,c.requireBundle)(),(0,T.requireBundle)(),(0,_.requireBundle)(),(0,j.requireBundle)(),(0,n.requireBundle)(),(0,R.requireBundle)(),(0,g.requireBundle)(),(0,L.requireBundle)(),(0,O.requireBundle)(),(0,f.requireBundle)(),(0,I.requireBundle)(),(0,b.requireBundle)(),(0,o.requireBundle)()];yield Promise.all(t)}catch(e){__LOG__(3)(k(),e.stack)}}))).apply(this,arguments)}},bchiiahecb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({a8nText:e,className:t,children:a,disabled:i,onClick:r,type:l="button"}){return s.createElement("button",{className:(0,n.default)(d.default.button,t),"data-a8n":o.default.key(e),disabled:!0===i,onClick:r,type:l},a)};var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("effbcehec")),d=i(a("dfbgfbceaa"))},bciccdecig:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dahagdijgh")),o=i(a("bjheffjbgd")),d=r(a("bjjhgjdbhd")),l=i(a("bgheieccaj")),c=i(a("dbfjeecgih")),u=i(a("bbaacgghch")),f=i(a("ddajbaceej")),h=i(a("dhfbfehaef")),p=i(a("bdjjabfecc")),g=i(a("fiijdaaid")),m=r(a("dgjfidhijd"));class b extends s.Component{constructor(...e){super(...e),this.flatListController=new c.default,this._refList=s.createRef(),this._refSearch=s.createRef(),this.onNext=e=>{e.preventDefault(),e.stopPropagation();var t=this.props.selection;t&&t.setNext(!0)},this.onPrev=e=>{var t=this.props.selection;t&&(e.preventDefault(),e.stopPropagation(),t.prev()>-1?t.setPrev(!0):(t.unset(),u.default.shouldIndicateFocus(),f.default.focus(this._refSearch.current)))},this.onFocusList=e=>{this._refList.current&&(e.preventDefault(),e.stopPropagation(),u.default.shouldIndicateFocus(),this.props.selection.setFirst(!0))},this.onSelectFirst=e=>{e.preventDefault(),e.stopPropagation();var t=this.props.data[0];t&&this.props.onSelect(e,t)},this.onSearch=e=>{this.props.onSearch(e)}}componentDidMount(){f.default.focus(this._refSearch.current)}render(){var e,{title:t,onCancel:a,onSearch:i,searchPlaceholder:r,renderItem:c,data:u,emptyState:f}=this.props,b={down:this.onFocusList},v={down:this.onNext,up:this.onPrev};i&&(e=s.createElement(h.default,{handlers:b},s.createElement(g.default,{ref:this._refSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:r||p.default.t(1193)})));var _=u.length?s.createElement(h.default,{handlers:v},s.createElement(l.default,{data:u,ref:this._refList,flatListController:this.flatListController,direction:"vertical",renderItem:c})):f;return s.createElement(m.default,{type:m.TowerModalType},s.createElement(n.default,{key:"contact-modal"},s.createElement(d.default,{title:t,type:d.DRAWER_HEADER_TYPE.POPUP,onCancel:a}),e,s.createElement(o.default,{flatListControllers:[this.flatListController]},_)))}}t.default=b},bcifacbch:function(e,t){e.exports={container:"_3NnzO",fullscreen:"_3fKry",videoFloaterMedia:"Xbo45",videoTag:"_30CjV",mediaStageWrapper:"_1by5Z",preview:"_1DxBL",errorLink:"_3Lu-P",errorLinkChevron:"Qf0j3"}},bciibifcgd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.default.isRTL()?-1:1,a=-1===e.selectedTabIndex?-2:e.selectedTabIndex,i={width:"".concat(100/e.numTabs,"%"),transform:"translateX(".concat(100*a*t,"%)")};return s.createElement("div",{className:(0,n.default)(d.default.menuTabsMarker,{[d.default.hide]:e.hide}),style:i})};var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("bdjjabfecc")),d=i(a("bcahedbfdh"))},bcjcjgchcc:function(e,t){e.exports={container:"_2sAjy"}},bcjdeebege:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EMOJI_WIDTH=void 0;var s=r(a("dbafiicfja")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=a("jagjbhcgf"),l=r(a("djegeegcbf")),c=r(a("cdfjfcdgbi")),u=r(a("dhdifdcjcd")),f=r(a("dfbhcehadj")),h=r(a("jheedhagg")),p=r(a("dhfbfehaef")),g=r(a("ebddggeaib")),m=r(a("cahfddcdga")),b=r(a("bjfdccaidi")),v=r(a("diffaiehid")),_=r(a("cgjdibiahi")),E=r(a("dcaffhdhce")),j=parseInt(u.default["-emoji-width"].replace(/px$/,""),10);t.EMOJI_WIDTH=j;class y extends n.Component{constructor(...e){super(...e),this.state={selectedIndex:0,skinTonePicker:null},this.emojiList=null,this.rowLength=0,this.emojiPanelRef=n.createRef(),this.emojisRef=n.createRef(),this.windowResized=()=>{var e=this.getEmojiRowLength();if(this.rowLength!==e){this.rowLength=e;var t=this.state.selectedIndex>=e?e-1:this.state.selectedIndex;this.setState({selectedIndex:t})}},this.onEmojiClick=e=>{if(C(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;if(t)if(l.default.getSkinToneBase(t)){var a=this.getEmojiVariant(t);a?this.onEmoji(a):this.onContextMenu(e)}else this.onEmoji(t)}},this.onEmojiMouseDown=e=>{if(C(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&l.default.getSkinToneBase(t)&&this.startPickerTimer(e)}},this.onEmoji=e=>{this.props.onEmoji(e),this.releaseFocus()},this.releaseFocus=()=>{this.props.onFocusRelease&&this.props.onFocusRelease()},this.getEmojiVariant=e=>l.default.getSkinToneBase(e)?f.default.getVariant(e):null,this.setEmojiVariant=(e,t,a)=>{C(e),this.onEmoji(a),f.default.setVariant(t,a);var i=this.props.uim;return i&&(i.pop(!1,!1),i.uie.requestDismiss()),!1},this.onContextMenu=e=>{C(e);var t=e.target;if(t instanceof HTMLElement){var a=t.dataset.unicode;a&&l.default.getSkinToneBase(a)&&this._onContextMenu(a,t)}},this._onContextMenu=(e,t,a)=>{this.clearPickerTimer();var i=(0,m.default)(l.default.getSkinToneBase(e),"Emoji.getSkinToneBase(unicode)");this.setState({skinTonePicker:{menu:n.createElement(b.default,{base:i,action:this.setEmojiVariant,unicode:e}),anchor:t,type:"picker",dirX:d.DirX.RIGHT,dirY:d.DirY.TOP,horizontal:!0,autoFocus:a,findFirstItem:!0}},()=>{var{onSkinTonePicker:e}=this.props;e&&e(!0)})},this.closeSkinTonePicker=()=>{this.setState({skinTonePicker:null},()=>{var{onSkinTonePicker:e}=this.props;e&&e(!1)})},this.clearPickerTimer=()=>{null!=this.pickerTimer&&(this.props.clearTimeout(this.pickerTimer),this.pickerTimer=null)},this.startPickerTimer=e=>{C(e),this.clearPickerTimer();var t=e.target;if(t instanceof HTMLElement){var a=t.dataset.unicode;this.pickerTimer=this.props.setTimeout(()=>{this.props.listeners.addOnce(o.default,"window_click",C),this._onContextMenu(a,t)},250),this.props.listeners.addOnce(window,"mouseup",this.clearPickerTimer,!0)}},this.getEmojiRowLength=()=>{var e=this.emojiPanelRef.current&&this.emojiPanelRef.current.offsetWidth;return null==e?8:Math.floor(e/j)},this.onEmojiArrowLeft=e=>{this.onEmojiArrow(e,"left")},this.onEmojiArrowRight=e=>{this.onEmojiArrow(e,"right")},this.onEmojiArrow=(e,t)=>{if(C(e),e.target instanceof HTMLElement){var a=e.target.dataset.emojiIndex;if(a){a=Number(a);var i=this.props.emojiList,r=a;switch(t){case"left":a>0&&(r=a-1);break;case"right":if(a+1>=i.length)return;r=a+1}this.setState({selectedIndex:r})}}},this.renderEmojiList=e=>{var t=e,a=this.getEmojiRowLength();t&&t.length>a&&(t=t.slice(0,a));var i=(0,s.default)(t,(e,t)=>{var a=this.getEmojiVariant(e),i=this.state.selectedIndex===t&&!this.state.skinTonePicker;return n.createElement(c.default,{element:"span",emoji:a||e,size:"large",key:e,"data-unicode":e,"data-variant":a,tabIndex:"-1","data-emoji-index":t,selected:i})});return n.createElement(p.default,{onMouseDown:this.onEmojiMouseDown,onClick:this.onEmojiClick,onContextMenu:this.onContextMenu},n.createElement("div",{className:u.default.panel,ref:this.emojisRef},i))},this.onEmojiEnter=e=>{if(C(e),e.target instanceof HTMLElement){var t=e.target.dataset.emojiIndex;if(t&&this.props.emojiList){var a=this.props.emojiList[Number(t)];this.keyboardSelectEmoji(e,a)}}},this.keyboardSelectEmoji=(e,t)=>{if(l.default.getSkinToneBase(t)){var a=this.getEmojiVariant(t);if(a)this.onEmoji(a);else{if(C(e),!(e.target instanceof HTMLElement))return;this._onContextMenu(t,e.target,!0)}}else this.onEmoji(t)}}static getDerivedStateFromProps(e,t){return{selectedIndex:Math.min(t.selectedIndex,e.emojiList.length-1)}}componentDidUpdate(e,t){this.state.skinTonePicker&&this.state.skinTonePicker===t.skinTonePicker&&this.closeSkinTonePicker()}componentDidMount(){this.props.listeners.add(f.default,"add remove change:variant",()=>this.forceUpdate());var e=this.props.debounce(this.windowResized,100);this.props.listeners.add(window,"resize",e),this.windowResized()}getEmojiAtIndex(e){var t;return null!==(t=this.props.emojiList[e])&&void 0!==t?t:null}getEmojiElement(e){if(!(e<0)&&this.emojisRef.current){var t=this.emojisRef.current.children;if(!(e>=t.length))return t[e]}}render(){var e;return this.state.skinTonePicker&&(e=n.createElement(_.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this.closeSkinTonePicker},n.createElement(E.default,{tooltip:this.state.skinTonePicker}))),n.createElement("div",{ref:this.emojiPanelRef},this.renderEmojiList(this.props.emojiList),e)}moveSelectionLeft(){this.setState({selectedIndex:Math.max(this.state.selectedIndex-1,0)})}moveSelectionRight(){this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.getEmojiRowLength()-1,this.props.emojiList.length-1)})}pickSelectedEmoji(){var e=this.getEmojiAtIndex(this.state.selectedIndex);if(e)if(l.default.getSkinToneBase(e)){var t=this.getEmojiVariant(e);if(t)this.onEmoji(t);else{var a=this.getEmojiElement(this.state.selectedIndex);a&&this._onContextMenu(e,a,!0)}}else this.onEmoji(e)}}var S=(0,h.default)((0,g.default)((0,v.default)(y)));function C(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=class extends S{moveSelectionLeft(){this.getComponent().moveSelectionLeft()}moveSelectionRight(){this.getComponent().moveSelectionRight()}pickSelectedEmoji(){this.getComponent().pickSelectedEmoji()}}},bcjicebbgg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PiPManager=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=a("ihfehgab"),d=i(a("jdceifdf")),l=i(a("bijgfjecca")),c=i(a("bjegcccgec")),u=i(a("bdjjabfecc")),f=i(a("ebddggeaib")),h=i(a("bdcchebfge")),p=i(a("biecbbiiee")),g=i(a("ediaiijfe")),m=i(a("bdibaeedd")),b=r(a("bjhgigfbec")),v=i(a("didfdhbecg")),_=i(a("bfgdcfdagf"));class E extends s.Component{constructor(e){super(e),this.onMediaViewerModal=e=>{var{msg:t}=e;this.state.msg&&this.state.msg.id.equals(t.id)&&this.closePiP()},this.closePiPFromMsg=e=>{this.state.msg&&this.state.msg.id.equals(e.id)?this.closePiP():this.state.youtubeVideoInfo&&this.state.youtubeVideoInfo.videoMsg.id.equals(e.id)?this.closeYoutubePiP():this.state.ogVideoInfo&&this.state.ogVideoInfo.videoMsg.id.equals(e.id)&&this.closeOgVideoPiP()},this.openPiP=(e,t,a)=>{this.previousPiPDidClose(),g.default.didOpen(e),e.downloadMedia(!0,h.default.WEBC_RMR_REASON_CODE.PIP),this.setState({msg:e,youtubeVideoInfo:null,ogVideoInfo:null,startTime:t,zoomRect:a})},this.closePiP=()=>{this.state.msg&&g.default.didClose(this.state.msg),this.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},this.pausePiP=()=>{},this.isOpened=e=>!(!this.state.msg||!e.id.equals(this.state.msg.id))||(!(!this.state.youtubeVideoInfo||!e.id.equals(this.state.youtubeVideoInfo.videoMsg.id))||!(!this.state.ogVideoInfo||!e.id.equals(this.state.ogVideoInfo.videoMsg.id))),this.openYoutubePiP=(e,t,a,i)=>{this.previousPiPDidClose(),g.default.didOpen(t),this.setState({msg:null,youtubeVideoInfo:{videoId:e,videoMsg:t},ogVideoInfo:null,startTime:a,zoomRect:i})},this.closeYoutubePiP=()=>{this.state.youtubeVideoInfo&&g.default.didClose(this.state.youtubeVideoInfo.videoMsg),this.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},this.openOgVideoPiP=(e,t,a,i,r)=>{this.previousPiPDidClose(),g.default.didOpen(a);var s="data:image/jpeg;base64,".concat(t);this.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:{videoUrl:e,previewUrl:s,videoMsg:a},startTime:i,zoomRect:r})},this.closeOgVideoPiP=()=>{this.state.ogVideoInfo&&g.default.didClose(this.state.ogVideoInfo.videoMsg),this.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},this.previousPiPDidClose=()=>{this.state.msg&&g.default.didClose(this.state.msg),this.state.youtubeVideoInfo&&g.default.didClose(this.state.youtubeVideoInfo.videoMsg),this.state.ogVideoInfo&&g.default.didClose(this.state.ogVideoInfo.videoMsg)},this.handleMsgVideoPiPError=()=>{this.state.msg&&g.default.didError(this.state.msg)},this.handleOgVideoPiPError=()=>{this.state.ogVideoInfo&&g.default.didError(this.state.ogVideoInfo.videoMsg)},this.state={msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null}}componentDidMount(){g.default.register(this),this.props.listeners.add(n.default,"media_viewer_modal",this.onMediaViewerModal),this.props.listeners.add(p.default,"remove",e=>{this.closePiPFromMsg(e)}),this.props.listeners.add(p.default,"change:asRevoked",e=>{if(e.asRevoked){if(!e.isSentByMe){var t=this.state.msg&&this.state.msg.id.equals(e.id),a=this.state.youtubeVideoInfo&&this.state.youtubeVideoInfo.videoMsg.id.equals(e.id),i=this.state.ogVideoInfo&&this.state.ogVideoInfo.videoMsg.id.equals(e.id);(t||a||i)&&n.default.openToast(s.createElement(b.default,{id:(0,b.genId)(),msg:u.default.t(1091)}))}this.closePiPFromMsg(e)}})}componentWillUnmount(){g.default.unregister()}renderVideoPlayer(){var{msg:e,youtubeVideoInfo:t,ogVideoInfo:a}=this.state;return e?s.createElement(d.default,{key:e.id.toString(),msg:e,mediaData:e.mediaData,animationStartStyle:this.getAnimationStartStyle(),startTime:this.state.startTime,onClose:this.closePiP,onError:this.handleOgVideoPiPError,onOpenMediaViewer:this.closePiP,onMissingMedia:this.closePiP,onUnsupportedMedia:this.closePiP,autoPlay:!0}):t?s.createElement(c.default,{key:t.videoId,aspectRatio:o.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:this.getAnimationStartStyle()},s.createElement(_.default,{key:t.videoId,youtubeVideoId:t.videoId,startTime:this.state.startTime,onClose:this.closeYoutubePiP,autoPlay:!0})):a?s.createElement(l.default,{key:a.videoMsg.id.toString(),ogVideoInfo:a,startTime:this.state.startTime,onClose:this.closeOgVideoPiP,onError:this.handleOgVideoPiPError,animationStartStyle:this.getAnimationStartStyle(),autoPlay:!0}):null}getAnimationStartStyle(){return this.state.zoomRect?{height:this.state.zoomRect.bottom-this.state.zoomRect.top,width:this.state.zoomRect.right-this.state.zoomRect.left,left:this.state.zoomRect.left,bottom:window.innerHeight-this.state.zoomRect.bottom}:null}render(){return s.createElement(v.default,{transitionName:"pip",className:m.default.playerWrapper,component:"div"},this.renderVideoPlayer())}}t.PiPManager=E;var j=(0,f.default)(E);t.default=j},bcjidabgad:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEffectiveNetworkType=function(){return navigator.connection&&"string"==typeof navigator.connection.effectiveType?navigator.connection.effectiveType:null}},bdacheahgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=r(a("ieeidjijb")),d=r(a("dhigahgdjb")),l=a("cdhbdacigj"),c=a("bgheieccaj"),u=a("dgjddffcfg"),f=r(a("bdjjabfecc")),h=r(a("bciccdecig")),p=r(a("ebddggeaib")),g=r(a("baabifghjg")),m=r(a("dcaibchbg")),b=r(a("diffaiehid")),v=a("hjbbdjjdf"),_="HEADER",E="ROW";class j extends n.Component{constructor(...e){super(...e),this.selection=new m.default([],e=>e.id),this.state={searchFilter:void 0},this.onSelect=(e,t)=>{if(t.type===E){var a=t.contact;!0===this.props.filter(a)&&this.props.onSelect&&this.props.onSelect(a)}},this.onSearch=this.props.debounce(e=>{this.setState({searchFilter:e})},100),this.renderItem=e=>{var t,{filter:a,onSelect:i,onContext:r,contextEnabled:d,contextMenu:l,openContextOnClick:u,showNotifyName:f,participantCollection:h,listenForAdminChange:p}=this.props;switch(e.type){case _:return n.createElement(g.default,{header:null!==(t=e.header)&&void 0!==t?t:""});case E:var m=(0,v.isString)(a(e.contact)),b=m?"group-modal":null,j=m?a(e.contact):null,y=r&&l?{contextEnabled:d,contextMenu:l(e.contact.id),onContext:r}:{};return n.createElement(o.default,(0,s.default)({contact:e.contact,active:this.selection,theme:b,secondary:j,onClick:u&&r?r:m?void 0:i?()=>{i(e.contact)}:()=>{},waitIdle:!0,showNotifyName:f,listenForAdminChange:p,participantCollection:h},y));default:throw new c.UnknownDataError(e)}}}componentDidMount(){this.props.contacts||this.props.listeners.add(d.default,"add remove change:name",()=>{this.forceUpdate()})}getData(){var{filter:e}=this.props,t=f.default.accentFold(this.state.searchFilter),a=(0,u.numberSearch)(t),i=(this.props.contacts||d.default).filter(i=>e(i)&&(!t||t&&i.searchMatch(t,a)));this.selection.init(i.filter(t=>!0===e(t)));var r,s,n=[];if(!i.length)return n;for(var o=i.length>10,l=0;l<i.length;l++)r=i[l],o&&r.header!==s&&n.push({type:_,header:r.header,itemKey:"".concat(r.header||"","_").concat(l)}),n.push({type:E,contact:r,itemKey:"".concat(r.id.toString(),"_").concat(l)}),s=r.header;return n}render(){var{title:e,onCancel:t}=this.props;return n.createElement(h.default,{title:e,data:this.getData(),renderItem:this.renderItem,emptyState:n.createElement(l.SearchContacts,null),selection:this.selection,onSearch:this.onSearch,searchPlaceholder:f.default.t(1195),onSelect:this.onSelect,onCancel:t})}}j.defaultProps={filter:e=>d.default.isFilteredContact(e)};var y=(0,p.default)((0,b.default)(j));t.default=y},bdagfhdcie:function(e,t){e.exports={addToCartIcon:"hebvK"}},bdaiigehjc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEntryList=t.MediaEntry=void 0;var r=i(a("dfadhaifh")),s=a("diddcgece"),n=i(a("ccigcidgc")),o=i(a("cejajgjhhc")),d=i(a("ddjjhjgeea")),l=i(a("bcejgahfia"));function c(){var e=(0,r.default)(["Media type "," is missing upload hash"]);return c=function(){return e},e}var u="PROBABLY_ON_SERVER",f="PROBABLY_OFF_SERVER",h="UNKNOWN";class p{constructor(e,t,a,i,r,s,n,o,d,l){this.useBackupUrl=!1,this._uploadHashPromise=null,this.mmsUrl=e,this.mediaKey=t,this.mediaKeyTimestamp=a,this.uploadHash=i,this.serverStatus=h,this.sidecar=s,this.directPath=n,this.firstFrameSidecar=o,this.type=r,this.scansSidecar=d,this.scanLengths=l}url(e){var{useFallback:t,forceHashUrl:a}=e||{},i=this.uploadHash;if(!i)throw new Error("encFilehash is required");return o.default.getHostsInfo({operation:d.default.DOWNLOAD,encFilehash:i,type:this.type}).then(({auth:e,selectedHost:r,fallbackHost:s})=>{var o=t&&s?s:r;return(0,n.default)({auth:e,directPath:a?null:this.directPath,encFilehash:i,hostname:o.hostname,type:this.type})})}markWhetherOnServer(e){this.serverStatus=e?u:f}}t.MediaEntry=p;function g(e){e.entries.sort((e,t)=>{var a=m(t)-m(e);return 0===a?t.mediaKeyTimestamp-e.mediaKeyTimestamp:a})}function m(e){var t=0;switch(e.serverStatus){case u:t+=200;break;case f:break;case h:t+=100}return e.uploadHash?t+=20:e._uploadHashPromise&&(t+=10),t}t.MediaEntryList=class{constructor(){this.entries=[]}_updateEntry({foundEntry:e,mediaKey:t,mediaKeyTimestamp:a,uploadHash:i,sidecar:r,directPath:n,firstFrameSidecar:o,scansSidecar:d,scanLengths:l}){if(t&&!(0,s.b64Equal)(e.mediaKey,t))throw new Error("media-fault: mediaKey is changed for the same MMS3 url");null!=a&&(e.mediaKeyTimestamp=a),r&&(e.sidecar=r),o&&(e.firstFrameSidecar=o),d&&(e.scansSidecar=d),(null==l?void 0:l.length)&&(e.scanLengths=l),e.directPath=n}updateEntry({url:e,mediaKey:t,mediaKeyTimestamp:a,uploadHash:i,type:r,sidecar:s,directPath:n,firstFrameSidecar:o,scansSidecar:d,scanLengths:l}){var c=this.getEntryByUploadHash(i);if(c)return this._updateEntry({foundEntry:c,mediaKey:t,mediaKeyTimestamp:a,uploadHash:i,sidecar:s,directPath:n,firstFrameSidecar:o,scansSidecar:d,scanLengths:l}),c}addEntry(e){var{url:t,mediaKey:a,mediaKeyTimestamp:i,uploadHash:r,type:s,sidecar:n,directPath:o,firstFrameSidecar:d,scansSidecar:l,scanLengths:u}=e;if(null==r)return __LOG__(4,!1,new Error)(c(),s),SEND_LOGS("media-entry-missing-upload-hash"),null;var f=this.entries,h=this.getEntryByUploadHash(r);if(h)return this._updateEntry({foundEntry:h,mediaKey:a,mediaKeyTimestamp:i,uploadHash:r,sidecar:n,directPath:o,firstFrameSidecar:d,scansSidecar:l,scanLengths:u}),h;if(!a)return null;var g=new p(t,a,i,r,s,n,o,d,l,u);return f.push(g),g}has(e){return null!=this.getEntryByUploadHash(e)}getEntryByUploadHash(e){return this.entries.find(t=>t.uploadHash===e)}getUploadEntry(){return g(this),this.entries.find(e=>(0,l.default)(e.mediaKeyTimestamp))||null}getDownloadEntry(){g(this);var e=this.entries[0];return e&&e.serverStatus!==f?e:null}}},bdaijaaagh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ebddggeaib")),o=i(a("fagbfehid")),d=i(a("ceedhgficf")),l=i(a("efjaifahj")),c=i(a("dgdcjccfdi"));class u extends s.PureComponent{constructor(e){super(e),this._handleStickerPackPageFetchState=(e,t)=>{if(!this._unmounted){var{index:a}=this.props;o.default.pageWithIndex(a)===e&&(t||o.default.fetchAt(a),this.setState({stickerPack:o.default.at(a)}))}},o.default.fetchAt(e.index),this.state={stickerPack:o.default.at(e.index)},this._unmounted=!1}componentDidMount(){this.props.listeners.add(o.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}componentWillUnmount(){this._unmounted=!0}render(){var{stickerPack:e}=this.state;return e?e.isPlaceholder?s.createElement(c.default,{name:"sticker"}):e.isFirstParty?s.createElement(d.default,{stickerPack:e}):s.createElement(l.default,{stickerPack:e,mediaData:e.mediaData}):null}}var f=(0,n.default)(u);t.default=f},bdajcibefj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dahaebgdhi")),o=a("djaiggcdb"),d=a("facgccaif"),l=i(a("bdjjabfecc")),c=i(a("bgdeabjbjd")),u=i(a("dcdbbhicce")),f=a("cjfegjecaj"),h=i(a("dgfgceghic")),p=()=>{(0,o.openExternalLink)((0,d.getCiphertextFaqUrl)())};class g extends s.PureComponent{render(){return s.createElement(h.default,{msg:(0,f.unproxy)(this.props.msg),displayAuthor:this.props.displayAuthor},s.createElement(c.default,{iconName:"ciphertext",msg:this.props.msg.unsafe()},l.default.t(1093)," ",s.createElement("span",{className:n.default.action,role:"button",onClick:p},l.default.t(794))))}}g.CONCERNS={msg:["isSentByMe","isGroupMsg","senderObj"]};var m=(0,u.default)(g,g.CONCERNS);t.default=m},bdbbgbbcgj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var[t,a]=(0,i.useState)({image:void 0,status:"loading"});return(0,i.useEffect)(()=>{if(null!=e){var t=new Image,i=()=>a({image:t,status:"loaded"}),r=()=>a({image:void 0,status:"failed"});return t.addEventListener("load",i),t.addEventListener("error",r),t.src=e,t.complete&&(i(),s()),()=>{s()}}function s(){t.removeEventListener("load",i),t.removeEventListener("error",r)}},[e]),[t.image,t.status]};var i=a("ddhijeejag")},bdbhaijeaa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=a("chfjcfcide"),o=i(a("gaffaajde")),d=i(a("cejajgjhhc")),l=i(a("ehhfjdhja")),c=i(a("ddcghddad")),u=i(a("djdejcibcf")),f=i(a("bbgcdfeifh")),h=i(a("ddjjhjgeea"));function p(){var e=(0,s.default)(["mmsClient.download: error"]);return p=function(){return e},e}function g(){var e=(0,s.default)(["mmsClient.download: expected error"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["mmsClient.download: success"]);return m=function(){return e},e}function b(){var e=(0,s.default)(["mmsClient.download: attempt #",""]);return b=function(){return e},e}function v(){var e=(0,s.default)(["mmsClient.download: start"]);return v=function(){return e},e}function _(){var e=(0,s.default)(["mmsClient.upload: error"]);return _=function(){return e},e}function E(){var e=(0,s.default)(["mmsClient.upload: success"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["mmsClient.upload: attempt #",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["mmsClient.upload: start"]);return y=function(){return e},e}function S(){var e=(0,s.default)(["mmsClient.checkIfUploadExists: error"]);return S=function(){return e},e}function C(){var e=(0,s.default)(["mmsClient.checkIfUploadExists: error"]);return C=function(){return e},e}function M(){var e=(0,s.default)(["mmsClient.checkIfUploadExists: success"]);return M=function(){return e},e}function T(){var e=(0,s.default)(["mmsClient.checkIfUploadExists: attempt #",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["mmsClient.checkIfUploadExists: start"]);return P=function(){return e},e}var O={minTimeout:1e3,retries:3};function N(e){return!(e instanceof n.MMSThrottleError)&&(e instanceof n.NoMediaHostsError||e instanceof n.HttpNetworkError||e instanceof n.MMSUnauthorizedError||e instanceof n.HttpStatusCodeError&&e.status>=500)}var I=new class{checkIfUploadExists(e){var{encFilehash:t,signal:a,type:i}=e,s=!0;return e.encFilehash,e.type,__LOG__(2)(P()),(0,o.default)((0,r.default)((0,r.default)({},O),{},{signal:a}),(e,r)=>(__LOG__(2)(T(),r+1),f.default.waitIfOffline({signal:a}).then(()=>d.default.getHostsInfo({operation:h.default.UPLOAD,encFilehash:t,type:i,signal:a}).then(({auth:e,selectedHost:n,fallbackHost:o})=>{var d=r>=2&&!s&&o?o:n;return(0,l.default)({auth:e,encFilehash:t,hostname:d.hostname,type:i,signal:a,onProgress:()=>{s=!0}})}).catch(t=>{if(N(t))return e(t);throw t})))).then(e=>(__LOG__(2)(M()),e)).catch(e=>{throw e instanceof n.MediaNotFoundError?__LOG__(2)(C()):__LOG__(3)(S()),e})}upload(e){var{ciphertextHmac:t,encFilehash:a,type:i,signal:s,onUploadHostFound:n,onUploadAttemptSuccess:l,onUploadAttemptError:c}=e,p=!0;__LOG__(2)(y());var g=Date.now();return(0,o.default)((0,r.default)((0,r.default)({},O),{},{signal:s}),(e,r)=>(g=Date.now(),__LOG__(2)(j(),r+1),f.default.waitIfOffline({signal:s}).then(()=>d.default.getHostsInfo({operation:h.default.UPLOAD,encFilehash:a,type:i,signal:s}).then(({auth:e,selectedHost:o,fallbackHost:d})=>{var l=r>=2&&!p&&d?d:o;return n({hostName:l.hostname,hostClass:l.class,failCount:r}),(0,u.default)({auth:e,ciphertextHmac:t,hostname:l.hostname,encFilehash:a,type:i,signal:s,onProgress:()=>{p=!0}})}).catch(t=>{var a=N(t);if(!a||r===O.retries||c(t,Date.now()-g),a)return e(t);throw t})))).then(e=>(l(Date.now()-g),__LOG__(2)(E()),e)).catch(e=>{throw __LOG__(3)(_()),e})}download(e){var{directPath:t,encFilehash:a,type:i,signal:s,onResponseText:l,onDownloadHostFound:u,onDownloadAttemptSuccess:f,onDownloadAttemptError:_}=e,E=!0;__LOG__(2)(v());var j=Date.now();return(0,o.default)((0,r.default)((0,r.default)({},O),{},{signal:s}),(e,r)=>(j=Date.now(),__LOG__(2)(b(),r+1),d.default.getHostsInfo({operation:h.default.DOWNLOAD,directPath:t,encFilehash:a,type:i,signal:s}).then(({auth:e,selectedHost:n,fallbackHost:o})=>{var d=r>=2&&!E&&o?o:n;return u({hostName:d.hostname,hostClass:d.class,failCount:r}),(0,c.default)({auth:e,directPath:t,encFilehash:a,hostname:d.hostname,type:i,signal:s,onProgress:()=>{E=!0},onResponseText:l})}).catch(t=>{var a=N(t);if(!a||r===O.retries||_({err:t,overallT:Date.now()-j,failCount:r}),a)return e(t);throw t}))).then(e=>(f(Date.now()-j),__LOG__(2)(m()),e)).catch(e=>{throw e instanceof n.MediaNotFoundError?__LOG__(2)(g()):__LOG__(3)(p()),e})}};t.default=I},bdcagghfei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"dfbdhdcebe",7)).then(e=>e.default),"GroupMsgInfoFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},bdcddabebc:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dcaifjegcg"));class s extends r.default{constructor(...e){super(...e),this.id=(0,r.prop)(),this.displayText=(0,r.prop)(),this.subtype=(0,r.prop)(),this.url=(0,r.prop)(),this.phoneNumber=(0,r.prop)(),this.selectionId=(0,r.prop)(),this.selected=(0,r.session)(!1)}}s.Proxy="templateButton";var n=(0,r.defineModel)(s);t.default=n},bdcfcfbiaa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bbicgeccjj")),s=i(a("cgggdceabd")),n=a("bebbiadjb");class o extends r.default{constructor(){super(),this._store=new s.default(n.initialize,n.IdbArrayBufferTable)}doGet(e){return this._store.get(e).then(e=>e?e.data:null)}doQueryByIndex(){throw new Error("Not implemented. Actual Arraybuffer store does not need it.")}doGetAll(){throw new Error("Not implemented. Actual Arraybuffer store does not need it.")}doPut(e,t){return this._store.put(e,{id:e,data:t}).then(e=>e.data)}doDel(e){return this._store.del(e)}doCount(){return this._store.count()}clear(){return this._store.clear()}doOpen(){return Promise.resolve()}doClose(){return Promise.resolve()}}t.default=o},bdchicabdd:function(e,t){e.exports={imageWrapper:"btmWu",msgImage:"jtB4A",composeBox:"_2TKQV",statusV3:"_2MdYn",isPayment:"_23Zsu",image:"_3Lgvh"}},bddefbjjbd:function(e,t,a){e.exports=function(){return new Worker(a.p+"afb2a3ac50b95d4bf663.worker.js")}},bddiehgeji:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bchejfgdg")),s=i(a("cdiffgjfcb")),n=new r.default("lru-media-storage-idb"),o=new s.default(n);t.default=o},bddjhedfaa:function(e,t){e.exports={tile:"vWC3x"}},bdecdecede:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=0;if(!e)return t;e.quotedMsg&&(t+=54);e.caption&&(t+=31);switch(e.type){case d.NOTIFICATION:case d.GROUP_NOTIFICATION:case d.GP2:case d.BROADCAST_NOTIFICATION:case d.E2E_NOTIFICATION:case d.CALL_LOG:case d.CIPHERTEXT:case d.REVOKED:case d.CHAT:e.linkPreview&&(t+=53);var a=(0,o.numCodepoints)(e.body&&e.body.toString());return t+19*Math.ceil(a/100)+13;case d.IMAGE:return t+(e.mediaData&&e.mediaData.fullWidth&&e.mediaData.fullHeight||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case d.VIDEO:case d.AUDIO:return e.isGif?t+137:t+166;case d.LOCATION:return t+e.isLive?s.MSG_HEIGHT:n.PREVIEW_HEIGHT;case d.PTT:return t+67;case d.VCARD:return t+74;case d.DOCUMENT:return t+188;case d.STICKER:return t+125;case d.UNKNOWN:default:return t}};var r=i(a("hgigjbgie")),s=a("cgdeicdhag"),n=a("bjhejdiicf"),o=a("bficeagfg"),{MSG_TYPE:d}=r.default},bdedegieae:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({mediaKeys:e,ciphertextHmac:t,expectedPlaintextHash:a}){return Promise.resolve().then(()=>{if(__LOG__(2)(g()),t.byteLength<10)throw new c.MediaDecryptionError("ciphertext too short: ".concat(t.byteLength));var i=new f.default.WebcCryptoMedia({webcCryptoType:f.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:f.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:t.byteLength}),{iv:r,encKey:m,macKey:b}=e,v=(0,o.default)(Uint8Array,t),_=(0,d.default)(Uint8Array,[new Uint8Array(r),v.slice(0,-10)]);return new u.default(b).sign(_,10).then(e=>{var t=v.buffer.slice(-10);if(!(0,l.default)(e,t))throw new c.MediaDecryptionError("decryptMedia: hmac mismatch");return(0,s.aesCbcDecrypt)(m,_)}).then(e=>null==a?e:(0,n.default)(e).then(t=>{if(t!==a)throw new c.MediaDecryptionError("decryptMedia: plaintext hash mismatch");return e})).then(e=>(__LOG__(2)(p()),i.markWebcCryptoElapsedT(),i.commit(),e)).catch(e=>{if(__LOG__(3)(h()),e instanceof c.MediaDecryptionError)throw e;throw new c.MediaDecryptionError("decryption error: ".concat(String(e),"; stack: ").concat(e.stack))})})};var r=i(a("dfadhaifh")),s=a("eaiigfgagg"),n=i(a("dfeejhfchi")),o=i(a("bcjbjghiih")),d=i(a("djhfjffeaj")),l=i(a("gchhabjba")),c=a("cajijabhgb"),u=i(a("bbejegbieb")),f=i(a("bdcchebfge"));function h(){var e=(0,r.default)(["decryptMedia: error"]);return h=function(){return e},e}function p(){var e=(0,r.default)(["decryptMedia: success"]);return p=function(){return e},e}function g(){var e=(0,r.default)(["decryptMedia: start"]);return g=function(){return e},e}},bdeebiagii:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("djggaegcbi")),o=i(a("cahfddcdga")),d=i(a("cgjdibiahi")),l=i(a("dfefggiaaf")),c=i(a("didfdhbecg"));class u extends s.Component{constructor(...e){super(...e),this.state={_stack:[],_transition:"default",_activeKey:0,_ended:!1},this.setRefUIE=e=>{this.refUIE=e},this.popAndUpdate=(e,t)=>{var a=this.state._stack;if(a.length<2)this.pop(t);else{var i=s.cloneElement(a[a.length-2],e);a[a.length-2]=i,this.pop(t)}},this.push=(e,t=this.props.pushTransition)=>{this.setState({_stack:this.state._stack.concat(e),_transition:t,_activeKey:++this.state._activeKey,_ended:!1})},this.pop=(e=this.props.popTransition)=>{var t=this.state._stack.slice(0,-1);t.length?this.setState({_stack:t,_transition:e,_activeKey:--this.state._activeKey}):this.state._ended||this.setState({_ended:!0},this.end)},this.end=e=>{this.props.onEnd?this.props.onEnd(e):(0,o.default)(this.context,"this.context").uie.requestDismiss(e)},this.requestFocus=()=>{}}handleRequestDismiss(){this.pop()}render(){var{_stack:e,_transition:t,_activeKey:a}=this.state;if(0===e.length)return null;var i=e[e.length-1];return i=s.createElement(d.default,{displayName:"FlowDrawer".concat(a),key:a,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this)},i),s.createElement(c.default,{transitionName:t,className:n.default.container},this.props.removeTopDrawer?i:e)}}t.default=u,u.contextType=l.default,u.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"}},bdfacfafhg:function(e,t){e.exports={chatListPanel:"_2ruyW",panelBody:"_3jNGW",panelSearch:"_1Ra05",spinner:"_36yMG",unreadContainer:"_1m9X9",unread:"_1YKeR",unreadBody:"WXkRf",unreadIcon:"_2SDpQ",archivedIcon:"_2H-JC",archivedPanel:"_2ZFXr"}},bdfaehgedi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LIST_FOCUSABLE_ITEM_CLASS_NAME=void 0;var s=r(a("cdfdfciehj")),n=r(a("dfadhaifh")),o=r(a("ffedgcdgj")),d=i(a("ddhijeejag")),l=r(a("ddajbaceej")),c=r(a("dhfbfehaef")),u=r(a("cidbhiefbi")),f=r(a("cgjdibiahi"));function h(){var e=(0,n.default)(["Focusable list items should have `tabIndex` attribute (that makes it programmatically focusable), but this element did not have it:"],["Focusable list items should have \\`tabIndex\\` attribute (that makes it programmatically focusable), but this element did not have it:"]);return h=function(){return e},e}t.LIST_FOCUSABLE_ITEM_CLASS_NAME="focusable-list-item";class p extends d.Component{constructor(...e){var t;super(...e),t=this,this._focusedItem=null,this._listIsFocused=!1,this._listHasBeenFocused=!1,this._priorityItemHasBeenFocused=!1,this._setRef=e=>{this._ref=e},this._setRefUIE=e=>{this._refUIE=e},this._handleKeyUp=e=>{e.preventDefault(),this._shiftFocus(-1)},this._handleKeyDown=e=>{e.preventDefault(),this._shiftFocus(1)},this._handleKeyEnd=e=>{e.preventDefault(),this._asyncHandleKeyEnd()},this._asyncHandleKeyEnd=(0,o.default)((function*(){var e,a,{onBeforeEnd:i}=t.props;i&&(yield i());var r=t._getLastItem(),s=null===(e=(a=t.props).getPriorityFocusItem)||void 0===e?void 0:e.call(a);s&&!t._priorityItemHasBeenFocused?t._focusItem(s):r&&t._focusItem(r)})),this._handleFocusGain=e=>{if(this._ref===e.target){var t;if(this._isKeyboardUser()){var a,i,r=null===(a=(i=this.props).getPriorityFocusItem)||void 0===a?void 0:a.call(i);!this._listHasBeenFocused&&r?this._focusItem(r):this._focusCurrentItem()}null===(t=this._refUIE)||void 0===t||t.activate()}else e.target instanceof HTMLElement&&e.target.classList.contains("focusable-list-item")&&this._setFocusedItem(e.target);this._listIsFocused=!0,this._listHasBeenFocused=!0},this._handleBlur=()=>{this._listIsFocused=!1},this._handleFocusRequest=()=>{var e;this._ref&&!(null===(e=this._ref)||void 0===e?void 0:e.contains(document.activeElement))&&l.default.focus(this._ref)}}componentDidUpdate(){this._priorityItemHasBeenFocused=!1,this._listIsFocused&&this._focusedItem&&this._ref&&!this._ref.contains(this._focusedItem)&&l.default.focus(this._ref)}_setFocusedItem(e){e.setAttribute("tabIndex","0"),this._focusedItem&&this._focusedItem!==e&&this._focusedItem.setAttribute("tabIndex","-1"),this._focusedItem=e}_isKeyboardUser(){return this.context}_getItems(){return this._ref?Array.from(this._ref.getElementsByClassName("focusable-list-item")):[]}_getLastItem(){var e=this._getItems();return e.length>0?e[e.length-1]:null}_focusItem(e){var t,a,i=null===(t=(a=this.props).getPriorityFocusItem)||void 0===t?void 0:t.call(a);i&&i===e&&(this._priorityItemHasBeenFocused=!0),l.default.focus(e,{preventScroll:!1})}_focusCurrentItem(){this._shiftFocus(0)}_shiftFocus(e){var t=this._getItems();if(0!==t.length){var a;if(this._focusedItem){var i=t.indexOf(this._focusedItem);-1!==i&&(a=i+e<0?t[0]:t[i+e])}a||(a=t[t.length-1]),a.hasAttribute("tabIndex")||(__LOG__(3)(h()),function(e){e.setAttribute("tabIndex","-1")}(a)),this._focusItem(a)}}render(){var{ariaLabel:e,className:t,children:a,dataTab:i,handlers:r,role:n}=this.props,o=(0,s.default)((0,s.default)({},r),{},{up:this._handleKeyUp,down:this._handleKeyDown,end:this._handleKeyEnd,"command+down":this._handleKeyEnd});return d.createElement(f.default,{displayName:"ListHotKeys",ref:this._setRefUIE,state:f.default.State.PASSIVE,requestFocus:this._handleFocusRequest},d.createElement(c.default,{handlers:o,className:t,"data-tab":i,onFocus:this._handleFocusGain,onBlur:this._handleBlur,onRef:this._setRef,role:n,"aria-label":e},a))}}t.default=p,p.contextType=u.default},bdgehigfig:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){return Promise.callSynchronously(()=>{var t,i=e.id,r=a("dbdfbgehgj").default;r.find(i.remote).then(e=>{e.isTrusted()||(0,b.sendNotSpam)(e).catch(()=>{})}),_.default.isBroadcast(e.to)&&(t=(0,p.broadcastFanout)(e)),e.isNewMsg=!0;var T,P=e.type===n.default.MSG_TYPE.PROTOCOL&&"revoke"===e.subtype;if(!e.isGroupMsg&&!P&&s.default.get(e.to))return Promise.reject(new o.default("Contact is blocked",d.default.assertGet(e.to)));P||(T=new f.default.WebcMessageSend({messageType:e.getWamMessageType(),messageMediaType:e.getWamMediaType(),messageIsForward:Boolean(e.isForwarded)}));var O=a("biecbbiiee").default;return r.find(e.id.remote).then(t=>((0,v.sendSeen)(t),O.trigger(n.default.NEW_MSG_SENT),Promise.props({reply:(0,g.sendMsgRecord)(e),chat:t}))).then(({reply:a,chat:s})=>{var o=i.remote,d=(0,c.getMaybeMeUser)(),l=i.fromMe&&_.default.equals(i.remote,d)?3:a.data?a.data.ack:1;return e.updateAck(l,a.t),T&&(T.markMessageSendT(),T.commit()),e.type!==n.default.MSG_TYPE.PROTOCOL&&(0,u.setLastReceivedKey)(s.id,i).then(()=>{s.lastReceivedKey=i}),O.updateLastReceipt(o,a.t),_.default.isBroadcast(o)&&(t?t.forEach(e=>{var t=new h.default({from:d,to:e,id:i.id}),a=O.get(t);a&&(a.ack=n.default.ACK.SENT,O.updateLastReceipt(e,a.t),null==a.ephemeralStartTimestamp&&a.updateEphemeralStartTimestamp(a.t),r.find(e).then(e=>{(0,u.setLastReceivedKey)(e.id,t).then(()=>{e.lastReceivedKey=t})}))}):__LOG__(2)(M())),m.SendMsgResult.OK}).catchType(l.ServerStatusCodeError,t=>{if(408!==t.status){var a=e.toJSON();__LOG__(2)(C(),JSON.stringify(a.body)),a.body=void 0,__LOG__(2,!0)(S(),JSON.stringify(a)),__LOG__(4,!1,new Error)(y(),t.status),SEND_LOGS("send-not-200")}return m.SendMsgResult.ERROR_NETWORK}).catch(t=>(__LOG__(3)(j(),e.id.toString()),__LOG__(4,!1,new Error)(E(),String(t)),SEND_LOGS("send-msg-error"),m.SendMsgResult.ERROR_UNKNOWN))}).finally(()=>{e.promises.sendPromise&&e.promises.sendPromise.control.settled()})};var r=i(a("dfadhaifh")),s=i(a("bgfcjjddjf")),n=i(a("hgigjbgie")),o=i(a("beecadabde")),d=i(a("dhigahgdjb")),l=a("bgihjbde"),c=a("ddbdgibbbi"),u=a("cefjgcjhgf"),f=i(a("bdcchebfge")),h=i(a("cffajefeag")),p=a("ccbagdhfbb"),g=a("cjafhagbj"),m=a("dgbddfjdhi"),b=a("dcbafbaejf"),v=a("dgdhcdgffe"),_=i(a("jccfhaecf"));function E(){var e=(0,r.default)(["Got error ",""]);return E=function(){return e},e}function j(){var e=(0,r.default)(["model:msg:createRecord dropped msg: ",""]);return j=function(){return e},e}function y(){var e=(0,r.default)(["Phone responded ",""]);return y=function(){return e},e}function S(){var e=(0,r.default)(["Json: ",""]);return S=function(){return e},e}function C(){var e=(0,r.default)(["json.body: ",""]);return C=function(){return e},e}function M(){var e=(0,r.default)(["model:msg:createRecord bclist server ack, no recipients"]);return M=function(){return e},e}},bdheiggeaf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t){return function e(t,a,i=(0,o.genId)()){var{promises:r}=t;r.setPin&&r.setPin.cancel();var s,u=0;a?u=Math.round(+new Date):s=t.pin;var h=(0,c.setPin)(t.id,u,s).cancellable(),p=a?new o.ActionType(l.default.t(53)):new o.ActionType(l.default.t(63)),g=h.then(()=>{var r=a?l.default.t(52):l.default.t(62);return new o.ActionType(r,l.default.t(178),()=>e(t,!a,i))}).catch(r=>{if(405===r.status)return new o.ActionType(l.default.t(51));if(r.status>=400)return a?new o.ActionType(l.default.t(50)):new o.ActionType(l.default.t(61));__LOG__(3)(f());var s=a?l.default.t(50):l.default.t(61);return new o.ActionType(s,l.default.t(174),()=>e(t,a,i))});return d.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:p,pendingAction:g})),r.setPin=h.then(e=>{e._duplicate||(t.pin=u)}).finally(()=>{r.setPin=null})}((0,u.unproxy)(e),t)};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=r(a("bdjjabfecc")),c=a("cihffbbgjc"),u=a("cjfegjecaj");function f(){var e=(0,s.default)(["models:chat:setPin dropped"]);return f=function(){return e},e}},bdhgicebce:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ParticipantCollection=t.MsgInfoParticipant=void 0;var s=r(a("dcaifjegcg")),n=i(a("fcedgihic")),o=i(a("dhigahgdjb")),d=i(a("ccicaaeiaa")),l=i(a("cffajefeag")),c=i(a("jccfhaecf"));class u extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.t=(0,s.prop)(),this.contact=(0,s.session)()}initialize(){super.initialize(),this.addChild("contact",o.default.gadd(this.id))}}u.Proxy="msgInfoParticipant",u.idClass=c.default;var f=(0,s.defineModel)(u);t.MsgInfoParticipant=f;class h extends n.default{}t.ParticipantCollection=h,h.model=f,h.comparator=(e,t)=>(0,d.default)(e.contact,t.contact);class p extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.isPTT=(0,s.prop)(),this.playedRemaining=(0,s.prop)(0),this.readRemaining=(0,s.prop)(0),this.deliveryRemaining=(0,s.prop)(0),this.played=(0,s.collection)(h),this.read=(0,s.collection)(h),this.delivery=(0,s.collection)(h),this.settled=(0,s.derived)(this._settled,["isPTT","playedRemaining","readRemaining"])}_settled(){return this.isPTT?!this.playedRemaining:!this.readRemaining}getCollection(){return a("eigdejjai").default}}p.Proxy="msgInfo",p.idClass=l.default;var g=(0,s.defineModel)(p);t.default=g},bdhijcggig:function(e,t){e.exports={sensor:"_2g_Pt"}},bdhjcaaiia:function(e,t,a){"use strict";(function(e){var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getDoNotDisturb=function(){try{var t,a;if("darwin"===e.platform)return(null===(t=window.Native.MacOSNotificationState)||void 0===t?void 0:t.getDoNotDisturb())||(null===(a=window.Native.MacOSNotificationState)||void 0===a?void 0:a.getNotificationState())===o.SESSION_SCREEN_IS_LOCKED;if("win32"===e.platform){var i,r,l,c,u;if((null===(i=window.Native.WindowsNotificationState)||void 0===i?void 0:i.getNotificationState())!==o.QUNS_ACCEPTS_NOTIFICATIONS)return!0;var f=(0,s.getAppUserModelId)(),h=f&&"YES"===(null===(r=window.Native.WindowsFocusAssist)||void 0===r||null===(l=r.isPriority(f))||void 0===l?void 0:l.name),p=null===(c=window.Native.WindowsFocusAssist)||void 0===c?void 0:c.getFocusAssist().name;return!!(h&&p===d.ALARMS_ONLY||!h&&[d.PRIORITY_ONLY,d.ALARMS_ONLY].includes(p))||!!(null===(u=window.Native.WindowsQuiteHours)||void 0===u?void 0:u.getIsQuietHours())}}catch(e){__LOG__(3)(n(),e)}return!1};var r=i(a("dfadhaifh")),s=a("cabgagjaab");function n(){var e=(0,r.default)(["getDoNotDisturb failed with error ",""]);return n=function(){return e},e}var o=a("bjgidhichc").Mirrored(["UNKNOWN","SESSION_SCREEN_IS_LOCKED","SESSION_ON_CONSOLE_KEY","QUNS_NOT_PRESENT","QUNS_BUSY","QUNS_RUNNING_D3D_FULL_SCREEN","QUNS_PRESENTATION_MODE","QUNS_ACCEPTS_NOTIFICATIONS","QUNS_QUIET_TIME","QUNS_APP","UNKNOWN_ERROR"]),d=a("bjgidhichc").Mirrored(["NOT_SUPPORTED","FAILED","OFF","PRIORITY_ONLY","ALARMS_ONLY"])}).call(this,a("ddghcccjbh"))},bdibaeedd:function(e,t){e.exports={playerWrapper:"_3y4A-"}},bdighhfebd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bebjeaagc")),o=i(a("jccfhaecf"));class d extends s.PureComponent{constructor(...e){super(...e),this.state={isBusy:n.default.isBusy()},this.onIdle=()=>{this.setState({isBusy:!1})}}componentDidMount(){this.props.waitIdle&&(this.idleTaskId=n.default.enqueue(this.onIdle))}componentDidUpdate(e){if(!o.default.equals(e.id,this.props.id)||!this.props.waitIdle){this.state.isBusy&&n.default.dequeue(this.idleTaskId);var t=n.default.isBusy();t&&this.props.waitIdle&&(this.idleTaskId=n.default.enqueue(this.onIdle)),this.setState({isBusy:t})}}componentWillUnmount(){this.props.waitIdle&&n.default.dequeue(this.idleTaskId)}render(){var{children:e,onComplex:t,waitIdle:a}=this.props,{isBusy:i}=this.state;return i&&a?s.createElement(s.Fragment,null,e):t()}}t.default=d},bdiibihgae:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof HTMLElement&&Boolean(e.dataset&&e.dataset.mentionJid)}},bdiiibjcij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgcgbfbffj")),n=r(a("hgigjbgie")),o=a("bgihjbde"),d=i(a("cajijabhgb")),l=r(a("cbcbdjdah")),c=r(a("biecbbiiee"));class u extends s.default{constructor(...e){super(...e),this.hasDocBefore=!0}delete(){super.delete(),this.stopListening(),this.reset()}queryDocs(e,t){if(t)return this.queryDocBefore||(this.queryDocBefore=c.default.queryMedia(t.id.remote,n.default.MEDIA_QUERY_LIMIT,"before",t.id,"document").then(e=>((!e||e.length<n.default.MEDIA_QUERY_LIMIT)&&(this.hasDocBefore=!1),this.add(e.filter(e=>f(e)),{at:0}),{length:e.length})).catchTypes(o.WebdDrop,d.ProtoVersionUndefined,()=>{}).catchEqualTo(404,()=>{}).finally(()=>{this.queryDocBefore=null,this.trigger("query_doc_before")}),this.trigger("query_doc_before")),this.queryDocBefore;var a=e.msgs;if(0===this.length){if(!a||0===a.length)return this.hasDocBefore=!1,new Promise(e=>{e({eof:!0})});this.add(a.filter(e=>f(e)),{at:0})}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasDocBefore=!1,new Promise(e=>{e({eof:!0})});if(this.length<=2*n.default.MEDIA_QUERY_LIMIT){var i=0===this.length?a.head():this.head();return this.queryDocs(e,i)}return new Promise(e=>{e({eof:!1})})}}function f(e){return null!=e.asDoc&&!e.isVcardOverMmsDocument}t.default=u,u.model=l.default},bdjbcfjgea:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INPUT_SHOW_POINT=t.INPUT_HIDE_POINT=t.INPUT_BAR_SCROLL_FAST=t.INPUT_BAR_SCROLL_SENSITIVITY=t.INPUT_BAR_TOTAL_HEIGHT=t.SCROLL_THROTTLE_TIME=t.SCROLL_CLICK_TIME_GAP=void 0;t.SCROLL_CLICK_TIME_GAP=1e3;t.SCROLL_THROTTLE_TIME=100;t.INPUT_BAR_TOTAL_HEIGHT=63;t.INPUT_BAR_SCROLL_SENSITIVITY=5;t.INPUT_BAR_SCROLL_FAST=15;t.INPUT_HIDE_POINT=63*.7;t.INPUT_SHOW_POINT=94.5},beacbddhci:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=a("cbhhehcjbb");function n({children:e,selectable:t}){return r.createElement(s.SelectableSpan,{className:"matched-text",selectable:t},e)}n.defaultProps={children:""};var o=n;t.default=o},beafbeighe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift(),i=a("dbdfbgehgj").default,r=a("biecbbiiee").default;if(Array.isArray(t)){var o=[],B=[],V=[],H=[];t.forEach((function(e){if("c.us"===e.id)B.push(e);else{var t=!!i.get(e.id),a=["delete","clear","ephemeral","archive","unarchive","star","unstar","spam","modify_tag","pin","modify"].includes(e.type);a?t&&a?B.push(e):__LOG__(2)(F(),JSON.stringify(e)):o.push(e)}}));var W=o.findIndex(e=>T.default.isPSA(e.id));W>-1&&(o[W].name=y.default.t(1791));var K=a("djfhiceeje").default;return B.forEach((function(e){var t=e.type;if("c.us"===e.id){switch(i.disableSortListener(),t){case"clear":__LOG__(2)(U(),String(e.before),String(e.kind)),i.forEach((function(t){"number"==typeof e.before?t.deleteMsgsOlderThan(e.before,e.star,e.kind):t.deleteMsgs(e.star,e.kind)}));break;case"delete":__LOG__(2)(G()),i.toArray().forEach((function(e){e.isGroup?e.deleteMsgs(!0):V.push(e)}));break;case"archive":__LOG__(2)(x()),i.forEach((function(e){H.push({id:e.id,archive:!0,pin:void 0})}));break;case"unarchive":__LOG__(2)(k()),i.forEach((function(e){H.push({id:e.id,archive:!1})}));break;case"unstar":__LOG__(2)(L()),K.delete(),i.forEach((function(e){e.unstarAll()}));break;default:__LOG__(3)(D(),JSON.stringify(e))}i.enableSortListener()}else{var a=i.get(e.id);if(!a)return;switch(t){case"ephemeral":if(null!=e.t){var s=a.getLastReceivedNonExpiredMsg(e.t);s&&(0,S.setLastReceivedKey)(a.id,s.id).then(()=>{a.lastReceivedKey=s.id})}break;case"clear":case"star":case"unstar":if(e.keys){for(var n=e.keys.length,o="star"===t,d=[],l=[],u=[],f=!1,h=0;h<n;h++){var p=void 0,g=void 0,m=void 0,b=void 0,v=void 0,_=e.keys[h];Array.isArray(_)?([p,g,m]=_,b=new C.default({fromMe:g,remote:e.id,id:p,participant:m}),(v=r.get(b))?"clear"===t?v.delete():(v.star=o,u.push(v)):o&&(f=!0)):!(0,c.default)(_)||"star"!==t&&"unstar"!==t||(b=_.id,(v=r.get(_.id))?(v.star=o,u.push(v)):l.push(_)),d.push(b&&b.toString())}"star"!==t&&"unstar"!==t||K.process(o,l,u,f),__LOG__(2)(R(),[t,e.id,d.join(),e.modifyTag].join())}else"clear"===t?("number"==typeof e.before?a.deleteMsgsOlderThan(e.before,e.star,e.kind):a.deleteMsgs(e.star,e.kind),__LOG__(2)(w(),[e.id,e.before,e.modifyTag,e.kind].join())):"unstar"===t&&(a.unstarAll(),__LOG__(2)(A(),e.id));isNaN(e.modifyTag)||H.push({id:e.id,modifyTag:e.modifyTag});break;case"delete":V.push(a),__LOG__(2)(I(),String(e.id));break;case"archive":H.push({id:e.id,archive:!0,pin:void 0});break;case"unarchive":H.push({id:e.id,archive:!1});break;case"spam":H.push({id:e.id,notSpam:e.notSpam});break;case"modify_tag":H.push({id:e.id,modifyTag:e.modifyTag});break;case"pin":H.push({id:e.id,pin:e.pin});break;case"modify":H.push({id:e.id,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid})}}})),(b.default.supportsFeature(b.default.F.MD_BACKEND)?(0,M.getStorage)().lock(["chat"],([e])=>e.bulkCreateOrMerge(o.map(e=>(0,n.default)((0,n.default)({},e),{},{id:e.id.toString()}))).then(()=>Promise.map(H,t=>{var{id:a}=t,i=(0,s.default)(t,["id"]);e.merge(a.toString(),i)})).then(()=>e.bulkRemove(V.map(e=>e.id.toString())))).catch(()=>{__LOG__(4,!1,new Error)(N()),SEND_LOGS("ChatHandler: bulk handle error")}):Promise.resolve()).then(()=>{i.add(o,{merge:!0}),H.forEach(e=>{var{id:t}=e,a=(0,s.default)(e,["id"]),r=i.get(t);r&&r.set(a)}),V.forEach(e=>e.delete())})}if("leave"===t.cmd)t.gids.forEach((function(e){var t=i.get(e);t&&(0,g.localExitGroup)(t)}));else{if("preempt"===t.cmd){var Y=Promise.resolve();b.default.supportsFeature(b.default.F.MD_BACKEND);var q=(0,v.getBridge)();return Y.then(()=>q.sendAndReceive("chat_collection","add",{things:t.response,options:{merge:!0}})).then(()=>{f.default.platform!==f.PLATFORMS.IPHONE&&f.default.platform!==f.PLATFORMS.SMBI||((0,l.default)(t.response)?q.fireAndForget("msg_collection","trigger",{name:h.default.COLLECTION_HAS_SYNCED}):setTimeout(()=>{q.fireAndForget("msg_collection","trigger",{name:h.default.COLLECTION_HAS_SYNCED})},2500)),q.fireAndForget("chat_collection","trigger",{name:h.default.COLLECTION_HAS_SYNCED,args:{count:t.response.length,binarySize:t.binarySize}})})}if("action"===t.cmd){var z=t.id,Q=t.data;if("create"!==Q[0]&&"introduce"!==Q[0]){if(Q.length<3)return void __LOG__(3)(O(),JSON.stringify(t));var J,X=t.data[0],Z="unknown"===t.data[1]?null:t.data[1];return J=X===E.GROUP_ACTIONS.RESTRICT||X===E.GROUP_ACTIONS.ANNOUNCE||X===E.GROUP_ACTIONS.NO_FORWARD?{action:X,value:t.data[2]}:X===E.GROUP_ACTIONS.EPHEMERAL?{action:X,duration:t.data[2]}:(0,n.default)({action:X},t.data[2]),(0,j.handleGroupActionWap)({chatId:t.id,author:Z},J)}var $=Q[1],ee=Q[2],te=[...(0,d.default)(ee.admins,e=>({id:e,isAdmin:!0})),...(0,d.default)(ee.superadmins||[],e=>({id:e,isAdmin:!0,isSuperAdmin:!0})),...(0,d.default)(ee.regulars,e=>({id:e,isAdmin:!1}))];_.default.add({id:z,creation:ee.creation,owner:$,participants:te,stale:!1,desc:ee.desc,descId:ee.descId,descTime:ee.descTime,descOwner:ee.descOwner,restrict:!!ee.restrict,announce:!!ee.announce},{merge:!0}),p.default.add({id:z,name:ee.subject},{merge:!0});var ae=i.get(z);if(!ae)return;var ie=ae.msgs.last();if(!ie)return;if("gp2"===ie.type&&"add"===ie.subtype){var re=(0,m.getMaybeMeUser)();_.default.trigger("group_participant_change_".concat(re.toString()),z),T.default.equals(ie.recipients[0],re)&&u.default.alertNewMsg(ie)}}else __LOG__(3)(P(),JSON.stringify(t))}};var s=r(a("dagbcgeifg")),n=r(a("cdfdfciehj")),o=r(a("dfadhaifh")),d=r(a("dbafiicfja")),l=r(a("bebajedcaf")),c=r(a("bbfdjfific")),u=r(a("ccbgfecegc")),f=i(a("bjigbaghc")),h=r(a("hgigjbgie")),p=r(a("dhigahgdjb")),g=a("bafdehfigc"),m=a("ddbdgibbbi"),b=r(a("bhbdiadfhj")),v=a("cbcjbjhaib"),_=r(a("djaadchjch")),E=a("cicdfhbegf"),j=a("gcabcaica"),y=r(a("bdjjabfecc")),S=a("cefjgcjhgf"),C=r(a("cffajefeag")),M=a("ffjiicch"),T=r(a("jccfhaecf"));function P(){var e=(0,o.default)(["model:chat: unknown payload: ",""]);return P=function(){return e},e}function O(){var e=(0,o.default)(["model:chat: incorrect length of payload data for action ",""]);return O=function(){return e},e}function N(){var e=(0,o.default)(["Assertion failed!"]);return N=function(){return e},e}function I(){var e=(0,o.default)(["model:Chat:handle deleted chat for ",""]);return I=function(){return e},e}function A(){var e=(0,o.default)(["model:Chat:handle unstarred chat: ",""]);return A=function(){return e},e}function w(){var e=(0,o.default)(["model:Chat:handle cleared chat:",""]);return w=function(){return e},e}function R(){var e=(0,o.default)(["model:Chat:handle:messages:",""]);return R=function(){return e},e}function D(){var e=(0,o.default)(["Model:chat:handle unknown ",""]);return D=function(){return e},e}function L(){var e=(0,o.default)(["Model:chat:handle:unstar:all"]);return L=function(){return e},e}function k(){var e=(0,o.default)(["Model:chat:handle:unarchive:all"]);return k=function(){return e},e}function x(){var e=(0,o.default)(["Model:chat:handle:archive:all"]);return x=function(){return e},e}function G(){var e=(0,o.default)(["Model:chat:handle:delete:all"]);return G=function(){return e},e}function U(){var e=(0,o.default)(["Model:chat:handle:clear:all before:"," kind:",""]);return U=function(){return e},e}function F(){var e=(0,o.default)(["Model:chat:handle received junk chat record: ",""]);return F=function(){return e},e}},beafiaiabh:function(e,t){e.exports={container:"_2OndO",isLinkMsg:"_2AILt",icon:"_dcZ1",text:"_3pcwJ",ctwaContainer:"_3eagC"}},beagfhhiea:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgjbjefebj")),s=i(a("ceggedffg")),n=i(a("djegeegcbf")),o=i(a("dfbhcehadj")),d={"(y)":"👍","(n)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-|":"😐",":-\\":"😕",":-d":"😀",":-*":"😘","<3":"❤","^_^":"😁",">_<":"😆",";-)":"😉"},l=Object.keys(d).map(r.default).join("|"),c=new RegExp("(^|".concat("\\s|```|[*_~]",")((?:").concat(l,")+)(?=$|").concat("\\s|```|[*_~]",")"),"ig"),u=new RegExp("(".concat(l,")"),"i"),f=(0,s.default)(c,2,(function(e){var[,t]=e;t&&(e.index+=t.length,e[0]=e[0].slice(t.length));return e}));class h extends f{static mutate(e){return e.split(u).map(e=>{var t=d[e.toLowerCase()];return t?n.default.getSkinToneBase(t)&&o.default.getVariant(t)||t:e}).join("")}}t.default=h,h.fragment=!0,h.mutates=!0},beahjdfigf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ccicaaeiaa")),s=(e,t)=>(0,r.default)(e.contact,t.contact);t.default=s},bebbbiiie:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({hostname:e,type:t,encFilehash:a,query:i}){var o=n[t],d=new URL("https://".concat(e).concat(o,"/").concat((0,r.default)(a))),l=new s.default(i).toString();l&&(l="?".concat(l));return"https://".concat(d.host).concat(d.pathname).concat(l)};var r=i(a("ebfbbaecji")),s=i(a("ddfjdghbjb")),n={audio:"/mms/audio",document:"/mms/document",gif:"/mms/gif",image:"/mms/image",ppic:"/pps/photo",product:"/mms/image",ptt:"/mms/ptt",sticker:"/mms/sticker","thumbnail-document":"/mms/thumbnail-document",video:"/mms/video","md-app-state":"/mms/md-app-state","product-catalog-image":"/product/image"}},bebbiadjb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"IdbMetaInfoTable",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"metaInfoPrimaryIndex",{enumerable:!0,get:function(){return o.metaInfoPrimaryIndex}}),Object.defineProperty(t,"metaInfoDateIndex",{enumerable:!0,get:function(){return o.metaInfoDateIndex}}),Object.defineProperty(t,"metaInfoSizeIndex",{enumerable:!0,get:function(){return o.metaInfoSizeIndex}}),Object.defineProperty(t,"IdbArrayBufferTable",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"storePrimaryIndex",{enumerable:!0,get:function(){return d.storePrimaryIndex}}),Object.defineProperty(t,"storeDataIndex",{enumerable:!0,get:function(){return d.storeDataIndex}}),t.initialize=void 0;var s=r(a("fhfbcdaib")),n=r(a("bddiehgeji")),o=i(a("baghacicdd")),d=i(a("bbdgfjajfg")),l=(0,s.default)(()=>n.default.initialize());t.initialize=l},bebhiegfdj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("hgigjbgie")),o=i(a("hhcjfgifh")),d=i(a("gfebgebbi")),l=i(a("bdjjabfecc")),c=i(a("bbhhhbhiic")),u=i(a("ecdebjcgfa")),f=i(a("dcdbbhicce")),h=i(a("dgdcjccfdi"));class p extends s.PureComponent{getAddressString(e){var{streetAddress:t,localizedCityName:a,zipCode:i}=e;return t&&a&&i?l.default.t(326,{streetAddress:t,city:a,zipCode:i}):t&&a?l.default.t(325,{streetAddress:t,city:a}):t}render(){var e,t,a,i,{businessProfile:r,contact:l}=this.props,{id:f,formattedName:p,verifiedLevel:g}=l;if(r.stale)a=s.createElement("div",null,s.createElement(u.default,{size:20,stroke:5}));else{var m=r.structuredAddress&&this.getAddressString(r.structuredAddress);m&&(e=s.createElement("div",{className:c.default.address},s.createElement(d.default,{selectable:!0,direction:"auto",text:m}))),r.description&&(t=s.createElement("div",{className:c.default.description,title:r.description},s.createElement(d.default,{selectable:!0,direction:"auto",text:r.description})))}return g===n.default.VERIFIED_LEVEL.HIGH&&(i=s.createElement("div",{className:c.default.badge},s.createElement(h.default,{name:"psa-verified"}))),s.createElement("div",{className:c.default.container,onClick:this.props.onClick},s.createElement("div",{className:c.default.image},s.createElement(o.default,{id:f,size:55}),i),s.createElement("div",{className:c.default.body},s.createElement("div",{className:c.default.name},p),a,e,t))}}p.CONCERNS={contact:["id","verifiedLevel","formattedName"],businessProfile:["stale","structuredAddress","description"]};var g=(0,f.default)(p,p.CONCERNS);t.default=g},becciggfeb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}},becefacdff:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgcgbfbffj")),s=i(a("cbcbdjdah"));class n extends r.default{constructor(...e){super(...e),this.hasProductBefore=!0}delete(){super.delete(),this.stopListening(),this.reset()}queryProducts(e){var t=e.msgs;return this.hasProductBefore=!1,this.add(t.filter(e=>null!=e.asProduct),{at:0}),Promise.resolve()}}t.default=n,n.model=s.default,n.comparator=(e,t)=>e.t-t.t},becgieeigd:function(e,t){e.exports={videoFloater:"_33VJj",bgImg:"_1xEGV",bottomLayer:"_1He5p"}},becgjbhfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerItem=void 0;var s=r(a("ddhijeejag")),n=i(a("ddajbaceej")),o=i(a("dhfbfehaef")),d=i(a("dcdbbhicce")),l=a("cjfegjecaj"),c=i(a("icacibbhd")),u=i(a("diajfdfcgf"));class f extends s.PureComponent{constructor(...e){super(...e),this._downloadMedia=()=>this.props.sticker.downloadMedia(),this._handleClick=e=>{var t=this.props.onClick;t&&t((0,l.unproxy)(this.props.sticker),e)},this._handleEnterKey=e=>{var t=this.props.onEnter;t&&t((0,l.unproxy)(this.props.sticker),e)},this._setRefContainer=e=>{this._refContainer=e}}componentDidMount(){this._downloadMedia()}focus(){this._refContainer&&(this.hasFocus()||n.default.focus(this._refContainer))}getOffsetTop(){return this._refContainer?this._refContainer.offsetTop:0}hasFocus(){return!!this._refContainer&&this._refContainer===document.activeElement}render(){var e=this.props.sticker;return s.createElement(o.default,{onRef:this._setRefContainer,className:u.default.container,handlers:{enter:this._handleEnterKey}},s.createElement("div",{className:u.default.border},s.createElement(c.default,{mediaData:e.mediaData,onClick:this._handleClick,theme:"stickerPanel",loopAnimation:!0,downloadMedia:this._downloadMedia})))}}t.StickerItem=f,f.CONCERNS={sticker:["id","mediaData"]};var h=(0,d.default)(f,f.CONCERNS);t.default=class extends h{focus(){this.getComponent().focus()}getOffsetTop(){return this.getComponent().getOffsetTop()}hasFocus(){return this.getComponent().hasFocus()}}},bechdajic:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMERCE_EXPERIENCE_TYPES=t.BUSINESS_HOUR_MODES=t.DAYS_OF_WEEK=void 0;t.DAYS_OF_WEEK=["sun","mon","tue","wed","thu","fri","sat"];t.BUSINESS_HOUR_MODES={OPEN_24H:"open_24h",SPECIFIC_HOURS:"specific_hours",APPOINTMENT_ONLY:"appointment_only"};var i=a("bjgidhichc")({CATALOG:"catalog",NONE:"none",SHOP:"shop"});t.COMMERCE_EXPERIENCE_TYPES=i},bedcejaea:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgjbjefebj")),n=i(a("ddhijeejag")),o=r(a("cefgfgdhj")),d=r(a("beacbddhci")),l=r(a("bdjjabfecc")),c=r(a("gjhhbhigc"));class u extends c.default{static match(e,t){if(!t)return[];var{terms:a,boundary:i=!1,ignoreDiacritics:r=!1}=t;if(!a.length)return[];var n=r&&l.default.isLatinAlphabetLanguage(e)&&a.every(e=>l.default.isLatinAlphabetLanguage(e))&&!l.default.isRTL(),d=n?l.default.removeAccents(e):e;return(0,o.default)(d,function(e,t,a){var i=(a?e.map(e=>l.default.removeAccents(e)):e).map(s.default).join("|");if(l.default.isRTL())return new RegExp("".concat(t?"(?:^|\\b)":"","(\\S+)?(").concat(i,")(\\S+)?"),"ig");return new RegExp("".concat(t?"(?:^|\\b)":"","(").concat(i,")"),"ig")}(a,i,n))}}t.default=u,u.jsx=(e,t,{selectable:a})=>n.createElement(d.default,{selectable:a},e)},beddbdijab:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,s.default)(c.default.closeButton,f.default.v3_x,{});return n.createElement("div",{className:f.default.modalBackground,"data-animate-status-v3-modal-background":!0},n.createElement("div",{className:f.default.mainWrapper},n.createElement("div",{className:u.default.listPanel},n.createElement("div",{className:u.default.panelHeader},n.createElement("div",{className:u.default.headerButtonsPrimary}),n.createElement("div",{className:u.default.headerText},n.createElement("span",{className:u.default.primaryHeaderText},d.default.t(1270))),n.createElement("div",{className:u.default.headerButtonsSecondary}))),n.createElement("div",{className:h.default.outStatusPanel},n.createElement(l.default,e)),n.createElement("button",{className:t,onClick:()=>o.default.closeModalMedia()},n.createElement(p.default,{name:"x-viewer"}))))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bdjjabfecc")),l=r(a("ecffbdieca")),c=r(a("bfjaedbeii")),u=r(a("dfaibafaje")),f=r(a("caghhccge")),h=r(a("cjeffdedac")),p=r(a("dgdcjccfdi"))},bedfbecdgd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=t.SelectionListener=t.WhileFocusedListener=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("ebddggeaib")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{constructor(...e){super(...e),this.scrollMsg=(e,t)=>{this.props.parent.scrollMsg(e,t)},this.flashFocusedMsg=()=>{this.props.parent.highlight()}}componentDidMount(){this.props.listeners.add(n.default,"scroll_to_focused_msg",this.scrollMsg),this.props.listeners.add(n.default,"flash_focused_msg",this.flashFocusedMsg)}render(){return null}}var c=(0,o.default)(l);t.WhileFocusedListener=c;class u extends s.PureComponent{constructor(...e){super(...e),this.onSelectChange=e=>{this.props.parent.onSelectChange(e)}}componentDidMount(){var{listeners:e,msgId:t,selectedMessages:a}=this.props;e.add(a,t,this.onSelectChange)}componentDidUpdate(e){var{listeners:t,msgId:a,selectedMessages:i}=this.props;e.selectedMessages!==i&&(t.remove(e.selectedMessages,a,this.onSelectChange),t.add(i,a,this.onSelectChange))}render(){return null}}var f=(0,o.default)(u);t.SelectionListener=f;class h extends s.PureComponent{componentDidUpdate(){this.props.parent.forceUpdate()}render(){return null}}h.CONCERNS={mediaData:["isGif"]};var p=(0,d.default)(h,h.CONCERNS);t.MediaListener=p},beeafhbcfh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PANELS=void 0;t.PANELS={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"}},beecadabde:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("bjhaecbifc");class r extends((0,i.customError)("ContactBlocked")){constructor(e,t){super(e),this.contact=t}}t.default=r},beeecgdjce:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))return __LOG__(4,!1,new Error)(g()),void SEND_LOGS("ws2:invalid-msg");var t=e.shift();switch(t){case"Blocklist":return void(0,s.default)(e);case"Contact":return void(0,l.default)(e);case"Props":case"ServerProps":return void a("bfgbdiffgd").default.handle(e);case"Location":case"LiveLocation":return void a("cdcijfdgje").default.handle(e);case"Chat":return void(0,n.default)(e);case"Msg":return void(0,c.default)(e);case"Stream":return void(0,h.default)(e);case"Conn":return void(0,d.default)(e);case"Cmd":return void(0,o.default)(e);case"Presence":return void(0,f.default)(e);case"MsgInfo":return void(0,u.default)(e);case"BusinessProfile":return void a("ejiicdbii").default.handle(e);case"GroupMetadata":return void a("djaadchjch").default.handle(e);case"Label":return void a("bijffg").default.handle(e);case"QuickReply":return void a("bechejbabh").default.handle(e);case"Call":return void a("biaifggagf").default.handle(e);case"Mute":return void a("dagdiahdfi").default.handle(e);case"Status":return void a("gbbacfeci").default.handle(e);case"StatusV3":return void a("bgcdajbhif").default.handle(e);default:__LOG__(4,!1,new Error)(p(),t),SEND_LOGS("ws2: Invalid type received")}};var r=i(a("dfadhaifh")),s=i(a("difacfecfb")),n=i(a("beafbeighe")),o=i(a("bffejifief")),d=i(a("cjgfiijjee")),l=i(a("bjddijedhj")),c=i(a("dgicehhija")),u=i(a("ceegagjdfb")),f=i(a("chjfbhjejb")),h=i(a("bgebiidch"));function p(){var e=(0,r.default)(["ws2: Invalid type received: ",""]);return p=function(){return e},e}function g(){var e=(0,r.default)(["ws2: Invalid message, not an array"]);return g=function(){return e},e}},befhhcfcij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hhcjfgifh")),d=r(a("gfebgebbi")),l=a("gaifbabbj"),c=r(a("cjdeegaibc"));class u extends n.PureComponent{render(){var{theme:e,contact:{id:t,formattedName:a,isMyContact:i,notifyName:r},onMouseDown:u,onMouseUp:f,onMouseEnter:h,term:p,selected:g}=this.props,m=l.Configuration.Search({terms:p?[p]:[],boundary:!0});return n.createElement("div",{className:(0,s.default)(c.default.mentionsResult,{[c.default.mediaCaption]:"mediaCaption"===e,[c.default.selected]:!0===g}),onMouseDown:u,onMouseUp:f,onMouseEnter:h},n.createElement("div",{className:c.default.resultImage},n.createElement(o.default,{id:t,size:32})),n.createElement("div",{className:c.default.textContact,dir:"auto"},n.createElement(d.default,{text:a,formatters:m})),n.createElement("div",{className:c.default.textPushname,dir:"auto"},!i&&r?n.createElement(d.default,{text:"~".concat(r),formatters:m}):null))}}t.default=u},befidafejc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("dagbcgeifg")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("cdbddjfbcd")),c=r(a("diaeiagaff")),u=r(a("bbhahjgijh")),f=r(a("ccbgfecegc")),h=r(a("hgigjbgie")),p=r(a("ddchghhebj")),g=a("bgddggdhc"),m=r(a("faeabjacf")),b=a("dhegcfddhg"),v=r(a("bdjjabfecc")),_=r(a("bdfaehgedi")),E=r(a("ebddggeaib")),j=r(a("dafibhiijf")),y=a("edagdaii"),S=r(a("biecbbiiee")),C=r(a("eacjfeedha")),M=r(a("ccbcihdfhg"));function T(){var e=(0,s.default)(["getMsgVisibility on invalid ref: ",""]);return T=function(){return e},e}class P extends d.Component{constructor(e){super(e),this.renderedMsgs={},this.renderedDateMarkers={},this.renderedAlbums={},this.renderedMsgToAlbum={},this._refUnread=d.createRef(),this._getRefUnread=()=>this._refUnread.current,this.handleRefreshMessages=()=>{this.forceUpdate()},this.handleOpenMediaViewerForAlbumMedia=e=>{var t=this.renderedMsgToAlbum[e.id.toString()];if(t&&!t.isGroupedSticker()){var a=t.props.msgs,i=new Set((a||[]).map(e=>e.id.toString()));this.renderedMsgToAlbum[e.id.toString()]&&f.default.mediaViewerModal({msg:e,getZoomNode:()=>{var a=t.refAlbumComponents[e.id.toString()],i=(0,g.forbiddenFindDOMNode)(a);return i||null},highlightedMsgIds:i})}},this.onMsgKeyChange=({newKey:e,oldKey:t})=>{var a=e.toString(),i=t.toString(),r=this.renderedMsgs[i];r&&(delete this.renderedMsgs[i],this.renderedMsgs[a]=r)},this.onMsgRendered=(e,t)=>{e?this.renderedMsgs[t]=e:delete this.renderedMsgs[t]},this.rowRenderers={msg:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e,t,a,i)=>{var r,s=this.props;r=i&&!a?y.MsgPosition.FRONT:i&&a?y.MsgPosition.MID:!i&&a?y.MsgPosition.END:y.MsgPosition.SINGLE;var n=e.type===h.default.MSG_TYPE.IMAGE||e.type===h.default.MSG_TYPE.VIDEO||e.type===h.default.MSG_TYPE.AUDIO;return d.createElement(M.default,{key:"msg-"+e.id.toString(),ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(t=>{var a={};(0,b.GetRef)("wrapper",a)(t),this.onMsgRendered(a.wrapper,e.id.toString())}),msg:e,displayType:h.default.DISP_TYPE.CONVERSATION,isMsgVisible:n?s.isMsgVisible:()=>{},selectable:s.selectable,selectedMessages:s.selectedMessages,onMessageSelect:s.onMessageSelect,position:r,isFocusedMsg:t,getSequentialMsg:this.props.getSequentialMsg,isFocusable:!0})}),album:(e,t,a,i,r,s)=>{var n,o=this.props;return n=i&&!a?y.MsgPosition.FRONT:i&&a?y.MsgPosition.MID:!i&&a?y.MsgPosition.END:y.MsgPosition.SINGLE,d.createElement(c.default,{msgs:e,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(a=>{this.onAlbumRendered(a,t,e)}),key:"album-"+t,position:n,isMsgVisible:o.isMsgVisible,selectable:o.selectable,selectedMessages:o.selectedMessages,onMessageSelect:o.onMessageSelect,albumId:t,isFocusedAlbum:r,focusedMsgIndex:s,isFocusable:!0})},date:(e,t)=>{var{isLoadingEarlierMsgs:a}=this.props;return d.createElement(p.default,{ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.onDateMarkerRendered(t,e)}),key:"msg-"+e.id.toString()+"-date",timestamp:e.t,isFocusable:!a||0!==t})},unread:()=>d.createElement(C.default,{key:"msg-unread",count:this.props.unreadCount,textContainerRef:this._refUnread})},this._openMsgContextMenu=e=>{if(e.target instanceof HTMLElement){var t,a,i=null===(t=e.target)||void 0===t?void 0:t.dataset.id,r=this.renderedMsgs[i]||this.renderedAlbums[i];null==r||null===(a=r.openContextMenu)||void 0===a||a.call(r)}},this._handleBeforeEnd=()=>f.default.openChatBottom(this.props.chat).then(()=>{});var{msgs:t}=e;this.latestMsgWhenChatOpen=t.length>0?t[t.length-1]:null}shouldComponentUpdate(e){var{msgs:t}=e,a=(0,n.default)(e,["msgs"]),i=this.props,{msgs:r}=i,s=(0,n.default)(i,["msgs"]);return!(0,l.default)(a,s)||!(0,u.default)(t,r)}UNSAFE_componentWillUpdate(e){var t=(0,g.forbiddenAssertDOMNode)(this).parentNode,a=e.msgs.find(e=>this.renderedMsgs.hasOwnProperty(e.id));if(null!=a){var i=a.id.toString(),r=(0,g.forbiddenAssertDOMNode)(this.getMsgWrapperRef(i));this._beforeRenderScrollInfo={commonMessageId:i,commonMessageTop:r.offsetTop-t.scrollTop}}else this._beforeRenderScrollInfo=null}componentDidMount(){this.props.listeners.add(S.default,"change:msgKey",this.onMsgKeyChange),this.props.listeners.add(f.default,"refresh_messages",this.handleRefreshMessages),this.props.listeners.add(f.default,"open_media_viewer_for_album_media",this.handleOpenMediaViewerForAlbumMedia)}componentDidUpdate(){var e=(0,g.forbiddenAssertDOMNode)(this).parentNode,t=this._beforeRenderScrollInfo;if(null!=t){var{commonMessageId:a,commonMessageTop:i}=t,r=(0,g.forbiddenAssertDOMNode)(this.getMsgWrapperRef(a));e.scrollTop=r.offsetTop-i}}getMsgVisibility(e){var t=(0,g.forbiddenAssertDOMNode)(this).parentNode,a=t.scrollTop,i=a+t.clientHeight,r=(0,g.forbiddenFindDOMNode)(e);return r?r.offsetTop+r.clientHeight<=a?{visibility:h.default.VISIBILITY.ABOVE,offset:r.offsetTop-a}:r.offsetTop>=i?{visibility:h.default.VISIBILITY.BELOW,offset:r.offsetTop-a}:{visibility:h.default.VISIBILITY.VISIBLE,offset:r.offsetTop-a}:(__LOG__(3)(T(),e),{visibility:h.default.VISIBILITY.VISIBLE,offset:0})}getMsgWrapperRef(e){return this.renderedMsgs[e]||this.renderedMsgToAlbum[e]}getMsgComponentRef(e){return this.renderedMsgs[e]?this.renderedMsgs[e].refMsgComponent&&this.renderedMsgs[e].refMsgComponent.getRef():this.renderedMsgToAlbum[e]?this.renderedMsgToAlbum[e].refAlbumComponents[e]&&this.renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}getDateMarkerRef(e){return this.renderedDateMarkers[e]}onDateMarkerRendered(e,t){t?this.renderedDateMarkers[e]=t:delete this.renderedDateMarkers[e]}onAlbumRendered(e,t,a){e?(this.renderedAlbums[t]=e,a.forEach(t=>{this.renderedMsgToAlbum[t.id.toString()]=e})):delete this.renderedAlbums[t]}render(){var e,t,{msgs:a,focusedMsgCtx:i,unreadCount:r}=this.props;i&&(e=i.msg,i.isUnreadDivider&&r>0&&(t=i.msg));var s=(0,o.default)(j.default.messageList,{[j.default.messageListSelectable]:this.props.selectable}),n={["".concat(v.default.LR("right","left"))]:this._openMsgContextMenu},l=v.default.LR(v.default.t(4),v.default.t(5));return d.createElement(_.default,{dataTab:h.default.TAB_ORDERS.MESSAGE_LIST,className:s,getPriorityFocusItem:this._getRefUnread,onBeforeEnd:this._handleBeforeEnd,handlers:n,role:"region",ariaLabel:l},(0,m.default)(this.rowRenderers,a,e,t,r,this.latestMsgWhenChatOpen))}}var O=(0,E.default)(P);t.default=O},behchjjbbf:function(e,t){e.exports={icon:"_16wu0",success:"_5veUl",failed:"_2jlDW",waiting:"_3eTel",processing:"_3PXFB",iconSymbol:"_7rgjX",IDR:"_3s-8K",idr:"_3s-8K",compact:"_2mHEI"}},behibfihad:function(e,t){e.exports={attachMenuContainer:"eBZuM",iconsItem:"_32yhp",iconImage:"wnDP3"}},beiahcfigb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"#️⃣":1,"":1,"*️⃣":2,"0️⃣":3,"":3,"1️⃣":4,"":4,"2️⃣":5,"":5,"3️⃣":6,"":6,"4️⃣":7,"":7,"5️⃣":8,"":8,"6️⃣":9,"":9,"7️⃣":10,"":10,"8️⃣":11,"":11,"9️⃣":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":69,"":79,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":95,"":96,"":97,"":98,"":99,"":102,"":112,"":113,"":119,"":120,"":121,"":124,"":130,"":133,"":134,"":136,"":152,"":153,"":154,"":156,"":158,"":164,"":175,"":188,"":189,"":190,"":193,"":195,"":196,"":197,"":198,"":200,"":204,"":206,"":209,"":210,"":211,"":214,"":215,"":217,"":218,"":219,"":220,"":222,"":223,"":224,"":225,"":226,"":228,"":230,"":231,"":233,"":235,"":236,"":285,"":295,"":308,"":316,"":318,"":352,"":356,"":364,"":433,"":477,"🇺🇲":477,"":495,"":496,"":497,"":498,"":500,"":502,"":503,"":504,"":505,"":506,"":507,"":508,"":510,"":512,"":513,"":514,"":515,"":516,"":517,"":518,"":520,"":535,"":541,"":560,"":561,"":563,"":564,"":565,"":566,"":567,"":570,"":572,"":573,"":574,"":575,"":577,"":578,"":581,"":582,"":586,"":591,"":592,"":596,"":597,"":598,"":599,"":600,"":601,"":602,"":603,"":605,"":606,"":607,"":610,"":611,"":620,"":621,"":622,"":623,"":624,"":625,"":626,"":628,"":630,"":631,"":636,"":637,"":638,"":639,"":640,"":641,"":647,"":648,"":649,"":650,"":653,"":654,"":655,"":656,"":657,"":658,"":659,"":660,"":669,"":670,"":672,"":673,"":674,"":675,"":676,"":677,"":679,"":680,"":683,"":684,"":685,"":689,"":690,"":691,"":692,"":694,"":698,"":699,"":700,"":701,"":703,"":716,"":730,"":737,"":739,"":796,"":798,"":799,"":801,"":802,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":811,"":812,"🇽🇪":818,"🇽🇸":819,"🇽🇼":820,"🇽🇹":821,"":846,"":847,"":850,"":851,"":853,"":857,"":858,"":859,"":860,"":861,"":865,"":866,"":870,"":872,"":873,"":874,"":877,"":878,"":879,"":880,"":881,"":882,"":883,"":885,"":886,"":887,"":888,"":889,"":890,"":891,"":892,"":893,"":899,"":902,"":908,"":914,"":916,"":922,"":928,"":934,"":940,"":946,"":952,"":958,"":964,"":970,"":976,"":982,"":983,"":985,"":986,"":988,"":989,"":990,"":993,"":996,"":997,"":998,"":999,"":1e3,"":1003,"":1009,"":1015,"":1192,"":1387,"":1459,"":1477,"":1483,"":1489,"":1507,"":1515,"":1516,"":1522,"":1523,"":1524,"":1525,"":1550,"":1556,"":1557,"":1587,"":1588,"":1589,"":1590,"":1592,"":1593,"":1594,"":1595,"":1596,"":1597,"":1598,"":1599,"":1602,"":1603,"":1604,"":1605,"":1606,"":1607,"":1608,"":1610,"":1612,"":1613,"":1614,"":1615,"":1617,"":1619,"":1620,"":1621,"":1632,"":1633,"":1641,"":1642,"":1643,"":1644,"":1645,"":1647,"":1648,"":1670,"":1677,"":1680,"":1681,"":1682,"":1683,"":1689,"":1691,"":1694,"":1697,"":1698,"":1699,"":1700,"":1702,"":1703,"":1706,"":1707,"":1708,"":1721,"":1724,"":1728,"":1729,"":1730,"":1731,"":1740,"":1741,"":1748,"":1751,"":1754,"":1758,"":1759,"":1760,"":1761,"":1762,"":1763,"":1779,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1878,"":1879,"":1880,"":1884,"":1885,"":1886,"":1887,"":1892,"":1893,"":1895,"":1896,"":1898,"":1901,"":1902,"":1903,"":1905,"":1907,"":1909,"":1911,"":1912,"":1913,"":1915,"":1916,"":1917,"":1918,"":1920,"":1923,"":1925,"":1928,"":1931,"":1932,"":1933,"":1934,"":1938,"":2003,"":2033,"":2039,"":2042,"":2043,"":2044,"":2046,"":2048,"":2051,"":2054,"":2056,"":2057,"":2058,"":2060,"":2062,"":2064,"":2065,"":2073,"":2087,"":2088,"":2090,"":2095,"":2096,"":2101,"":2129,"":2144,"":2145,"":2146,"":2147,"":2148,"":2149,"":2151,"":1406,"":1417,"":1448,"":1466,"":1496,"":1526,"":1539,"":1563,"":1575,"":1952,"":1964,"":1977}},beiejihihf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};t.default=i},beifejbdga:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(1===e.length)return e;var a,i=[];for(;a=e.pop();){for(var[r,,,s,n]=a,[{nestable:o,compatibility:d},,l]=t[n],c=!0,{length:u}=i,f=u-1;f>=0;--f){var[,,h,p,g]=i[f];if(r>p)break;var[{mutates:m,format:b,compatibility:v},,_]=t[g];if(s>h){if(l<_&&i.splice(f,1))continue;c=!1;break}if(m&&!(c=!1))break;if(d)break;if((o||v||!(l<_)||!i.splice(f,1))&&(!d&&!b)){c=!1;break}}c&&i.push(a)}return i}},beifghicf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("djaiggcdb"),o=i(a("bcggadeggg")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{constructor(...e){super(...e),this.onLinkClick=()=>{var e=this.props.msg.matchedText;(0,n.openExternalLink)(e)}}render(){var{msg:e}=this.props;return s.createElement(o.default,{title:e.title,description:e.description,thumbnailJpeg:e.thumbnail,onClick:this.onLinkClick,isSentByMe:e.isSentByMe,star:e.star})}}l.CONCERNS={msg:["thumbnail","title","description","matchedText","isSentByMe","star"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},beiicjadi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PlayerState=void 0;var s=r(a("cdfdfciehj")),n=r(a("dhgeffcgbg")),o=i(a("ddhijeejag")),d=r(a("cehheibgje"));function l(e){return(0,s.default)((0,s.default)({},e),{},{playerVars:(0,s.default)((0,s.default)({},e.playerVars),{},{autoplay:0,start:0,end:0})})}var c={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};t.PlayerState=c;class u extends o.Component{constructor(...e){super(...e),this.listeners=[],this.onPlayerReady=e=>this.props.onReady(e),this.onPlayerError=e=>this.props.onError(e),this.onPlayerStateChange=e=>{switch(this.props.onStateChange(e),e.data){case c.ENDED:this.props.onEnd(e);break;case c.PLAYING:this.props.onPlay(e);break;case c.PAUSED:this.props.onPause(e)}},this.onPlayerPlaybackRateChange=e=>this.props.onPlaybackRateChange(e),this.onPlayerPlaybackQualityChange=e=>this.props.onPlaybackQualityChange(e),this.createPlayer=()=>{var e=(0,s.default)((0,s.default)({},this.props.opts),{},{videoId:this.props.videoId});this.internalPlayer=(0,d.default)(this.container,e),this.listeners.push(this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange))},this.resetPlayer=()=>this.internalPlayer.destroy().then(this.createPlayer),this.updatePlayer=()=>{var e=this.internalPlayer.getIframe();this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.className?e.setAttribute("class",this.props.className):e.removeAttribute("class")},this.updateVideo=()=>{if(null!=this.props.videoId){var e,t,a=!1;"playerVars"in this.props.opts&&(a=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(e=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(t=this.props.opts.playerVars.end));var i={videoId:this.props.videoId,startSeconds:e,endSeconds:t};a?this.internalPlayer.loadVideoById(i):this.internalPlayer.cueVideoById(i)}else this.internalPlayer.stopVideo()},this.refContainer=e=>{this.container=e}}componentDidMount(){this.createPlayer()}componentDidUpdate(e){(function(e,t){return e.id===t.id||e.className===t.className})(e,this.props)&&this.updatePlayer(),function(e,t){return!(0,n.default)(l(e.opts),l(t.opts))}(e,this.props)&&this.resetPlayer(),function(e,t){if(e.videoId!==t.videoId)return!0;var a=e.opts.playerVars||{},i=t.opts.playerVars||{};return a.start!==i.start||a.end!==i.end}(e,this.props)&&this.updateVideo()}componentWillUnmount(){this.listeners.forEach(e=>{this.internalPlayer.off(e)}),this.internalPlayer.destroy()}render(){return o.createElement("span",{className:this.props.containerClassName},o.createElement("div",{id:this.props.id,className:this.props.className,ref:this.refContainer}))}}u.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}};var f=u;t.default=f},bejbgaghc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteCode=function(e){return function(e){if(e.groupInviteCodePromise)return e.groupInviteCodePromise;return e.groupInviteCodePromise=(0,d.sendQueryGroupInviteCode)(e.id).then(t=>{e.inviteCode=t}).finally(()=>{e.groupInviteCodePromise=null})}((0,l.unproxy)(e))},t.revokeGroupInvite=function(e){return function(e){if(e.revokeGroupInvitePromise)return e.revokeGroupInvitePromise;return e.revokeGroupInvitePromise=(0,d.sendRevokeGroupInviteCode)(e.id).then(t=>{e.inviteCode=t}).catchType(n.ServerStatusCodeError,e=>{throw e}).catch(()=>{__LOG__(3)(c())}).finally(()=>{e.revokeGroupInvitePromise=null})}((0,l.unproxy)(e))},t.joinGroupViaInvite=function(e){return(0,d.sendJoinGroupViaInvite)(e).then(e=>o.default.supportsFeature(o.default.F.MD_BACKEND)?s.default.gadd(e):s.default.find(e))};var r=i(a("dfadhaifh")),s=i(a("dbdfbgehgj")),n=a("bgihjbde"),o=i(a("bhbdiadfhj")),d=a("bcbfebgcic"),l=a("cjfegjecaj");function c(){var e=(0,r.default)(["models:groupMetadata:participantCollection:revokeGroupInvite dropped"]);return c=function(){return e},e}},bejfdgbdag:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("bfefjaegfe")),n=a("cgffhfegce"),o=i(a("cegaagefjg"));function d(){var e=(0,r.default)(["Player::oggBlobToWAVBlob error: ",""]);return d=function(){return e},e}var l,c=0;t.default=class{constructor(e){this.oggBlob=e}generateBlob(){return this.oggBlobToWAVBlob(this.oggBlob,1)}oggBlobToWAVBlob(e,t=2){var a=t;return new Promise(t=>{var i=new o.default,r=[],s=[],u=(c++,l||new window.AudioContext),f={outputBufferSampleRate:u.sampleRate,bufferLength:4096};i.onmessage=e=>{if(null==e.data){for(var i=function(e){r.forEach(t=>{for(var a=t[e]||t[0],i=0;i<a.length;i++)s.push(a[i])})},n=0;n<a;n++)i(n);var o=this.encodeWAV(s,u,a),d=new Blob([o.readByteArray()],{type:"audio/wav"});0==--c&&l&&(l.close&&l.close(),l=void 0),t(d)}else r.push(e.data),a=r[0].length},i.postMessage({command:"decode-init",config:f}),(0,n.blobToArrayBuffer)(e).then(e=>{i.postMessage({command:"decode",pages:new Uint8Array(e)}),i.postMessage({command:"decode-done"})}).catch(e=>{__LOG__(3)(d(),e)})})}encodeWAV(e,t,a){var i=new s.default(void 0,!0);i.ensureCapacity(44+2*e.length),i.writeString("RIFF"),i.writeUint32(36+2*e.length),i.writeString("WAVE"),i.writeString("fmt "),i.writeUint32(16),i.writeUint16(1),i.writeUint16(a),i.writeUint32(t.sampleRate),i.writeUint32(t.sampleRate*a*2),i.writeUint16(2*a),i.writeUint16(16),i.writeString("data"),i.writeUint32(2*e.length);for(var r=0;r<e.length;r++){var n=Math.max(-1,Math.min(e[r],1));n*=n>0?32767:32768,i.writeInt16(Math.floor(n))}return i}}},bejgabcbdi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}},bfababcidc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.msgFindQuery=function(e,t,a,i){if(s.default.supportsFeature(s.default.F.MD_BACKEND))return(0,n.msgFindQuery)(e,t).catch(e=>{throw __LOG__(4,!0,new Error)(c()),SEND_LOGS("msgFindQueryMD failed"),e});return o.default.msgFindQuery(e,t,a,i)},t.msgFindByIds=function(e){if(s.default.supportsFeature(s.default.F.MD_BACKEND))return(0,n.getMsgsByMsgKey)(e).catch(e=>{throw __LOG__(4,!0,new Error)(l()),SEND_LOGS("msgFindByIdsMD failed"),e});return Promise.resolve([])},t.queryVcard=function(e){if(s.default.supportsFeature(s.default.F.MD_BACKEND))return(0,n.queryVcard)(e).catch(e=>{throw __LOG__(4,!0,new Error)(d()),SEND_LOGS("queryVcardMD failed"),e});return o.default.queryVcard(e)};var r=i(a("dfadhaifh")),s=i(a("bhbdiadfhj")),n=a("ecdfgaagba"),o=i(a("cfidecfjad"));function d(){var e=(0,r.default)(["queryVcard: failed to find vCard in storage"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["msgFindByIds: failed to find msg in storage"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["msgFindQuery: failed to find msg in storage"]);return c=function(){return e},e}},bfabbhgjga:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendRevoke=function(e,t){return function(e,t){if(!d.default.supportsFeature(d.default.F.REVOKE))return Promise.reject("revoke feature unsupported");var{id:a,t:i}=e;if(!a.fromMe)return Promise.reject("revoking received message");d.default.supportsFeature(d.default.F.MD_BACKEND);var r=new p.default({id:(0,m.default)(),remote:e.id.remote,fromMe:!0,participant:void 0}),s={id:r,to:a.remote,t:i,type:o.default.MSG_TYPE.PROTOCOL,subtype:"revoke",protocolMessageKey:a,clearMedia:!!t,local:!0};return(0,u.storeMessages)([s],e.chat.id).catch(e=>{throw __LOG__(4,!0,new Error)(S()),SEND_LOGS("storeMessages failed"),e}).then(()=>(0,b.sendMsgRecord)(new h.default(s))).then(t=>{if(t===v.SendMsgResult.OK){var a=Math.trunc(Date.now()/1e3-e.t);return new f.default.SendRevokeMessage({messageType:e.getWamMessageType(),messageMediaType:e.getWamMediaType(),revokeSendDelay:a}).commit(),C(e,r).then(()=>v.SendMsgResult.OK)}return Promise.resolve(v.SendMsgResult.ERROR_UNKNOWN)})}((0,_.unproxy)(e),t)},t.revoke=C;var s=r(a("dfadhaifh")),n=r(a("dcdehfghdi")),o=r(a("hgigjbgie")),d=r(a("bhbdiadfhj")),l=a("cefjgcjhgf"),c=i(a("cjahggceac")),u=a("ecdfgaagba"),f=r(a("bdcchebfge")),h=r(a("cbcbdjdah")),p=r(a("cffajefeag")),g=i(a("ccbagdhfbb")),m=r(a("cfejjfjhca")),b=a("bdgehigfig"),v=a("dgbddfjdhi"),_=a("cjfegjecaj"),E=r(a("jccfhaecf"));function j(){var e=(0,s.default)(["cannot fanout revoke: "," ",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["_revoke: failed to process revoke message"]);return y=function(){return e},e}function S(){var e=(0,s.default)(["_sendRevoke: failed to storeMessages into storage"]);return S=function(){return e},e}function C(e,t){return function(e,t){return(0,u.processRevokeMsg)(e.id.toString(),t.toString()).catch(e=>{throw __LOG__(4,!0,new Error)(y()),SEND_LOGS("removeMessagesFromHistory failed"),e}).then(()=>{g.typeIsMMS(e.type)&&c.deregisterMsg(e),e.chat&&e.chat.removeFromCollection(e);var i=e.getCollection(),r=e.id;e.msgChunk&&e.msgChunk.replaceId(r,t),i.replaceId(r,t);var s={id:t,type:o.default.MSG_TYPE.REVOKED,body:void 0,caption:void 0,clientUrl:void 0,loc:void 0,lat:void 0,lng:void 0,isLive:void 0,accuracy:void 0,speed:void 0,degrees:void 0,comment:void 0,sequence:void 0,shareDuration:void 0,finalLat:void 0,finalLng:void 0,finalAccuracy:void 0,finalThumbnail:void 0,finalSpeed:void 0,finalDegrees:void 0,finalTimeOffset:void 0,title:void 0,description:void 0,canonicalUrl:void 0,matchedText:void 0,thumbnail:void 0,richPreviewType:void 0,doNotPlayInline:void 0,quotedMsg:void 0,quotedStanzaID:void 0,quotedRemoteJid:void 0,quotedParticipant:void 0,mediaData:void 0,mentionedJidList:void 0,vcardList:void 0,star:!1};if(e.set(s),e.trigger("change:msgKey",{newKey:t,oldKey:r}),e.chat&&(e.chat.updateMediasCountOnMsg(e,!0),r.equals(e.chat.lastReceivedKey)&&(0,l.setLastReceivedKey)(e.chat.id,t).then(()=>{e.chat.lastReceivedKey=t}),e.chat.composeQuotedMsg===e&&(e.chat.composeQuotedMsg=null)),e.isLive&&a("cdcijfdgje").default.removeMsg(e),E.default.isBroadcast(r.remote)){var d=g.getBroadcastFanoutKeys(r),u=g.getBroadcastFanoutKeys(t);if(!d||!u||d.length!==u.length)return void __LOG__(2)(j(),String(d),String(u));(0,n.default)(d,u).forEach(e=>{var t=i.get(e[0]);t&&C(t,e[1])})}})}((0,_.unproxy)(e),t)}},bfajgaaffa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{auth:t,encFilehash:a,hostname:i,signal:r,type:f,onProgress:h}=e,p=(0,o.default)({auth:t,encFilehash:a,hostname:i,query:{resume:1},type:f});return e.encFilehash,e.type,__LOG__(2)(u()),(0,n.default)(p,{method:"post",signal:r,onProgress:h}).then(e=>{if(e.ok)return e.json();switch(e.status){case 401:throw new s.MMSUnauthorizedError("mmsGetUploadProgress",{url:p});case 404:throw new s.MediaNotFoundError("mmsGetUploadProgress",{url:p});default:throw new s.HttpStatusCodeError(e.status,"mmsGetUploadProgress",{url:p})}}).then(e=>{if(!e.resume)throw new s.HttpInvalidResponseError("mmsGetUploadProgress: missing resume",{url:p});return{directPath:e.direct_path,resume:e.resume,url:e.url}}).then(e=>(__LOG__(2)(c()),e)).catch(e=>{throw e instanceof s.MediaNotFoundError?__LOG__(2)(l()):__LOG__(3)(d()),e})};var r=i(a("dfadhaifh")),s=a("chfjcfcide"),n=i(a("dgjijbgdai")),o=i(a("dddaaacacd"));function d(){var e=(0,r.default)(["mmsGetUploadProgress: error"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["mmsGetUploadProgress: expected error"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["mmsGetUploadProgress: success"]);return c=function(){return e},e}function u(){var e=(0,r.default)(["mmsGetUploadProgress: start"]);return u=function(){return e},e}},bfbcijjhaj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cfadcbbiie")),d=r(a("hgigjbgie")),l=r(a("gfebgebbi")),c=i(a("cajijabhgb")),u=a("dgjddffcfg"),f=a("gaifbabbj"),h=r(a("bdjjabfecc")),p=r(a("ebddggeaib")),g=r(a("bdcchebfge")),m=r(a("dihddiefbh")),b=a("cdhhibdghc"),v=r(a("cabffcdjbg")),_=r(a("dhccahhefj")),E=r(a("ddccdajfbb")),j=a("cgeehhhabd"),y=r(a("bfgbdiffgd")),S=r(a("icacibbhd")),{CHAT:C,IMAGE:M,VIDEO:T,AUDIO:P,STICKER:O,PAYMENT:N,ORDER:I,LIST:A}=d.default.MSG_TYPE;class w extends n.PureComponent{constructor(...e){super(...e),this._handleDownloadMedia=()=>this.props.msg.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}componentDidMount(){var{listeners:e,msg:t}=this.props;t.type===O&&t.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER),t.isVcardOverMmsDocument&&(!t.mediaData||!t.mediaData.mediaBlob)&&t.isTrusted()&&t.size<=1024*y.default.mmsVcardAutodownloadSizeKb&&t.downloadMedia(!0,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER).checkpoint(this.props.rejectOnUnmount()).delay(0).catchType(c.Unmount,()=>{}),t.mediaData&&t.isVcardOverMmsDocument&&e.add(t.mediaData,"change:parsedVcards",()=>{this.forceUpdate()})}render(){var{msg:e,theme:t}=this.props,a=[];e.hasSymbol()&&e.type!==O&&e.type!==I&&a.push(n.createElement(m.default,{msg:e,key:"msg-symbol"})),e.type!==T&&e.type!==P||e.isGif||e.caption||a.push(o.default.durationStr(Number(e.duration))+" ");var i=f.Configuration.QuotedMention({mentions:e.mentionMap()});if(e.type===C||e.type===M||e.type===T||e.isFromTemplate){var r=e.isFromTemplate&&e.type===d.default.MSG_TYPE.CHAT&&e.title?"*"+e.title+"*\n"+e.body:(0,u.msgText)(e,!1);a.push(n.createElement(l.default,{formatters:i,className:"quoted-mention",text:r,textLimit:e.initialPageSize,direction:"auto",key:"status"}))}else if(O===e.type){var c="composeBox"===this.props.theme?"composeBoxQuoted":"quoted";a.push(n.createElement(S.default,{key:"sticker",mediaData:e.mediaData,theme:c,downloadMedia:this._handleDownloadMedia}))}else if(A===e.type){var p,g;a.push(null===(p=e.list)||void 0===p?void 0:p.title),a.push(n.createElement("br",null)),a.push(null===(g=e.list)||void 0===g?void 0:g.description)}else N===e.type?e.paymentAmount1000&&e.paymentCurrency?a.push(n.createElement(v.default,{key:"payment",subtype:e.subtype,receiverJid:e.paymentMessageReceiverJid,isQuoted:!0})):a.push(h.default.t(1662)):I===e.type?a.push(n.createElement(b.OrderDescription,{msg:e,showMessage:!0})):a.push(n.createElement(l.default,{formatters:i,className:"quoted-mention",text:(0,j.formatQuotedMsg)(e),textLimit:e.initialPageSize,direction:"auto",key:"status"}));var _=(0,s.default)(E.default.messageText,{[E.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme}),y="conversation"===t||"starred"===t?"button":null;return n.createElement("div",{className:_,dir:e.dir,role:y},a)}}var R=(0,_.default)((0,p.default)(w));t.default=R},bfbfbjjgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bbaacgghch")),d=r(a("chcfcabada"));class l extends n.PureComponent{constructor(...e){super(...e),this._setCellFrameDivRef=e=>{this._cellFrameDivRef=e}}indicateFocus(){o.default.maybeIndicateFocus(this._cellFrameDivRef,d.default.focusAnimation)}render(){var e=this.props,t=(0,s.default)(d.default.msg,{[d.default.hover]:e.hover,[d.default.current]:e.current,[d.default.active]:e.active});return n.createElement("div",{ref:this._setCellFrameDivRef,className:t,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave},e.children)}}t.default=l},bfbfcgieid:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("idaicjeai")),s=a("dagchhdede");var n=new class{constructor(){document.addEventListener("keydown",e=>{var t=(0,s.getAction)(e);t&&(0,r.default)(t)})}trigger(e,...t){}menuBatchRenderWith(){}};t.default=n},bfcdiahdjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bhicbecjj")),d=r(a("ecagbdjcba")),l=r(a("bagefjifjg")),c=r(a("ccbgfecegc")),u=r(a("bhbdiadfhj")),f=r(a("dbdcaadggc")),h=r(a("dffddgdfb")),p=r(a("dgffhaiche")),g=r(a("bdjjabfecc")),m=r(a("bcggadeggg")),b=r(a("deeafjfccb")),v=r(a("jcacjdahc")),_=r(a("dhajdfhjdc")),E=r(a("dcdbbhicce")),j=a("cjfegjecaj"),y=r(a("dgfgceghic"));class S extends n.PureComponent{constructor(...e){super(...e),this.onOpenInvite=()=>{var{msg:e}=this.props;c.default.openModal(n.createElement(f.default,{msg:e}))}}render(){var{msg:e,displayAuthor:t}=this.props,a=e.isGroupsV4InviteExpired,i=e.inviteGrpName;if(!u.default.supportsFeature(u.default.F.GROUPS_V_4_JOIN_PERMISSION))return n.createElement(p.default,{msg:(0,j.unproxy)(e),displayAuthor:t});var r,c=n.createElement(v.default,{size:49,thumb:this.props.msg.inviteGrpJpegThum}),f=e.comment?n.createElement("div",{className:h.default.caption},n.createElement(l.default,{msg:e.unsafe(),spacer:!0,trusted:e.isTrusted()})):null,E=a?null:n.createElement(o.default,{items:[{label:this.props.msg.isSentByMe?g.default.t(722):g.default.t(683),onClick:this.onOpenInvite}],theme:e.comment?void 0:"no-divider"}),S=!a||!f,C=S?n.createElement("div",{className:h.default.meta},n.createElement(b.default,{msg:e})):null,M=e.comment?g.default.t(720):n.createElement(_.default,{msg:e.unsafe()},g.default.t(720));if(a){var T=f?g.default.t(716):n.createElement(_.default,{msg:e.unsafe()},g.default.t(716));r=n.createElement("div",{className:h.default.status},T)}return n.createElement(y.default,{msg:e,displayAuthor:t,hideMeta:S},n.createElement(d.default,{contact:e.senderObj,msg:e.unsafe(),className:(0,s.default)(h.default.container,{[h.default.expired]:a,[h.default.noCaption]:!f})},n.createElement("div",{className:h.default.linkPreview},n.createElement(m.default,{description:M,invite:!0,isSentByMe:e.isSentByMe,onClick:a?void 0:this.onOpenInvite,thumbnail:c,title:i,theme:a?"extended":void 0})),r,f,C),E)}}S.CONCERNS={msg:["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]};var C=(0,E.default)(S,S.CONCERNS);t.default=C},bfchfhibba:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=r(a("cdfdfciehj")),d=i(a("ddhijeejag")),l=r(a("cahfddcdga")),c=r(a("djeebcafcb"));class u extends d.Component{constructor(...e){super(...e),this._setRefObserver=e=>{this._refObserver=e,this.props.onRef&&this.props.onRef(e)},this.getScrollFromStart=()=>{var e=this._refObserver;if(e)return"horizontal"===this.props.direction?e.scrollLeft:e.scrollTop},this.setScrollFromStart=e=>{var t=this._refObserver;t&&("horizontal"===this.props.direction?t.scrollLeft=e:t.scrollTop=e)},this._handleRegisterList=()=>{var e=(0,l.default)(this._refObserver,"this._refObserver"),{flatListControllers:t}=this.props;t.forEach(t=>t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight}))},this._handleScroll=e=>{var{flatListControllers:t,onScroll:a}=this.props;a&&a(e),t.forEach(e=>e.triggerScroll())},this._handleResize=e=>{var{flatListControllers:t,onLayout:a}=this.props,i=(0,l.default)(this._refObserver,"this._refObserver"),r=(0,o.default)((0,o.default)({},e),{},{position:i.getBoundingClientRect()});t.forEach(e=>e.triggerLayout(r)),a&&a(r)}}componentDidMount(){var{flatListControllers:e,scrollOffset:t}=this.props;e.forEach(e=>e.registerContainer({getScrollFromStart:this.getScrollFromStart,setScrollFromStart:this.setScrollFromStart,onRegisterList:this._handleRegisterList})),void 0!==t&&this.setScrollFromStart(t)}componentWillUnmount(){var{flatListControllers:e}=this.props;e.forEach(e=>e.unregisterContainer())}render(){var e=this.props,{children:t,flatListControllers:a,onScroll:i,onLayout:r,onRef:o,scrollOffset:l}=e,u=(0,n.default)(e,["children","flatListControllers","onScroll","onLayout","onRef","scrollOffset"]);return d.createElement(c.default,(0,s.default)({},u,{onResize:this._handleResize,onScroll:this._handleScroll,onRef:this._setRefObserver}),t)}}t.default=u},bfebcgehdb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=r(a("djaiggcdb")),l=a("facgccaif"),c=i(a("bdjjabfecc")),u=i(a("ghaddceii"));class f extends s.PureComponent{constructor(...e){super(...e),this.onOK=()=>{n.default.closeModal()},this.onCancel=()=>{var{href:e}=this.props.link;(0,d.openExternalLink)(e),n.default.closeModal()}}renderHostname(){var{suspiciousCharacters:e,domain:t}=this.props.link,a=t.split("."),i=[];return a.forEach((t,r)=>{var n=!1,o=t.split("").map((t,a)=>{var i=e&&e.has(t);n=i||n;var o=i?u.default.suspiciousCharacter:void 0;return s.createElement("span",{key:"".concat(r,"-").concat(a,"-").concat(t),className:o},t)}),d=n?u.default.suspiciousHostname:void 0,l=s.createElement("span",{key:"".concat(r,"-").concat(t),className:d},o);i.push(l),r+1!==a.length&&i.push(s.createElement("span",{key:"".concat(r)},"."))}),i}render(){var{href:e,domain:t}=this.props.link,[a,i]=e.split(t);return s.createElement(o.default,{title:c.default.t(1300),okText:c.default.t(1497),cancelText:c.default.t(1302),onOK:this.onOK,onCancel:this.onCancel},s.createElement("div",{className:u.default.explanation},c.default.t(1303)+" ",s.createElement(d.default,{href:(0,l.getSuspiciousLinkFaqUrl)()},c.default.t(794))),s.createElement("div",{className:u.default.url},a,this.renderHostname(),i))}}t.default=f},bfedhighcf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ddhgefbahb")),o=i(a("bciibifcgd"));class d extends s.Component{render(){var e=-1,t=this.props.sectionIds.map((t,a)=>{var i=!1;return t===this.props.selectedSectionId&&(e=a,i=!0),this.props.renderSectionTab(t,i)});return s.createElement(n.default,null,s.createElement(o.default,{numTabs:this.props.sectionIds.length,selectedTabIndex:e}),t)}}t.default=d},bffbhdadij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise((t,a)=>{var i=new s.default;i.onerror=function(e){i.terminate(),a(new n.DecodeWebpResultsError("worker error",e))},i.onmessageerror=function(e){i.terminate(),a(new n.DecodeWebpResultsError("worker message error",e))},i.onmessage=e=>{i.terminate();var a=e.data;t(a)},i.postMessage({webpBuffer:e},[e])})};var s=r(a("bddefbjjbd")),n=i(a("cajijabhgb"))},bffbhgdcdh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THUMB_RADIUS_FULLSCREEN=t.THUMB_RADIUS_WINDOW=void 0;var s=r(a("bbebbadde")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("cfadcbbiie")),l=r(a("hgigjbgie")),c=r(a("bhccdjgage")),u=a("djaiggcdb"),f=r(a("dgdcjccfdi")),h=r(a("bcjcbbafcj")),p=r(a("edbaidcaf")),g=r(a("bfgcjgigef")),m=parseFloat(g.default["-thumb-radius-window"].replace(/px$/,""));t.THUMB_RADIUS_WINDOW=m;var b=parseFloat(g.default["-thumb-radius-fullscreen"].replace(/px$/,""));t.THUMB_RADIUS_FULLSCREEN=b;class v extends o.PureComponent{constructor(e){super(e),this.handlePause=()=>{this.props.onPause()},this.handlePlay=()=>{this.props.onPlay()},this.isVideoPlayingBeforeDrag=null,this.handleProgressChange=e=>{var t=parseFloat(e.target.value);this.props.onProgressChange(t);var a=Math.abs(this.state.bufferedTime-this.props.duration)<.1?this.state.bufferedTime:0;this.setState({progress:t,bufferedTime:a})},this.handleProgressMouseUp=()=>{this.setState({isDraggingProgress:!1}),null!=this.isVideoPlayingBeforeDrag&&(this.isVideoPlayingBeforeDrag&&this.handlePlay(),this.isVideoPlayingBeforeDrag=null)},this.handleProgressMouseDown=()=>{this.setState({isDraggingProgress:!0}),this.isVideoPlayingBeforeDrag=this.props.isVideoPlaying,this.isVideoPlayingBeforeDrag&&this.handlePause()},this.handleVolumeValueChange=e=>{var t=parseFloat(e.target.value);this.props.onVolumeValueChange(t),this.setState({volume:t})},this.handleMute=()=>{this.props.onMutedValueChange(!0),this.setState({muted:!0})},this.handleUnmute=()=>{this.props.onMutedValueChange(!1),this.setState({muted:!1})},this.stopEventPropagation=e=>{e.stopPropagation()},this.renderTooltip=()=>{var e=this.state.mouseOverProgressRatio;if(void 0===e)return o.createElement("div",{className:g.default.tooltipWrapper});var t=d.default.durationStr(e*this.props.duration);return o.createElement("div",{className:g.default.tooltipWrapper,style:{left:100*e+"%"}},o.createElement("div",{className:(0,n.default)(g.default.tooltipTextBoxGeneral,g.default.tooltipTextBoxPosAndSize)},t),o.createElement("div",{className:(0,n.default)(g.default.tooltipTailGeneral,g.default.tooltipTailPosAndSize)}))},this.renderVolume=()=>{var e;e=this.state.muted||0===this.state.volume?o.createElement(f.default,{name:"video-volume-muted",display:"inline",onClick:()=>{this.handleUnmute(),0===this.props.volume&&this.props.onVolumeValueChange(.25)}}):this.state.volume<.5?o.createElement(f.default,{name:"video-volume-1",display:"inline",onClick:this.handleMute}):this.state.volume>=.5&&this.state.volume<1?o.createElement(f.default,{name:"video-volume-2",display:"inline",onClick:this.handleMute}):o.createElement(f.default,{name:"video-volume",display:"inline",onClick:this.handleMute});var t={width:100*this.state.volume+"%"},a=this.state.isMouseOverVolumeControl&&!this.state.muted,i=a?o.createElement("div",{className:g.default.volumeBarContainer},o.createElement("div",{className:(0,n.default)(g.default.volumeLowerTrack,{[g.default.lowerTrackLongest]:1===this.state.volume,[g.default.firefoxFix]:h.default.isGecko}),style:t}),o.createElement("input",{className:g.default.volumeBar,dir:"ltr",onChange:this.handleVolumeValueChange,type:"range",min:"0",max:1,step:"any",value:this.state.volume})):o.createElement("div",{className:g.default.volumeBarContainer});return o.createElement("div",{className:(0,n.default)(g.default.volumeContainer,{[g.default.volumePadding]:a}),onClick:this.stopEventPropagation,onMouseEnter:()=>{this.setState({isMouseOverVolumeControl:!0})},onMouseLeave:()=>{this.setState({isMouseOverVolumeControl:!1}),0!==this.props.volume||this.state.muted||this.handleMute()},onMouseDown:this.stopEventPropagation},e,i)},this.renderProgress=()=>{var e=this.state.progress/this.props.duration;e>1&&(e=1);var t=100*e+"%",a=this.state.bufferedTime/this.props.duration;a>1&&(a=1);var i=100*a+"%";return o.createElement("div",{className:(0,n.default)(g.default.progressBarContainer),onClick:this.stopEventPropagation,onMouseDown:this.stopEventPropagation,onMouseEnter:()=>{this.setState({isMouseOverProgressBar:!0})},onMouseLeave:()=>{this.setState({isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0})},onMouseMove:e=>{var t=this.props.isFullscreenMode?b:m,a=e.currentTarget.getBoundingClientRect().left,i=e.pageX,r=e.currentTarget.offsetWidth-2*t,s=(i-a-t)/r,n=r*(this.state.progress/this.props.duration),o=Math.abs(i-a-t-n)<=t;s<0?s=o?0:void 0:s>1&&(s=o?1:void 0),this.setState({mouseOverProgressRatio:s})}},o.createElement("input",{"data-testid":"progress",className:g.default.hiddenProgressBar,dir:"ltr",onChange:this.handleProgressChange,onMouseDown:this.handleProgressMouseDown,onMouseUp:this.handleProgressMouseUp,type:"range",min:"0",max:(0,s.default)(this.props.duration,2),step:"any",value:this.state.progress}),o.createElement("div",{className:g.default.displayedProgressBar},o.createElement("div",{className:g.default.displayedTrack}),o.createElement("div",{className:(0,n.default)(g.default.displayedBuffer,{[g.default.lowerTrackLongest]:1===a}),style:{width:i}}),o.createElement("div",{className:(0,n.default)(g.default.displayedProgress,{[g.default.lowerTrackLongest]:1===e}),style:{width:t}}),o.createElement("div",{className:(0,n.default)(g.default.thumb,{[g.default.hideThumb]:!this.state.isMouseOverProgressBar}),style:{left:t}}),this.renderTooltip()))},this.handleCtwaSourceButtonClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.ctwaSourceUrl&&(0,u.openExternalLink)(this.props.ctwaSourceUrl)},this.state={progress:this.props.progress,volume:this.props.volume,muted:this.props.muted,bufferedTime:this.props.bufferedTime,isMouseOverVolumeControl:!1,isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0,isDraggingProgress:!1,prevPropProgress:this.props.progress,prevPropVolume:this.props.volume,prevPropMuted:this.props.muted,prevPropBufferedTime:this.props.bufferedTime}}componentDidMount(){0!==this.props.volume||this.props.muted||this.handleMute()}static getDerivedStateFromProps(e,t){var a={};return t.prevPropProgress===e.progress||t.isDraggingProgress||(a.progress=e.progress,a.prevPropProgress=e.progress),t.prevPropVolume!==e.volume&&(a.volume=e.volume,a.prevPropVolume=e.volume),t.prevPropMuted!==e.muted&&(a.muted=e.muted,a.prevPropMuted=e.muted),t.prevPropBufferedTime!==e.bufferedTime&&(a.bufferedTime=e.bufferedTime,a.prevPropBufferedTime=e.bufferedTime),a}renderCtwaSourceIcon(){if(!(this.state.isMouseOverVolumeControl&&!this.state.muted)&&this.props.ctwaSourceUrl){var e=p.default.withoutWww(p.default.hostname(this.props.ctwaSourceUrl));return o.createElement(c.default,{isFullscreenMode:this.props.isFullscreenMode,onClick:this.handleCtwaSourceButtonClick,isInstagram:e===l.default.HOSTNAME.INSTAGRAM})}return null}render(){var e=this.props.isFullscreenMode,t=e?o.createElement("div",{className:(0,n.default)(g.default.timeText,g.default.currentTime),onClick:this.stopEventPropagation},d.default.durationStr(this.state.progress)):null,a=e?o.createElement("div",{className:(0,n.default)(g.default.timeText,g.default.duration),onClick:this.stopEventPropagation},d.default.durationStr(this.props.duration)):null,i=this.props.className?this.props.className:g.default.controls;return o.createElement("div",{className:(0,n.default)(i,{[g.default.fullscreen]:e})},o.createElement("div",{className:g.default.playpauseBtnContainer,onClick:this.stopEventPropagation,onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation},o.createElement(f.default,{name:this.props.isVideoPlaying?"video-pause":"video-play",display:"inline",onClick:this.props.isVideoPlaying?this.handlePause:this.handlePlay})),this.renderProgress(),this.renderVolume(),t,a,this.renderCtwaSourceIcon())}}t.default=v},bffejifief:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();switch(t.type){case"picture":(0,r.changeProfilePicThumb)(t.jid,t.tag);break;default:(0,i.handle)([t])}return Promise.resolve()};var i=a("dhggbbghfb"),r=a("cdghjejjij")},bfgacchdii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryBusinessProfile=function(e){return(0,i.queryBusinessProfile)(e)};var i=a("eccjgeceej")},bfgaggeieb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("chjfdffjhc")),s=i(a("icjigahdj")),n=i(a("jchgifaai")),o=i(a("cjcghdgaab")),d=i(a("jgafgcaeg")),l=i(a("bbiefjiacc")),c=i(a("bacdbbiiid")),u=i(a("ccjcgfcjda")),f=i(a("cbafefgfac")),h=i(a("bgdcggcgjd")),p=i(a("beiejihihf")),g=i(a("bhdchjahj")),m=i(a("jebhjecbd")),b=i(a("eaibdiadeg")),v=i(a("dbjgghdhhh")),_=i(a("ddgfdhjehi")),E=i(a("eadeeigjeg")),j=i(a("ejjijcgeb")),y=i(a("jaifebbed")),S={labelsDisplay:l.default,groupsV3:n.default,groupsV3Create:o.default,changeNumberV2:r.default,queryStatusV3Thumbnail:p.default,queryVname:g.default,voipIndividualIncoming:y.default,quickRepliesQuery:m.default,payments:h.default,stickerPackQuery:E.default,labelsEdit:c.default,mediaUpload:u.default,videoPlaybackUrl:j.default,statusRanking:_.default,recentStickersV2:b.default,recentStickersV3:b.default,starredStickers:v.default,groupsV4JoinPermission:d.default,ephemeralMessages:s.default,userNotice:f.default};t.default=S},bfgcjgigef:function(e,t){e.exports={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",controls:"_2Z_3r",playpauseBtnContainer:"hMCzg",fullscreen:"_3MK0g",currentTime:"_13FVM",duration:"_1LJRO",timeText:"T5sd4",progressBarContainer:"_1hGQ9",hiddenProgressBar:"_3YPTQ",displayedProgressBar:"_3DHGF",displayedProgress:"_2KNOi",displayedBuffer:"_3NmNN",displayedTrack:"w6r7y",thumb:"piNo6",hideThumb:"_376MY",volumeContainer:"_2WR7o",volumeBarContainer:"_3hi4u",volumeLowerTrack:"_2hsCA",firefoxFix:"_3MB6a",lowerTrackLongest:"NgNsD",volumeBar:"biu12",volumePadding:"qSCYz",tooltipWrapper:"gkTMt",tooltipTextBoxPosAndSize:"_2qYbK",tooltipTextBoxGeneral:"n_LPV",tooltipTailGeneral:"_2bbRC",tooltipTailPosAndSize:"zLWhI"}},bfgdcfdagf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("eaaagccfda")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("cgahdjdehg")),c=r(a("dbfiijcdie")),u=r(a("cjbjcbajdj")),f=r(a("ebddggeaib")),h=r(a("cefaajbdjj")),p=a("cbhdjecbdf"),g=r(a("bcjcbbafcj")),m=r(a("didfdhbecg")),b=r(a("bjficacaec")),v=r(a("ciciefjgdd")),_=r(a("bcdhfbefgb"));class E extends d.Component{constructor(e){super(e),this.setRefContainer=e=>{this.refContainer=e},this.setRefVideo=e=>{this.refVideo=e},this.resetMouseMoveRecently=(0,n.default)(()=>{this.setState({mouseMoveRecently:!1})},p.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT),this.mouseDownCoor=null,this.handleEnded=()=>{this.props.onVideoEnded&&this.props.onVideoEnded();var e=this.refVideo;e&&(e.play(),e.pause()),this.setState({isVideoPlaying:!1})},this.handleError=()=>{this.props.onError&&this.props.onError()},this.handlePause=()=>{var e=this.refVideo?this.refVideo.getCurrentTime():null,t=null;this.state.videoMetadata&&null!=e&&(t=(0,s.default)((0,s.default)({},this.state.videoMetadata),{},{currentTime:e})),this.setState({isVideoPlaying:!1,videoMetadata:t}),this.blockTimeUpdateOnce=!0},this.handlePlaying=()=>{var e=this.refVideo?this.refVideo.getCurrentTime():null,t=null;this.state.videoMetadata&&null!=e&&(t=(0,s.default)((0,s.default)({},this.state.videoMetadata),{},{currentTime:e})),this.setState({isVideoPlaying:!0,videoMetadata:t}),this.blockTimeUpdateOnce=!0},this.handleLoadedMetadata=e=>{var t=null!=this.props.startTime?this.props.startTime:0;this.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}})},this.handleVolumeChange=e=>{var t=null;this.state.videoMetadata&&(t=(0,s.default)((0,s.default)({},this.state.videoMetadata),{},{volume:e.volume,muted:e.muted})),this.setState({videoMetadata:t})},this.handleTimeUpdate=e=>{if(this.blockTimeUpdateOnce)this.blockTimeUpdateOnce=!1;else{var t=null;this.state.videoMetadata&&(t=(0,s.default)((0,s.default)({},this.state.videoMetadata),{},{currentTime:e})),this.setState({videoMetadata:t})}},this.handleSetCurrentTimeByControls=e=>{if(this.refVideo){var t=e;this.state.videoMetadata&&e>=this.state.videoMetadata.duration-1&&this.state.videoMetadata.duration>1&&(t=this.state.videoMetadata.duration-1),this.refVideo.setCurrentTime(t)}},this.handleProgress=e=>{var t=e[0][1],a=null;this.state.videoMetadata&&(a=(0,s.default)((0,s.default)({},this.state.videoMetadata),{},{bufferedTime:t})),this.setState({videoMetadata:a})},this.state={videoMetadata:void 0,isVideoPlaying:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:!1,exposeIframeInPiP:!1}}componentDidMount(){this.props.listeners.add(c.default,"fullscreen_change",()=>{c.default.isFullscreenMode&&c.default.fullscreenElement===this.refContainer?this.setState({isFullscreenMode:!0}):c.default.isFullscreenMode||this.setState({isFullscreenMode:!1})})}componentWillUnmount(){this.resetMouseMoveRecently.cancel()}renderVideoControls(){var e=null,t=this.state.videoMetadata;if(t){var a=(0,o.default)(v.default.strippedVideoControls,v.default.opacityTransition,{[v.default.dimmed]:!this.state.mouseMoveRecently});e=d.createElement(b.default,{refVideo:this.refVideo,videoMetadata:t,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying,handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,controlsClassName:this.state.isFullscreenMode?a:void 0}),this.state.isFullscreenMode||(e=d.createElement("div",{className:v.default.videoControlsWrapper,onMouseDown:e=>{this.mouseDownCoor={x:e.clientX,y:e.clientY}},onMouseUp:e=>{var t=e.clientX,a=e.clientY,i=this.mouseDownCoor?this.mouseDownCoor.x:void 0,r=this.mouseDownCoor?this.mouseDownCoor.y:void 0;null!=i&&null!=r&&Math.abs(t-i)+Math.abs(a-r)<4&&this.setState({exposeIframeInPiP:!0})}},e))}return e}render(){var e,t=this.state.exposeIframeInPiP||this.state.isFullscreenMode?null:d.createElement("div",{className:v.default.blockYoutube}),a=d.createElement("div",{className:(0,o.default)(v.default.youtubeContainer,{[v.default.fullscreen]:this.state.isFullscreenMode})},t,d.createElement(_.default,{ref:this.setRefVideo,youtubeVideoId:this.props.youtubeVideoId,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay})),i=this.renderVideoControls();g.default.isSafari||(e=d.createElement(u.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.state.isFullscreenMode?e=>{e.stopPropagation(),c.default.exitFullscreen()}:e=>{e.stopPropagation(),c.default.requestFullscreen(this.refContainer)}}));var r=d.createElement(h.default,{theme:"full-rounded"}),s=this.state.isFullscreenMode?d.createElement(d.Fragment,null,a,i,d.createElement("div",{className:(0,o.default)(v.default.widgetsWrapper,v.default.opacityTransition,{[v.default.dimmed]:!this.state.mouseMoveRecently})},e,d.createElement(l.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:e=>{e.stopPropagation(),this.props.onClose()}}))):d.createElement(d.Fragment,null,a,d.createElement(m.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently&&!this.state.exposeIframeInPiP?d.createElement(d.Fragment,null,r,i,e,d.createElement(l.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:e=>{e.stopPropagation(),this.props.onClose()}})):null));return d.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,o.default)(v.default.container,{[v.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:()=>{if(this.state.exposeIframeInPiP){if(g.default.isGecko&&this.state.isMouseOver)return;this.setState({exposeIframeInPiP:!1})}this.setState({isMouseOver:!0})},onMouseLeave:()=>{this.setState({isMouseOver:!1})},onMouseDown:e=>{this.state.isFullscreenMode&&e.stopPropagation()},onMouseMove:()=>{this.state.isMouseOver||this.setState({isMouseOver:!0}),this.state.mouseMoveRecently||this.setState({mouseMoveRecently:!0}),this.resetMouseMoveRecently()}},s)}}var j=(0,f.default)(E);t.default=j},bfgdchifdi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ebcceegfbd")),o=({children:e})=>s.createElement("div",{className:n.default.tooltip,role:"tooltip"},e);t.default=o},bfgjcdgecg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=function(e,t,a){var i;r.default.supportsFeature(r.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=s.default.sendConversationArchive(e,t,a);return i};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},bfhbedhfbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("jegbhjbde"),o=i(a("cbedabhaa")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{render(){var{msg:e}=this.props,{subtype:t,body:a,recipients:i}=e;if("create"===t){var r=parseInt(a,10);return s.createElement(o.default,{id:1781,params:{count:r},plural:r,wrapInHiddenToken:!0})}return"add"===t?s.createElement(o.default,{id:1624,params:{name:(0,n.getFormattedNames)(i,!0)},plural:i.length,wrapInHiddenToken:!0}):"remove"===t?s.createElement(o.default,{id:1625,params:{name:(0,n.getFormattedNames)(i,!0)},plural:i.length,wrapInHiddenToken:!0}):null}}l.CONCERNS={msg:["type","subtype","body","recipients"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},bfhdechdfh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playEndCallTone=function(){}},bfhejabcef:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OPEN_MENU_WIDTH=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("hgigjbgie")),l=a("ddbdgibbbi"),c=r(a("bhbdiadfhj")),u=r(a("bdjjabfecc")),f=a("beeafhbcfh"),h=r(a("dhcjhicfbb")),p=i(a("bhggcdiijh")),g=r(a("bfgbdiffgd")),m=parseInt(h.default["-open-menu-width"].replace(/px$/,""),10);t.OPEN_MENU_WIDTH=m;class b extends n.PureComponent{constructor(...e){super(...e),this._handleOpenClick=()=>{this.props.onChange(this._getLastSelectedPanel())},this._handleCloseClick=()=>{this.props.onChange(null)},this._handleEmojiClick=()=>{Boolean(this.props.selectedPanelId)?((0,l.setLastComposeBoxPanel)(f.PANELS.EMOJI),this.props.onChange(f.PANELS.EMOJI)):this._handleOpenClick()},this._handleGifClick=()=>{(0,l.setLastComposeBoxPanel)(f.PANELS.GIF),this.props.onChange(f.PANELS.GIF)},this._handleStickerClick=()=>{(0,l.setLastComposeBoxPanel)(f.PANELS.STICKER),this.props.onChange(f.PANELS.STICKER)},this._setRefCloseButtonRef=e=>{this._refCloseButton=e},this._setRefEmojiButtonRef=e=>{this._refEmojiButton=e},this._setRefGifButtonRef=e=>{this._refGifButton=e},this._setRefStickerButtonRef=e=>{this._refStickerButton=e},this._setRefMenu=e=>{this._refMenu=e}}_getLastSelectedPanel(){var e;"GIFS"===(0,l.getLastEmojiTab)()&&(e=f.PANELS.GIF,(0,l.setLastEmojiTab)(null)),e=e||(0,l.getLastComposeBoxPanel)()||f.PANELS.EMOJI;var t=g.default.stickers&&c.default.supportsFeature(c.default.F.STICKER_PACK_QUERY);return e!==f.PANELS.STICKER||t||(e=f.PANELS.EMOJI),e}render(){var e=g.default.stickers&&c.default.supportsFeature(c.default.F.STICKER_PACK_QUERY)&&!c.default.supportsFeature(c.default.F.MD_BACKEND),t=Boolean(this.props.selectedPanelId),a=e?n.createElement(p.default,{className:(0,s.default)(h.default.button,h.default.thirdButton),icon:"sticker",isActive:this.props.selectedPanelId===f.PANELS.STICKER,onClick:this._handleStickerClick,onRef:this._setRefStickerButtonRef,size:p.SIZES.SQUARE26}):null;return n.createElement("div",{"data-state":t?"open":"closed",ref:this._setRefMenu,className:(0,s.default)(h.default.menu,{[h.default.full]:e,[h.default.open]:t})},n.createElement(p.default,{className:(0,s.default)(h.default.button,h.default.closeButton),"data-tab":t?d.default.TAB_ORDERS.COMPOSE_BOX_MENU_BUTTON:null,icon:"x",onClick:this._handleCloseClick,onRef:this._setRefCloseButtonRef,size:p.SIZES.SQUARE24}),n.createElement(p.default,{"aria-label":u.default.t(14),className:(0,s.default)(h.default.button,h.default.firstButton),"data-a8n":o.default.key("compose-btn-emoji"),"data-tab":t?null:d.default.TAB_ORDERS.COMPOSE_BOX_MENU_BUTTON,icon:"smiley",isActive:this.props.selectedPanelId===f.PANELS.EMOJI,isMain:!0,onClick:this._handleEmojiClick,onRef:this._setRefEmojiButtonRef,size:p.SIZES.SQUARE26}),n.createElement(p.default,{className:(0,s.default)(h.default.button,h.default.secondButton),icon:"gif",isActive:this.props.selectedPanelId===f.PANELS.GIF,onClick:this._handleGifClick,onRef:this._setRefGifButtonRef,size:p.SIZES.SQUARE26}),a)}}t.default=b},bfhfhbjdbf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("recent_stickers"!==t.tag(e))return;if("delete"!==t.attr("type",e))return;return t.attr("filehash",e)}},bfhhijajg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{theme:t,svg:a}=e,i=(0,n.default)(o.default.badge,{[o.default.pending]:"pending"===t,[o.default.warning]:"warning"===t}),r=a?s.createElement(d.default,{className:o.default.icon,name:a}):null;return s.createElement("div",{className:i},r)};var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("bbggcihdcc")),d=i(a("dgdcjccfdi"))},bfhjjefchf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("ejegihaeh")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=i(a("bjgiedaj")),f=r(a("gfebgebbi")),h=r(a("bahheegiac")),p=r(a("jheedhagg")),g=a("gaifbabbj"),m=r(a("bdjjabfecc")),b=a("ecceajhjba"),v=r(a("bghjhaheia")),_=r(a("dehdfiebcg")),E=r(a("biibicegh")),j=r(a("cjgdgbgbj")),y=r(a("dhajdfhjdc")),S=r(a("dcdbbhicce")),C=a("cjfegjecaj"),M=a("dcbdjheea");class T extends n.Component{constructor(...e){super(...e),this.ProductCatalogSession=new E.default,this.launchProductView=e=>{e&&e.stopPropagation();var{msg:t,onProductClick:a}=this.props;if(t){var{productId:i,businessOwnerJid:r}=t;if(i&&r){var s=(0,h.default)({productId:i,businessOwnerJid:r,msgT:t.t});if(s){(0,b.logProductMsgClick)((0,C.unproxy)(s),this.ProductCatalogSession.toString());var o=this.ProductCatalogSession.toString();a?a(s,o):l.default.openDrawerRight(n.createElement(j.default,{refreshCarousel:!0,chat:t.chat,product:s,sessionId:o}),"slide-left",this.props.uim)}}}}}componentDidMount(){var{msg:e}=this.props;e.businessOwnerJid&&(0,M.createWid)(e.businessOwnerJid)&&d.default.addMsgAsProduct((0,C.unproxy)(e.unsafe()))}renderProductInfo(){var{msg:e,trusted:t}=this.props,{title:a,description:i,priceAmount1000:r,currencyCode:s}=e,o=(t?g.Configuration.TrustedConversation:g.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks(),selectable:!0}),d=null!=r&&s?u.format(s,r):i,l=n.createElement(f.default,{direction:"inherit",selectable:!0,text:a,formatters:o,ellipsify:!0,className:_.default.title}),h=d?n.createElement(y.default,{msg:e.unsafe(),className:_.default.subtitle},n.createElement(f.default,{direction:"inherit",selectable:!0,text:d,formatters:o,textLimit:c.default.MAX_PRODUCT_SUBTITLE_LENGTH})):null;return n.createElement("div",{className:_.default.productInfo,onClick:this.launchProductView},l,h)}render(){var{displayAuthor:e,msg:t,mediaData:a,trusted:i,quotedMsg:r}=this.props,d=(!1!==e?!t.isSentByMe&&t.isGroupMsg:null)?n.createElement("div",{className:_.default.author},n.createElement(o.default,{msg:t.unsafe(),contact:t.senderObj})):null,l=n.createElement(v.default,{msg:t,mediaData:a,trusted:i,displayAuthor:!1,contentContainerClassName:_.default.productContainer,captionComponent:this.renderProductInfo(),thumbClassName:_.default.thumb,onThumbClick:this.launchProductView,quotedMsg:r}),c=n.createElement(f.default,{className:_.default.productCta,onClick:this.launchProductView,text:m.default.t(1110)});return n.createElement("div",{className:(0,s.default)(_.default.bubble,{[_.default.bubbleIn]:!t.isSentByMe,[_.default.bubbleOut]:t.isSentByMe})},d,l,c)}}T.CONCERNS={msg:["businessOwnerJid","chat","chat","currencyCode","description","dir","id","isGroupMsg","isProductInquiry","isSentByMe","mediaData","priceAmount1000","productId","productImageCount","retailerId","rtl","senderObj","t","title","url"]};var P=(0,p.default)((0,S.default)(T,T.CONCERNS));t.default=P},bfiaaegafb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s.createElement("div",{className:n.default.shade})};var s=r(a("ddhijeejag")),n=i(a("bjhbhecedh"))},bfifighhia:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bhhdiiaihb")),o=i(a("caegbedegd")),d=i(a("ceggedffg")),l=(0,n.default)("*"),c=(0,d.default)(/(?:^|[\s\W_])\*([^\s\u20e3]|[^\s\u20e3][^\n]*?\S)\*(?=$|[[\s\W_])/g,1,l);t.default=class extends c{static jsx(e,t,{selectable:a=!1}){return s.createElement(o.default,{selectable:a},e)}}},bfighhgdhb:function(e,t){e.exports={emptyContainer:"_3CPQI",emptySticker:"WCnSF",emptyText:"_3A1Ij"}},bfiibibaac:function(e,t){e.exports={positioningContainer:"_2wjQC",resultsContainer:"_3Pmyo",overlayContainer:"_2m16s",mediaCaption:"_2qbJR"}},bfjaedbeii:function(e,t){e.exports={closeButton:"_2oqbR"}},bfjchhccjd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;var a=e.parentElement;if(!a)return!1;var i=t>=0?t:a.childNodes.length+t;return e===a.childNodes[i]}},bfjfabigie:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getMetricMediaType=function(e){switch(e){case"audio":return n.default.MEDIA_TYPE.AUDIO;case"document":case"thumbnail-document":return n.default.MEDIA_TYPE.DOCUMENT;case"gif":return n.default.MEDIA_TYPE.GIF;case"image":return n.default.MEDIA_TYPE.PHOTO;case"ppic":return n.default.MEDIA_TYPE.PROFILE_PIC;case"product":return n.default.MEDIA_TYPE.PRODUCT_IMAGE;case"ptt":return n.default.MEDIA_TYPE.PTT;case"sticker":return n.default.MEDIA_TYPE.STICKER;case"video":return n.default.MEDIA_TYPE.VIDEO;case"template":return n.default.MEDIA_TYPE.TEMPLATE;case"md-msg-hist":return n.default.MEDIA_TYPE.MD_HISTORY_SYNC;case"md-app-state":return n.default.MEDIA_TYPE.MD_APP_STATE;case"product-catalog-image":return n.default.MEDIA_TYPE.PRODUCT_IMAGE;default:throw new Error("webMediaType is invalid: ".concat(e))}},t.getMetricUploadErrorResultType=function(e){if(e instanceof s.MMSUnauthorizedError)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_NO_PERMISSIONS;if(e instanceof s.MediaTooLargeError)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_BAD_MEDIA;if(e instanceof s.MMSThrottleError)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_THROTTLE;if(e instanceof s.HttpStatusCodeError&&e.status>=500)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_SERVER;if(e instanceof r.NoMediaHostsError)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_MEDIA_CONN;if(e instanceof Promise.CancellationError||"AbortError"===e.name)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_CANCEL;if(e instanceof s.HttpNetworkError)return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_UPLOAD;return n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_UNKNOWN},t.getMetricDownloadErrorResultType=function(e){if(e instanceof s.MMSThrottleError)return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_THROTTLE;if(e instanceof r.NoMediaHostsError)return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_MEDIA_CONN;if(e instanceof s.HttpNetworkError)return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_NETWORK;if(e instanceof s.HttpStatusCodeError)switch(e.status){case 404:case 410:return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_TOO_OLD;case 416:return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_CANNOT_RESUME;case 401:return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_INVALID_URL;case 429:case 507:return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_THROTTLE;default:return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_UNKNOWN}if(e instanceof Promise.CancellationError||"AbortError"===e.name)return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_CANCEL;if(e instanceof s.MmsDownloadFilehashMismatchError)return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_ENC_HASH_MISMATCH;return n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_UNKNOWN},t.getStatusCode=function(e){if(e instanceof s.HttpStatusCodeError)return e.status},t.generateMediaEventId=function(){return 1+Math.floor(Number.MAX_SAFE_INTEGER*Math.random())},t.logErrorUnknownDetails=function(e,t){if(null==t)return;var a;e.overallDownloadResult===n.default.MEDIA_DOWNLOAD_RESULT_TYPE.ERROR_UNKNOWN?a=n.default.WEBC_MEDIA_OPERATION_CODE.DOWNLOAD:e.overallUploadResult===n.default.MEDIA_UPLOAD_RESULT_TYPE.ERROR_UNKNOWN&&(a=n.default.WEBC_MEDIA_OPERATION_CODE.UPLOAD);if(null==a)return;new n.default.WebcMediaErrorUnknownDetails({mediaId:e.mediaId,webcMediaOperation:a,webcMediaErrorName:t.name}).commit()};var r=a("dgeaihgdfh"),s=a("chfjcfcide"),n=i(a("bdcchebfge"))},bgabieacgg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){var a=performance.now();return s.default.chatFindQuery(e,e=>{t.binarySize=e.binarySize}).then((function(e){return"preempted"!==e&&(t.timing=Math.ceil(performance.now()-a),t.size=e.length,r.default.supportsFeature(r.default.F.MD_BACKEND)),e}))};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},bgacbgiij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("bagefjifjg")),l=r(a("hgigjbgie")),c=r(a("dfhddecjbi")),u=r(a("ccbhccfeai")),f=r(a("deeafjfccb")),h=r(a("dcdbbhicce")),p=r(a("eebiehgif"));function g(e){var{children:t,displayType:a,hideCaption:i=!1,msg:r,quotedMsg:h,showAuthor:g=!1,trusted:m}=e,b=g&&!r.isSentByMe&&r.isGroupMsg,v=!i&&r.caption,_=r.showForwarded();return n.createElement(n.Fragment,null,b?n.createElement("div",{className:(0,s.default)(u.default.author,{[u.default.hasForwarded]:_})},n.createElement(o.default,{msg:r.unsafe(),contact:r.senderObj})):null,_?n.createElement(c.default,{msg:r.unsafe(),className:(0,s.default)(u.default.forwardedIndicator,{[u.default.hasAuthor]:b})}):null,null!=h?n.createElement("div",{className:u.default.quote},h):null,t,v?n.createElement("div",{className:u.default.caption},n.createElement(d.default,{msg:r.unsafe(),trusted:m,spacer:!r.footer})):null,r.isFromTemplate?n.createElement(p.default,{dir:r.dir,footer:r.footer,isFromTemplate:r.isFromTemplate,msg:r.unsafe(),rtl:r.rtl,type:r.type}):null,n.createElement("div",{className:(0,s.default)(u.default.meta,{[u.default.hasCaption]:v})},n.createElement(f.default,{msg:r,theme:a===l.default.DISP_TYPE.GALLERY?"date":void 0})))}g.CONCERNS={msg:["caption","dir","footer","isFromTemplate","isSentByMe","isGroupMsg","rtl","senderObj","type"]};var m=(0,h.default)(g,g.CONCERNS,void 0,!0);t.default=m},bgadadbgib:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("hgigjbgie")),l=i(a("cebgchhjbh")),c=i(a("bdjjabfecc")),u=i(a("bfgbdiffgd"));var f=function(e){var t=function(e){var t={maxSize:c.default.filesize(u.default.media)},a={maxSize:c.default.filesize(u.default.maxFileSize)};switch(e){case d.default.MSG_TYPE.AUDIO:case d.default.MSG_TYPE.PTT:return c.default.t(884,t);case d.default.MSG_TYPE.IMAGE:return c.default.t(888,t);case d.default.MSG_TYPE.VIDEO:return c.default.t(902,t);case d.default.MSG_TYPE.DOCUMENT:return c.default.t(886,a);case d.default.MSG_TYPE.UNKNOWN:default:return c.default.t(887,a)}}(e.mediaType);return s.createElement(l.default,{displayType:e.displayType,onClick:h.bind(null,t),tooltip:t})};function h(e){n.default.openModal(s.createElement(o.default,{onOK:()=>n.default.closeModal()},e))}t.default=f},bgagejacgg:function(e,t){e.exports={ellipsify:"_1hI5g",inlineblock:"_1XH7x",dirMismatch:"_1Oy25",clickable:"_3cwQ7",multiline:"_1wCTk"}},bgaigbgdgj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var a=atob(e),i=0,r=0;r<a.length;r++){var s=a.charCodeAt(r);i=(((i=((i<<4)+(s>>4))%t)<<4)+(15&s))%t}return i}},bgajadhccj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfacahcafg")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("bjjbjadgeg")),l=r(a("bdjjabfecc")),c=r(a("ebddggeaib")),u=r(a("dhccahhefj")),f=r(a("bfgbdiffgd")),h=i(a("difbicaihd")),p=r(a("cgfidiajgj")),g=r(a("cjfhhbcfdh")),m=r(a("becgjbhfe")),b=r(a("baebehedbi")),v=r(a("dgcjjbdicd"));class _ extends o.PureComponent{constructor(...e){super(...e),this.state={isCollectionReady:h.default.isSynced(),stickers:h.default.toArray(),isLoadingMore:!1},this.onScroll=e=>{var{scrollTop:t,clientHeight:a,scrollHeight:i}=e;if(this.props.onScroll&&this.props.onScroll(e),i-a-t<200&&!this.state.isLoadingMore&&h.default.canLoadMore()){var r=h.default.getRemaining(),n=Math.min(h.STARRED_STICKERS_PAGE_SIZE,r),o=(0,s.default)(n,()=>p.default.getPlaceholder());this.setState({isLoadingMore:!0,stickers:this.state.stickers.concat(o)}),h.default.syncNextPage()}},this._setRefScrollGrid=e=>{this._refScrollGrid=e}}componentDidMount(){this.state.isCollectionReady||h.default.sync().checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState({isCollectionReady:!0})}),this.props.listeners.add(h.default,"add remove",()=>{this.setState({stickers:h.default.toArray()})}),this.props.listeners.add(h.default,"sync",()=>{this.setState({stickers:h.default.toArray(),isCollectionReady:!0})}),this.props.listeners.add(h.default,"next_page_sync",()=>{this.setState({stickers:h.default.toArray(),isLoadingMore:!1})})}focus(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}render(){return this.state.isCollectionReady?0===h.default.length?o.createElement("div",{className:(0,n.default)(d.default.emptyContainer,f.default.stickerSearchEnabled?d.default.panelHeight:null)},o.createElement("div",{className:d.default.emptySticker,style:{backgroundImage:"url(".concat(g.default,")")}}),o.createElement("p",{className:d.default.emptyText},l.default.t(1284))):o.createElement(v.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.state.stickers}):o.createElement("div",{className:b.default.container},(0,s.default)(h.STARRED_STICKERS_PAGE_SIZE,e=>o.createElement(m.default,{key:e,sticker:p.default.getPlaceholder()})))}}var E=(0,c.default)((0,u.default)(_));t.default=class extends E{focus(e){this.getComponent().focus(e)}}},bgbiiabdc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var s=r(a("bgjcbiaddd")),n=r(a("bhdddbafig")),o=i(a("ddhijeejag")),d=r(a("ebjaejiaba")),l=i(a("dighcbdehd")),c=r(a("dbdfbgehgj")),u=r(a("bhcgjhdbdj")),f=r(a("ccbgfecegc")),h=r(a("hgigjbgie")),p=(r(a("ccfcjccjbg")),r(a("ieeidjijb"))),g=r(a("cbedjffdai")),m=r(a("gfebgebbi")),b=i(a("bgheieccaj")),v=r(a("ddajbaceej")),_=r(a("dhfbfehaef")),E=a("gaifbabbj"),j=r(a("bdjjabfecc")),y=r(a("ebddggeaib")),S=r(a("eedfiddec")),C=(r(a("cbcbdjdah")),r(a("baabifghjg"))),M=r(a("diffaiehid")),T=r(a("cgjdibiahi")),P="SEC_CHATS",O="SEC_CONTACTS",N="SEC_GROUPCHATS",I="SEC_STARRED",A="SEC_MSG",w="SEC_MUTED_CHATS",R="ROW_CHATS",D="ROW_CONTACTS",L="ROW_GROUPCHATS",k="ROW_STARRED",x="ROW_MSG";class G extends o.Component{static getDerivedStateFromProps(e){return{ftsStarred:e.ftsResult.filter(({star:e})=>e),ftsMessages:e.ftsResult.filter(({star:e})=>!e)}}constructor(e){super(e),this.onListPointerEventsOff=()=>{this._listPointerEvents=!1},this.onListPointerEventsOn=()=>{this._listPointerEvents=!0},this.updateSelected=e=>{this.debouncedOpenSelected.cancel(),this.props.selection.setVal(e,!1),this.oldSelection=e},this.onContactClick=(e,t)=>{this.onClick(e,t.id)},this.onChatClick=(e,t)=>{this.onClick(e,t.id)},this.onMessageClick=(e,t,a)=>{this.onClick(e,t.id,a)},this.onClick=(e,t,a)=>{e.preventDefault(),e.stopPropagation(),c.default.find(t).then(e=>{a?f.default.openChatAt(e,a).then(t=>{t&&f.default.focusChatTextInput(e)}):e!==this.getActiveChat()?f.default.openChatFromUnread(e).then(t=>{t&&f.default.focusChatTextInput(e)}):f.default.focusChatTextInput(e)})},this.restoreFocus=()=>{this.props.selection.reset(!0)},this.onFocusGain=e=>{if(e.target===this.refHotKeys&&this._listPointerEvents)if(this.props.selection.index<0)this.focusFirst();else{var{uie:t}=this;t&&t.activate(),this.props.selection.reset(!0)}},this.handleClearChat=e=>{e===this.props.selection.getVal()&&this.props.selection.unset()},this.onFocusSearch=e=>{e.stopPropagation(),e.preventDefault(),this.props.onFocusSearch()},this.setRefUIE=e=>{this.uie=e},this.setRefHotKeys=e=>{this.refHotKeys=e},this.onFocusList=()=>{var{refList:e,refHotKeys:t}=this;e&&t&&v.default.focus(t)},this.requestFocus=()=>{this.props.selection.reset(!1),this.props.selection.index>-1&&document.activeElement===document.body&&this.onFocusList()},this.setRefList=e=>{this.refList=e},this.onMultiSelect=(e,t,a)=>{var{multiSelection:i}=this.props;i&&i.setVal(e,t,a)},this.renderWrappedItem=(e,t)=>{var{multiSelection:a,selectableState:i}=this.props;return a&&i?o.createElement(u.default,{model:t,theme:"chat-checkbox",selectableState:i,multiSelection:a,onSelect:this.onMultiSelect},e):e},this.renderItem=e=>{var{searchQuery:t,filterPreset:a}=this.props;switch(e.type){case P:return o.createElement(C.default,{header:j.default.t(1506)});case O:return o.createElement(C.default,{header:j.default.t(1513)});case N:return o.createElement(C.default,{header:j.default.t(1618)});case I:return o.createElement(C.default,{header:j.default.t(1722)});case A:return o.createElement(C.default,{header:j.default.t(1635)});case R:var{data:i}=e;return this.renderWrappedItem(o.createElement(l.default,{chat:i,contact:i.contact,mode:l.Mode.LAST,searchQuery:t,filterPreset:a,onClick:this.onChatClick,mouseDownAsClick:!0,selectableState:this.props.selectableState,multiSelection:this.props.multiSelection,active:this.props.selection,showEphemeralIcon:!0}),i);case D:var{data:r}=e;return this.renderWrappedItem(o.createElement(p.default,{contact:r,active:this.props.selection,searchQuery:t,onClick:this.onContactClick,mouseDownAsClick:!0,waitIdle:!0}),r);case L:var{data:s}=e,n=s[0],d=this.getGroupChatSubtitle(s);return this.renderWrappedItem(o.createElement(l.default,{chat:n,contact:n.contact,secondary:d,mode:l.Mode.LAST,searchQuery:t,filterPreset:a,onClick:this.onChatClick,mouseDownAsClick:!0,selectableState:this.props.selectableState,multiSelection:this.props.multiSelection,active:this.props.selection}),n);case k:var{data:c}=e;return this.renderWrappedItem(o.createElement(S.default,{msg:c,chat:c.chat,searchQuery:t,filterPreset:a,onClick:this.onMessageClick,active:this.props.selection}),c);case x:var{data:u}=e;return this.renderWrappedItem(o.createElement(S.default,{msg:u,chat:u.chat,searchQuery:t,filterPreset:a,onClick:this.onMessageClick,active:this.props.selection}),u);default:throw new b.UnknownDataError(e)}},this._listPointerEvents=!0,this.oldSelection=null,this.debouncedOpenSelected=this.props.debounce(()=>{this.openSelected(this.focusComposer),this.focusComposer=!1},200),this.state={textsize:g.default.get().textsize,ftsStarred:[],ftsMessages:[],mutedChats:[],collapseMutedChatsEnabled:!1,mutedChatsCollapsed:!0}}componentWillUnmount(){var e=this.getSelection(),t=this.props.selection.getVal();t&&t.isState&&!this.props.isSearching&&!e.length&&f.default.clearChat(t)}componentDidMount(){this.props.selection.init(this.getSelection()),this.props.listeners.add(f.default,"focus_chat_list",this.restoreFocus),this.props.listeners.add(f.default,"focus_next_chat",e=>{this.onNextChat(null,!0,e)}),this.props.listeners.add(f.default,"focus_prev_chat",e=>{this.onPrevChat(null,!0,e)}),this.props.listeners.add(f.default,"update_chatlist_selection",this.updateSelected),this.props.listeners.add(f.default,"clear_chat",this.handleClearChat),this.props.listeners.add(f.default,"textsize_change",e=>{this.setState({textsize:e})})}componentDidUpdate(e){var t=e.selection.getVal();this.props.selection.init(this.getSelection(),!e.isSearching&&!this.props.isSearching);var a=this.props.selection.getVal();e.isSearching&&!this.props.isSearching&&!a&&this.oldSelection&&this.props.selection.setVal(this.oldSelection),a&&a!==t&&(this.focusComposer=!0,this.debouncedOpenSelected())}openSelected(e=!1){var t=this.props.selection.getVal();t&&(t instanceof d.default&&t!==this.getActiveChat()?f.default.openChatFromUnread(t).then(a=>{a&&e&&f.default.focusChatTextInput(t)}):e&&f.default.focusChatTextInput(t))}getSelection(){return[...this.props.chats,...this.props.contacts,...this.props.messages,...this.props.groupChats.map(e=>e[0]),...this.state.ftsStarred,...this.state.ftsMessages]}scrollListIntoFocusedItem(e=100){this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}focusFirst(){var{uie:e}=this;e&&e.activate(),this.props.selection.setFirst(),this.scrollListIntoFocusedItem(0),this.debouncedOpenSelected()}onNextChat(e,t,a){e&&(e.preventDefault(),e.stopPropagation());var i=this.props.selection.next();this.props.selection.index!==i&&(this.props.selection.setNext(!0),this.focusComposer=a,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected())}onPrevChat(e,t,a){e&&(e.stopPropagation(),e.preventDefault()),this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this.focusComposer=a,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected()):t||(this.debouncedOpenSelected.cancel(),this.openSelected(),this.props.onFocusSearch())}getHeight(){var{textsize:e}=this.state,t=h.default.LIST_HEIGHT_TEXTSIZE_MAP.find(t=>t.scale===e);return t?t.height:72}getData(){var{chats:e,contacts:t,groupChats:a,isSearching:i,messages:r}=this.props,{ftsStarred:s,ftsMessages:n,mutedChats:o,mutedChatsCollapsed:d,collapseMutedChatsEnabled:l}=this.state,c=[];return i&&e.length>0&&c.push({itemKey:"section-chats",type:P}),!i&&l?(o.length>0&&c.push({itemKey:"section-collapse-muted",contentKey:"".concat(String(d),"-").concat(o.length),type:w,height:30}),d||c.push(...o.map(e=>({itemKey:"chat-".concat(e.id.toString()),data:e,expanded:!d,type:R}))),c.push(...e.filter(e=>!e.mute.isMuted).map(e=>({itemKey:"chat-".concat(e.id.toString()),data:e,type:R})))):c.push(...e.map(e=>({itemKey:"chat-".concat(e.id.toString()),data:e,type:R}))),i&&t.length>0&&c.push({itemKey:"section-contacts",type:O}),c.push(...t.map(e=>({itemKey:"contact-".concat(e.id.toString()),data:e,type:D}))),i&&a.length>0&&c.push({itemKey:"section-groupchats",type:N}),c.push(...a.map(e=>({itemKey:"groupchat-".concat(e[0].id.toString(),"-").concat(e[1].map(e=>e.id.toString()).join("-")),data:e,type:L}))),i&&s.length>0&&c.push({itemKey:"section-starred",type:I}),c.push(...s.map(e=>({itemKey:"starred-".concat(e.id.toString()),data:e,type:k}))),i&&n.length>0&&c.push({itemKey:"section-msg",type:A}),c.push(...n.map(e=>({itemKey:"msg-".concat(e.id.toString()),data:e,type:x}))),i&&r.length>0&&c.push({itemKey:"section-msg",type:A}),c.push(...r.map(e=>({itemKey:"msg-".concat(e.id.toString()),data:e,type:x}))),c}render(){var e,{isSearching:t}=this.props;return e=t?j.default.t(15):j.default.LR(j.default.t(1),j.default.t(2)),o.createElement(T.default,{displayName:"Chatlist",ref:this.setRefUIE,state:T.default.State.PASSIVE,requestFocus:this.requestFocus},o.createElement(_.default,{handlers:{down:e=>this.onNextChat(e,!0),j:e=>this.onNextChat(e,!0),up:e=>this.onPrevChat(e,!0),k:e=>this.onPrevChat(e,!0),"/":e=>this.onFocusSearch(e)},onFocus:this.onFocusGain,onRef:this.setRefHotKeys,"data-tab":h.default.TAB_ORDERS.CHAT_LIST},o.createElement(b.default,{ariaLabel:e,data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical",defaultItemHeight:this.getHeight(),onPointerEventsOff:this.onListPointerEventsOff,onPointerEventsOn:this.onListPointerEventsOn,ref:this.setRefList,role:"region"})))}getActiveChat(){return c.default.toArray().find(e=>e.active)}getGroupChatSubtitle(e){var t=e[1],a=e[0].groupMetadata.participants.map(e=>e.contact),i=(0,n.default)(a,t),r=(0,s.default)(t,i).map(e=>e.formattedShortNameWithNonBreakingSpaces).join(j.default.t(546)),d=E.Configuration.Search({terms:[this.props.searchQuery.trimmed]});return o.createElement(m.default,{text:r,formatters:d,titlify:!0,direction:"auto"})}}G.defaultProps={chats:[],groupChats:[]};var U=G;t.Component=U;var F=(0,y.default)((0,M.default)(G));t.default=F},bgcdajbhif:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3Collection=void 0;var r=i(a("dfadhaifh")),s=i(a("bebajedcaf")),n=i(a("iidhbgeed")),o=i(a("dbafiicfja")),d=i(a("cbeddgjfaj")),l=i(a("cgcgbfbffj")),c=i(a("cfadcbbiie")),u=i(a("hgigjbgie")),f=a("bgihjbde"),h=a("ddbdgibbbi"),p=i(a("bhbdiadfhj")),g=i(a("bdcchebfge")),m=i(a("biecbbiiee")),b=i(a("dcdjgccech")),v=i(a("bfgbdiffgd")),_=i(a("jcfjeeiii")),E=i(a("cfidecfjad")),j=a("dcbdjheea");function y(){var e=(0,r.default)(["models:statusV3:unknown:",""]);return y=function(){return e},e}function S(){var e=(0,r.default)(["models:statusV3:read:no_status:",""]);return S=function(){return e},e}function C(){var e=(0,r.default)(["models:statusV3:unexpected update"]);return C=function(){return e},e}function M(){var e=(0,r.default)(["models:statusV3:no_checksum"]);return M=function(){return e},e}function T(){var e=(0,r.default)(["models:statusV3:score:no_status:",""]);return T=function(){return e},e}function P(){var e=(0,r.default)(["Total count: ",", msgs length: ",""]);return P=function(){return e},e}function O(){var e=(0,r.default)(["model:statusv3:loadMore:",""]);return O=function(){return e},e}function N(){var e=(0,r.default)(["model:statusv3:findQuery error ",""]);return N=function(){return e},e}function I(){var e=(0,r.default)(["Received "," status V3 messages when total count is "," for ",""]);return I=function(){return e},e}class A extends l.default{delete(){super.delete(),delete this.checksum}_find(e){return Promise.resolve({id:e})}findQuery(e,t){return super.findQuery(e,t).then(e=>{var t=e||[];return Promise.all(t.map(e=>{if(e){var t=0;return e.msgs.forEach(a=>{t<e._msgs.length&&e._msgs[t].id.toString()===a.id.toString()?++t:a.delete()}),e._msgs.length>0?this.addStatusMessages(e.id,e._msgs):Promise.resolve()}})).then(()=>t)})}_findQuery(){return E.default.statusQuery().then(e=>(this.checksum=e.checksum,Promise.map(e.statuses,e=>{e.totalCount!==e._msgs.length&&e.totalCount<=20&&__LOG__(3)(I(),e._msgs.length,e.totalCount,e.id);var t=e.pic;return t?b.default.createFromData(t,"image/jpeg").then(t=>(e.pic=t,e)):e})))}loadMore(e,t,a){return E.default.statusQuery(e,t,a&&a.id,"after").then(e=>e.status>=400?(__LOG__(3)(N(),e.status),Promise.reject(e.status)):(e.forEach((function(e){e.invis=!0})),__LOG__(2)(O(),e.length),m.default.processMultipleMessages((0,j.createWid)(u.default.STATUS_WID),e,{add:"after",isHistory:!0})))}sync(e){var t=window.performance.now();return!e||this.checksum&&this.checksum!==e?this.findQuery({},{set:this.hasSynced()}).catchType(f.WebdDrop,()=>{}).finally(()=>{this.trigger("sync")}).tap(()=>{var e=window.performance.now(),a=Math.round(e-t);this.logMetrics({type:"sync",syncTime:a}),this.forEach(e=>{e.msgs.length>e.totalCount&&__LOG__(2)(P(),e.totalCount,e.msgs.length)})}):Promise.resolve(void 0)}logMetrics(e){var t;t="sync"===e.type?new g.default.WebcStatusSync({webcStatusSyncT:e.syncTime}):new g.default.WebcStatusSession({webcStatusSessionId:e.sessionId});var a=this.filter(e=>!e.contact.isMe),i=a.filter(e=>!e.contact.statusMute),r=i.filter(e=>e.hasUnread),s=i.filter(e=>!e.hasUnread),n=a.filter(e=>e.contact.statusMute),o=(0,d.default)(i.map(e=>e.unreadCount)),l=(0,d.default)(i.map(e=>e.readCount)),c=(0,d.default)(n.map(e=>e.totalCount));t.webcStatusRecentItemCount=o,t.webcStatusRecentRowCount=r.length,t.webcStatusViewedItemCount=l,t.webcStatusViewedRowCount=s.length,t.webcStatusMutedItemCount=c,t.webcStatusMutedRowCount=n.length,t.commit()}hasSynced(){return!!this.checksum}handleUpdate(e,t,a){var i=e.id.fromMe?(0,h.getMaybeMeUser)():e.author;if(this.updateChecksum(t),this.hasSynced()){if(a)return!0;var r=this.get(i);if(r){var s=p.default.supportsFeature(p.default.F.MD_BACKEND)||r.totalCount===r.msgs.length;if("revoke"===e.subtype){var n=r.msgs.toArray().slice(0,r.totalCount-r.unreadCount),d=(0,o.default)(n,e=>e.id.toString()),l={totalCount:r.totalCount-1};d.find(t=>t===e.protocolMessageKey.toString())||r.readKeys[e.protocolMessageKey.toString()]||(l.unreadCount=r.unreadCount-1),r.set(l)}else{var c={totalCount:r.totalCount+1};e.invis||(c.unreadCount=r.unreadCount+1),c.t=e.t,r.set(c)}return!s&&e.body&&b.default.createFromBase64Jpeg(e.body).then(e=>{r.pic=e}),s}return this.add({id:i,t:e.t,unreadCount:e.invis?0:1,totalCount:1}),!0}return!1}handleScore(e,t){var a=this.get(e);a?a.score=t:__LOG__(2)(T(),[e,t].join())}updateChecksum(e){e?this.hasSynced()&&(this.checksum=e):__LOG__(1)(M())}handle(e){var t=e.shift();if(Array.isArray(t))__LOG__(3)(C());else switch(t.type){case"read":this.updateChecksum(t.checksum);var a=this.get(t.chat);a?a.handleReadStatus(t.key):__LOG__(2)(S(),[t.chat,t.key].join());break;case"privacy":break;case"score":for(var i=0;i<t.scores.length;i++){var{jid:r,score:s}=t.scores[i];this.handleScore(r,s)}this.sort();break;default:__LOG__(3)(y(),t.type)}}addStatusMessages(e,t){return m.default.processMultipleMessages((0,j.createWid)(u.default.STATUS_WID),t,{add:"after",isHistory:!0})}getUnexpired(e){var t=this.filter(e=>e.totalCount>0&&c.default.globalUnixTime()-e.t<=86400&&e.contact.isMyContact&&!e.contact.isMe);return e?(0,n.default)(t,e=>e.unreadCount>0):(0,n.default)(t,e=>0===e.unreadCount)}getMyStatus(){var e=this.filter(e=>e.contact.isMe);if((0,s.default)(e));else if(!(c.default.globalUnixTime()-e[0].t>86400))return e[0]}}t.StatusV3Collection=A,A.model=_.default,A.comparator=(e,t)=>v.default.statusRanking&&p.default.supportsFeature(p.default.F.STATUS_RANKING)&&e.score!==t.score?t.score-e.score:t.t-e.t;var w=new A;t.default=w},bgchgjadcf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["gif","vcard","frequent"]}},bgdcgdigif:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CALL_TYPES=void 0;var r=i(a("dcaifjegcg")),s=a("jgidicjf");t.CALL_TYPES={VOICE:"VOICE",VIDEO:"VIDEO"};class n extends r.default{constructor(...e){super(...e),this.callId=(0,r.session)(),this.state=(0,r.session)(s.CALL_UI_STATES.NONE),this.from=(0,r.session)(),this.to=(0,r.session)(),this.type=(0,r.session)(),this.muted=(0,r.session)(),this.peerMuted=(0,r.session)(),this.speaker=(0,r.session)(),this.outgoing=(0,r.session)(),this.startTime=(0,r.session)(),this.showFullscreenCallView=(0,r.session)(!1),this.showCallStatusBar=(0,r.session)(!1),this.externalInputAvailable=(0,r.session)(),this.interrupted=(0,r.session)(),this.peerBusy=(0,r.session)(),this.peerVideoState=(0,r.session)(),this.voipWindowId=(0,r.session)(),this.isGroup=(0,r.session)(),this.groupCallParticipants=(0,r.session)()}onStateChange(){}onAudioOutputChange(){}overrideOutputRoute(){return Promise.resolve()}}t.default=n,n.Proxy="callUi"},bgdcggcgjd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("diaifdhffc"),s=i(a("cahfddcdga")),n={parsePaymentInfo:function(e,t){t&&(e.paymentStatus=t.status,e.paymentCurrency=t.currency||"",e.paymentAmount1000=(0,s.default)((0,r.maybeNumberOrThrowIfTooLarge)(t.amount1000),"maybeNumberOrThrowIfTooLarge(paymentInfo.amount1000)"),e.paymentMessageReceiverJid=this.decodeJid((0,s.default)(t.receiverJid,"paymentInfo.receiverJid")),e.paymentExpiryTimestamp=(0,r.maybeNumberOrThrowIfTooLarge)(t.expiryTimestamp),e.paymentTransactionTimestamp=(0,s.default)((0,r.maybeNumberOrThrowIfTooLarge)(t.transactionTimestamp),"maybeNumberOrThrowIfTooLarge(paymentInfo.transactionTimestamp)"))}};t.default=n},bgdeabjbjd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("fjgaiebfh")),d=r(a("djjefddjdi")),l=r(a("dgdcjccfdi")),c=e=>{var t=e.hasCaption?e.children:n.createElement("div",{className:d.default.text},n.createElement(o.default,{msg:e.msg,theme:"placeholder"},e.children)),a=e.iconName?n.createElement("div",{className:d.default.icon},n.createElement(l.default,{name:e.iconName})):null;return n.createElement("div",{className:(0,s.default)(d.default.container,{[d.default.containerSmallIcon]:"small-icon"===e.theme})},a,t)};t.default=c},bgdffaggae:function(e,t){e.exports={pipBtn:"_1u_bL",player:"NkqSF",preview:"edRAi"}},bgebiidch:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e[0]){case"asleep":break;case"killsw":s.default.killServiceWorker();break;case"update":case"update_desktop":break;default:__LOG__(3)(n(),e[0])}};var r=i(a("dfadhaifh")),s=i(a("cbbhbjebii"));function n(){var e=(0,r.default)(["Stream:handle unknown cmd ",""]);return n=function(){return e},e}},bgfajhfjhf:function(e,t){e.exports={icon:"b7xzZ",in:"_1IRkT",out:"_1HVT6",blue:"_1Fcp3",gray:"_2UQ4S",green:"_3UOFK"}},bgfcjjddjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlocklistCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("chghgadcbg"));class n extends r.default{constructor(){super(),this.listenTo(this,"add",this.blockContact),this.listenTo(this,"remove",this.unblockContact)}blockContact(e){e.contact().isContactBlocked=!0}unblockContact(e){e.contact().isContactBlocked=!1}}t.BlocklistCollection=n,n.model=s.default;var o=new n;t.default=o},bgffafigi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgAck=h,t.processOrphanAck=function(e,t){var a=o.default.get(e);if(!a)return Promise.reject("processOrphanAck: no msg found for id ".concat(e.toString()));if(!a.to.isUser())return __LOG__(3)(f()),Promise.resolve();return(0,s.linkOrphanAck)(a).then(e=>{e.forEach(e=>{h(a,t,e)})}).catch(()=>{__LOG__(4,!1,new Error)(u()),SEND_LOGS("processOrphanAck failed")})};var r=i(a("dfadhaifh")),s=a("chhjhdffbh"),n=a("cbcjbjhaib"),o=i(a("biecbbiiee")),d=i(a("eigdejjai")),l=i(a("jccfhaecf")),c=a("dcbdjheea");function u(){var e=(0,r.default)(["Assertion failed!"]);return u=function(){return e},e}function f(){var e=(0,r.default)(["linkOrphanAck: not implemented for group/broadcast message"]);return f=function(){return e},e}function h(e,t,a){var{ack:i,t:r,from:s,to:o}=a,{remote:u,id:f}=e.id;if(e.updateAck(i,r),(0,n.getBridge)().fireAndForget("msg_collection","updateLastReceipt",{wid:u,t:r}),l.default.isUser(u)){if(d.default.updateInfo(f,s,o,i,u,r),t&&l.default.isBroadcast(t)){var h=t instanceof l.default?t:(0,c.createWid)(t);d.default.updateInfo(f,s,h,i,u,r)}}else l.default.isStatusV3(u)&&d.default.updateInfo(f,s,u,i,o,r)}},bgfiihbdbc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){!l.default.supportsFeature(l.default.F.MD_BACKEND)&&n.default.protoVersion&&_.default.clearBPQueue().catch(()=>{});n.default.delete(),f.default.delete(),h.default.delete(),m.default.delete(),E.default.delete(),_.default.delete(),j(r.default),j(p.default),g.default.forEach(e=>{j(e.stickers)}),j(g.default);var e=["Chat","StatusV3","StickerPack","Sticker"];Object.keys(s.default).forEach(t=>{e.includes(t)||j(s.default[t])}),(0,u.delistAndDeleteAllMedia)(),(0,d.clearAllTemporaryStorageData)(),n.default.blockStoreAdds=!0,b.default.clear(),c.default.clear(),(0,o.default)()};var r=i(a("dbdfbgehgj")),s=i(a("cjedbbhjhh")),n=i(a("bjigbaghc")),o=i(a("eceedbidfb")),d=a("ddbdgibbbi"),l=i(a("bhbdiadfhj")),c=i(a("eceibhbeff")),u=a("biiigbhida"),f=i(a("dbgbceihf")),h=i(a("bfgbdiffgd")),p=i(a("bgcdajbhif")),g=i(a("fagbfehid")),m=i(a("dcdiaahjj")),b=i(a("ciaihgijjb")),v=a("hjbbdjjdf"),_=i(a("cfidecfjad")),E=i(a("ecadbdfdef"));function j(e){var t=[...e.models];e.reset(),t.forEach(e=>{(0,v.isFunction)(e.delete)&&e.delete()}),e.delete()}},bggagdeaef:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dagbcgeifg")),n=r(a("dfadhaifh")),o=r(a("cdfdfciehj")),d=r(a("bebajedcaf")),l=r(a("bejjegijhj")),c=r(a("eaaagccfda")),u=r(a("hhegggegb")),f=r(a("ceffhbhahb")),h=a("djfeeacgad"),p=i(a("ddhijeejag")),g=r(a("djciiabagi")),m=r(a("cdbddjfbcd")),b=r(a("cgijjjgici")),v=r(a("cfadcbbiie")),_=r(a("ccbgfecegc")),E=r(a("hgigjbgie")),j=r(a("dcjeiegcig")),y=r(a("cbedjffdai")),S=r(a("deibeighce")),C=r(a("bcbfjdecaj")),M=r(a("cbcchiaeeb")),T=a("bgihjbde"),P=i(a("cajijabhgb")),O=a("bgddggdhc"),N=r(a("ddajbaceej")),I=a("dhegcfddhg"),A=r(a("bdjjabfecc")),w=r(a("ebddggeaib")),R=r(a("gacgicgcd")),D=a("cddgfddjc"),L=r(a("befidafejc")),k=r(a("biecbbiiee")),x=r(a("dhccahhefj")),G=r(a("jcfhjhibi")),U=r(a("cfghebjhih")),F=r(a("dgdcjccfdi")),B=i(a("bjhgigfbec")),V=r(a("bcjcbbafcj")),H=r(a("cgjdibiahi")),W=r(a("dfciadajdf")),K=r(a("dhidhbafac")),Y=a("dgdhcdgffe"),q=r(a("bcifhbgija")),z=r(a("didfdhbecg"));function Q(){var e=(0,n.default)(["MRM noEarlierMsgs on chat "," is true but chat.msgChunks has length: ",",\nand chat.msgs.length: ",""]);return Q=function(){return e},e}function J(){var e=(0,n.default)(["ConversationMsgs:loadRecentMsgs failed\n",""],["ConversationMsgs:loadRecentMsgs failed\\n",""]);return J=function(){return e},e}function X(){var e=(0,n.default)(["ConversationMsgs:loadEarlierMsgs failed\n",""],["ConversationMsgs:loadEarlierMsgs failed\\n",""]);return X=function(){return e},e}class Z extends p.Component{constructor(e){super(e),this.chatOpenScrollTimestamp=0,this.renderedMsgCache=new Map,this.visibleMsgOrder=[],this.setScrollContainer=e=>this.scrollContainer=e,this.onPanesWillChange=()=>{var e=this.visibleMsgOrder[this.visibleMsgOrder.length-1];if(e){var t=e.toString(),a=this.messageList;if(t&&a){var i=a.getMsgWrapperRef(t);if(i){var r=this.scrollContainer,s=(0,O.forbiddenAssertDOMNode)(i);if(!r)return;var n=this.getMsgBottom(r,s);this.panesChanging={msg:s,container:r,msgBottom:n}}}}},this.onPanesDidChange=()=>{if(this.panesChanging){var{msg:e,container:t,msgBottom:a}=this.panesChanging;this.setMsgBottom(t,e,a),this.panesChanging=void 0}},this.attachMsgCollectionObservers=e=>{var{listeners:t,chat:a,msgCollection:i}=this.props,{focusCtx:r,chat:s,msgCollection:n}=e;i&&(t.remove(i,"remove_msgs",this.onMsgsDelete),t.remove(a.msgs,"change:last",this.onLastMsgChanged)),t.remove(a,"change:unreadCount",this.onUnreadCount),null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this._msgLoadStateChangeUnsubscribe=n.onMsgLoadStateChange(this._handleMsgLoadStateChange),t.add(s,"change:unreadCount",this.onUnreadCount),t.add(s.msgs,"change:last",this.onLastMsgChanged),t.add(n,"remove_msgs",this.onMsgsDelete),r&&n.loadAroundPromise&&n.loadAroundPromise.checkpoint(this.props.rejectOnUnmount()).catchType(P.Unmount,()=>{}).catchType(T.E404,()=>{_.default.openToast(p.createElement(B.default,{msg:A.default.t(899),id:(0,B.genId)()}))})},this.updateForCurrentPosition=(0,u.default)(()=>{var e=this.props.rejectOnUnmount();(0,M.default)({signal:e}).then(()=>{e.isRejected()||(this.updateRenderedMsgCache(),g.default.unstable_batchedUpdates(()=>{var{scrollContainer:e}=this;if(null!=e){e.scrollTop<300&&this.loadEarlierMsgs();var{isNearBottom:t,cursor:a}=this.state,i=this.nearBottom();i?(this.maybeSendSeen(!0),this.isMostRecentCMC()&&t!==i&&this.setState({isNearBottom:i,newUnread:0}),(a.getEnd(this.props.msgCollection)<this.props.msgCollection.length||!this.isMostRecentCMC())&&this.loadRecentMsgs()):t!==i&&this.setState({isNearBottom:i})}}))}).catchType(b.default,()=>{})},100),this._handleMsgLoadStateChange=()=>{var e=this.state.msgLoadState,t=te(this.props.msgCollection),a={msgLoadState:t};if(e.isLoadingAroundMsgs&&!t.isLoadingAroundMsgs){var i=ee(this.props.focusCtx),r=i&&i.msg;r&&(a=(0,o.default)((0,o.default)({},a),{},{cursor:this.state.cursor.init(r.id,this.props.msgCollection),focusCtx:i}))}this.setState(a)},this.onResizeThrottle=(0,u.default)(()=>{this.updateRenderedMsgCache()},100),this.onMsgKeyChange=({newKey:e,oldKey:t})=>{var a=t.toString(),i=e.toString(),r=this.renderedMsgCache.get(a);r&&(this.renderedMsgCache.delete(a),this.renderedMsgCache.set(i,r));for(var s=0;s<this.visibleMsgOrder.length;++s)if(this.visibleMsgOrder[s]===t){this.visibleMsgOrder[s]=e;break}},this.onResizeDebounce=(0,c.default)(()=>{var e=this.nearBottom();this.nearBottom!==e&&this.setState({isNearBottom:e})},100),this.loadEarlierMsgs=()=>{var{chat:e,msgCollection:t}=this.props,{cursor:a,msgLoadState:i}=this.state;if(a.getStart(t)>0)a.hasBefore(t)&&this.setState({cursor:a.loadBefore(t)});else{if(i.isLoadingEarlierMsgs||i.isLoadingAroundMsgs)return;if(ae(e,this.isMostRecentCMC(),i)&&(t.msgLoadState.noEarlierMsgs=!1),t.msgLoadState.noEarlierMsgs)return;e.loadEarlierMsgs(t).checkpoint(this.props.rejectOnUnmount()).then(()=>{var e={};this.state.focusCtx||(e.focusCtx=this.getUnreadFocusCtx(this.props)),a.hasBefore(t)?(e.cursor=a.loadBefore(t),this.setState(e)):this.setState(e)}).catchType(P.Unmount,()=>{}).catch(e=>{__LOG__(2)(X(),e)})}},this.loadRecentMsgs=()=>{var{chat:e,msgCollection:t}=this.props,{cursor:a,msgLoadState:i}=this.state;if(a.getEnd(t)<t.length)this.setState({cursor:a.loadAfter(t)});else{if(i.isLoadingRecentMsgs||i.isLoadingAroundMsgs)return;this.loadRecentMsgsPromise=e.loadRecentMsgs(t).cancellable().checkpoint(this.props.rejectOnUnmount()).then(()=>{a.hasAfter(t)?this.setState({cursor:a.loadAfter(t)}):this.state.cursor.getEnd(t)>=t.length&&this.isMostRecentCMC()&&this.forceUpdate()}).catchType(P.Unmount,()=>{}).catch(e=>{__LOG__(2)(J(),e)}).finally(()=>{this.loadRecentMsgsPromise=null})}},this.onComposeHeightChange=e=>{var t=this.scrollContainer;if(t)if(e){if(t&&e<0&&t.scrollTop===t.scrollHeight-t.clientHeight)return;this.setScrollTop(t,t.scrollTop+e)}else{var a=t.scrollHeight-(t.scrollTop+t.clientHeight);(0,q.default)(t,{tween:18},{progress:()=>{this.setScrollTop(t,t.scrollHeight-a-t.clientHeight)},duration:300},[.1,.82,.25,1])}},this.getScrollBottom=()=>{var e=this.scrollContainer;return e?e.scrollHeight-(e.scrollTop+e.clientHeight):0},this.hideStickyDateMarker=new h.ShiftTimer(()=>{this.stickyDateMarker&&this.stickyDateMarker.setVisibility(!1)}),this.updateStickyDateMarker=new h.ShiftTimer(e=>{var{dateMarkerIdx:t,silent:a=!1}=e||{},i=this.messageList;if(i&&"number"==typeof t){a||Date.now()-(this.programmaticScroll||0)<200||this.showStickyDateMarker();var r=i.getDateMarkerRef(t);if(-1===t)this.stickyDateMarker.updateDateMarkerText();else if(r){var s=r.getTimestamp(),n=v.default.relativeDateStr(s).toUpperCase();this.stickyDateMarker.updateDateMarkerText(n)}if(this.dateMarkerIdx!==t){var o=i.getDateMarkerRef(this.dateMarkerIdx);o&&o.show(),r&&r.hide()}}}),this.isMsgVisible=(e,t=!1)=>this.renderedMsgCache.has(e.toString())&&(!!t||this.getMsgComponent(e)),this.getSequentialMsg=e=>{var t=this.getMsgs();if(t){var a=t.findIndex(t=>e.equals(t.id));return a>=t.length-1?null:t[a+1]}},this.onScroll=()=>{this.updateForCurrentPosition()},this.onWindowGainedFocus=()=>{var e=this.props.chat;!this.clearUnreadTimer&&e.isDirty()&&(this.clearUnreadTimer=setTimeout(()=>{delete this.clearUnreadTimer,this.maybeSendSeen()},E.default.CLEAR_CHAT_DIRTY_WAIT))},this.onWindowLostFocus=()=>{if(this.state.unreadCount&&this.isMostRecentCMC()){var e=this.props.chat;0===e.unreadCount&&this.setState({unreadCount:0}),e.markedUnread=!1}},this.jumpToBottom=()=>{var{msgCollection:e}=this.props;this.isMostRecentCMC()&&this.state.cursor.getEnd(e)>=e.length?this.scrollToBottom():_.default.openChatBottom(this.props.chat).then(e=>{e&&_.default.focusChatTextInput(this.props.chat)})},this.scrollToBottom=e=>{var t=this.scrollContainer;t&&this.setScrollTop(t,t.scrollHeight),e&&e();var a=this.props.rejectOnUnmount();(0,M.default)({signal:a}).then(()=>{a.isRejected()||this.setState({cursor:this.state.cursor.resetBeforeCursor(this.props.msgCollection)})}).catchType(b.default,()=>{})},this.onLastMsgChanged=(e,t)=>{var{msgCollection:a}=this.props,{focusCtx:i}=this.state,{cursor:r}=this.state,s=a.last();if(this.isMostRecentCMC()){var n={},o=document.hasFocus(),l=this.nearBottom(),c=l;o&&l?(n.unreadCount=0,n.focusCtx=void 0,r=r.setFocusedMsgKey(a)):s&&s.isSentByMe&&t&&(c=!0,this.state.unreadCount&&(n.unreadCount=0,n.focusCtx=void 0,r=r.setFocusedMsgKey(a)),this.jumpToBottom()),(r=i&&!n.hasOwnProperty("focusCtx")?r.loadAfter(a,{count:1}):r.loadBeforeCapped(a,{count:1}))!==this.state.cursor&&(n.cursor=r),(0,d.default)(n)||this.setState(n,()=>{c&&this.scrollToBottom()})}else t&&e&&e.isSentByMe&&this.jumpToBottom()},this.onUnreadCount=()=>{var{chat:e}=this.props,t=this.nearBottom(),a=document.hasFocus();this.maybeSendSeen(t,a);var i={};if(e.unreadCount&&!e.pendingSeenCount&&this.isMostRecentCMC()){i.unreadCount=e.unreadCount;var r=this.getUnreadFocusCtx();r&&(i.focusCtx=r,i.cursor=this.state.cursor.setFocusedMsgKey(this.props.msgCollection,r.msg&&r.msg.id))}var s=t&&i.unreadCount-this.state.unreadCount==1;(!t&&this.isMostRecentCMC()||!e.pendingSeenCount&&this.state.newUnread!==e.unreadCount)&&(i.newUnread=e.unreadCount),(0,d.default)(i)||this.setState(i,()=>{s&&this.scrollToBottom()})},this.onMsgsDelete=()=>{var e=this.state.cursor.ensureValidFocus(this.props.msgCollection);this.state.cursor!==e?this.setState({cursor:e}):this.forceUpdate()},this.onPageUpDown=()=>{N.default.focus(this.scrollContainer)},this.scrollMessages=()=>{var e=this.visibleMsgOrder[this.visibleMsgOrder.length-1];if(e){var t=this.messageList;if(t){var a=t.getMsgWrapperRef(e.toString());if(a){var i=(0,O.forbiddenFindDOMNode)(a);if(i){var r=1===this.visibleMsgOrder.length?i.clientHeight:0,s=this.scrollContainer;(0,q.default)(i,"stop"),s&&(0,q.default)(s,"stop"),(0,q.default)(i,"scroll",{duration:300,container:s,offset:r})}}}}},this.onKeyPress=e=>{e.metaKey||e.ctrlKey||(e.preventDefault(),"Enter"!==e.key||e.shiftKey?_.default.pasteChatTextInput(this.props.chat,String.fromCharCode(e.charCode)):_.default.enterChatTextInput(this.props.chat))},this.onContextMenu=e=>{var t,a=this.props.chat,i=this.props.onSelectMessages;if(a.isUser)t=p.createElement(j.default,{chat:a,toContextMenuManager:!0,contact:a.contact,onSelectMessages:i});else if(a.isGroup)t=(0,D.groupMenu)(a,i);else{if(!a.isBroadcast)return;t=(0,D.broadcastMenu)(a,i)}e.preventDefault(),e.stopPropagation(),e.persist(),this.setState({contextMenu:{menu:t,event:e}})},this.onContextClose=()=>{this.setState({contextMenu:null})},this.onPaste=e=>{e.preventDefault(),e.persist(),_.default.sendPasteToCompose(this.props.chat,e)},this._notifyChatRendered=()=>{this.props.notifyChatRendered&&this.props.notifyChatRendered(this.getMsgs())};var{chat:t}=e;this.state=(0,o.default)((0,o.default)({},this._getInitialCursorAndFocusContext(e)),{},{unreadCount:t.pendingSeenCount?0:t.unreadCount,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:y.default.get().textsize,msgLoadState:te(e.msgCollection)})}_getInitialCursorAndFocusContext(e){var{focusCtx:t,chat:a,msgCollection:i}=e,r=ee(t)||this.getUnreadFocusCtx(e),s=r&&r.msg,n=s&&s.id;return{cursor:G.default.create({msgCollection:i,focusedMsgKey:n,type:a.isGroup?E.default.RENDER_CURSOR.GROUP_CONVERSATION:E.default.RENDER_CURSOR.CONVERSATION}),focusCtx:r}}componentWillUnmount(){null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this.updateStickyDateMarker.cancel(),this.updateForCurrentPosition.cancel(),this.onResizeThrottle.cancel(),this.onResizeDebounce.cancel(),this.hideStickyDateMarker.cancel(),this.clearUnreadTimer&&clearTimeout(this.clearUnreadTimer),this.maybeSendSeen(),this.props.chat.markedUnread=!1}componentDidMount(){var{chat:e,listeners:t}=this.props;t.add(_.default,"scroll_chat_to_bottom",e=>{this.scrollToBottom(e)}),t.add(_.default,"scroll_messages",this.scrollMessages),t.add(_.default,"textsize_change",e=>this.setState({textsize:e})),t.add(_.default,"panes_will_change",this.onPanesWillChange),t.add(_.default,"panes_did_change",this.onPanesDidChange),t.add(_.default,"scroll_to_focused_msg",()=>{this.chatOpenScrollTimestamp=Date.now()}),t.add(window,"focus",this.onWindowGainedFocus),t.add(window,"blur",this.onWindowLostFocus),t.add(window,"resize",this.onResizeThrottle),t.add(window,"resize",this.onResizeDebounce),t.add(k.default,"change:msgKey",this.onMsgKeyChange),this.attachMsgCollectionObservers(this.props);var a=this.props.rejectOnUnmount();(0,M.default)({signal:a}).then(()=>{a.isRejected()||this.showStickyDateMarker()}).catchType(b.default,()=>{}),this.props.updateOpenedChatInfo({chat:e}),(0,Y.sendSeen)(e),this.updateForCurrentPosition(),this._notifyChatRendered()}UNSAFE_componentWillReceiveProps(e){e.selectable===this.props.selectable&&(this.loadRecentMsgsPromise&&this.loadRecentMsgsPromise.cancel(),this.setState((0,o.default)({msgLoadState:te(e.msgCollection)},this._getInitialCursorAndFocusContext(e))),this.attachMsgCollectionObservers(e))}shouldComponentUpdate(e,t){if(!(0,m.default)(e,this.props))return!0;var a=this.state,{msgLoadState:i}=a,r=(0,s.default)(a,["msgLoadState"]),{msgLoadState:n}=t,o=(0,s.default)(t,["msgLoadState"]);return!(0,m.default)(n,i)||!(0,m.default)(o,r)}componentDidUpdate(e){var{chat:t}=this.props;this.updateRenderedMsgCache(e.chat===t),this.props.updateOpenedChatInfo({chat:t}),e.msgCollection!==this.props.msgCollection&&this.updateForCurrentPosition(),this._notifyChatRendered()}getMsgBottom(e,t){var a=e.scrollTop,i=e.scrollHeight,r=e.clientHeight;return i-(t.offsetTop+t.clientHeight+(i-(a+r)))}setMsgBottom(e,t,a){var i=t.offsetTop+t.clientHeight+a-e.clientHeight;this.setScrollTop(e,i)}getRenderedMessageCount(){return this.getMsgs().length}isMostRecentCMC(){return this.props.chat.msgs===this.props.msgCollection}setScrollBottom(e){var t=this.scrollContainer;t&&this.setScrollTop(t,t.scrollHeight-e-t.clientHeight)}setScrollTop(e,t){this.programmaticScroll=Date.now(),e&&(e.scrollTop=t)}showStickyDateMarker(){this.stickyDateMarker&&this.stickyDateMarker.setVisibility(!0),this.hideStickyDateMarker.debounce(3e3)}nearBottom(){var e=this.scrollContainer;return!!e&&e.scrollTop+E.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}getUnreadFocusCtx(e){var t,{chat:a,msgCollection:i,focusCtx:r}=e||this.props;if(a.unreadCount?t=a.unreadCount:this.state&&this.state.unreadCount&&(t=this.state.unreadCount),(!r||this.isMostRecentCMC())&&t){var s=i.toArray().filter(e=>e.isUnreadType).reverse().slice(0,t);if(s.length===t)return{msg:s=s[s.length-1],isUnreadDivider:a.shouldShowUnreadDivider,highlightMsg:!1}}}getMsgs(){var{focusCtx:e,msgCollection:t}=this.props,{cursor:a,msgLoadState:i}=this.state;return e&&i.isLoadingAroundMsgs?[]:t.toArray().slice(a.getStart(t),a.getEnd(t))}updateRenderedMsgCache(e){var t=this.messageList;if(t){for(var a=[],i=t.props.msgs,r=new Map,s={},n=0,o=i.length-1;n<o;){var d=Math.floor((n+o)/2),l=i[d].id.toString(),c=t.getMsgWrapperRef(l);t.getMsgVisibility(c).visibility===E.default.VISIBILITY.ABOVE?n=d+1:o=d}for(var u=n;u<i.length;u++){var f=i[u].id.toString(),h=t.getMsgWrapperRef(f);if(!h)throw new Error("msgRef not found!");var p=t.getMsgVisibility(h);if(p.visibility!==E.default.VISIBILITY.VISIBLE)break;s[f]={offset:p.offset,t:i[u].t},r.set(f,h),a.push(i[u].id)}if(this.scrollContainer){var g=this.scrollContainer.scrollTop;n=0,o=Object.keys(t.renderedDateMarkers).length-1;var m=t.getDateMarkerRef(0),b=m&&(0,O.forbiddenAssertDOMNode)(m);if(b&&b.offsetTop<=g+8.5)for(;n<o;){var v=Math.ceil((n+o)/2),_=t.getDateMarkerRef(v);if(!_)throw new Error("DateMarkerRef: ".concat(v," not found. ").concat(Object.keys(t.renderedDateMarkers).toString(),"}"));(0,O.forbiddenAssertDOMNode)(_).offsetTop>g+8.5?o=v-1:n=v}else n=-1;this.updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:n,silent:e}),this.dateMarkerIdx=n,this.pauseHiddenGifs(this.renderedMsgCache,r),this.renderedMsgCache=r,this.visibleMsgOrder=a,this.props.updateOpenedChatInfo({renderedMsgsInfo:s,visibleMsgOrder:a,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}}else this.renderedMsgCache.clear()}getMsgComponent(e){var t=this.messageList;if(t)return t.getMsgComponentRef(e.toString())}pauseHiddenGifs(e,t){e.forEach((e,a)=>{if(!t.has(a)){var i=this.props.msgCollection.get(a);i&&i.isGif&&"function"==typeof e.pause&&e.pause()}})}maybeSendSeen(e,t){var a=e,i=t,{chat:r,msgCollection:s}=this.props,{cursor:n}=this.state;if(r.isDirty()&&this.isMostRecentCMC()&&n.getEnd(s)>=s.length&&((0,l.default)(i)&&(i=document.hasFocus()),i&&((0,l.default)(a)&&(a=this.nearBottom()),a)))return(0,Y.sendSeen)(r),!0}render(){var e,{chat:t,msgCollection:a,selectable:i,onMessageSelect:r}=this.props,{focusCtx:s,msgLoadState:n}=this.state,o=(0,f.default)(S.default.pane,{[S.default.selectable]:i}),d=this.isMostRecentCMC(),l=E.default.TEXTSIZE_CLASS_MAP.find(e=>e.scale===this.state.textsize);l&&(e=l.classname);var c,u,h,g,m=this.getMsgs(),b=p.createElement(L.default,{ref:(0,I.GetRef)("messageList",this),chat:t,unreadCount:this.state.unreadCount,selectable:i,onMessageSelect:r,msgs:m,focusedMsgCtx:s,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,getSequentialMsg:this.getSequentialMsg,isLoadingEarlierMsgs:n.isLoadingEarlierMsgs}),v=p.createElement(R.default,{direction:"around",isMostRecentCMC:d,loadMoreMsgs:()=>{},isLoadingEarlierMsgs:n.isLoadingEarlierMsgs,isLoadingRecentMsgs:n.isLoadingRecentMsgs,isLoadingAroundMsgs:n.isLoadingAroundMsgs});(this.state.cursor.getStart(a)>0||!n.noEarlierMsgs||ae(t,d,n))&&(c=p.createElement(R.default,{direction:"earlier",isMostRecentCMC:d,loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:n.isLoadingEarlierMsgs,isLoadingRecentMsgs:n.isLoadingRecentMsgs,isLoadingAroundMsgs:n.isLoadingAroundMsgs})),(this.state.cursor.getEnd(a)<a.length||!d)&&(u=p.createElement(R.default,{direction:"recent",isMostRecentCMC:d,loadMoreMsgs:this.loadRecentMsgs,isLoadingEarlierMsgs:n.isLoadingEarlierMsgs,isLoadingRecentMsgs:n.isLoadingRecentMsgs,isLoadingAroundMsgs:n.isLoadingAroundMsgs})),s&&n.isLoadingAroundMsgs?(u=void 0,c=void 0):v=void 0;var _,{isNearBottom:j,newUnread:y}=this.state;if(!j||!n.isLoadingAroundMsgs&&!d){y&&t.unreadCount&&(g=p.createElement(K.default,{count:this.state.newUnread,key:"icon-unread"}));var M=(0,f.default)(S.default.incoming,{[S.default.ffFix]:V.default.isGecko});h=p.createElement("div",{className:M,onClick:this.jumpToBottom,role:"button"},p.createElement(z.default,{transitionName:"pop",className:S.default.unread},g),p.createElement(F.default,{name:"down",className:S.default.iconDown}))}return this.state.contextMenu&&(_=p.createElement(H.default,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},p.createElement(W.default,{contextMenu:this.state.contextMenu}))),p.createElement(C.default,{className:e},p.createElement(U.default,{ref:(0,I.GetRef)("stickyDateMarker",this)}),p.createElement(z.default,{transitionName:"pop"},h),p.createElement("div",{className:o,ref:this.setScrollContainer,onScroll:this.onScroll,onKeyPress:this.onKeyPress,onContextMenu:i?null:this.onContextMenu,onPaste:this.onPaste,tabIndex:"0"},void 0,p.createElement("div",{className:S.default.empty}),v,c,b,u),_)}}var $=(0,x.default)((0,w.default)(Z));function ee(e){return null==e?null:null!=e.key?(0,o.default)((0,o.default)({},e),{},{msg:k.default.get(e.key)}):e}function te(e){var{msgLoadState:t}=e;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}}function ae(e,t,a){var i=a.noEarlierMsgs&&e.shouldAppearInList&&t&&e.msgChunks.filter(e=>e.filter(t=>t.msgChunk===e).length>0).length>0;return i&&(__LOG__(4,!1,new Error)(Q(),String(e.id),e.msgChunks.length,e.msgs.length),SEND_LOGS("noEarlierMsgs-error")),i}t.default=$},bggcajdfcf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ParticipantsList=void 0;var s=a("djfeeacgad"),n=r(a("ddhijeejag")),o=i(a("dcifcfjhgj")),d=i(a("bdjjabfecc")),l=i(a("ebddggeaib")),c=i(a("dcdbbhicce"));class u extends n.PureComponent{constructor(e){super(e),this.onParticipantsUpdate=()=>{this.recalculateParticipantsTimer.debounce(100)},this.recalculateParticipantsTimer=new s.ShiftTimer(()=>{this.setState({participants:g(this.props.groupMetadata.participants)})});var{listeners:t,groupMetadata:{participants:a}}=e;this.state={participants:g(a)},t.add(a,"sort remove reset add",this.onParticipantsUpdate)}componentDidMount(){this.ensureParticipantsSorted()}componentDidUpdate(e){this.ensureParticipantsSorted();var t=e.groupMetadata.participants,a=this.props.groupMetadata.participants;if(a!==t){var i=this.props.listeners;i.remove(t,"sort remove reset add",this.onParticipantsUpdate),i.add(a,"sort remove reset add",this.onParticipantsUpdate),this.recalculateParticipantsTimer.cancel(),this.setState({participants:g(a)})}}componentWillUnmount(){this.recalculateParticipantsTimer.cancel()}ensureParticipantsSorted(){this.props.groupMetadata.participants.ensureSorted()}render(){var e=this.props.groupMetadata.support?d.default.t(1299):this.props.overridingText||this.state.participants.join(d.default.t(546))||this.props.placeholder;return e?n.createElement(o.default,{text:e,location:this.props.location}):null}}u.CONCERNS={groupMetadata:["participants","support"]};var f=(0,l.default)((0,c.default)(u,u.CONCERNS));t.ParticipantsList=f;class h extends n.PureComponent{render(){var e=this.props,t=e.presence.withholdDisplay?e.placeholder:e.presence.getFormattedString();return n.createElement(f,{groupMetadata:e.groupMetadata,overridingText:t,placeholder:e.placeholder,location:e.location})}}h.CONCERNS={chatstate:["id","type","deny","t"],groupMetadata:["announce","participants"],presence:["forceDisplay","withholdDisplay"]};var p=(0,c.default)(h,h.CONCERNS);function g(e){return e.map(e=>e.contact.formattedShortNameWithNonBreakingSpaces)}t.default=p},bgheieccaj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnknownDataError=t.DEFAULT_ITEM_HEIGHT=t.DEFAULT_ITEM_WIDTH=void 0;var s=r(a("cdfdfciehj")),n=r(a("eaaagccfda")),o=r(a("ceffhbhahb")),d=a("bjhaecbifc"),l=i(a("ddhijeejag")),c=r(a("cbcdhhcfcd")),u=r(a("bebjeaagc")),f=r(a("dhgihfccic")),h=r(a("dbbcbbihjf")),p=r(a("ffahjhaig")),g=r(a("didfdhbecg"));t.DEFAULT_ITEM_WIDTH=72;t.DEFAULT_ITEM_HEIGHT=72;class m extends((0,d.customError)("UnknownDataError")){constructor(e){super("Unknown data encountered while rendering. Item key: ".concat(e.itemKey))}}t.UnknownDataError=m;class b extends l.Component{constructor(...e){super(...e),this.keyPool=new f.default,this.scrollFromStart=0,this.offsetFromStart=0,this.bodyDimension=0,this.listLength=0,this.hanging=!1,this.pointerEvents=!0,this.setRefList=e=>{this.refList=e},this.state={firstIndex:0,lastIndex:0,renderedListLength:0},this.setListLength=()=>{this.setState({renderedListLength:this.listLength})},this.getListLength=()=>this.state.renderedListLength,this.getDimension=(e,t)=>"horizontal"===t?this.getItemWidth(e):this.getItemHeight(e),this.getItemWidth=e=>null!=e.width&&e.width>0?e.width:this.props.defaultItemWidth,this.getItemHeight=e=>null!=e.height&&e.height>0?e.height:this.props.defaultItemHeight,this.onLayout=e=>{var t=this.refList;if(t){var a="horizontal"===this.props.direction?t.getBoundingClientRect().left-e.position.left:t.getBoundingClientRect().top-e.position.top,i=Math.max(a,0);this.bodyDimension="horizontal"===this.props.direction?e.width:e.height,this.offsetFromStart=i,this.setState(this.computeIndexes(this.props))}},this.onScroll=()=>{this.animationFrame?this.hanging=!0:(this.hanging=!1,this.animationFrame=requestAnimationFrame(this._onScroll))},this._onScroll=()=>{this.disablePointerEvents();var{firstIndex:e,lastIndex:t}=this.state,a=this.props.flatListController.getScrollFromStart();if(null==a)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");this.scrollFromStart=Math.max(a,0);var i=this.computeIndexes(this.props);if(e===i.firstIndex&&t===i.lastIndex)return this.onFinishScroll();this.setState(i,this.onFinishScroll)},this.onFinishScroll=()=>{this.animationFrame=void 0,this.enablePointerEvents(),this.hanging&&this.onScroll()},this.enablePointerEvents=(0,n.default)(()=>{if(this.animationFrame)return this.enablePointerEvents();null!=this.busyId&&(u.default.clearBusy(this.busyId),delete this.busyId),this.props.onPointerEventsOn&&this.props.onPointerEventsOn();var e=this.refList;e&&(e.style.pointerEvents="auto"),this.pointerEvents=!1},150)}UNSAFE_componentWillMount(){this.computeData(this.props),this.setState({renderedListLength:this.listLength})}UNSAFE_componentWillReceiveProps(e){this.computeData(e);var t=this.computeIndexes(e);e.itemEnterAnimationsEnabled&&this.listLength<this.state.renderedListLength?this.setState(t):this.setState((0,s.default)((0,s.default)({},t),{},{renderedListLength:this.listLength}))}componentDidMount(){this.props.flatListController.registerList({handleLayout:this.onLayout,handleScroll:this.onScroll})}componentWillUnmount(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}computeData(e){var t=0;this.data=e.data.map(e=>{var a=(0,s.default)((0,s.default)({},e),{},{offset:t}),i=this.getDimension(e,this.props.direction);return t+=i,a}),this.listLength=t}computeIndexes(e){if(void 0===this.bodyDimension||void 0===this.offsetFromStart)throw new Error("FlatList:Computing FlatList without a valid Container");for(var{extraItems:t,forceConsistentRenderCount:a}=e,i=this.scrollFromStart,r=0,s=0;s<this.data.length;s++){var n=this.data[s],o=this.getDimension(n,this.props.direction);if(this.offsetFromStart+n.offset+o>i){r=s;break}}for(var d=this.data.length-1,l=a?Math.min(this.data[r].offset+this.bodyDimension,this.listLength):Math.min(i+this.bodyDimension,this.listLength+this.offsetFromStart),c=r;c<this.data.length;c++){var u=this.data[c],f=this.getDimension(u,this.props.direction);if(this.offsetFromStart+u.offset+f>=l){d=c;break}}var h=t,p=t-r;p>0&&(h+=p);var g=t,m=d+t-this.data.length;return m>0&&(g+=m),{firstIndex:Math.max(r-g,0),lastIndex:Math.min(d+h,this.data.length-1)}}cancelScroll(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}disablePointerEvents(){if(this.busyId=u.default.setBusy(this.busyId),!this.pointerEvents){this.props.onPointerEventsOff&&this.props.onPointerEventsOff();var e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}}scrollIntoViewIfNeeded(e,t=0){if(e<0||e>=this.data.length)throw new Error("Invalid Index.");var a=this.data[e].offset;(a<this.scrollFromStart-t||a>this.scrollFromStart+this.bodyDimension+t)&&this.props.flatListController.setScrollFromStart(a)}getComponents(){var{reorderAnimationsEnabled:e,renderItem:t}=this.props,{firstIndex:a,lastIndex:i}=this.state,r=this.data.slice(a,i+1);return this.keyPool.recycleKeysAndMap(r).map(({rctKey:a,data:i},r)=>{var n="horizontal"===this.props.direction?{width:this.getItemWidth(i)}:{height:this.getItemHeight(i)};return l.createElement(p.default,{key:a,data:(0,s.default)((0,s.default)({},i),n),animate:!!e&&h.default.shouldAnimate,zIndex:this.data.length-r-1,renderItem:t,listDirection:this.props.direction})})}render(){var{ariaLabel:e,role:t}=this.props,a="horizontal"===this.props.direction?{width:this.state.renderedListLength}:{height:this.state.renderedListLength};return l.createElement("div",{className:(0,o.default)(this.props.className),ref:this.setRefList},l.createElement("div",{"aria-label":e,className:(0,o.default)(c.default.viewport,{[c.default.horizontalListViewport]:"horizontal"===this.props.direction,[c.default.verticalListViewport]:"vertical"===this.props.direction}),role:t,style:a},this.props.itemEnterAnimationsEnabled?l.createElement(g.default,{transitionName:"fade",onAnimationComplete:this.setListLength},this.getComponents()):this.getComponents()))}}t.default=b,b.defaultProps={defaultItemHeight:72,defaultItemWidth:72,forceConsistentRenderCount:!0,extraItems:5,initialScrollFromStart:0,reorderAnimationsEnabled:!0}},bghhdaaaej:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},bghjhaheia:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THEMES=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("cifgdghbhg")),l=r(a("ecagbdjcba")),c=r(a("bagefjifjg")),u=r(a("ccbgfecegc")),f=r(a("hgigjbgie")),h=r(a("dhggdfijcg")),p=r(a("dfhddecjbi")),g=r(a("ebibaajhjh")),m=i(a("cfbhddjcif")),b=r(a("chihecbaj")),v=r(a("deeafjfccb")),_=r(a("bdcchebfge")),E=r(a("didfijejjb")),j=r(a("dcdbbhicce")),y=a("cjfegjecaj"),S=r(a("eebiehgif")),C=r(a("bfiaaegafb")),M={ALBUM:"ALBUM"};t.THEMES=M;class T extends n.PureComponent{constructor(...e){super(...e),this.setRefImg=e=>this.refImg=e,this.showMediaMissing=()=>{u.default.openModal(n.createElement(g.default,{msg:this.props.msg.unsafe()}))},this.getZoomNode=e=>{var t=this.props.isMsgVisible;if(!t)return null;var a=t(e);return a?a.getImgNode&&a.getImgNode():null},this.launchMediaViewer=e=>{if(e&&e.stopPropagation(),this.props.theme===M.ALBUM){var t=this.props.zoomMsg||this.props.msg.unsafe(),a=new Set((this.props.albumMsgs||[]).map(e=>e.id.toString()));u.default.mediaViewerModal({msg:(0,y.unproxy)(t),getZoomNode:this.getZoomNode,highlightedMsgIds:a})}else u.default.mediaViewerModal({msg:(0,y.unproxy)(this.props.msg.unsafe()),getZoomNode:this.getZoomNode})},this.forceDownloadMedia=()=>{this.props.msg.downloadMedia(!0,_.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},this.downloadMedia=()=>this.props.msg.downloadMedia(!1,_.default.WEBC_RMR_REASON_CODE.MSG_RENDER),this.cancelDownload=()=>{this.props.msg.cancelDownload()},this.cancelUpload=()=>{this.props.msg.cancelUpload()},this.resumeUpload=()=>{this.props.msg.resumeUpload()},this.resumeRemoteUpload=()=>{this.props.msg.resumeRemoteUpload()},this._renderImage=(e,t=!1)=>{var{mediaData:a}=this.props,i=(0,s.default)(E.default.thumbBody,{[E.default.thumbBodyLores]:t}),{bubbleWidth:r,bubbleHeight:o}=this._getBubbleDimension(),d=function(e,t,a,i){if(!(e&&t&&a&&i))return{height:"100%",width:"100%"};return t/e>i/a?{height:"100%"}:{width:"100%"}}(a.fullHeight||o,a.fullWidth||r,o,r);return n.createElement("img",{src:e,className:i,style:d,ref:this.setRefImg})},this._renderPreviewImage=()=>this._renderImage(this.props.mediaData.preview&&this.props.mediaData.preview.url(),!0)}componentDidMount(){this.downloadMedia()}getImgNode(){return this.refImg}determineBubbleHeight(){var{msg:e,mediaData:t}=this.props;return e.isFromTemplate&&t.aspectRatio<=f.default.HSM_ASPECT_RATIO?P(f.default.HSM_ASPECT_RATIO):P(t.aspectRatio)}_getBubbleDimension(){var e,t;return this.props.theme===M.ALBUM?(e=f.default.ALBUM_MAX_HEIGHT-f.default.ALBUM_PADDING,t=f.default.ALBUM_MAX_HEIGHT):(e=330,t=this.determineBubbleHeight()),{bubbleWidth:e,bubbleHeight:t}}render(){var{msg:e,contentContainerClassName:t,captionComponent:a,thumbClassName:i,onThumbClick:r,mediaData:u,theme:g,overlayContent:_}=this.props,j=e.type===f.default.MSG_TYPE.IMAGE&&e.caption?e.caption:null,y=j?null:n.createElement(C.default,null),T=j?n.createElement("div",{className:E.default.caption},n.createElement(c.default,{msg:e.unsafe(),trusted:this.props.trusted,spacer:!(e.isFromTemplate&&e.footer)})):null,P=null,N=null;if(null!=_)N=r||this.launchMediaViewer;else{var{mediaStage:I,progressiveStage:A}=u;switch(I){case"RESOLVED":case"PROGRESSIVE_READY":N=r||this.launchMediaViewer;break;case"FETCHING":P=n.createElement(m.PendingCancel,null),N=this.cancelDownload;break;case"NEED_POKE":P=n.createElement(m.Download,{filesize:u.size}),N=this.forceDownloadMedia;break;case"UPLOADING":P=n.createElement(m.PendingCancel,null),N=this.cancelUpload;break;case"NEED_UPLOAD":P=n.createElement(m.Upload,{filesize:u.size}),N=this.resumeUpload;break;case"REMOTE_NEED_UPLOAD":P=n.createElement(m.Upload,{filesize:u.size}),N=this.resumeRemoteUpload;break;case"ERROR_MISSING":N=r||this.showMediaMissing;break;case"ERROR_UNSUPPORTED":P=n.createElement(m.Download,{filesize:u.size}),N=r||this.launchMediaViewer;break;case"SENDING":e.isFailed||(P=n.createElement(m.Pending,null));break;case"DECRYPTING":null==A&&(P=n.createElement(m.Pending,null));break;case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":P=n.createElement(m.Pending,null);break;default:throw new Error("invalid value for picture mediaStage '".concat(I,"'"))}}var w,R=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,D=e.showForwarded()&&this.props.theme!==M.ALBUM,L=(0,s.default)(E.default.bubble,{[E.default.isAlbum]:g===M.ALBUM}),k=(0,s.default)(L,{[E.default.hasCaption]:j,[E.default.hasAuthor]:R,[E.default.forwarded]:D,[E.default.isPSA]:e.isPSA,[E.default.isPreview]:this.props.displayType===f.default.DISP_TYPE.MSG_INFO,[E.default.isGallery]:this.props.displayType===f.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===f.default.DISP_TYPE.GALLERY}),x=R?n.createElement("div",{className:E.default.author},n.createElement(d.default,{msg:e.unsafe(),contact:e.senderObj})):null,G=D?n.createElement(p.default,{msg:e.unsafe(),className:E.default.forwardedIndicator}):null,{bubbleWidth:U,bubbleHeight:F}=this._getBubbleDimension(),B=this.props.quotedMsg?n.createElement("div",{className:E.default.quote},this.props.quotedMsg):null,V=(0,s.default)(E.default.thumb,{[E.default.overlay]:_});null==_&&(w=n.createElement("div",{className:E.default.meta},n.createElement(v.default,{msg:e})));var H=n.createElement("div",{className:t},x,G,B,n.createElement(h.default,{msg:e.unsafe(),wrapperClass:E.default.ctwaContext}),n.createElement("div",{role:"button","data-a8n":o.default.key("image-thumb"),className:i||V,onClick:N,style:{width:U,height:F}},P,n.createElement(b.default,{mediaData:u,placeholderRenderer:this._renderPreviewImage,downloadMedia:this.downloadMedia,renderProgressively:!0},this._renderImage),y),a||T,n.createElement(S.default,{dir:e.dir,footer:e.footer,isFromTemplate:e.isFromTemplate,msg:e.unsafe(),rtl:e.rtl,type:e.type}),w);return T?n.createElement(l.default,{contact:e.senderObj,msg:e.unsafe(),className:k,onClick:O},H):(null!=_&&(H=n.createElement("div",{className:E.default.overlayAlbumText},H,_)),n.createElement("div",{className:k,onClick:O},H))}}function P(e){return e?(t=e<=1?330:e<=2.4?330/e:137.5,Math.round(t)):330;var t}function O(e){e.stopPropagation()}T.CONCERNS={msg:["ack","caption","dir","footer","isFromTemplate","id","isFailed","isGroupMsg","isPSA","isSentByMe","rtl","senderObj","type"],mediaData:["aspectRatio","preview","mediaStage","fullWidth","fullHeight","size","progressiveStage"]};var N=(0,j.default)(T,T.CONCERNS);t.default=N},bgidiahdfc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e===r)return;r=e;var[t,i,o]=e===s.EMOJI_TYPE.APPLE?[a("jjjdieajj").default,a("cjjefedaad").default,a("hddfjdhii").default]:[a("dacbiajefj").default,a("beiahcfigb").default,a("cifhabcfgj").default];n.default.configure({emojiType:e,orderedEmoji:t,legacyToEmoji:i,emojiCategory:o})};var r,s=a("bbicdddbdj"),n=i(a("djegeegcbf"))},bgiegbhhbf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a=1/0){for(var i=[],r=0;r<t.length;++r){for(var[s,n]=t[r],o=s.match(e,n,a),d=[],{length:l}=o,c=0,u=o[c];c<l;u=o[++c])d[c]=[u[0],u[1],u[2],u[3],r,u[4]];d.length&&i.push(d)}for(var f=0;f<i.length;f++){var{conflictResolvers:h}=t[i[f][0][4]][0];if(h)for(var p=0;p<i.length;p++){var g=t[i[p][0][4]][0],m=h.get(g);m&&m(i[f],i[p])}}for(var b=[],v=0;v<i.length;++v)b[v]=i[v].length-1;var _=[],E=0;for(;i.length;){for(var j=0,y=-1;j<i.length;++j)i[j][b[j]][0]>y&&(E=j,y=i[j][b[j]][0]);_.push(i[E][b[E]]),--b[E]<0&&(i.splice(E,1),b.splice(E,1))}return _}},bgihchdbcg:function(e,t){e.exports={action:"_2MzqI",container:"_2rAWW",wrapper:"_2H7Xo",butterbar:"_3Aa1y",icon:"_1UGDt",body:"J485u",controls:"_2HXQ0",title:"pcVTC",text:"nVrBp",notification:"_1oIRX",update:"_1o6zX",computer:"_2LAqi",phone:"vhBNo",battery:"P2goN",notice:"_3lQb7",noticeSmb:"_1SgJO",noticeSvgWrapper:"_5dBOr",actionText:"_3abDg",actionLink:"_2P_Zu",chevron:"t4_dB"}},bgiidadjgb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("djdhbaieic")),o=i(a("dgdcjccfdi"));class d extends s.PureComponent{render(){return s.createElement("div",{className:n.default.panel},s.createElement("div",{className:n.default.body},this.props.children),s.createElement("div",{className:n.default.cancelButton},s.createElement("div",{role:"button",onClick:this.props.onOmit},s.createElement(o.default,{name:"x"}))))}}t.default=d},bgijhafgfd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LogoutDrop",{enumerable:!0,get:function(){return i.LogoutDrop}}),Object.defineProperty(t,"WebdDrop",{enumerable:!0,get:function(){return i.WebdDrop}}),Object.defineProperty(t,"ServerStatusCodeError",{enumerable:!0,get:function(){return i.ServerStatusCodeError}}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return r.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return r.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return r.HttpStatusCodeError}}),Object.defineProperty(t,"MMSForbiddenError",{enumerable:!0,get:function(){return r.MMSForbiddenError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return r.MMSUnauthorizedError}}),Object.defineProperty(t,"MMSThrottleError",{enumerable:!0,get:function(){return r.MMSThrottleError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return r.MediaNotFoundError}}),Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return s.MediaDecryptionError}}),Object.defineProperty(t,"MediaNeedsReupload",{enumerable:!0,get:function(){return s.MediaNeedsReupload}}),Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return n.NoMediaHostsError}}),t.MediaNotOnPhone=void 0;var i=a("bgihjbde"),r=a("chfjcfcide"),s=a("cajijabhgb"),n=a("dgeaihgdfh");class o extends i.ServerStatusCodeError{constructor(){super(404)}}t.MediaNotOnPhone=o},bhacbjbjic:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;return e.every((e,a)=>e===t[a])}},bhbbdjgadd:function(e,t){e.exports={recording:"_1zLJ4",btnBorder:"GaHyo",btnSend:"_37uSO",btnCancel:"_1Rd3e",isHover:"_7loIz",btnStateDefault:"WkpS-",btnStateHover:"_26wYA",pttCounter:"_39kAp","ptt-indicator":"_3dQw7",pttIndicator:"_3dQw7",btnBorderIcon:"_6XRZ7",btnPtt:"_1oEBF",container:"_37WlW",active:"_2DM9O"}},bhbdcdbigh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=a("bgihjbde"),o=i(a("cajijabhgb")),d=r(a("ebagcghdei"));function l(){var e=(0,s.default)(["Attempted to call `read` on BinaryProtocolQueue"],["Attempted to call \\`read\\` on BinaryProtocolQueue"]);return l=function(){return e},e}var c=class{constructor(){this._writeQueue=[],this.Node=d.default}read(){return __LOG__(3)(l()),Promise.reject(new o.Disconnected)}write(e){return new Promise((t,a)=>{this._writeQueue.push({resolve:t,reject:a,n:e})})}dropAllBecauseLogout(){for(var e=new n.LogoutDrop("cancelled binary protocol call");this._writeQueue.length;){this._writeQueue.shift().reject(e)}}getWriteQueue(){return this._writeQueue}};t.default=c},bhbihjaicd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hjieaedbd")),s=i(a("cegaagefjg")),n=function(e){var t=e;if(!n.isRecordingSupported())throw new Error("Recording is not supported in this browser");this.audioContext=new window.AudioContext,this.config=t=t||{},this.config.command="encode-init",this.config.bufferLength=t.bufferLength||4096,this.config.monitorGain=t.monitorGain||0,this.config.numberOfChannels=t.numberOfChannels||1,this.config.originalSampleRate=this.audioContext.sampleRate,this.config.encoderSampleRate=t.encoderSampleRate||48e3,this.config.streamPages=t.streamPages||!1,this.config.leaveStreamOpen=t.leaveStreamOpen||!1,this.config.maxBuffersPerPage=t.maxBuffersPerPage||40,this.config.encoderApplication=t.encoderApplication||2049,this.config.encoderFrameSize=t.encoderFrameSize||20,this.config.streamOptions=t.streamOptions||{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}},this.storePage=this._storePage.bind(this),this.streamPage=this._streamPage.bind(this),this.state="inactive",this.eventTarget=document.createDocumentFragment(),this.createAudioNodes()};n.isRecordingSupported=function(){return Boolean(window.AudioContext&&r.default)},n.prototype.addEventListener=function(e,t,a){this.eventTarget.addEventListener(e,t,a)},n.prototype.clearStream=function(){this.stream&&(this.stream.getTracks().forEach((function(e){e.stop()})),delete this.stream)},n.prototype.createAudioNodes=function(){var e=this;this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(t){e.encodeBuffers(t.inputBuffer)},this.monitorNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.config.sampleRate<this.audioContext.sampleRate&&this.createButterworthFilter()},n.prototype.createButterworthFilter=function(){this.filterNode=this.audioContext.createBiquadFilter(),this.filterNode2=this.audioContext.createBiquadFilter(),this.filterNode3=this.audioContext.createBiquadFilter(),this.filterNode.type=this.filterNode2.type=this.filterNode3.type="lowpass";var e=this.config.sampleRate/2;this.filterNode.frequency.value=this.filterNode2.frequency.value=this.filterNode3.frequency.value=e-e/3.5355,this.filterNode.Q.value=.51764,this.filterNode2.Q.value=.70711,this.filterNode3.Q.value=1.93184,this.filterNode.connect(this.filterNode2),this.filterNode2.connect(this.filterNode3),this.filterNode3.connect(this.scriptProcessorNode)},n.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],a=0;a<e.numberOfChannels;a++)t[a]=e.getChannelData(a);this.encoder.postMessage({command:"encode",buffers:t}),this.duration+=e.duration,this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration}))}},n.prototype.initStream=function(e){if(this.stream)this.eventTarget.dispatchEvent(new Event("streamReady"));else{if(e)return this.stream=e,this.sourceNode=this.audioContext.createMediaStreamSource(e),this.sourceNode.connect(this.filterNode||this.scriptProcessorNode),this.sourceNode.connect(this.monitorNode),void this.eventTarget.dispatchEvent(new Event("streamReady"));if(!r.default)throw new Error("Recorder:initStream no audio capability");var t=this;(0,r.default)({audio:this.config.streamOptions}).then(e=>{t.stream=e,t.sourceNode=t.audioContext.createMediaStreamSource(e),t.sourceNode.connect(t.filterNode||t.scriptProcessorNode),t.sourceNode.connect(t.monitorNode),t.eventTarget.dispatchEvent(new Event("streamReady"))}).catch(e=>{t.eventTarget.dispatchEvent(new ErrorEvent("streamError",{error:e}))})}},n.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new Event("pause")))},n.prototype.removeEventListener=function(e,t,a){this.eventTarget.removeEventListener(e,t,a)},n.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new Event("resume")))},n.prototype.setMonitorGain=function(e){this.monitorNode.gain.value=e},n.prototype.start=function(){"inactive"===this.state&&this.stream&&(this.encoder=new s.default,this.config.streamPages?this.encoder.addEventListener("message",this.streamPage):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",this.storePage)),this.encodeBuffers=function(){delete this.encodeBuffers},this.duration=0,this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new Event("start")),this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration})),this.encoder.postMessage(this.config))},n.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.audioContext.close&&this.audioContext.close(),this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"encode-done"}))},n.prototype._storePage=function({data:e}){if(this.recordedPages.push(e),this.totalLength+=e.length,4&e[5]){this.encoder.removeEventListener("message",this.storePage);for(var t=new Uint8Array(this.totalLength),a=0,i=0;i<this.recordedPages.length;i++)t.set(this.recordedPages[i],a),a+=this.recordedPages[i].length;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([t],{type:"audio/ogg; codecs=opus"})})),this.recordedPages=[],this.eventTarget.dispatchEvent(new Event("stop"))}},n.prototype._streamPage=function({data:e}){this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([e],{type:"audio/ogg; codecs=opus"})})),4&e[5]&&(this.encoder.removeEventListener("message",this.streamPage),this.eventTarget.dispatchEvent(new Event("stop")))};var o=n;t.default=o},bhccdjgage:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dhggfdaige")),d=r(a("dgdcjccfdi"));class l extends n.PureComponent{render(){return n.createElement("div",{className:(0,s.default)(o.default.button,{[o.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},n.createElement(d.default,{name:this.props.isInstagram?"logo-instagram":"logo-facebook"}))}}t.default=l},bhcceddbce:function(e,t){e.exports={body:"_2q8Sb",text:"_2wBk3",hidden:"_1YlT0",desc:"_1a9VH",more:"_2Qn6q"}},bhccfhjdga:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t;for(;a>0;)e.modify("extend","backward","character"),a--}},bhcgjhdbdj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=i(a("daghjjjedc")),d=r(a("cfddgjaade")),l=r(a("ebddggeaib"));class c extends n.Component{constructor(e){super(e),this.onSelectableChange=()=>{this.forceUpdate()},this.onSelectChange=e=>{this.state.selected!==e&&this.setState({selected:e})},this.onSelect=e=>{e&&e.stopPropagation();var t,{onSelect:a,model:i}=this.props,{selected:r}=this.state;r?(this.setState({selected:!1,partialSelected:!1}),t=!1):t=!0,a&&a(i,t,!1)};var{multiSelection:t,initialSelection:a,model:i}=this.props,r=!1,s=!1;switch(a){case 0:r=!1,s=!1;break;case 1:r=!0,s=!1;break;case 2:r=!0,s=!0;break;default:r=t.isSelected(i),s=!1}this.state={selected:r,partialSelected:s,modelId:i.id.toString()}}componentDidMount(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this.onSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this.onSelectableChange)}componentDidUpdate(e){var{model:t,multiSelection:a,listeners:i}=e,r=t.id.toString(),s=this.props.model.id.toString();a&&r!==s&&(i.remove(a,r,this.onSelectChange),i.add(a,s,this.onSelectChange))}static getDerivedStateFromProps(e,t){var{modelId:a}=t,{multiSelection:i,model:r}=e,s=r.id.toString();return i&&a!==s?{modelId:s,selected:i.isSelected(r)}:null}render(){var{theme:e,selectableState:t,children:a}=this.props,i=(0,s.default)(d.default.checkboxChatControl,{[d.default.labelSelection]:"label-selection"===this.props.theme}),r=t&&t.isSelectable,l={};if(r&&e&&Object.assign(l,{theme:e}),r&&Object.assign(l,{noContext:!0}),null==a)return null;var c=n.Children.toArray(a)[0],u="label-selection"===e?this.onSelect:null;return n.createElement("div",{className:d.default.checkboxChatWrapper,onClick:u},r&&n.createElement("div",{className:i,onClick:this.onSelect},n.createElement(o.default,{onChange:this.onSelect,checked:this.state.selected,theme:this.state.selected&&this.state.partialSelected?o.CHECKBOX_THEME.PARTIAL:void 0})),n.cloneElement(c,l))}}var u=(0,l.default)(c);t.default=u},bhdbfffd:function(e,t){e.exports={markerAdmin:"_2a1zO",markerInvited:"_1CFHb",chatControls:"CzN1K",screenName:"_3rGLp",contactSmall:"gClXT"}},bhdcfacaaf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ddgaeajhag")),o=r(a("dbafiicfja")),d=r(a("eaaagccfda")),l=r(a("ceffhbhahb")),c=a("djfeeacgad"),u=i(a("ddhijeejag")),f=r(a("ihfbhicij")),h=r(a("dajfhbajch")),p=r(a("bjcdghhbjh")),g=r(a("cefccdiabc")),m=r(a("dbdfbgehgj")),b=r(a("bgbiiabdc")),v=r(a("eaghcggcie")),_=r(a("bdfacfafhg")),E=r(a("ccbgfecegc")),j=r(a("hgigjbgie")),y=r(a("dhigahgdjb")),S=r(a("cbedjffdai")),C=a("cdhbdacigj"),M=i(a("cajijabhgb")),T=a("hbhjdibhf"),P=r(a("bfchfhibba")),O=r(a("dbfjeecgih")),N=a("hcabbffbb"),I=r(a("bbaacgghch")),A=r(a("ddajbaceej")),w=a("dgjddffcfg"),R=r(a("dacfecidja")),D=r(a("bhbdiadfhj")),L=a("eajdbbfgfg"),k=a("dhegcfddhg"),x=r(a("dhfbfehaef")),G=r(a("bdjjabfecc")),U=r(a("bijffg")),F=a("dbjbdhhhea"),B=r(a("fiijdaaid")),V=r(a("ebddggeaib")),H=r(a("bdcchebfge")),W=r(a("bhgjeaceh")),K=r(a("biecbbiiee")),Y=r(a("dceicchccd")),q=r(a("dagdiahdfi")),z=r(a("dhccahhefj")),Q=r(a("dfdjcjidfg")),J=r(a("gfgihaeab")),X=r(a("bfgbdiffgd")),Z=r(a("dcaibchbg")),$=r(a("bjaehhfffd")),ee=r(a("ecdebjcgfa")),te=r(a("dgdcjccfdi")),ae=r(a("diffaiehid")),ie=r(a("cgjdibiahi")),re=a("bficeagfg"),se=r(a("bcifhbgija"));function ne(){var e=(0,s.default)(["get from participants table failed"]);return ne=function(){return e},e}var oe=450;class de extends u.Component{constructor(e){super(e),this.refPanel=null,this.flatListController=new O.default,this._batchState={},this.setRefSearch=e=>{this.refSearch=e},this._setRefInputHotkey=e=>{this._refInputHotkey=e},this.smbFilterSession=new $.default,this.hasLabelEditGK=!1,this._refContainer=u.createRef(),this._debounceSetState=new c.ShiftTimer(()=>{this.setState(this._batchState),this._batchState={}}),this.debounceSetState=(e,t,a)=>{Object.assign(this._batchState,e),void 0===t?this._debounceSetState.onOrBeforeRepaint():void 0===a?this._debounceSetState.debounce(t):this._debounceSetState.debounceAndCap(t,a)},this.updateLabelFeatureFlagChange=()=>{!this.hasLabelEditGK&&(0,L.canEditLabelAssociation)()&&(this.hasLabelEditGK=!0,this.props.listeners.add(U.default,"bulk_msg_chat_label_change",()=>{this.searchQuery&&!this.searchQuery.isEmptyQuery&&(this.ftsMsgs.updateFtsAfterMsgLabelUpdate(),this.onSearch(this.searchQuery.trimmed,{label:this.searchQuery.filter.label,kind:this.searchQuery.filter.kind}))}),this.selectableState=new J.default(this.props.selectable||!1),this.props.listeners.add(this._multiSelection,"all",this.updateShowMultiselectBar),this.setState({chatlistKeyId:1}))},this.updateShowMultiselectBar=()=>{var{showMultiSelectBar:e}=this.state,t=this._multiSelection&&this._multiSelection.getSelected().length>0&&!this.props.hideMultiSelectBar;!1===e&&t&&this.setState({showMultiSelectBar:!0})},this.scrollChatListToTop=()=>{var e=this.refPanel;if(e){var t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,se.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},this.getFilteredContacts=(e,t={},a=!1)=>{var i=(e||"").trim();if(!i&&this.isEmptyFilterQuery(t))return[];i=G.default.accentFold(i);var r=(0,w.numberSearch)(i);return y.default.getFilteredContacts().filter((function(e){if(!e.searchMatch(i,r,t.label))return!1;if(!a){var s=m.default.get(e.id);if(s&&s.shouldAppearInList)return!1}return!0}))},this.getFilteredMessages=(e={})=>{var t;if(!this.isEmptyFilterQuery(e)&&e.label){var a=(null===(t=U.default.get(e.label))||void 0===t?void 0:t.labelItemCollection.filter(e=>e.parentType===F.LabelItemParentType.Msg).map(e=>e.parentId))||[];K.default.getMessagesById(a).then(e=>{this.setState({messages:e.messages})})}},this.getFilteredChats=(e,t={})=>{var a=(e||"").trim();if(a||!this.isEmptyFilterQuery(t)){a=G.default.accentFold(a);var i=(0,w.numberSearch)(a);return(0,L.canDisplayLabel)()?m.default.filter(e=>{var r=t.label&&e.contact.searchMatch(a,i,t.label),s=!a||e.contact.searchMatch(a,i),n=!t.kind&&!t.label||e.matchFilter(t);return r||s&&n}):m.default.filter(e=>e.contact.searchMatch(a,i)&&e.shouldAppearInList)}return m.default.filter(e=>!e.archive&&e.shouldAppearInList)},this.fullTextSearch=(e,t)=>{var a=(e||this.searchQuery.query).trim();(0,re.numCodepoints)(a)>=j.default.FTS_MIN_CHARS||t&&t.label?(this.state.searching||this.debounceSetState({searching:!0}),this._fts()):this.isFTSSearching()?this.cancelSearch():this.ftsMsgs.reset()},this.shouldFTSSearch=e=>!(!this.ftsMsgs.hasMoreMsgs||this.isFTSSearching()||(0,re.numCodepoints)(this.searchQuery.query||"")<j.default.FTS_MIN_CHARS)&&e.scrollTop+j.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight,this.mapGroupToContacts=(e,t)=>{for(var a=new Map,i=function(i){var r=e[i];r&&r.forEach(e=>{e&&(a.has(e)||a.set(e,[]),a.get(e).push(t[i]))})},r=0;r<e.length;r++)i(r);var s=[];return a.forEach((e,t)=>{s.push([t,e])}),s.sort((function(e,t){return e[1].length===t[1].length?null!=e[0].t&&null!=t[0].t?t[0].t-e[0].t:null!=e[0].t?-1:1:t[1].length-e[1].length})),s.slice(0,10)},this.onSearch=(e,t)=>{var a=(0,L.canDisplayLabel)()?t:{};if(!e&&this.isEmptyFilterQuery(a))return this.searchQuery.updateQuery(e),this.searchQuery.updateLabelQuery({}),void this.onStopSearch();e===this.searchQuery.query&&this.isEmptyFilterQuery(a)||(this.fullTextSearch(e,a),this.commonGroupSearch(),this.throttledFilteredChats(e,a),this.throttledFilteredContacts(e,a),this.searchQuery.updateQuery(e),this.searchQuery.updateLabelQuery(a))},this.hasSearchText=()=>(0,L.canDisplayLabel)()?!!this.searchQuery.query||!this.isEmptyFilterQuery(this.searchQuery.filter):!!this.searchQuery.query,this.isFTSSearching=()=>{var e=this._batchState;return"searching"in e?e.searching:this.state.searching},this.cancelSearch=()=>{this._fts.cancel(),this.commonGroupSearch.cancel(),this.ftsMsgs.resetSearch(),this.ftsMsgs.reset(),this._ftsPromise&&this._ftsPromise.cancel(),this._findCommonGroupsPromise&&this._findCommonGroupsPromise.cancel(),this.setState({groupChats:[]}),this.isFTSSearching()&&this.debounceSetState({searching:!1},75)},this.cancelThrottled=()=>{this.throttledFilteredChats.cancel(),this.throttledFilteredContacts.cancel(),this.throttledOnScroll.cancel()},this.onStopSearch=()=>new Promise(e=>{var t;this.isEmptyFilterQuery(this.searchQuery.filter)||(t=this.smbFilterSession.sessionId,new H.default.ChatFilterEvent({actionType:H.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:H.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),this.cancelSearch(),this.searchQuery.clear(),this.cancelThrottled(),null!=this.refSearch&&this.refSearch.reset(),this.setState({chats:this.getFilteredChats(),contacts:this.getFilteredContacts(),searching:!1},()=>e())}),this.onFocusList=e=>{e.repeat||this.chatlist&&(this.refSearch&&!this.refSearch.cursorIsAtEnd()||(e.preventDefault(),e.stopPropagation(),I.default.shouldIndicateFocus(),this.chatlist.focusFirst()))},this.onOpenFirst=e=>{e.preventDefault();var t=this.searchQuery.query,a=this.searchQuery.filter,i=this.getFilteredChats(t,a)[0]||this.getFilteredContacts(t,a)[0];i&&m.default.find(i.id).then(e=>{this.onStopSearch(),I.default.shouldIndicateFocus(),E.default.openChatFromUnread(e).then(t=>{t&&E.default.focusChatTextInput(e)})})},this.onFocusSearch=()=>{E.default.existsDrawerLeft(e=>{e||(I.default.shouldIndicateFocus(),A.default.focus(this.refSearch))})},this.indicateFocus=()=>{I.default.maybeIndicateFocus(this._refInputHotkey)},this.onScroll=e=>{this.throttledOnScroll(e.target)},this.getEmptyChatlistState=(e,t,a,i)=>e&&e.length||t&&t.length||a&&a.length||i&&i.length?null:this.props.labelFilter?this.state.searching?u.createElement("span",null):u.createElement(C.NoResultForLabel,{labelId:this.props.labelFilter}):this.searchQuery.query?this.state.searching?u.createElement(C.Searching,null):u.createElement(C.Search,null):m.default.some(e=>e.shouldAppearInList)?u.createElement(C.AllArchived,null):u.createElement(C.ListChats,null),this.setRefPanel=e=>{this.refPanel=e},this.onCancelLabelSelection=()=>{this.setState({showMultiSelectBar:!1}),this._multiSelection&&this._multiSelection.unsetAll(),this.selectableState&&this.selectableState.setSelectable(!!this.props.selectable)},this.ftsMsgs=new R.default,this.selection=new Z.default([],e=>e.id.toString()),this.searchQuery=new Q.default,this._multiSelection=this.props.multiSelection||new Y.default([],e=>e.id.toString()),this._fts=this.props.debounce(()=>{var e=this.searchQuery.trimmed;this._ftsPromise&&this._ftsPromise.cancel(),this._ftsPromise=Promise.resolve().then(()=>{this.isFTSSearching()||this.debounceSetState({searching:!0},75)}).then(()=>this.ftsMsgs.search({count:j.default.FTS_NUM_RESULTS,filter:this.searchQuery.filter,searchTerm:e})).checkpoint(this.props.rejectOnUnmount()).then(e=>{e&&!e.canceled&&this.debounceSetState({searching:!1},75)}).catchType(M.Unmount,()=>{}).catchType(Promise.CancellationError,()=>{}).finally(()=>{this._ftsPromise=void 0}).catch(()=>{this.isFTSSearching()&&this.debounceSetState({searching:!1},75)})},j.default.FTS_TYPING_DELAY),this.throttledFilteredChats=this.props.throttle((e,t)=>{var a=this.getFilteredChats(e,t);this.debounceSetState({chats:a},75,50)},oe,{leading:!1,trailing:!0}),this.throttledFilteredContacts=this.props.throttle((e,t)=>{var a=this.getFilteredContacts(e,t);this.debounceSetState({contacts:a},75,50)},oe,{leading:!1,trailing:!0}),this.throttledOnScroll=this.props.throttle(e=>{this.shouldFTSSearch(e)&&this.fullTextSearch()},100),this.commonGroupSearch=(0,d.default)(()=>{var e=this.searchQuery.trimmed;if(e){var t=this.getFilteredContacts(e,{},!0);if(0===t.length||t.length>5)this.setState({groupChats:[]});else{var a=(0,o.default)(t,e=>(0,T.findCommonGroups)(e).then(()=>e.commonGroups).catch(()=>{throw __LOG__(4,!0,new Error)(ne()),SEND_LOGS("get from participants table failed when finding common groups"),new Error("get from participants table failed")}));this._findCommonGroupsPromise&&this._findCommonGroupsPromise.cancel(),this._findCommonGroupsPromise=Promise.all(a).then(a=>{if(e===this.searchQuery.trimmed){var i=this.mapGroupToContacts(a,t);this.setState({groupChats:i})}}).catch(()=>{}).finally(()=>{this._findCommonGroupsPromise=null})}}else this.setState({groupChats:[]})},750);var{labelFilter:t}=this.props,a=this.props.labelFilter?{label:t}:void 0;this.state={searching:!!a,chats:this.getFilteredChats("",a),contacts:this.getFilteredContacts("",a),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,filterPreset:a,textsize:S.default.get().textsize},this.searchQuery.updateLabelQuery(a),this.getFilteredMessages(a)}componentDidMount(){var{labelFilter:e,listeners:t}=this.props;e&&this.onSearch("",{label:e}),this.updateLabelFeatureFlagChange(),t.add(D.default,D.default.FEATURE_CHANGE_EVENT,this.updateLabelFeatureFlagChange),this.props.listeners.add(m.default,"remove",e=>{if(this.searchQuery.query){var t=(0,n.default)(this.state.chats,e);this.state.chats&&t.length!==this.state.chats.length&&this.debounceSetState({chats:t})}else this.throttledFilteredChats.cancel(),this.debounceSetState({chats:this.getFilteredChats()})}),this.props.listeners.add(y.default,"remove",e=>{if(this.searchQuery.query||!this.isEmptyFilterQuery(this.searchQuery.filter)){var t=(0,n.default)(this.state.contacts,e);this.state.contacts&&t.length!==this.state.contacts.length&&this.debounceSetState({contacts:t})}else this.throttledFilteredContacts.cancel(),this.debounceSetState({contacts:this.getFilteredContacts()})}),this.props.listeners.add(m.default,"sort change:archive",()=>{!this.searchQuery.query&&this.isEmptyFilterQuery(this.searchQuery.filter)&&(this.throttledFilteredChats.cancel(),this.debounceSetState({chats:this.getFilteredChats()}))}),this.props.listeners.add(y.default,"sort",()=>{!this.searchQuery.query&&this.isEmptyFilterQuery(this.searchQuery.filter)&&(this.throttledFilteredContacts.cancel(),this.debounceSetState({contacts:this.getFilteredContacts()}))}),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",()=>{!this.searchQuery.query&&this.isEmptyFilterQuery(this.searchQuery.filter)&&(this.throttledFilteredChats.cancel(),this.debounceSetState({chats:this.getFilteredChats()}))}),this.props.listeners.add(E.default,"focus_chat_search",this.onFocusSearch),this.props.listeners.add(E.default,"textsize_change",e=>{this.debounceSetState({textsize:e})}),this.props.listeners.add(K.default,j.default.NEW_MSG_SENT,()=>{this.hasSearchText()||!this.isEmptyFilterQuery(this.searchQuery.filter)?this.onStopSearch().then(()=>this.scrollChatListToTop()):this.scrollChatListToTop()})}getClientWidth(){var e,t;return null===(e=this._refContainer)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.clientWidth}containsDOMNode(e){var t;return!!(null===(t=this._refContainer)||void 0===t?void 0:t.current)&&this._refContainer.current.contains(e)}componentWillUnmount(){this.cancelSearch(),this.cancelThrottled(),this._debounceSetState.cancel()}isEmptyFilterQuery(e){return!e||!(e.label||e.kind)}_showUnread(){}_showArchivedPanel(){return X.default.enhancedArchive&&!this.state.showMultiSelectBar&&this.searchQuery.isEmptyQuery&&this.state.chats&&this.state.chats.length>0&&m.default.some(e=>e.archive)}render(){var{chats:e,contacts:t,groupChats:a,filterPreset:i,messages:r}=this.state,s=this.ftsMsgs.toArray(),n=this.getEmptyChatlistState(e,t,s,r);null==n&&(n=u.createElement(b.default,{key:this.state.chatlistKeyId,ref:(0,k.GetRef)("chatlist",this),flatListController:this.flatListController,chats:e,contacts:t||[],messages:r||[],filterPreset:i,groupChats:a,isSearching:!!this.hasSearchText(),searchQuery:this.searchQuery,ftsResult:s,selection:this.selection,onFocusSearch:this.onFocusSearch,multiSelection:this._multiSelection,selectableState:this.selectableState}));var o,d={down:this.onFocusList},c=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?u.createElement("div",{key:"spinner",className:_.default.spinner},u.createElement(ee.default,{stroke:6,size:24})):null,m=j.default.TEXTSIZE_CLASS_MAP.find(e=>e.scale===this.state.textsize);m&&(o=m.classname);var y,S,C,M,T=(0,l.default)(_.default.chatListPanel,o),O=this.ftsMsgs.hasMoreMsgs&&s.length||this._showUnread()?this.onScroll:void 0;if(this.state.showMultiSelectBar?y=u.createElement(ie.default,{key:"multiSelectBar",displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelLabelSelection},u.createElement(W.default,{theme:"chatlist-panel",selectedModels:this._multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this.onCancelLabelSelection})):C=u.createElement(x.default,{key:"ListSearchHotKey",handlers:d,onFocus:this.indicateFocus,onRef:this._setRefInputHotkey,className:_.default.panelSearch},u.createElement(B.default,{ref:this.setRefSearch,onSearch:this.onSearch,onEnter:this.onOpenFirst,loading:this.state.searching,smbFilterSession:this.smbFilterSession,listFilterEnabled:!0})),this.props.labelFilter||(S=u.createElement(u.Fragment,null,u.createElement(v.default,{mute:q.default.globalMute()}),u.createElement(h.default,null),C,y)),this._showArchivedPanel()){var I=u.createElement(N.FlexRow,{align:"center",justify:"center",className:_.default.archivedIcon},u.createElement(te.default,{name:"archived"}));M=u.createElement(u.Fragment,null,u.createElement(g.default,{className:_.default.archivedPanel,image:I,primary:G.default.t(863),onClick:()=>{E.default.openDrawerLeft(u.createElement(f.default,null))},theme:"archive-panel"}),u.createElement(p.default,null))}return u.createElement("div",{id:"side",className:T,ref:this._refContainer},S,u.createElement(P.default,{flatListControllers:[this.flatListController],onRef:this.setRefPanel,className:_.default.panelBody,onScroll:O,id:"pane-side"},M,n,c,void 0))}}var le=(0,z.default)((0,ae.default)((0,V.default)(de)));t.default=class extends le{getClientWidth(){return this.getComponent().getClientWidth()}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},bhdchjahj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh"));function s(){var e=(0,r.default)(["bin-recv: response,vname"]);return s=function(){return e},e}var n={queryVname:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"vname",jid:e},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(i=>{this.BinaryProtocol.read(i).then(a=>{var i;__LOG__(2)(s()),"response"===this.N.tag(a)&&"vname"===this.N.attr("type",a)&&(i=this.parseContact(this.N.child("user",a),e)),t(i)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,vname,".concat(e),metricName:"QUERY_VNAME"})})}};t.default=n},bhdigchjba:function(e,t){e.exports={container:"MWWz2",roundIcon:"_1vOXh",unchecked:"_3eYNQ",passive:"_1OnrO",uncheckedSystemColor:"_3jeix"}},bheceefbae:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("hgigjbgie")),d=i(a("dhigahgdjb")),l=i(a("bdjjabfecc")),c=i(a("ebddggeaib")),u=a("cadfgefaja"),f=i(a("bgcdajbhif")),h=i(a("chfbdgegdf")),p=i(a("dgdcjccfdi"));class g extends s.PureComponent{constructor(){super(...arguments),this.onUnreadChange=()=>{var e=f.default.getUnexpired(!0).some(e=>{var t=this.lastViewerTimestamps[e.id.toString()],a=!t||e.t>t;return!e.contact.statusMute&&e.unreadCount>0&&a});e!==this.state.hasUnread&&this.setState({hasUnread:e})},this.updateViewerTimestamps=()=>{f.default.getUnexpired(!0).forEach(e=>{this.lastViewerTimestamps[e.id.toString()]=e.t})},this.onFlowEnd=()=>{this.updateViewerTimestamps(),this.setState({hasUnread:!1})},this.onStatus=e=>{e.preventDefault(),n.default.openModalMedia(s.createElement(h.default,{onFlowEnd:this.onFlowEnd,removeTopDrawer:!1}),{transition:"status-v3-modal"})};var e=f.default.getUnexpired(!0).some(e=>e.unreadCount>0&&!e.contact.statusMute);this.state={hasUnread:e},this.lastViewerTimestamps={}}componentDidMount(){this.props.listeners.add(f.default,"add remove change:unreadCount change:t",this.onUnreadChange),this.props.listeners.add(d.default,o.default.COLLECTION_HAS_SYNCED,this.onUnreadChange)}render(){var e=this.state.hasUnread?s.createElement(p.default,{name:"status-v3-unread",directional:!0}):s.createElement(p.default,{name:"status-v3"});return s.createElement(u.MenuBarItem,{a8nText:"menu-bar-status",icon:e,title:l.default.t(1634),onClick:this.onStatus})}}g.CONCERNS={statusV3:["unreadCount"]};var m=(0,c.default)(g);t.default=m},bheedafjh:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.InvisibleLabel=function({children:e}){return r.createElement("span",{"aria-label":e})};var r=i(a("ddhijeejag"))},bhejigcige:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},bhfcdbibdf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.parentNode)return;e.parentNode.removeChild(e)}},bhfiaijfhc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.internalHandlers=new Map}initialize(e){this.ctx=e}registerHandler(e,t,a){var i=this.internalHandlers.get(t)||new Map;i.set(e,a),this.internalHandlers.set(t,i)}unregisterHandler(e,t){var a=this.internalHandlers.get(t);a&&(a.delete(e),a.size||this.internalHandlers.delete(t))}handle(e,t=[]){var a,i,r=this.internalHandlers.get(e);return!!r&&(a=r,i=[],a.forEach(e=>i.push(e)),i).some(e=>e.apply(null,t))}}},bhgfchijhg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t,a,i){var n;if(r.default.supportsFeature(r.default.F.MD_BACKEND))n||(n=Promise.reject(new Error("Shoudl not reach here")));else{var o=e.toString({legacy:!0});n=s.default.queryProduct(o,t,a,i)}return n},t.queryCatalog=function(e,t,a,i,n){var o;if(r.default.supportsFeature(r.default.F.MD_BACKEND))o||(o=Promise.reject(new Error("Should not reach here")));else{var d=e.toString({legacy:!0});o=s.default.queryProductCatalog(d,t,a,i,n)}return o},t.reportProduct=function(e,t,a){var i;r.default.supportsFeature(r.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=s.default.reportBusinessCatalogProduct(e,t,a);return i},t.createCatalog=function(){var e;e=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("editProduct MD query not implemented")):s.default.createBusinessCatalog();return e},t.addProduct=function(e,t,a){var i;i=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("editProduct MD query not implemented")):s.default.addBusinessCatalogProduct(e,t,a).then(n);return i},t.editProduct=function(e,t,a){var i;i=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("editProduct MD query not implemented")):s.default.editBusinessCatalogProduct(e,t,a).then(n);return i},t.deleteProducts=function(e){var t;t=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("deleteProduct MD query not implemented")):s.default.deleteBusinessCatalogProduct(e);return t},t.mapProductResponseToModel=n;var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"));function n(e){return{id:e.id,url:e.url,name:e.name,description:e.description,additionalImageCdnUrl:e.additional_image_cdn_urls.map(e=>({rawUrl:e[1].value})),imageCdnUrl:{rawUrl:e.image_cdn_urls[1].value},reviewStatus:e.capability_to_review_status.length?e.capability_to_review_status[0].value:null,currency:e.currency,priceAmount1000:null==e.price?null:10*parseInt(e.price,10),retailerId:e.retailer_id,productMsgMediaData:null,imageCount:e.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}}},bhggcdiijh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SIZES=t.ITEM_SPACING=t.ITEM_WIDTH=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("dhfbfehaef")),d=i(a("caficgceif")),l=i(a("dgdcjccfdi")),c=parseInt(d.default["-item-width"].replace(/px$/,""),10);t.ITEM_WIDTH=c;var u=parseInt(d.default["-item-spacing"].replace(/px$/,""),10);t.ITEM_SPACING=u;var f={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"};t.SIZES=f;class h extends s.PureComponent{constructor(...e){super(...e),this._handleEnterKey=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClick()},this._handleClick=()=>{this.props.onClick()}}render(){return s.createElement(o.default,{component:"button",className:(0,n.default)(d.default.container,this.props.className,{[d.default.active]:this.props.isActive,[d.default.top]:this.props.isMain||this.props.singleButton,[d.default.padding]:this.props.singleButton,[d.default.square24]:this.props.size===f.SQUARE24,[d.default.square26]:this.props.size===f.SQUARE26}),"aria-label":this.props["aria-label"],"data-tab":this.props["data-tab"],"data-a8n":this.props["data-a8n"],onClick:this._handleClick,onRef:this.props.onRef,handlers:{enter:this._handleEnterKey}},s.createElement(l.default,{name:this.props.icon}))}}t.default=h},bhgjeaceh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bdjjabfecc")),l=r(a("ebddggeaib")),c=r(a("bihiceijie")),u=r(a("bcbcchgbgj")),f=r(a("dgdcjccfdi"));class h extends n.Component{constructor(...e){super(...e),this.addOrRemoveLabelOnSelected=()=>{var e=this.props.selectedModels.getSelected();o.default.openModal(n.createElement(c.default,{onLabelUpdateComplete:this.props.onCancel,modelsToUpdate:e}))}}componentDidMount(){this.props.selectedModels&&this.props.listeners.add(this.props.selectedModels,"all",()=>{this.forceUpdate()})}componentDidUpdate(){0===this.props.selectedModels.getSelected().length&&this.props.onCancel&&this.props.onCancel()}render(){var e,t,a,{labelEditEnabled:i,onRemoveLabel:r}=this.props,o=this.props.selectedModels.getSelected().length,{onDelete:l}=this.props;i&&o>0&&(e=n.createElement(g,{name:"label",disabled:!o,title:d.default.t(1494),onClick:this.addOrRemoveLabelOnSelected})),r&&o>0&&(a=n.createElement(g,{name:"label-delete",disabled:!o,title:d.default.t(1496),onClick:r})),l&&o>0&&(t=n.createElement(g,{name:"delete",disabled:!o,title:d.default.t(1495),onClick:l}));var c=(0,s.default)(u.default.multiControls,{[u.default.drawerHeader]:"drawer-header"===this.props.theme,[u.default.chatListPanel]:"chatlist-panel"===this.props.theme});return n.createElement("div",{className:c},n.createElement(g,{name:"x",onClick:this.props.onCancel}),n.createElement("div",{className:u.default.multiCount},d.default.t(1222,{count:o,_plural:o})),e,t,a)}}var p=(0,l.default)(h);t.default=p;var g=({name:e,title:t,onClick:a,directional:i,disabled:r})=>n.createElement("button",{className:u.default.multiselectIcon,title:t,onClick:a,disabled:r?"disabled":void 0},n.createElement(f.default,{name:e,directional:i}))},bhhccdceaf:function(e,t){e.exports={body:"_3pa9K",vcardWrapper:"_3Istl"}},bhhdiiaihb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a){var i=2*e.length+t[1].length,r=t[0].length-i;return r>0&&(t.index+=r,t[0]=t[0].slice(r)),a.lastIndex--,t}}},bhibffdbgg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},bhicbecjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;t=e.placeholder?s.createElement("div",{className:o.default.actionsBtn},"​"):e.items.map((e,t)=>s.createElement("div",{className:o.default.actionsBtn,key:t,onClick:e.onClick,role:"button",title:e.title||e.label},e.label));return s.createElement("div",{className:(0,n.default)(o.default.actions,{[o.default.noDivider]:"no-divider"===e.theme})},t)};var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("ciecgbcbhc"))},bhiefahbjd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("djcgacceef")),d=a("cgffhfegce"),l=r(a("dicdgcbidg"));function c(){var e=(0,s.default)(["AnimationCanvas error: ",""]);return c=function(){return e},e}class u extends n.PureComponent{constructor(e){super(e),this.state={animationFramesInfo:null},(0,d.blobToArrayBuffer)(this.props.blob).then(l.default).then(e=>{this.setState({animationFramesInfo:e})}).catch(e=>{__LOG__(3)(c(),e)})}render(){var{animationFramesInfo:e}=this.state;if(!e)return this.props.renderPreview();var{width:t,height:a,frames:i}=e;return n.createElement(o.default,{className:this.props.className,width:t,height:a,animationFrames:i,startAnimation:Boolean(this.props.loopAnimation||this.props.startAnimation),maxLoops:this.props.maxLoops,onClick:this.props.onClick})}}t.default=u},bhifhcjhce:function(e,t){e.exports={headerText:"_2k3qR",bodyText:"qahiQ",noticeSvgWrapper:"yl0eJ",noticeModalContentWrapper:"_2Rnot",noticeSmbContainer:"_3BGLw",noticeContainer:"_1as6O"}},bhiibehgda:function(e,t){e.exports={container:"_fpIW",stickerPackContainer:"_2cXFV",stickerPackIconWrapper:"_25-g1"}},bhjegffigh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(){r.default.supportsFeature(r.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("bhbdiadfhj"))},bhjichhiec:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logFilterEvent=function(e){new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e}).commit()},t.logSelectEvent=function(){new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1}).commit()},t.logCancelEvent=function(){new r.default.QuickReply({quickReplyAction:r.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL}).commit()};var r=i(a("bdcchebfge"))},biahggehgf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.requestDeletePicture=function(e){var t;o.default.supportsFeature(o.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=c.default.deletePicture(e).then(e=>e.status&&200!==e.status?Promise.reject(new n.ServerStatusCodeError(e.status)):e);return t.then(e=>(e._duplicate||o.default.supportsFeature(o.default.F.MD_BACKEND),e))},t.sendSetPicture=function(e,t,a){var i;o.default.supportsFeature(o.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=c.default.sendSetPicture(e,t,a).then(e=>200!==e.status?Promise.reject(new n.ServerStatusCodeError(e.status)):e);return i.then(t=>h(e).then(e=>(t.token=e,t._duplicate||o.default.supportsFeature(o.default.F.MD_BACKEND),t)))},t.profilePicFindThumbFromPhone=function(e,t){return c.default.profilePicFindThumbFromPhone(e,t).then(t=>h(e).then(e=>(t.token=e,o.default.supportsFeature(o.default.F.MD_BACKEND),t)))},t.profilePicFind=function(e){var t;o.default.supportsFeature(o.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=c.default.profilePicFind(e).then(e=>null!=e.status&&200!==e.status?Promise.reject(new n.ServerStatusCodeError(e.status)):e);var a=t=>(0,l.getStorage)().lock(["profile-pic-thumb"],([a])=>a.get(e.toString()).then(i=>i?a.merge(e.toString(),t):a.create(t))),i={id:e.toString(),tag:void 0,eurl:void 0,raw:void 0};return t.then(t=>h(e).then(e=>(t.token=e,o.default.supportsFeature(o.default.F.MD_BACKEND)?(i.tag=t.tag,i.eurl=t.eurl,i.raw=null,a(i).then(()=>t)):t))).catchType(n.ServerStatusCodeError,e=>{if(!o.default.supportsFeature(o.default.F.MD_BACKEND))throw e;return o.default.supportsFeature(o.default.F.MD_BACKEND)&&404===e.status||!o.default.supportsFeature(o.default.F.MD_BACKEND)&&401===e.status?(i.tag="",i.raw=null):(i.tag=null,i.eurl=null),a(i).then(()=>{throw e})})},t.profilePicResync=function(e){o.default.supportsFeature(o.default.F.MD_BACKEND);return c.default.resyncPictures(e).then(e=>Array.isArray(e)?Promise.all(e.map(e=>h(e.id).then(t=>(0,s.default)((0,s.default)({},e),{},{token:t})))):"number"==typeof e.status&&e.status>=400?(423!==e.status&&429!==e.status&&__LOG__(3)(f(),e.status),Promise.reject(new n.ServerStatusCodeError(e.status))):(__LOG__(3)(u()),Promise.reject(new Error("ProfilePicThumbStore:resyncPictures unknown reply"))))};var r=i(a("dfadhaifh")),s=i(a("cdfdfciehj")),n=a("bgihjbde"),o=i(a("bhbdiadfhj")),d=a("dcbbccfgab"),l=a("ffjiicch"),c=i(a("cfidecfjad"));function u(){var e=(0,r.default)(["ProfilePicThumbStore:resyncPictures unknown reply"]);return u=function(){return e},e}function f(){var e=(0,r.default)(["ProfilePicThumbStore:resyncPictures error ",""]);return f=function(){return e},e}function h(e){if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.resolve("");for(var t=String(e),a=new ArrayBuffer(2*t.length),i=new Uint16Array(a),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return Promise.resolve().then(()=>(0,d.getSecurityToken)(a))}},biaifggagf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CallCollection=void 0;var s=r(a("cdfdfciehj")),n=r(a("dfadhaifh")),o=r(a("gcfidijgh")),d=r(a("fcdbffdgh")),l=(r(a("cdjhjfjajh")),r(a("cgcgbfbffj"))),c=r(a("daejhdfjb")),u=r(a("hgigjbgie")),f=r(a("bhbdiadfhj")),h=r(a("caihgaddfc")),p=r(a("dcfedddiab")),g=a("bdhjcaaiia"),m=r(a("bfgbdiffgd")),b=r(a("dgjhbfjjjj")),v=i(a("dbjijgajai")),_=a("cbjcbacfdh"),E=a("bfhdechdfh"),j=a("jgidicjf");function y(){var e=(0,n.default)(["voip:processIncomingCall: Attempting to add existing call with call ID"]);return y=function(){return e},e}function S(){var e=(0,n.default)(["received offer_key: no pending offer"]);return S=function(){return e},e}function C(){var e=(0,n.default)(["voip:incoming_signaling(paired phone):",":"]);return C=function(){return e},e}function M(){var e=(0,n.default)(["CallCollection:handle: ignoring incoming call offer because do not disturb mode is enabled or screen is locked"]);return M=function(){return e},e}function T(){var e=(0,n.default)(["voip:incoming_signaling(peer):",":"]);return T=function(){return e},e}var{VOIP_LOG_COLOR:P}=u.default,O=null,N=null;class I extends l.default{constructor(...e){super(...e),this.pendingOffers={},this.pendingVoipCapChecks={}}handleQuery(){return Promise.resolve()}handle(e){O&&N||(O=a("hicdbdjjg").default,N=a("hicdbdjjg").checkVoipCapability);var t=e.shift();if(t.data&&t.data[0]){var i=v.default.parseCallSignalingMsg(t);if(!i)return;var r={};(f.default.supportsFeature(f.default.F.DESKTOP_VOIP_VOICE_CALL)||m.default.webVoip)&&(Array.isArray(t.data[0])&&(t.data=t.data[0]),(0,v.base64DecodeRecursively)(t.data),r={peer_jid:i.peer_jid,payload:t.data,peer_platform:i.peer_platform,peer_app_version:i.peer_version,epoch_msec:null!=i.t?String(1e3*i.t):void 0,elapsed_msec:null!=i.e?String(1e3*i.e):void 0,is_offline:t.data[1].offline});var n=i.call_id,o=null,d=null,l=null,c=JSON.parse(JSON.stringify(t)),u=c.data[2]&&c.data[2].find(e=>"enc"===e[0]);u&&(u[2]="xxx bytes"),__LOG__(2)(T(),JSON.stringify(i));var E=!1;switch(i.type){case _.TYPE.OFFER:if((0,g.getDoNotDisturb)()&&!p.default.isFocused)return void __LOG__(2)(M());if(E=!0,o=i.isVideoCall,d=i.isGroupCall_DEPRECATED,l=i.t,O.isInitialized()){this.pendingVoipCapChecks[n]=Promise.all([N((0,s.default)({},i)),(0,h.default)()]).then(([e,t])=>e&&t);var y=t.data[2]&&t.data[2].find(e=>"enc"===e[0]);this.pendingOffers[n]=Promise.sit("receivedKey",e=>(v.default.receiveCallOfferKey(e,y),t)).endWithControls("receivedKey")}}this.pendingVoipCapChecks[n]?this.pendingVoipCapChecks[n].then(e=>{var a,s;(a=!d&&(o?e&&(b.default.isVideoCallEnabled()||m.default.webVoip):e),this.processIncomingCall(n,t.from,{isVideo:o,isGroupCall:d,canHandleLocally:a,offerTime:l}),a&&this.pendingOffers[n]&&(b.default.isVoiceCallEnabled()||m.default.webVoip))?this.pendingOffers[n].then(()=>{var e;null===(e=O)||void 0===e||e.handleIncomingSignalingMessage(i,r)}):(this.cleanupPendingOffer(n),null===(s=O)||void 0===s||s.handleIncomingSignalingMessage(i,r))}).finally(()=>{delete this.pendingVoipCapChecks[n]}):this.pendingOffers[n]?(E&&this.processIncomingCall(n,t.from),(b.default.isVoiceCallEnabled()||m.default.webVoip)&&this.pendingOffers[n].then(()=>{var e;null===(e=O)||void 0===e||e.handleIncomingSignalingMessage(i,r)})):(E&&this.processIncomingCall(n,t.from,{isVideo:o,isGroupCall:d,canHandleLocally:!1,offerTime:l}),O.isInitialized()&&(b.default.isVoiceCallEnabled()||m.default.webVoip),O.handleIncomingSignalingMessage(i,r))}else switch(__LOG__(2)(C(),JSON.stringify(t)),t.type){case"offer_key":var P=this.pendingOffers[t.id];P?P.control.receivedKey(t.key):__LOG__(3)(S());break;case"accept":case"reject":case"terminate":var I=this.get(t.id);I&&I.setState(j.CALL_STATES.ENDED),this.cleanupPendingOffer(t.id)}}processIncomingCall(e,t,a){if(null==this.get(e)){var i=a,r={id:e};null!=t&&(r.peerJid=t),i&&(i=(0,d.default)(i,e=>null==e),(0,o.default)(r,i)),this.add(r,{merge:!0})}else __LOG__(2)(y())}cleanupPendingOffer(e){delete this.pendingOffers[e]}setActiveCall(e){var t,a=this.activeCall&&!e,i=null===(t=this.activeCall)||void 0===t?void 0:t.webClientShouldHandle;this.activeCall=e,this.trigger("change:activeCall",e),a&&i&&(0,E.playEndCallTone)()}}t.CallCollection=I,I.model=c.default;var A=new I;t.default=A},bibcieeace:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ffedgcdgj")),o=i(a("ddhijeejag")),d=r(a("bdjjabfecc")),l=r(a("ebddggeaib")),c=r(a("bdcchebfge")),u=i(a("fagbfehid")),f=r(a("dcdjgcdhbj")),h=i(a("ifiehebcb")),p=r(a("bbehchjdcf"));function g(){var e=(0,s.default)(["A sticker pack tab was clicked but no pack exists at that index?"]);return g=function(){return e},e}class m extends o.PureComponent{constructor(e){super(e),this._handleRetryClick=()=>{u.default.fetchAt(this.props.selectedStickerPackIndex,!0)},this._handleStickerPackPageFetchState=(e,t)=>{u.default.pageWithIndex(this.props.selectedStickerPackIndex)===e&&(t?this.forceUpdate():u.default.fetchAt(this.props.selectedStickerPackIndex))},this._setRefScrollGrid=e=>{this._refScrollGrid=e},this._renderError=e=>o.createElement("div",{className:f.default.container},o.createElement("div",null,d.default.t(850)),o.createElement("div",{"data-id":"retry",className:f.default.retryButton,onClick:e},d.default.t(1170).toUpperCase())),u.default.fetchAt(this.props.selectedStickerPackIndex)}componentDidMount(){this.props.listeners.add(u.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}componentDidUpdate(e){var{selectedStickerPackIndex:t}=this.props,{selectedStickerPackIndex:a}=e;if(t!==a){var i=u.default.pageWithIndex(t),r=u.default.pageFetchStates[i];r===u.PAGE_FETCH_STATE.SUCCESS&&t>=h.STICKER_PACK_INDEX_LIMIT&&this.downloadAndAddToSearch(t),r===u.PAGE_FETCH_STATE.ERROR&&u.default.fetchAt(t,!0)}}downloadAndAddToSearch(e){return(0,n.default)((function*(){var t=u.default.at(e);t?(yield t.stickers.fetch(),t.stickers.map(function(){var t=(0,n.default)((function*(t,a){yield h.default.addNewSticker(t,a,e)}));return function(){return t.apply(this,arguments)}}())):__LOG__(3)(g())}))()}focus(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}render(){var e=u.default.at(this.props.selectedStickerPackIndex);if(!e)return null;var t=u.default.pageWithIndex(this.props.selectedStickerPackIndex);if(u.default.pageFetchStates[t]===u.PAGE_FETCH_STATE.ERROR)return this._renderError(this._handleRetryClick);var a={stickerIsFirstParty:e.isFirstParty,stickerSendOrigin:c.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_PACK};return o.createElement(p.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:e=>this.props.onStickerClick(e,a),onStickerEnter:e=>this.props.onStickerEnter(e,a),stickers:e.stickers,renderError:this._renderError})}}var b=(0,l.default)(m);t.default=class extends b{focus(e){this.getComponent().focus(e)}}},bicdafdfjb:function(e,t){e.exports={selectedListContainer:"_1-_BW"}},biecbbiiee:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgCollection=void 0;var s=r(a("cdfdfciehj")),n=r(a("dfadhaifh")),o=r(a("cgcgbfbffj")),d=r(a("hgigjbgie")),l=a("bgihjbde"),c=a("bfababcidc"),u=a("ddbdgibbbi"),f=r(a("cbcbdjdah")),h=r(a("djhiiadbhh")),p=r(a("cffajefeag")),g=r(a("cahfddcdga")),m=a("dfjijdgbhd"),b=r(a("ggdiceega")),v=a("hjbbdjjdf"),_=r(a("bacbhehedf")),E=r(a("cfidecfjad")),j=r(a("jccfhaecf")),y=a("dcbdjheea"),S=i(a("bgeajihhc"));function C(){var e=(0,n.default)(["Msg:resyncReceipts dropped "," ",""]);return C=function(){return e},e}function M(){var e=(0,n.default)(["Msg:resyncReceipts error"]);return M=function(){return e},e}function T(){var e=(0,n.default)(["Msg:resyncReceipts invalid response: ",""]);return T=function(){return e},e}function P(){var e=(0,n.default)(["Msg:resyncReceipts success"]);return P=function(){return e},e}function O(){var e=(0,n.default)(["Msg:resyncReceipts"]);return O=function(){return e},e}function N(){var e=(0,n.default)(["Msg:resyncReceipts wid in lastReceivedReceipt, but no msg: ",""]);return N=function(){return e},e}function I(){var e=(0,n.default)(["model:msg:getContext:before ctx message mismatch"]);return I=function(){return e},e}function A(){var e=(0,n.default)(["model:msg:getContext:before fetch error"]);return A=function(){return e},e}function w(){var e=(0,n.default)(["model:msg:getContext:after fetch error"]);return w=function(){return e},e}function R(){var e=(0,n.default)(["model:msg:getContext fetch error"]);return R=function(){return e},e}function D(){var e=(0,n.default)(["model:Msg:media error ",""]);return D=function(){return e},e}function L(){var e=(0,n.default)(["model:Msg:search error ",""]);return L=function(){return e},e}function k(){var e=(0,n.default)(["model:Msg:queryVcard error 499 (unimplemented)"]);return k=function(){return e},e}function x(){var e=(0,n.default)(["model:Msg:getStarred error ",""]);return x=function(){return e},e}function G(){var e=(0,n.default)(["model:Msg:getStarred error 499 (unimplemented)"]);return G=function(){return e},e}function U(){var e=(0,n.default)(["model:Msg:findQuery:got:",":",""]);return U=function(){return e},e}function F(){var e=(0,n.default)(["model:Msg:findQuery error ",""]);return F=function(){return e},e}class B extends o.default{constructor(){super(),this.lastReceivedReceipt={},this.lastReceivedPaymentTransaction={},this.preAck={},this.pendingAdd={},this.ftsCache={},this.onSearchTag=e=>{this.pendingSearchTag=e},this.listenTo(S.default,"change:stream",(function(){S.default.stream===S.STREAM.DISCONNECTED&&(this.preAck={})})),this.listenTo(this,"remove",this.removeFromCollection)}removeFromCollection(e){e.chat&&e.chat.removeFromCollection(e)}_findQuery(e,t){var i,r=this;switch(e.direction){case"before":case"after":i=e.direction;break;default:i="before"}var s={add:i,isHistory:!0};return(0,c.msgFindQuery)(i,e,t,void 0).then(t=>t.status>=400?(__LOG__(3)(F(),t.status),Promise.reject(t.status)):(t.forEach((function(e){e.invis=!0})),__LOG__(2)(U(),t.length,e.direction),r.processMultipleMessages(e.remote,t,s,(function(){var t=r.get(e),i=a("dbdfbgehgj").default.get(e.remote);return t?t.msgChunk:i?i.msgs:void 0}))))}add(e,t){var a=(Array.isArray(e)?e:[e]).filter(e=>null==e.ephemeralDuration||0===e.ephemeralDuration||!new f.default(e).isExpired()),i=super.add(a,t);return this._syncTemplateButtonClickState(i),i}_syncTemplateButtonClickState(e){for(var t=this,a=function(a){var i=e[a];if(!i)return"continue";var r=i.chat;if(i.type===d.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY&&null!=i.selectedIndex&&i.sender.equals((0,u.getMaybeMeUser)())){null==r.msgUnsyncedButtonReplyMsgs&&(r.msgUnsyncedButtonReplyMsgs=new h.default);var{msgUnsyncedButtonReplyMsgs:s}=r,n=i.quotedMsgObj();if(!n)return"continue";var o=s.get(n.id);o||(s.add({id:n.id,unsyncedButtonReplies:new b.default}),o=s.get(n.id));var{unsyncedButtonReplies:l}=(0,g.default)(o,"buttonReplyMsg");l.add(i);var c=t.get(n.id);if(c&&c.buttons){var f=c.buttons.get("".concat((0,g.default)(i.selectedIndex,"msg.selectedIndex")));f&&(f.selected=!0),l.remove(i)}}else if(i.isFromTemplate&&i.buttons){var{msgUnsyncedButtonReplyMsgs:p}=r;if(null==p)return"continue";var m=p.get(i.id);m&&(m.unsyncedButtonReplies.forEach(e=>{var t=(0,g.default)(i.buttons,"msg.buttons").get("".concat((0,g.default)(e.selectedIndex,"replyMsg.selectedIndex")));t&&(t.selected=!0)}),m.unsyncedButtonReplies.delete())}},i=0;i<e.length;i++)a(i)}getStarred(e,t,a,i){var r={count:"number"!=typeof t||isNaN(t)?d.default.PAGE_SIZE:t,chat:e||void 0,remote:a&&a.remote,id:a&&a.id,fromMe:a&&a.fromMe,participant:a&&a.participant,media:i?"gif":void 0},s={add:"search"};return(0,c.msgFindQuery)("star",r).then(e=>{var t=e.status;return e.status>=400?(499===t?__LOG__(2)(G()):__LOG__(3)(x(),t),Promise.reject(t)):this.processMultipleMessages(void 0,e,s)})}getMessagesById(e){return(0,c.msgFindByIds)(e).then(e=>Promise.props({messages:this.processMultipleMessages(void 0,e,{add:"search"}),eof:!0,canceled:!1}))}queryVcard(e){return(0,c.queryVcard)(e).then(e=>499===e.status?(__LOG__(2)(k()),Promise.reject(new l.E499)):this.processMultipleMessages(void 0,e,{add:"search"}))}incrementalStarredUpdate(e){return this.processMultipleMessages(void 0,e,{add:"search"})}search(e,t=1,a,i,r={}){var s="".concat(e,"__").concat(r.label||r.kind||"");if(1!==t||i)return this._search(e,t,a,i,r.label,r.kind);var n=this.ftsCache[s];if(n)return n;var o=this._search(e,t,a,i,r.label,r.kind);this.ftsCache[s]=o;var l=()=>{this.ftsCache[s]=null};return setTimeout(l,d.default.FTS_TTL),o.catch(l),o}_search(e,t,a,i,r,s){var n={searchTerm:e,page:(0,v.isNumber)(t)&&0!==t?t:1,count:(0,v.isNumber)(a)&&0!==a?a:d.default.PAGE_SIZE,remote:i,tagToCancel:i?this.pendingSearchTag:void 0,label:r,kind:s},o={add:"search"};return(0,c.msgFindQuery)("search",n,void 0,this.onSearchTag).then(e=>{if(n.tagToCancel===this.pendingSearchTag&&(this.pendingSearchTag=void 0),499===e.status)return Promise.props({messages:Promise.resolve([]),eof:!1,canceled:!0});if(404===e.status)return Promise.reject(new l.E404);if(e.status>=400)return __LOG__(3)(L(),e.status),Promise.reject(e.status);var t=Array.isArray(e)?e:e.messages,a=!!Array.isArray(e)||e.eof;return Promise.props({messages:this.processMultipleMessages(void 0,t,o),eof:a,canceled:!1})})}queryMedia(e,t,a,i,r){var s={remote:e,count:(0,v.isNumber)(t)&&0!==t?t:d.default.PAGE_SIZE,id:i&&i.id,fromMe:i&&i.fromMe,participant:i&&i.participant,direction:a||"before",media:r},n={add:"search"};return(0,c.msgFindQuery)("media",s).then(e=>e.status>=400?(__LOG__(3)(D(),e.status),Promise.reject(e.status)):r?this.processMultipleMessages(void 0,e,{add:"search"}):Promise.props({docCount:e.docCount,linkCount:e.linkCount,mediaCount:e.mediaCount,messages:this.processMultipleMessages(void 0,e.messages,n)}))}getContext(e,t,a){var i=this.get(e);if(i)return Promise.all([(0,c.msgFindQuery)("before",e,a),(0,c.msgFindQuery)("after",e,a)]).spread((a,r)=>Array.isArray(a)&&Array.isArray(r)?(i.search=!1,Promise.all([this.processMultipleMessages(e.remote,a,{add:"before",isHistory:!0},t),this.processMultipleMessages(e.remote,r,{add:"after",isHistory:!0},t)])):(__LOG__(3)(R()),Promise.reject(a.status||r.status)));var r={add:"after",isHistory:!0};return(0,c.msgFindQuery)("after",e,a).then(a=>Array.isArray(a)?j.default.isStatusV3(a[0].id.remote)?Promise.reject("statusV3, stop querying before the msg"):this.processMultipleMessages(e.remote,a,r,t):(__LOG__(3)(w()),Promise.reject(a.status))).then(t=>{var i=(0,g.default)(t[0],"after[0]"),r=i.id.clone();r.count=e.count+1;var s={add:"before",isHistory:!0};return Promise.all([(0,c.msgFindQuery)("before",r,a).then(t=>Array.isArray(t)?t[t.length-1].id.equals(e)?this.processMultipleMessages(e.remote,t,s,(function(){return i.msgChunk})):(__LOG__(3)(I()),Promise.reject(405)):(__LOG__(3)(A()),Promise.reject(t.status))),Promise.resolve(t)])})}hasSynced(){return(0,_.default)(this,d.default.COLLECTION_HAS_SYNCED)}delete(){super.delete(),this.lastReceivedReceipt={},this.lastReceivedPaymentTransaction={},this.preAck={}}getKeysForResyncReceipts(){var e=[],t=(0,s.default)((0,s.default)({},this.lastReceivedReceipt),this.lastReceivedPaymentTransaction);for(var i in t){var r=(0,y.createWid)(i),n=a("dbdfbgehgj").default.get(r),o=void 0;if(n&&(o=n.getFirstMsgWithStatus()),o){var d=o.id;d.t=this.lastReceivedReceipt[r]||o.t||0,d.payT=this.lastReceivedPaymentTransaction[r],e.push(d)}else __LOG__(3)(N(),r.toString())}return e}resyncReceipts(){__LOG__(2)(O());var e=this.getKeysForResyncReceipts();return 0===e.length?Promise.resolve():E.default.resyncReceipts(e).then(e=>{Array.isArray(e)?(__LOG__(2)(P()),e.forEach(e=>{this.updateLastReceipt(e.id,e.t),this.updateLastTransactionTime(e.id,e.payT),e.acks.forEach(t=>{var{id:a,fromMe:i,participant:r,status:s,t:n}=t;if(null!=a&&null!=i&&null!=s){var o=new p.default({fromMe:i,remote:e.id,id:a,participant:r}),d=this.get(o);d&&(d.isEphemeral&&n?d.updateEphemeralStartTimestamp(n):d.updateAck(s))}else __LOG__(3)(T(),JSON.stringify(t))}),e.msgs.length>0&&this.processMultipleMessages(e.id,e.msgs,{update:!0,isHistory:!1}).catchType(l.LogoutDrop,()=>{})})):__LOG__(3)(M())}).catchTypes3(l.LogoutDrop,l.EphemeralDrop,l.BrowserReplacedDrop,()=>{}).catch(e=>{throw __LOG__(3)(C(),String(e),e?e.stack:"no stack"),new Error("Msg:resyncReceipts dropped")})}updateLastReceipt(e,t){var a=this.lastReceivedReceipt[e];t&&(!a||t>a)&&(this.lastReceivedReceipt[e]=t)}updateLastTransactionTime(e,t){var a=this.lastReceivedPaymentTransaction[e];t&&(!a||t>a)&&(this.lastReceivedPaymentTransaction[e]=t)}processMultipleMessages(e,t,a,i){var r=()=>(0,m._processMultipleMessages)(e,t,a,i);if(e){var s,n=this.pendingAdd[e];return(s=n?n.then(r):r()).finally(()=>{e&&this.pendingAdd[e]===s&&(this.pendingAdd[e]=null)}).catch(()=>{}),this.pendingAdd[e]=s}return r()}markAllAsStale(){this.forEach(e=>e.unset("recvFresh"))}}t.MsgCollection=B,B.model=f.default;var V=new B;t.default=V},biecccbhjc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return i.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return i.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return i.HttpStatusCodeError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return i.MediaNotFoundError}}),Object.defineProperty(t,"MediaTooLargeError",{enumerable:!0,get:function(){return i.MediaTooLargeError}}),Object.defineProperty(t,"MediaInvalidError",{enumerable:!0,get:function(){return i.MediaInvalidError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return i.MMSUnauthorizedError}}),Object.defineProperty(t,"MediaEncryptionError",{enumerable:!0,get:function(){return r.MediaEncryptionError}}),Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return s.NoMediaHostsError}});var i=a("chfjcfcide"),r=a("cajijabhgb"),s=a("dgeaihgdfh")},biedfadfag:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductImageCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("diafggiefe"));class n extends r.default{toArray(){return super.filter(e=>e.old?(this.remove(e),!1):e)}}t.ProductImageCollection=n,n.model=s.default;var o=n;t.default=o},bieicghjif:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=i(a("dcaifjegcg")),l=r(a("dbdfbgehgj")),c=r(a("ccbgfecegc")),u=a("bgihjbde"),f=i(a("cajijabhgb")),h=a("ddbdgibbbi"),p=r(a("bdjjabfecc")),g=r(a("gabccaieg")),m=r(a("cfidecfjad")),b=r(a("jccfhaecf"));function v(){var e=(0,s.default)(["models:liveLocation:disableLiveLocation dropped"]);return v=function(){return e},e}class _ extends d.default{constructor(...e){super(...e),this.id=(0,d.prop)(),this.duration=(0,d.prop)(),this.participants=(0,d.collection)(g.default),this.active=(0,d.session)(!1),this.keepAliveTimer=(0,d.session)(),this.stopPromise=(0,d.session)()}initialize(){super.initialize(),this.listenTo(this.participants,"remove reset",()=>{this.hasParticipants()||this.delete()});var e=l.default.get(this.id);e&&!e.liveLocation&&(e.liveLocation=this)}delete(){super.delete(),this.stopViewingMap(),this.participants.delete(),this.getCollection().remove(this.id);var e=l.default.get(this.id);e&&(e.liveLocation=void 0)}hasParticipants(){return this.participants.length>0}startViewingMap(){this.active||(this.active=!0,this._updateLiveLocations(),this._startKeepAlive())}stopViewingMap(){this.active&&(this.active=!1,this._pauseLiveLocations(),this._stopKeepAlive())}userHasLiveLocation(e){return!!this.participants.get(e)}iHaveLiveLocation(){return this.userHasLiveLocation((0,h.getMaybeMeUser)())}stopMyLiveLocation(e){if(!this.iHaveLiveLocation())return Promise.reject(new f.ActionError);if(this.stopPromise)return this.stopPromise;var t=this.stopPromise=m.default.disableLiveLocation(this.id),a=new o.ActionType(p.default.t(112)),i=e||(0,o.genId)(),r=t.then(e=>200===e.status?new o.ActionType(p.default.t(111)):e.status>=400?new o.ActionType(p.default.t(108)):void 0).catch(()=>(__LOG__(3)(v()),new o.ActionType(p.default.t(108),p.default.t(174),this.stopMyLiveLocation.bind(this,i))));return c.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:a,pendingAction:r})),t.then(e=>{if(200===e.status&&!e._duplicate){var t=this.participants.get((0,h.getMaybeMeUser)());t&&t.disable()}}).finally(()=>{this.stopPromise=null})}_updateLiveLocations(){this.getCollection().update(this.id).catch(()=>{})}_pauseLiveLocations(){m.default.unsubscribeLiveLocation(this.id).catchType(u.WebdDrop,()=>{})}_sendKeepAlive(){m.default.subscribeLiveLocation(this.id,!1).catchType(u.WebdDrop,()=>{})}_startKeepAlive(){if(null==this.keepAliveTimer){var e=this.duration;null!=e&&0!==e&&(this.keepAliveTimer=window.setInterval(this._sendKeepAlive.bind(this),1e3*e))}}_stopKeepAlive(){null!=this.keepAliveTimer&&(window.clearInterval(this.keepAliveTimer),this.keepAliveTimer=null)}getCollection(){return a("cdcijfdgje").default}}_.Proxy="liveLocation",_.idClass=b.default;var E=(0,d.defineModel)(_);t.default=E},biejajcgdf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement(o.default,{name:"add_shopping_cart",className:n.default.addToCartIcon,onClick:e.onClick})};var s=r(a("ddhijeejag")),n=i(a("bdagfhdcie")),o=i(a("dgdcjccfdi"))},bifdidcecg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhjgdfcihh")),o=i(a("dbdfbgehgj")),d=i(a("ccbgfecegc")),l=i(a("bdacheahgj")),c=i(a("bdjjabfecc")),u=i(a("cbedabhaa")),f=i(a("dcdbbhicce"));class h extends s.Component{constructor(...e){super(...e),this.filterAdmins=e=>{var{groupMetadata:t}=this.props,a=t.participants.get(e.id);return!(!a||!a.isAdmin)},this.onSelectAdminToMsg=e=>{this.openChat(e.id),d.default.closeModal()},this.openChat=e=>{o.default.find(e).then(e=>{e.quotedMsgAdminGroupJid=this.props.chat.id,d.default.openChatBottom(e)})},this.onMsgAdmin=()=>{var{groupMetadata:e}=this.props,t=e.participants.getAdmins();1!==t.length?d.default.openModal(s.createElement(l.default,{title:c.default.t(883),filter:this.filterAdmins,onCancel:()=>d.default.closeModal(),onSelect:this.onSelectAdminToMsg})):this.openChat(t[0].id)}}render(){var e=s.createElement("span",{role:"button",onClick:this.onMsgAdmin,className:n.default.adminBtn},c.default.t(202));return s.createElement(u.default,{id:201,params:{admins:e}})}}h.CONCERNS={mute:["isMuted"],chat:["id"],groupMetadata:["participants"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},bigeebbfbi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateMessage=function(e){var t=(0,r.default)({},e),a=o.default.fromString(t.id),i=t.protocolMessageKey?o.default.fromString(t.protocolMessageKey):void 0,s=t.paymentRequestMessageKey?o.default.fromString(t.paymentRequestMessageKey):void 0,n=l(t);n.id=a,i&&(n.protocolMessageKey=i);s&&(n.paymentRequestMessageKey=s);return t.star=void 0!==t.isStarred,delete t.internalId,delete t.rowId,delete t.isStarred,delete t.count,delete t.offline,delete t.offlineBuffer,delete t.isOffline,delete t.hasLink,delete t.isMediaMsg,delete t.isDocMsg,delete t.expiredTimestamp,t},t.hydrateWids=l,t.craftMessageRangeIndex=function(e,t,a,i){var r;r=a?c.SystemMessage:t?c.IncomingChatMessage:c.Outgoing;return"".concat(e,"_").concat(r,"_").concat(null!=i?u(i):"")},t.extractC2STimestampFromMessageRangeIndex=function(e){if(e){var t=e.split("_")[2];return t?f(t):null}return null},t.beginningOfMessageRange=function(e,t,a){var i=null!=a?u(a):"";return"".concat(e.toString(),"_").concat(t,"_").concat(i)},t.endOfMessageRange=function(e,t){return"".concat(e.toString(),"_").concat(t,"_g")},t.craftInternalId=function(e,t){var a=u(t);return"".concat(e,"_").concat(a,"_m")},t.getInChatMsgId=function(e){return f(e.split("_")[1])},t.beginningOfChat=function(e){return"".concat(e.toString(),"_/")},t.endOfChat=function(e){return"".concat(e.toString(),"_g")},t.queryChatMessageHelper=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve([])},t.MessagePropertyType=void 0;var r=i(a("cdfdfciehj")),s=i(a("bhbdiadfhj")),n=i(a("cdhfageggb")),o=i(a("cffajefeag")),d=a("dcbdjheea");function l(e){if(Array.isArray(e))return e.map((e,t)=>l((0,n.default)(t,e,d.isWidlike,d.createWidFromWidLike)));if(e&&"object"==typeof e){for(var t=Object.keys(e),a=0;a<t.length;a++){var i=t[a];e[i]=l((0,n.default)(i,e[i],d.isWidlike,d.createWidFromWidLike))}return e}return e}var c=a("bjgidhichc")({IncomingChatMessage:"1",Outgoing:"2",SystemMessage:"3"});function u(e){var t=e.toString(16);return(t.length-1).toString(16)+t}function f(e){return parseInt(e.substring(1),16)}t.MessagePropertyType=c},bighbhcffc:function(e,t){e.exports={gridContainer:"AJj8X",baseEmoji:"_3ci3u",options:"_20sF-"}},biheibdage:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ATTACH_MEDIA_STATE=void 0;var s=r(a("dfadhaifh")),n=r(a("cdfdfciehj")),o=i(a("dcaifjegcg")),d=i(a("cajijabhgb")),l=a("cgffhfegce"),c=a("cjahggceac"),u=r(a("cieaaiahhf")),f=r(a("bdcchebfge")),h=a("cbcbdjdah"),p=r(a("dcdjgccech"));a("dgbddfjdhi");function g(){var e=(0,s.default)(["AttachMedia:processFile convert unexpected error to InvalidMediaFileType:"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["Invariant violated, processed file is not previewable"]);return m=function(){return e},e}var b={READY:"ready",PROCESSING:"processing",ERROR:"error"};t.ATTACH_MEDIA_STATE=b;class v extends o.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.file=(0,o.prop)(),this.uiProcessed=(0,o.prop)(!1),this.fileOrigin=(0,o.prop)(),this.isVcardOverMmsDocument=(0,o.prop)(!1),this.microThumbnail=(0,o.prop)(),this.state=(0,o.session)(),this.mediaPrep=(0,o.session)(),this.mimetype=(0,o.session)(),this.originalMimetype=(0,o.session)(),this.processPromise=(0,o.session)(),this.exception=(0,o.session)(),this.caption=(0,o.session)(),this.type=(0,o.session)(h.TYPE.UNKNOWN),this.mediaEditorData=(0,o.session)(),this.editedFile=(0,o.session)(),this.preview=(0,o.session)(),this.fullPreview=(0,o.session)(),this.fullPreviewSize=(0,o.session)(),this.filename=(0,o.session)(),this.documentPageCount=(0,o.session)(),this.isGif=(0,o.session)(),this.gifAttribution=(0,o.session)(),this.previewable=(0,o.derived)(this._previewable,["preview","fullPreview","type","filename","fullPreviewSize","mimetype"])}_previewable(){if(!this.type||!this.mimetype||!this.fullPreview)return!1;switch(this.type){case h.TYPE.DOCUMENT:return!!this.filename;case h.TYPE.IMAGE:case h.TYPE.VIDEO:return!(!this.fullPreviewSize||!this.preview);case h.TYPE.AUDIO:case h.TYPE.PTT:case h.TYPE.UNKNOWN:return!0;default:throw new Error("Unsupported attach media type ".concat(this.type))}}initialize(){if(super.initialize(),!(this.file instanceof Promise))throw new Error("cannot process non-promise file");this.processAttachment(this.file)}processAttachment(e){this.state=b.PROCESSING,this.processPromise=this._processAttachmentPromiseHelper(e).then(()=>{})}_processAttachmentData(e){if(this.fileOrigin===f.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY){var t=e.file.name;return(0,l.copyFile)(e.file).then(a=>(0,n.default)((0,n.default)({},e),{},{filename:t,file:a}))}return Promise.resolve(e)}_processAttachmentPromiseHelper(e){return e.then(e=>this._processAttachmentData(e)).then(e=>{this.set(e);var t={},{file:a,filename:i,isGif:r,gifAttribution:s,isVcardOverMmsDocument:n,documentPageCount:o}=e;r?(t.asGif=!0,t.gifAttribution=s):e.type===l.FILETYPE.DOCUMENT&&(t.asDocument=!0,t.filename=i,t.isVcardOverMmsDocument=n,t.documentPageCount=o),t.precomputedFields={fullHeight:e.fullPreviewSize?e.fullPreviewSize.height:void 0,fullWidth:e.fullPreviewSize?e.fullPreviewSize.width:void 0,preview:e.preview,duration:e.duration};var d=p.default.createFromData(a,a.type),u=(0,c.prepRawMedia)(d,t);return this.set({mediaPrep:u}),u.waitForPrep().then(t=>{var a=t.documentPreview,i=t.mediaBlob instanceof p.default?window.URL.createObjectURL(t.mediaBlob.forceToBlob()):window.URL.createObjectURL(t.mediaBlob),r={file:t.mediaBlob,fullPreview:i,type:t.type,filename:t.filename,mimetype:t.mimetype,originalMimetype:e.mimetype,preview:t.preview,state:b.READY,isGif:t.isGif,fullPreviewSize:void 0,documentPageCount:o,isVcardOverMmsDocument:t.isVcardOverMmsDocument,microThumbnail:void 0};t.fullWidth&&t.fullHeight&&(r.fullPreviewSize={height:t.fullHeight,width:t.fullWidth}),t.type===h.TYPE.IMAGE&&(r.preview=i),t.type===h.TYPE.DOCUMENT&&a&&(r.fullPreview=a.url,r.preview=a.thumbUrl,r.fullPreviewSize={height:a.height,width:a.width},r.documentPageCount=a.pdfPages,r.microThumbnail=t.microThumbnail),this.set(r),this.previewable||(__LOG__(4,!1,new Error)(m()),SEND_LOGS("AttachMedia processFile"))})}).catchTypes(d.InvalidMediaFileType,d.InvalidImageFileType,t=>{if(this.isGif||this.type===l.FILETYPE.DOCUMENT)throw t;return this._processAttachmentPromiseHelper(e.then(e=>(e.type=l.FILETYPE.DOCUMENT,e)))}).catchTypes3(u.default,d.MediaFileFailedLoad,d.MediaFileEmpty,e=>(this.set({exception:e,state:b.ERROR}),this)).catch(()=>(__LOG__(3)(g()),this.set({exception:new d.InvalidMediaFileType,state:b.ERROR}),this))}sendToChat(e,t){if(!this.mediaPrep)throw new Error("MediaPrep not available");if(this.state===b.ERROR)throw new Error(this.exception);if(!(this.state!==b.PROCESSING||this.previewable&&t.addEvenWhilePreparing))throw new Error("Media still processing");if(this.state===b.READY)return this.mediaPrep.sendToChat(e,t);var a={mimetype:this.mimetype};switch(this.type){case h.TYPE.VIDEO:a.isGif=this.isGif,a.gifAttribution=this.gifAttribution;case h.TYPE.IMAGE:a.width=this.fullPreviewSize.width,a.height=this.fullPreviewSize.height,a.body=this.preview,t.placeholderProps=a;break;case h.TYPE.DOCUMENT:a.pageCount=this.documentPageCount,a.filename=this.filename,a.body=this.preview,t.placeholderProps=a;break;case h.TYPE.AUDIO:case h.TYPE.PTT:}return this.mediaPrep.sendToChat(e,t)}getFileType(){if(!(this.file instanceof Blob||this.file instanceof File))throw new Error("expected file to be a Blob or File");return(0,l.typeFromMimetype)(this.file.type)}delete(){this.fullPreview&&window.URL.revokeObjectURL(this.fullPreview),super.delete()}updateMediaEditorData(e){return this.mediaEditorData=e,this.mediaEditorData}updateEditedFile(e){this.editedFile=e}updatePreview(e){window.URL.revokeObjectURL(this.preview),this.preview=e}updateFullPreview(e){window.URL.revokeObjectURL(this.fullPreview),this.fullPreview=e}updateCaption(e){this.caption=e}}v.Proxy="attachMedia";var _=(0,o.defineModel)(v);t.default=_},bihghijhgb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEnqueue=function(){var e={};return function(t,a){return function i(...r){var s=(a||((...e)=>String(e[0])))(...r);if(e[s]){var n=e[s].then(()=>(delete e[s],i(...r)));return e[s]=n,n}var o=t.apply(this,r).then(t=>(e[s]===o&&delete e[s],t));return e[s]=o,o}}}},bihiceijie:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bjhfeaeedf",7)).then(e=>e.default),"ManageLabelFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(785),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},bihjahgcja:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("bjhaecbifc");class r extends((0,i.customError)("ForwardError")){constructor(e){super(),this.reasons=e}}t.default=r},bihjffdjjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.castToV4=function(e){var t;if(null==e)t=o.DOCUMENT;else{if(!(e in o))throw new Error("castToV4: unexpected mmsv3 type ".concat(e));t=o[e]}return t},t.msgToMediaType=function({type:e,isGif:t,subtype:a}){switch(e){case n.IMAGE:return o.IMAGE;case n.VIDEO:return t?o.GIF:o.VIDEO;case n.AUDIO:return o.AUDIO;case n.PTT:return o.PTT;case n.DOCUMENT:return o.DOCUMENT;case n.STICKER:return o.STICKER;case n.PRODUCT:return o.PRODUCT;default:throw new Error("msg is not a media msg: ".concat(e,", isGif=").concat(String(t)))}},t.MEDIA_TYPE_VALUES=t.MEDIA_TYPES_INVERTED=t.default=void 0;var r=i(a("cehcfaibji")),s=i(a("hgigjbgie")),{MSG_TYPE:n}=s.default,o=Object.freeze({AUDIO:"audio",DOCUMENT:"document",GIF:"gif",IMAGE:"image",PPIC:"ppic",PRODUCT:"product",PTT:"ptt",STICKER:"sticker",VIDEO:"video",TEMPLATE:"template",THUMBNAIL_DOCUMENT:"thumbnail-document",HISTORY_SYNC:"md-msg-hist",MD_APP_STATE:"md-app-state",PRODUCT_CATALOG_IMAGE:"product-catalog-image"}),d=o;t.default=d;var l=Object.freeze({audio:"AUDIO",document:"DOCUMENT",gif:"GIF",image:"IMAGE",ppic:"PPIC",product:"PRODUCT",ptt:"PTT",sticker:"STICKER",video:"VIDEO",template:"TEMPLATE","thumbnail-document":"THUMBNAIL_DOCUMENT","md-msg-hist":"HISTORY_SYNC","md-app-state":"MD_APP_STATE","product-catalog-image":"PRODUCT_CATALOG_IMAGE"});t.MEDIA_TYPES_INVERTED=l;var c=(0,r.default)(o);t.MEDIA_TYPE_VALUES=c},biibicegh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.initSessionId()}initSessionId(){this.sessionId=this.newSessionId()}newSessionId(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}toString(){return"".concat(this.sessionId)}}},biigiejiib:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroup=function(e){var t;if(o.default.supportsFeature(o.default.F.MD_BACKEND)){if(!t)return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"))}else t=u.default.groupMetadataFind(e);return t.then(t=>{if(t.id)return h(e,t.subject),(0,l.updateParticipants)(t.id,t.participants,t.pvId).then(()=>({id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict||!1,announce:t.announce||!1,noFrequentlyForwarded:t.noFrequentlyForwarded||!1,ephemeralDuration:t.ephemeralDuration||0,participants:t.participants,support:o.default.supportsFeature(o.default.F.SUPPORT)&&!0===t.support}));__LOG__(3)(f())}).catchType(n.ServerStatusCodeError,t=>{if(t.status>=400)return{id:e,stale:!1}})},t.sendQueryGroupInvite=function(e){var t;if(o.default.supportsFeature(o.default.F.MD_BACKEND)){if(!t)return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"))}else t=u.default.groupInviteInfo(e).then(e=>200!==e.status?Promise.reject(new n.ServerStatusCodeError(e.status)):e);return t},t.groupMetadataFindFromPhone=function(e){if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("groupMetadataFindFromPhone: not supported in MD_BACKEND mode"));return u.default.groupMetadataFindFromPhone(e)},t.updateSubject=h;var r=i(a("dfadhaifh")),s=i(a("dhigahgdjb")),n=a("bgihjbde"),o=i(a("bhbdiadfhj")),d=a("hjbbdjjdf"),l=a("hhcfehghc"),c=a("dcjbdhhjge"),u=i(a("cfidecfjad"));function f(){var e=(0,r.default)(["Store:GroupMetadata Unexpected server response"]);return f=function(){return e},e}function h(e,t){(0,d.isString)(t)&&s.default.find(e).then((function(e){if(!e.name){var a={name:t};(0,c.updateLocal)(e.id,a).then(()=>{e.set(a)})}}))}},biiigbhida:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.associateMediaWithMsg=function(e,t){e.addMsg(t)},t.disassociateMediaFromMsg=function(e,t){if(t.mediaObject=null,e.removeMsg(t),e.hasAssociatedMsgsOrStickers())return;var{filehash:a}=e;a&&delete d[a];a&&(0,n.shouldUseLruMediaStore)((0,s.msgToMediaType)({type:t.type,isGif:t.isGif||!1,subtype:t.subtype}))&&o.default.del(a);e.delete()},t.delistAndDeleteAllMedia=function(){var e=d;for(var t in d={},e)e[t].delete()},t.getOrCreateMediaObject=function(e){return d.hasOwnProperty(e)?d[e]:d[e]=new r.default},t.clearMediaForChat=function(){},t.associateMediaWithStickerPack=function(e,t){e.addStickerPack(t)},t.disassociateMediaFromStickerPack=function(e,t){if(t.mediaObject=null,e.removeStickerPack(t),e.hasAssociatedMsgsOrStickers())return;var{filehash:a}=e;a&&delete d[a];a&&o.default.del(a);e.delete()},t.associateMediaWithSticker=function(e,t){e.addSticker(t)},t.disassociateMediaFromSticker=function(e,t){if(t.mediaObject=null,e.removeSticker(t),e.hasAssociatedMsgsOrStickers())return;var{filehash:a}=e;a&&delete d[a];a&&o.default.del(a);e.delete()};var r=i(a("cfhdefdegg")),s=a("bihjffdjjj"),n=a("bccggdcfj"),o=i(a("ciaihgijjb")),d={}},biiiheaiih:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var s=r(a("dcdiaahjj")),n=i(a("bgeajihhc"));var o=(new class{constructor(){this.isReconnecting=!1,this.reconnectIfDisconnected=()=>{this.isReconnecting||s.default.displayInfo!==s.StreamInfo.OFFLINE||(this.isReconnecting=!0,n.default.poke(),n.default.summary(),setTimeout(()=>this.isReconnecting=!1,3e3))}}}).reconnectIfDisconnected;t.reconnect=o},bijcijfdif:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Dir=t.Transition=void 0;var s=r(a("dbegcaehed")),n=r(a("dhgeffcgbg")),o=r(a("cifjgjcead")),d=i(a("ddhijeejag")),l=r(a("ccbgfecegc")),c=r(a("ibjbjheca")),u=r(a("ddajbaceej")),f=r(a("ebddggeaib")),h=r(a("cdfcadjcag")),p=a("hjbbdjjdf"),g=r(a("cgjdibiahi")),m=r(a("dfefggiaaf")),b=r(a("didfdhbecg")),v={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"};t.Transition=v;t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"};var _=e=>v[e.toUpperCase()];class E extends d.PureComponent{constructor(...e){super(...e),this.state={drawer:void 0,drawerId:null,transition:_(this.props.direction),uim:void 0,option:void 0},this.blockTransition=null,this.flowDismissPending=!1,this.setRefUIE=e=>{this.refUIE=e},this.openFlow=(e,t=_(this.props.direction),a,i)=>{var r=(0,o.default)("DrawerManager".concat(this.props.direction));if(!this.flowDismissPending&&this.state.drawer){if(null!=e.key&&(0,n.default)(this.state.drawer.key,e.key))return;this.blockTransition=v.NONE,this.setState({drawer:e,drawerId:r,transition:t,uim:a,option:i},()=>{this.blockTransition=t})}else this.props.onDrawerIn&&this.props.onDrawerIn(),this.setState({drawer:e,drawerId:r,transition:t,uim:a,option:i})},this.existsFlow=e=>{e(!0!==this.flowDismissPending&&!!this.state.drawer)},this.closeFlow=e=>{e&&this.state.drawerId!==e||this.state.drawer&&(this.props.onDrawerOut&&this.props.onDrawerOut(),this.flowDismissPending=!0,this.setState({drawer:void 0},()=>{this.flowDismissPending=!1}))},this.requestFocus=()=>{if(this.refUIE){var e=this.refUIE.getNode();e&&!e.contains(document.activeElement)&&u.default.focus(e)}},this.onAnimationComplete=e=>{var t=this.props.onDrawerAnimationComplete;t&&t();var{option:a,drawer:i}=this.state;a&&i&&e===this.state.drawerId&&(0,p.isFunction)(a.onEnterAnimationComplete)&&a.onEnterAnimationComplete()}}componentDidMount(){this.props.listeners.add(l.default,"open_drawer_".concat(this.props.direction),this.openFlow),this.props.listeners.add(l.default,"exists_drawer_".concat(this.props.direction),this.existsFlow),this.props.listeners.add(l.default,"close_drawer_".concat(this.props.direction),this.closeFlow)}componentDidUpdate(e){this.props.direction!==e.direction&&(e.listeners.remove(l.default,"open_drawer_".concat(e.direction),this.openFlow),e.listeners.remove(l.default,"exists_drawer_".concat(e.direction),this.existsFlow),e.listeners.remove(l.default,"close_drawer_".concat(e.direction),this.closeFlow),this.props.listeners.add(l.default,"open_drawer_".concat(this.props.direction),this.openFlow),this.props.listeners.add(l.default,"exists_drawer_".concat(this.props.direction),this.existsFlow),this.props.listeners.add(l.default,"close_drawer_".concat(this.props.direction),this.closeFlow))}render(){var{direction:e}=this.props,{drawer:t,drawerId:a,transition:i,option:r}=this.state,n=this.blockTransition||i,o=r&&r.noFocus?null:this.requestFocus;return t&&(t=d.createElement(g.default,{displayName:"Drawer".concat((0,s.default)(e)),escapable:!0,key:a,ref:this.setRefUIE,requestFocus:o,requestDismiss:this.closeFlow.bind(null,a)},d.createElement(h.default,{style:{height:"100%"}},t))),d.createElement(m.default.Consumer,null,e=>d.createElement(m.default.Provider,{value:this.state.uim||e},d.createElement(b.default,{className:c.default.container,transitionName:n,onAnimationComplete:this.onAnimationComplete.bind(this,a)},t)))}}var j=(0,f.default)(E);t.default=j},bijebbjggf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(e,t){return function e(t,a,i=(0,o.genId)()){if(t.archive===a)return Promise.reject(new c.ActionError);var{promises:r}=t;if(r.setArchive)return r.setArchive;var s=t.getLastMsgKeyForAction(),f=(0,d.sendConversationArchive)(t.id,a,s).cancellable(),p=a?new o.ActionType(u.default.t(31)):new o.ActionType(u.default.t(56)),g=f.then(r=>{var s;return 200===r.status?(s=a?u.default.t(30):u.default.t(55),new o.ActionType(s,u.default.t(178),()=>e(t,!a,i))):r.status>=400?a?new o.ActionType(u.default.t(29)):new o.ActionType(u.default.t(54)):void 0}).catch(()=>{__LOG__(3)(h());var r=a?u.default.t(29):u.default.t(54);return new o.ActionType(r,u.default.t(174),()=>e(t,a,i))});l.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:p,pendingAction:g}));var m=r.setArchive=f.then(e=>{200!==e.status||e._duplicate||(t.archive=a,a&&(t.pin=void 0))}).finally(()=>{r.setArchive=null});return m.archive=a,m}((0,f.unproxy)(e),t)};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=a("bfgjcdgecg"),l=r(a("ccbgfecegc")),c=i(a("cajijabhgb")),u=r(a("bdjjabfecc")),f=a("cjfegjecaj");function h(){var e=(0,s.default)(["models:chat:setArchive dropped"]);return h=function(){return e},e}},bijffg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LabelCollection=t.LABEL_PROPERTIES=void 0;var s=r(a("dfadhaifh")),n=r(a("jdjcgjgea")),o=i(a("ddhijeejag")),d=a("dheeaichcj"),l=r(a("cgcgbfbffj")),c=r(a("ccbgfecegc")),u=r(a("bjigbaghc")),f=r(a("cjacebhafj")),h=a("bgihjbde"),p=i(a("cajijabhgb")),g=a("ddbdgibbbi"),m=r(a("bdjjabfecc")),b=r(a("bbjjjbicfb")),v=a("dcfieddiah"),_=a("dbjbdhhhea"),E=a("debfcgabcb"),j=r(a("bdcchebfge")),y=r(a("bacbhehedf")),S=i(a("bgabgddgch")),C=r(a("cfidecfjad")),M=r(a("bgeajihhc"));function T(){var e=(0,s.default)(["labels:loadLabelPalette:error ",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["updatingLabel dropped"]);return P=function(){return e},e}function O(){var e=(0,s.default)(["addingNewLabel dropped"]);return O=function(){return e},e}function N(){var e=(0,s.default)(["deleteLabel - label does not exist"]);return N=function(){return e},e}function I(){var e=(0,s.default)(["addingNewLabel dropped"]);return I=function(){return e},e}function A(){var e=(0,s.default)(["addingNewLabel dropped"]);return A=function(){return e},e}var w=Object.freeze({NAME:"name",COLOR:"color"});t.LABEL_PROPERTIES=w;var R=Object.freeze({UPDATING:"updating",SUCCEEDED:"succeeded",FAILED:"failed"});class D extends l.default{constructor(){super(),this.checksum=void 0,this.listenTo(this,"remove",this.handleRemove)}addNewLabel(e,t){(0,v.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.ADD,1,j.default.LABEL_TARGETS.LABEL);var a=C.default.createLabel(e,t),i=new d.ActionType(m.default.t(21,{labelName:e})),r=(0,d.genId)(),s=a.then(({status:t})=>200===t?new d.ActionType(m.default.t(132,{labelName:e})):new d.ActionType(m.default.t(131,{labelName:e}))).catch(()=>(__LOG__(3)(A()),new d.ActionType(m.default.t(131,{labelName:e}))));return c.default.openToast(o.createElement(d.ActionToast,{id:r,initialAction:i,pendingAction:s})),a}addOrRemoveLabels(e,t){var a=(0,d.genId)(),i=new d.ActionType(m.default.t(18,{count:e.length,_plural:e.length})),r=(0,f.default)(e,t).then(()=>{}).then(()=>new d.ActionType(m.default.t(20,{count:e.length,_plural:e.length}))).catch(()=>(__LOG__(3)(I()),new d.ActionType(m.default.t(19))));c.default.openToast(o.createElement(d.ActionToast,{id:a,initialAction:i,pendingAction:r}))}deleteLabel(e){(0,v.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.DELETE,1,j.default.LABEL_TARGETS.LABEL);var t=C.default.deleteLabel(e),a=this.get(e);if(a){var{name:i}=a,r=new d.ActionType(m.default.t(66,{labelName:i})),s=(0,d.genId)(),n=t.then(({status:e})=>200===e?new d.ActionType(m.default.t(65,{labelName:i})):new d.ActionType(m.default.t(64,{labelName:i}))).catch(()=>(__LOG__(3)(O()),new d.ActionType(m.default.t(64,{labelName:i}))));return c.default.openToast(o.createElement(d.ActionToast,{id:s,initialAction:r,pendingAction:n})),t}__LOG__(2)(N())}_getActionLabelUpdateString(e,t){switch(e){case w.NAME:return t===R.UPDATING?m.default.t(105):t===R.SUCCEEDED?m.default.t(107):m.default.t(106);case w.COLOR:return t===R.UPDATING?m.default.t(102):t===R.SUCCEEDED?m.default.t(104):m.default.t(103)}return""}updateLabel(e,t){(0,v.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.EDIT,1,j.default.LABEL_TARGETS.LABEL);var a=C.default.editLabel(e.id,e.name,e.color),i=new d.ActionType(this._getActionLabelUpdateString(t,R.UPDATING)),r=(0,d.genId)(),s=a.then(({status:e})=>200===e?new d.ActionType(this._getActionLabelUpdateString(t,R.SUCCEEDED)):new d.ActionType(this._getActionLabelUpdateString(t,R.FAILED))).catch(()=>(__LOG__(3)(P()),new d.ActionType(this._getActionLabelUpdateString(t,R.FAILED))));return c.default.openToast(o.createElement(d.ActionToast,{id:r,initialAction:i,pendingAction:s})),a}getNewLabelColor(){return C.default.queryNextLabelColor().then(e=>e.labelColors[0].color).catch(()=>{})}getLabelColorPalette(){return this.labelColorPalette=this.labelColorPalette||(0,g.getSmbLabelPalette)(),this.labelColorPalette&&this.labelColorPalette.waVersion===u.default.phone.wa_version?Promise.resolve(this.labelColorPalette.colors):this._getColorPaletteLoop().then(e=>{var t=e.labelColors.map(({color:e})=>e);return(0,g.setSmbLabelPalette)({colors:t,waVersion:u.default.phone.wa_version}),t}).catch(()=>{})}_getColorPaletteLoop(){return Promise.loop((e,t,a)=>{var i=Promise.delay(S.expBackoff(a,12e4,1e3,.1));return("CONNECTED"===M.default.stream?Promise.resolve():(0,y.default)(M.default,"change:stream",()=>"CONNECTED"===M.default.stream)).then(()=>C.default.queryLabelPalette().then(t=>{e(t)})).catchConditional(e=>!(e instanceof Promise.CancellationError),e=>a>3||404===e?(__LOG__(3)(T(),String(e)),404===e?Promise.reject(new h.E404):Promise.reject(new p.GaveUpRetry("Gave up loading label palette ".concat(a," tries")))):i)},0)}handleRemove(e){var{labelItemCollection:t}=e;t.toArray().forEach(e=>{var{parentId:t,parentType:a,labelId:i}=e,r=(0,E.getParentCollection)(a).get(t);r&&(r.labels=(0,n.default)(r.labels,e=>e!==i))})}onResume(){this.filter(e=>e.hasObservers()).forEach(e=>{this.find(e.id).catchType(h.WebdDrop,()=>{})})}delete(){super.delete(),delete this.checksum}sync(e){if(!e||this.checksum!==e)return this.findQuery({}).catchTypes(h.WebdDrop,p.ProtoVersionUndefined,()=>{})}handle(e){var t;if(e.checksum&&this.updateChecksum(e.checksum),e.labels&&e.labels[0]&&e.labels[0].labelUpdates)return e.labels[0].labelUpdates.forEach(e=>{e.collection.forEach(a=>{a!==_.LabelItemParentType.Msg&&a!==_.LabelItemParentType.Chat||(t=!0);var i=e.id,r=(0,E.getParentCollection)(a).get(e.id);r&&(r.labels&&r.labels.forEach(t=>{e.labels.includes(t)||(0,E.removeLabelFromCollection)(i,t,a)}),r.labels=e.labels)})}),void(t&&this.trigger("bulk_msg_chat_label_change"));var a=[],i=[];e.labels.forEach(e=>{"delete"===e.type?a.push(e.label):i.push(e.label)}),this.remove(a.map(({id:e})=>e)),this.add(i,{merge:!0})}_findQuery(){return C.default.queryLabels().then(e=>(e.checksum&&this.updateChecksum(e.checksum),e.labels))}_find(){return this._findQuery()}updateChecksum(e){this.checksum=e}getLabelsForModel(e,t){return this.filter(a=>a.labelItemCollection.get((0,E.createLabelItemId)(e,a.id,t))).map(e=>e.id)}}t.LabelCollection=D,D.model=b.default,D.staleCollection=!0,D.resumeOnAvailable=!0;var L=new D;t.default=L},bijgfjecca:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bjegcccgec")),o=i(a("becciggfeb")),d=i(a("cdbiieagei"));class l extends s.Component{constructor(e){super(e),this._handleAspectRatio=e=>{((null==this.state.aspectRatio||0===this.state.aspectRatio)&&e||null!=this.state.aspectRatio&&0!==this.state.aspectRatio&&e&&Math.abs(e-this.state.aspectRatio)>.01)&&this.setState({aspectRatio:e})};var t=(0,o.default)(this.props.ogVideoInfo.previewUrl),a=t.width&&t.height?t.width/t.height:void 0;this.state={aspectRatio:a}}render(){return s.createElement(n.default,{aspectRatio:this.state.aspectRatio,previewUrl:this.props.ogVideoInfo.previewUrl,animationStartStyle:this.props.animationStartStyle},s.createElement(d.default,{ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onAspectRatio:this._handleAspectRatio,autoPlay:!0}))}}t.default=l},bijjheifie:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){return(0,f.getStatus)(e).then(t=>{var i={id:e};if((0,h.isNumber)(t.status))switch(t.status){case 429:i.stale=!0;var r=a("gbbacfeci").default.get(e);r&&!(0,h.isString)(r.status)&&(i.status="");break;default:i.status=""}else i.status=t.status;return i})},t.setMyStatus=function e(t,i=(0,o.genId)()){var r=t.trim();if(!r)return Promise.reject(new l.ActionError);var s=(0,f.setMyStatus)(r),h=new o.ActionType(u.default.t(173)),g=(0,c.getMaybeMeUser)(),m=a("gbbacfeci").default,b=m.assertGet(g).status,v=s.then(t=>200===t.status?new o.ActionType(u.default.t(171),u.default.t(178),()=>e(b,i)):t.status>=400?new o.ActionType(u.default.t(172)):void 0).catch(()=>{throw __LOG__(3)(p()),new o.ActionType(u.default.t(172),u.default.t(174),()=>e(t,i))});return d.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:h,pendingAction:v})),s.then(e=>{200!==e.status||e._duplicate||(m.assertGet(g).status=t)})};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=i(a("cajijabhgb")),c=a("ddbdgibbbi"),u=r(a("bdjjabfecc")),f=a("cbcjhabjci"),h=a("hjbbdjjdf");function p(){var e=(0,s.default)(["models:statusCollection:setMyStatus dropped"]);return p=function(){return e},e}},bjaehhfffd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(){this.initSessionId()}initSessionId(){this.sessionId=this.newSessionId()}newSessionId(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}},bjahdhiige:function(e,t){e.exports={bubble:"_3Da1E",nonAlbumBubble:"_1YkZz",author:"_3KplR",forwarded:"_2CoG-",forwardedIndicator:"_3ro4V",hasAuthor:"_1ZSr-",meta:"_3phU6",hasCaption:"ugj0z",caption:"_2g2ig",isPSA:"_88ktc",isPsa:"_88ktc",quote:"_1QJBw",thumb:"-xSc5",inAlbum:"_3V2jl",cursorPointer:"_2nJ1e",thumbBody:"_2MrqQ",duration:"_1rd4q",icon:"_2QxqP",pipBtn:"_1JriQ",isHover:"_2UWFy",overlay:"wakvF",overlayAlbumText:"_1GGbc",ctwaContext:"_3cT1M",ctwaContainerWidth:"_3OXJW",ctwaThumbWidth:"cMvvD"}},bjcbijhief:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("bdcchebfge"));function n(){var e=(0,r.default)(["mediaPickerSentUnchange mediaPickerSent: ",", mediaPickerChanged: ",""]);return n=function(){return e},e}var o={document:s.default.MEDIA_TYPE.DOCUMENT,video:s.default.MEDIA_TYPE.VIDEO,gif:s.default.MEDIA_TYPE.GIF,image:s.default.MEDIA_TYPE.PHOTO,audio:s.default.MEDIA_TYPE.AUDIO};t.default=class{constructor(e,t,a){this.mediaPickerSentUnchanged=0,this.mediaPickerDeleted=0,this.mediaPickerChanged=new Set,this.mediaPickerCroppedRotated=new Set,this.mediaPickerDrawing=new Set,this.mediaPickerStickers=new Set,this.mediaPickerText=new Set,this.mediaPickerLikeDoc=0,this.mediaPickerNotLikeDoc=0,this.mediaPickerT=0,this.t0=Date.now(),this.mediaType=o[t],this.mediaPickerOrigin=a,this.medias=new Set,this.medias.add(e),this.changeTypes={mediaPickerCroppedRotated:this.mediaPickerCroppedRotated,mediaPickerDrawing:this.mediaPickerDrawing,mediaPickerStickers:this.mediaPickerStickers,mediaPickerText:this.mediaPickerText}}onAdd(e){this.medias.add(e),"document"===this.mediaType?this.mediaPickerLikeDoc++:this.mediaPickerNotLikeDoc++}onChange(e,t){this.mediaPickerChanged.add(e),this.changeTypes[t].add(e)}onDelete(e){if(this.medias.delete(e),this.mediaPickerDeleted++,0===this.medias.size)return this.onCancel()}onSend(){return this.mediaPickerSent=this.medias.size,this.mediaPickerSentUnchanged=this.mediaPickerSent-this.mediaPickerChanged.size,this.dataPreflight()}onCancel(){return this.mediaPickerSent=0,this.mediaPickerSentUnchanged=0,this.dataPreflight()}onPause(){this.mediaPickerT+=Date.now()-(this.t0||0),this.t0=null}onResume(){this.t0=null!=this.t0?this.t0:Date.now()}dataPreflight(){var e=this.mediaPickerSentUnchanged;return isNaN(e)&&(e=0,__LOG__(4,!1,new Error)(n(),null!=this.mediaPickerSent&&0!==this.mediaPickerSent?this.mediaPickerSent:"undefined",this.mediaPickerChanged.size||"undefined"),SEND_LOGS("mediaPickerSentUnchange is not a number")),{mediaPickerSent:this.mediaPickerSent,mediaPickerSentUnchanged:e,mediaPickerT:this.mediaPickerT+(Date.now()-(this.t0||0)),mediaType:this.mediaType,mediaPickerOrigin:this.mediaPickerOrigin,mediaPickerChanged:this.mediaPickerChanged.size,mediaPickerCroppedRotated:this.mediaPickerCroppedRotated.size,mediaPickerDrawing:this.mediaPickerDrawing.size,mediaPickerStickers:this.mediaPickerStickers.size,mediaPickerText:this.mediaPickerText.size,mediaPickerLikeDoc:this.mediaPickerLikeDoc,mediaPickerNotLikeDoc:this.mediaPickerNotLikeDoc,mediaPickerDeleted:this.mediaPickerDeleted}}}},bjcdghhbjh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s.createElement("div",{className:n.default.border})};var s=r(a("ddhijeejag")),n=i(a("ddhhgigcif"))},bjcegba:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupFromPhone=function(e){return(0,l.groupMetadataFindFromPhone)(e).then(t=>"ok"===t.status?t.data:"missing"!==t.status?"error"===t.status?(__LOG__(3)(c(),t.info),Promise.reject(new Error("model:GroupMetadata:find error"))):void 0:void(0,n.default)(()=>{a("dbdfbgehgj").default.assertGet(e).delete()}))},t.queryGroupInviteInfo=function(e){return(0,l.sendQueryGroupInvite)(e).then(e=>{var{status:t,subject:i}=e,s=(0,r.default)(e,["status","subject"]),n=new d.default(s);o.default.gadd(n.id);var l=a("dbdfbgehgj").default.get(n.id);return{status:t,subject:i,groupMetadata:n,inGroup:!!l&&!l.isReadOnly}})};var r=i(a("dagbcgeifg")),s=i(a("dfadhaifh")),n=i(a("bgifaaggh")),o=i(a("dhigahgdjb")),d=i(a("fcfchiagj")),l=a("biigiejiib");function c(){var e=(0,s.default)(["model:GroupMetadata:find error ",""]);return c=function(){return e},e}},bjcfcebada:function(e,t){e.exports={mediaPanelHeader:"_2S-RK",mediaPanelTools:"_3GQ1Z",info:"_3VT0x"}},bjcgcdejaa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e;if(!a)return;do{a=t===s.NEXT?a.nextSibling:a.previousSibling}while(a&&(0,r.default)(a));return a},t.DIR=void 0;var r=i(a("ccagfiehde")),s={NEXT:"NEXT",PREV:"PREV"};t.DIR=s},bjdccffhaj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({type:e,onClick:t,onKeyDown:a,disabled:i,theme:r,overMedia:d}){var p=(0,s.default)(o.default.btn,{[o.default.btnMediaPrev]:e===u.Prev,[o.default.btnMediaNext]:e===u.Next,[o.default.disabledBtn]:i,[o.default.overMedia]:d}),g=f[e],m=h[e];return n.createElement(l.default,{className:p,onClick:i?null:t,onKeyDown:a,label:g,theme:r,disabled:i},n.createElement(c.default,{name:m,title:g}))},t.ButtonType=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dghhfdgdjg")),d=r(a("bdjjabfecc")),l=i(a("deffjjfcba")),c=r(a("dgdcjccfdi")),u=a("bjgidhichc").Mirrored(["Prev","Next"]);t.ButtonType=u;var f={Prev:d.default.t(1094),Next:d.default.t(1035)},h={Prev:"chevron-left",Next:"chevron-right"}},bjdchgaiie:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cancelDownloadMedia=function(e){var t=e.downloadPromise;t&&t.control.cancel()},t.manuallySetMedia=function({mimetype:e,mediaObject:t,mediaBlob:a,mediaType:i,rmrReason:r,downloadOrigin:s}){if(t.mediaBlob)return;(0,b.gatherAndSetMetadata)(t,a).then(()=>U({mimetype:e,mediaObject:t,downloadEvenIfExpensive:!1,mediaType:i,rmrReason:r,downloadOrigin:s}))},t.downloadMedia=U,Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return l.MediaDecryptionError}}),Object.defineProperty(t,"MediaNotOnPhone",{enumerable:!0,get:function(){return l.MediaNotOnPhone}});var s=r(a("dfadhaifh")),n=a("bjhaecbifc"),o=r(a("cgeedcdffb")),d=r(a("dfiiijedcb")),l=a("bgijhafgfd"),c=i(a("cajijabhgb")),u=a("cgffhfegce"),f=r(a("dhibedeibc")),h=r(a("eceibhbeff")),p=i(a("baffhfhhda")),g=r(a("bihjffdjjj")),m=a("ccfjbcbbga"),b=a("bccggdcfj"),v=r(a("bdcchebfge")),_=a("cedhgehjef"),E=r(a("dcdjgccech")),j=a("cjjdjbcgjh");function y(){var e=(0,s.default)(["downloadMedia: error"]);return y=function(){return e},e}function S(){var e=(0,s.default)(["Assertion failed! ",""]);return S=function(){return e},e}function C(){var e=(0,s.default)(["downloadMedia: error: ",", ",""]);return C=function(){return e},e}function M(){var e=(0,s.default)(["Assertion failed! ",""]);return M=function(){return e},e}function T(){var e=(0,s.default)(["downloadMedia: error: ",", ",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["Assertion failed! ",""]);return P=function(){return e},e}function O(){var e=(0,s.default)(["downloadMedia: media unsupported error: ",", ",", ",""]);return O=function(){return e},e}function N(){var e=(0,s.default)(["Assertion failed!"]);return N=function(){return e},e}function I(){var e=(0,s.default)(["Unexpected download error: ",""]);return I=function(){return e},e}function A(){var e=(0,s.default)(["Assertion failed! ",""]);return A=function(){return e},e}function w(){var e=(0,s.default)(["downloadMedia: media unsupported error: ",", ",", ",""]);return w=function(){return e},e}function R(){var e=(0,s.default)(["Failed to retrieve blob text contents ",""]);return R=function(){return e},e}function D(){var e=(0,s.default)(["Assertion failed!"]);return D=function(){return e},e}class L extends((0,n.customError)("NoEntryAfterRMR")){}class k extends((0,n.customError)("MissingEncFilehash")){}var x=3,G=4;function U({mimetype:e,mediaObject:t,downloadEvenIfExpensive:a,mediaType:i,signal:r,rmrReason:s,rmrData:n,downloadOrigin:B,shouldThrow:V,isVcardOverMmsDocument:H}){if(!t)return Promise.resolve();var W=t.filehash;if(!W)return Promise.resolve();if(t.downloadPromise)return t.downloadPromise;if(t.downloadStage===m.DOWNLOAD_STAGE.ERROR_MISSING)return Promise.resolve();if(t.downloadStage===m.DOWNLOAD_STAGE.PREPARING)return Promise.resolve();if(t.mediaBlob)return t.mediaBlob.validate().then(e=>{if(!e)return t.clearBlob(),t.consolidate({downloadStage:m.DOWNLOAD_STAGE.NEED_POKE}),t.notifyMsgsAsync(),Promise.resolve();t.consolidate({downloadStage:m.DOWNLOAD_STAGE.RESOLVED})});var K,Y,q=h.default.get(W),z=new o.default;if(r){if(r.aborted)return Promise.reject(new l.AbortError);r.addEventListener("abort",()=>z.abort())}if(q)K=Promise.resolve(q);else{var Q;if(Y=t.entries.getDownloadEntry())Q=Promise.resolve(Y);else{if(!a)return t.consolidate({downloadStage:m.DOWNLOAD_STAGE.NEED_POKE}),Promise.resolve();Q=d.default.rmr({mediaObject:t,signal:z.signal,rmrReason:s,rmrData:n}).then(()=>{if(!(Y=t.entries.getDownloadEntry()))throw new L;return Y})}t.consolidate({downloadStage:m.DOWNLOAD_STAGE.FETCHING}),K=Q.then(a=>{var r,s=(Y=a).uploadHash;if(!s)throw Y.markWhetherOnServer(!1),new k;var{scansSidecar:n,scanLengths:o}=Y,l=o&&n&&F(o,n)?a=>{var i=new v.default.WebcProgressiveImage({webcFirstRenderScans:0});r=new f.default({cryptoKeys:a,scanLengths:o,scansSidecar:n,mimetype:e,filehash:W,onProgressiveUpdate:e=>{t.downloadStage!==m.DOWNLOAD_STAGE.RESOLVED&&(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.PROGRESSIVE_READY,progressiveStage:e}),i.webcFirstRenderScans||(i.webcFirstRenderScans=e,i.markWebcFirstRenderT()),e>=x&&!i.webcMidQualityT&&i.markWebcMidQualityT(),e!==G||i.webcFullQualityT||(i.markWebcFullQualityT(),i.commit()))}})}:null;return d.default.downloadAndDecrypt({directPath:Y.directPath,encFilehash:s,filehash:W,mediaKey:Y.mediaKey,mediaKeyTimestamp:Y.mediaKeyTimestamp,signal:z.signal,type:i,onMediaKeys:l,onDecryptStart:()=>{t.consolidate({downloadStage:m.DOWNLOAD_STAGE.PROCESSING})},onResponseText:F(o,n)?(e,t)=>{var a;null===(a=r)||void 0===a||a.handleProgress(e,t)}:null,userDownloadAttemptCount:t.userDownloadAttemptCount,downloadOrigin:B}).then(t=>{var a=e||(0,_.getMediaMimeType)(i,new Uint8Array(t)),r=new Blob([t],{type:a});return!(0,b.shouldUseMediaCache)(i)||i!==g.default.PTT&&i!==g.default.AUDIO?r:p.transcode(r)})})}var J=!1;return t.downloadPromise=K.then(e=>("text/vcard"===e.type&&H&&(0,u.blobToText)(e).then(e=>{var a=(0,j.parseMultiVcard)(e);a.length>0?t.consolidate({parsedVcards:a}):(__LOG__(4,!1,new Error)(D()),SEND_LOGS("vcard_over_mms:Failed to parse vcard over mms contents"))}).catch(e=>{__LOG__(4,!1,new Error)(R(),String(e)),SEND_LOGS("vcard_over_mms:blobToText failed with error: ".concat(String(e)))}),e)).then(e=>(0,b.shouldUseMediaCache)(i)?(h.default.put(W,e),(0,b.gatherAndSetMetadataNoOpaque)(t,e)):E.default.createFromData(e,e.type).then(e=>(0,b.gatherAndSetMetadata)(t,e))).then(()=>(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.RESOLVED}),t.downloadPromise=null,t.resolveWhenConsolidated())).addRawControl("cancel",()=>{J=!0,z.abort()}).catchType(l.MediaNotFoundError,r=>{if(!Y)throw r;if(Y.markWhetherOnServer(!1),!a)throw r;return d.default.rmr({mediaObject:t,signal:(new o.default).signal,rmrReason:s,rmrData:n}).then(()=>(t.downloadPromise=null,U({mimetype:e,mediaObject:t,downloadEvenIfExpensive:!1,mediaType:i,rmrReason:s,rmrData:n,downloadOrigin:B,isVcardOverMmsDocument:H})))}).catchType(c.MediaUnsupportedError,a=>{if(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.ERROR_UNSUPPORTED}),__LOG__(3)(w(),a.name,a.message,e||""),__LOG__(4,!1,new Error)(A(),a.message),SEND_LOGS("downloadMedia: media unsupported error:"),V)throw a}).catchType(l.MediaNotOnPhone,e=>{if(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.ERROR_MISSING}),V)throw e}).catchTypes(L,k,e=>{if(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.ERROR_MISSING}),__LOG__(3)(I(),e.name),__LOG__(4,!1,new Error)(N()),SEND_LOGS("unexpected download error: ".concat(e.name)),V)throw e}).catchType(l.MediaDecryptionError,e=>{if(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.ERROR_MISSING}),V)throw e}).catch(a=>{if(t.consolidate({downloadStage:m.DOWNLOAD_STAGE.NEED_POKE}),a instanceof c.MediaLoadError){if(__LOG__(3)(O(),a.name,a.message,e||""),__LOG__(4,!1,new Error)(P(),a.message),SEND_LOGS("downloadMedia: media load error:"),V)throw a}else if(a instanceof c.TranscodeBlobTooLargeError){if(__LOG__(3)(T(),a.message,e||""),__LOG__(4,!1,new Error)(M(),a.message),SEND_LOGS("downloadMedia: transcode blob too large"),V)throw a}else if(a instanceof c.UnableToPlayVideoError){if(__LOG__(3)(C(),a.message,e||""),__LOG__(4,!1,new Error)(S(),a.message),SEND_LOGS("downloadMedia: unable to play video"),V)throw a}else if(a instanceof l.AbortError&&J){if(V)throw a}else if(__LOG__(2)(y()),V)throw a}).finally(()=>{r&&r.removeEventListener("aborted",()=>z.abort()),t.downloadPromise=null}).endWithControls("cancel"),t.downloadPromise}function F(e,t){return!!(e&&t&&e.length>=2&&10*e.length===t.byteLength)}},bjddibdgjb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return i},t.setHasText=function(e){i=e};var i=!1},bjddijedhj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();if(Array.isArray(t)){var a=e.shift();!function(e,t){var a=t&&"remove"===t.missing?(0,l.getContactsToRemove)(e):[];(0,u.mungePSAContact)(e);var i=Promise.resolve();d.default.supportsFeature(d.default.F.MD_BACKEND);i.then(()=>{n.default.add(e,{merge:!0}),a.forEach(e=>{e.unset("name"),e.unset("shortName")}),t&&t.checksum&&(n.default.setChecksum(t.checksum),__LOG__(2)(g(),t.checksum))}),__LOG__(2)(p(),e.map(e=>e.id).join())}(t,a)}else"preempt"===t.cmd?function(e){var t;(0,u.mungePSAContact)(e.response),t=d.default.supportsFeature(d.default.F.MD_BACKEND)?(0,c.bulkCreateOrUpdateContacts)(e.response):Promise.resolve();t.then(()=>{n.default.add(e.response,{merge:!0}),e.checksum&&(n.default.setChecksum(e.checksum),__LOG__(2)(h(),e.checksum)),n.default.trigger(s.default.COLLECTION_HAS_SYNCED,{count:e.response.length,binarySize:e.binarySize})})}(t):"frequent"===t.type?function(e){var t;delete e.type,t=d.default.supportsFeature(d.default.F.MD_BACKEND)?(0,o.setFrequent)(e):Promise.resolve();t.then(()=>{n.default.updateFrequentContacts(e)})}(t):"sidelist"===t.type?function(e){var{notification:t,action:a,hash:i}=e,r=n.default._contactHashes.get(i);if(!r)return;"business"===t&&"profile"===a&&r.forEach(e=>{var t=n.default.get(e);if(t)t.businessProfile&&t.businessProfile.markStale();else{var a=n.default.getUserCount(),r=n.default._contactHashes.length;__LOG__(4,!1,new Error)(f(),i,a,r),SEND_LOGS("Stale wid in contact hash index")}})}(t):__LOG__(3)(m(),JSON.stringify(t))};var r=i(a("dfadhaifh")),s=i(a("hgigjbgie")),n=i(a("dhigahgdjb")),o=a("cbecjajacd"),d=i(a("bhbdiadfhj")),l=a("dbefabiacb"),c=a("dbhhjaecch"),u=a("dafafigeih");function f(){var e=(0,r.default)(["Hash: "," Users: ",", Hashes: ",""]);return f=function(){return e},e}function h(){var e=(0,r.default)(["Store:Contact:handle update checksum ",""]);return h=function(){return e},e}function p(){var e=(0,r.default)(["handle:Contact updated ",""]);return p=function(){return e},e}function g(){var e=(0,r.default)(["handle:Contact update checksum ",""]);return g=function(){return e},e}function m(){var e=(0,r.default)(["handle:Contact unknown: ",""]);return m=function(){return e},e}},bjecicbiic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationDelete=function(e,t){var a=Promise.resolve({status:400,_duplicate:!1});r.default.supportsFeature(r.default.F.MD_BACKEND)||(a=s.default.sendConversationDelete(e,t));return a};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},bjegcccgec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MAX_ASPECT_RATIO=t.MIN_ASPECT_RATIO=t.MIN_WIDTH=t.MIN_HEIGHT=t.LONGER_SIDE_DEFAULT_LENGTH=t.MARGIN_Y=t.MARGIN_X=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("becgieeigd")),d=(i(a("dcjigehfeb")),i(a("dffjiffehg")));t.MARGIN_X=10;t.MARGIN_Y=10;t.LONGER_SIDE_DEFAULT_LENGTH=330;t.MIN_HEIGHT=145;t.MIN_WIDTH=145;t.MIN_ASPECT_RATIO=145/330;t.MAX_ASPECT_RATIO=330/145;class l extends s.Component{constructor(e){super(e),this.state=l.getInitialMediaStyle(e.aspectRatio,e.initialPiPStyle)}static getDerivedStateFromProps(e){return l.getInitialMediaStyle(e.aspectRatio,e.initialPiPStyle)}static getInitialMediaStyle(e,t){var a,i,r,s=l.getAspectRatio(e);return t?{initialPiPStyle:t,aspectRatio:s}:(n.default.getConversationHeaderOffset(e=>{a=e}),s>1?r=(i=330)/s:i=(r=330)*s,a||(a={right:window.innerWidth,bottom:0}),{initialPiPStyle:{width:i,left:a.right<window.innerWidth?a.right-i-10:window.innerWidth-i-10,bottom:window.innerHeight-10-r-a.bottom},aspectRatio:s})}static getAspectRatio(e){var t=1;return null!=e&&(t=e<145/330?145/330:e>330/145?330/145:e),t}render(){var e=this.state.aspectRatio;if(!e)return null;var t,a=145*e,i=145<a?a:145;if(null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===145/330&&e>this.props.aspectRatio||null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===330/145&&e<this.props.aspectRatio){var r;if(this.props.previewUrl){var n={backgroundImage:this.props.previewUrl};r=s.createElement("div",{className:o.default.bgImg,style:n})}t=s.createElement("div",{className:o.default.bottomLayer},r)}return s.createElement(d.default,{aspectRatio:e,margin:{x:10,y:10},minWidth:i,className:o.default.videoFloater,initialStyle:this.state.initialPiPStyle,animationStartStyle:this.props.animationStartStyle,escapeConversationHeader:!0},t,this.props.children)}}t.default=l},bjfbdidjgj:function(e,t){e.exports={container:"_2O38h",btnActive:"G9m9k",btnAction:"_1WOQe",controlsSummary:"_3FwbN",confirm:"_1ZWg8",summaryText:"_25VFI",item:"_2RJtU"}},bjfdccaidi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgebcfedgb")),o=r(a("djegeegcbf")),d=i(a("gfebgebbi")),l=i(a("cahahadche")),c=a("gaifbabbj"),u=i(a("cjfbdacifh")),f=a("dbehedefbc");class h extends s.Component{componentDidMount(){}render(){var{base:e,unicode:t,action:a}=this.props,i=(0,o.isBaseCoupleEmoji)(e),r=(i?(0,o.getPermutations)(f.SKIN_TONE_VARIATIONS.slice(1),2):f.SKIN_TONE_VARIATIONS.map(e=>[e])).reduce((t,a)=>{var i=o.default.variantToUnicode(e,a);return i?(t.push(i),t):t},[]).filter(e=>o.default.isEmoji(e)).map((e,r)=>s.createElement(n.default,{type:i?"emoji-grid":"emoji",key:e+r,a8n:"mi-emoji-variant",action:i=>a(i,t,e)},s.createElement(d.default,{text:e,formatters:c.Configuration.LargeEmojiOnly(),tabIndex:"-1"})));return i?s.createElement(l.default,{base:e,action:a,unicode:t},r):s.createElement(u.default,null,r)}}t.default=h},bjfejcfdjh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhfbfehaef")),o=i(a("bdjjabfecc")),d=i(a("fiijdaaid")),l=i(a("diffaiehid"));class c extends s.Component{constructor(...e){super(...e),this._onSearch=this.props.debounce(e=>{this.props.setSearchText(e)},100)}componentWillUnmount(){this._onSearch.cancel()}render(){return this.props.enabled?s.createElement(n.default,{handlers:{down:this.props.onDown},onFocus:this.props.onFocus},s.createElement(d.default,{ref:this.props.searchRef,onSearch:this._onSearch,onEnter:this.props.onEnter,placeholder:o.default.t(1193)})):null}}c.defaultProps={enabled:!0};var u=(0,l.default)(c);t.default=u},bjficacaec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bffbhgdcdh"));class o extends s.PureComponent{constructor(...e){super(...e),this.handlePlayByControls=()=>{this.props.refVideo&&this.props.refVideo.play()},this.handlePauseByControls=()=>{this.props.refVideo&&this.props.refVideo.pause()},this.handleSetCurrentTimeByControls=e=>{this.props.refVideo&&this.props.refVideo.setCurrentTime(e)},this.handleSetVolumeByControls=e=>{this.props.refVideo&&this.props.refVideo.setVolume(e)},this.handleSetMutedByControls=e=>{this.props.refVideo&&this.props.refVideo.setMuted(e)}}render(){if(!this.props.refVideo)return null;var e=this.props.videoMetadata;return e?s.createElement(n.default,{duration:e.duration,progress:e.currentTime,volume:e.volume,muted:e.muted,bufferedTime:e.bufferedTime,onPlay:this.handlePlayByControls,onPause:this.handlePauseByControls,onProgressChange:this.props.handleSetCurrentTimeByControls?this.props.handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,onVolumeValueChange:this.handleSetVolumeByControls,onMutedValueChange:this.handleSetMutedByControls,isVideoPlaying:this.props.isVideoPlaying,isFullscreenMode:this.props.isFullscreenMode,className:this.props.controlsClassName,ctwaSourceUrl:this.props.ctwaSourceUrl}):null}}t.default=o},bjfjcjhfjj:function(e,t){e.exports={cursorAuto:"_3h2XH"}},bjfjfdaihd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("jgficfddf"),d=r(a("bhicbecjj")),l=r(a("ecagbdjcba")),c=r(a("beifghicf")),u=r(a("hgigjbgie")),f=r(a("dhggdfijcg")),h=r(a("djegeegcbf")),p=r(a("gfebgebbi")),g=r(a("cffccdfbea")),m=a("djaiggcdb"),b=a("gaifbabbj"),v=a("ecceiefjaj"),_=r(a("bdjjabfecc")),E=r(a("bccgiaijaj")),j=r(a("fjgaiebfh")),y=r(a("deeafjfccb")),S=r(a("dbcaichhbj")),C=a("cjbafegbjg"),M=r(a("bfgbdiffgd")),T=r(a("dggfhciihi")),P=r(a("eebiehgif")),O=r(a("cdeaejdeib")),N=r(a("dgfgceghic")),I=r(a("deajhegfjh"));class A extends n.PureComponent{render(){var e,t,a,i,{msg:r,displayAuthor:A,trusted:w,displayType:R}=this.props;if(w&&(r.linkPreview||r.ctwaContext))if(r.ctwaContext)e=n.createElement(f.default,{msg:r.unsafe(),wrapperClass:O.default.linkPreview});else if(r.matchedText&&(0,v.isParsableOnlineVideoURL)(r.richPreviewType,r.matchedText,r.doNotPlayInline))e=n.createElement("div",{className:O.default.linkPreview},n.createElement(I.default,{msg:r.unsafe()}));else{var[D]=(0,C.parseAPICmd)(r.matchedText);if(D===o.APICmd.GROUP_INVITE){if(e=n.createElement("div",{className:O.default.linkPreview},n.createElement(E.default,{msg:r.unsafe(),displayType:R,invite:!0})),R!==u.default.DISP_TYPE.GALLERY){var L=r.isSentByMe?_.default.t(698):_.default.t(683);t=n.createElement(d.default,{items:[{label:L,onClick:()=>{var e=r.matchedText;(0,m.openExternalLink)(e)}}]})}}else if(D===o.APICmd.CATALOG&&M.default.catalogMessage){if(e=n.createElement("div",{className:O.default.linkPreview},n.createElement(c.default,{msg:r.unsafe()})),R!==u.default.DISP_TYPE.GALLERY){var k=_.default.t(1105);t=n.createElement(d.default,{items:[{label:k,onClick:()=>{var e=r.matchedText;(0,m.openExternalLink)(e)}}]})}}else e=n.createElement("div",{className:O.default.linkPreview},n.createElement(E.default,{msg:r.unsafe(),displayType:R}))}var x,G,U=h.default.getMatchedEmojis(r.body);if(U){var F=1===U.length&&U[0].startsWith("❤");a=n.createElement(S.default,{animation:F,emojis:U}),i=!0}else{var B=w?b.Configuration.TrustedConversation:b.Configuration.UntrustedConversation;a=n.createElement(g.default,{text:r.body,textLimit:r.initialPageSize},e=>{var t=B({mentions:r.mentionMap(),links:r.getLinks(e.textLimit),selectable:!0});return n.createElement(p.default,{text:r.body,className:R===u.default.DISP_TYPE.GALLERY?"message-text-link":"",dirMismatch:r.rtl!==_.default.isRTL(),direction:r.dir,inferLinesDirection:!0,formatters:t,selectable:!0,textLimit:e.textLimit,noInvisibleSpace:r.isFromTemplate&&null!=r.footer&&(r.rtl||r.rtl!==_.default.isRTL())})})}r.isFromTemplate&&(x=r.title?n.createElement("div",{className:O.default.title},n.createElement(p.default,{text:r.title,dirMismatch:r.rtl!==_.default.isRTL(),direction:r.dir})):null,G=n.createElement(P.default,{dir:r.dir,footer:r.footer,isFromTemplate:r.isFromTemplate,msg:r.unsafe(),rtl:r.rtl,type:r.type}));var V,H=R!==u.default.DISP_TYPE.GALLERY&&!r.isPSA&&!i;this.props.quotedMsg&&(V=n.createElement("div",{className:O.default.quote},this.props.quotedMsg));var W,K=this.props.displayAuthor&&!r.isSentByMe&&r.isGroupMsg,Y=r.showForwarded(),q=r.getSuspiciousLinks().length>0,z=!!t||!!r.hasTemplateButtons;return z&&(W=n.createElement("div",{className:O.default.meta},n.createElement(y.default,{msg:r}))),n.createElement(N.default,{msg:r,displayType:R,displayAuthor:A,hideMeta:z},n.createElement(l.default,{className:(0,s.default)({[O.default.hasAuthor]:K,[O.default.forwarded]:Y,[O.default.hasSuspiciousLinks]:q}),contact:r.senderObj,msg:r.unsafe()},V,!r.ctwaContext&&n.createElement(T.default,{msg:r.unsafe(),displayType:R}),e,n.createElement(j.default,{msg:r.unsafe(),spacer:r.isFromTemplate?H&&!r.footer:H,"data-id":r.id},x,a,G,W),t))}}t.default=A},bjgdagjjci:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("djheacfeif")),n=i(a("dcaifjegcg")),o=r(a("cfadcbbiie")),d=r(a("dhigahgdjb")),l=a("ddbdgibbbi"),c=a("dfdhiegfdi"),u=a("hjbbdjjdf"),f=r(a("jccfhaecf"));class h extends n.default{constructor(...e){super(...e),this.id=(0,n.prop)(),this.msg=(0,n.prop)(),this.lat=(0,n.prop)(),this.lng=(0,n.prop)(),this.accuracy=(0,n.prop)(),this.speed=(0,n.prop)(),this.degrees=(0,n.prop)(),this.sequence=(0,n.prop)(),this.comment=(0,n.prop)(),this.expiration=(0,n.prop)(),this.lastUpdated=(0,n.prop)(),this.contact=(0,n.session)(),this.expireTimerId=(0,n.session)(),this.disabled=(0,n.session)(!1),this.isMe=(0,n.derived)(this._isMe,["id"]),this.valid=(0,n.derived)(this._valid,["lat","lng"])}_isMe(){return this.id.equals((0,l.getMaybeMeUser)())}_valid(){return t=this.lat,(0,u.isNumber)(t)&&t>=-90&&t<=90&&(e=this.lng,(0,u.isNumber)(e)&&e>=-180&&e<=180);var e,t}initialize(){super.initialize(),this.addChild("contact",d.default.gadd(this.id)),(0,c.addLiveLocation)(this.contact,this),this.listenTo(this,"change:expiration",this._setExpireTimer),this._setExpireTimer()}delete(){super.delete(),this._disableMsg(),(0,c.removeLiveLocation)(this.contact,this),this._clearExpireTimer()}remainingTime(){return this.expiration-o.default.globalUnixTime()}elapsedTime(){return o.default.globalUnixTime()-this.lastUpdated}disable(){this.disabled=!0}_disableMsg(){var e=this.msg;e&&(e.shareDuration=o.default.globalUnixTime()-e.t-1)}_setExpireTimer(){this.expiration&&(this.remainingTime()<=0?this._expire():this.expireTimerId=s.default.setGlobalTimeout(this._expire.bind(this),1e3*this.expiration,this.expireTimerId))}_clearExpireTimer(){s.default.clearTimeout(this.expireTimerId),this.expireTimerId=null}_expire(){this.disable()}}h.Proxy="liveLocationParticipant",h.idClass=f.default;var p=(0,n.defineModel)(h);t.default=p},bjghdghafg:function(e,t){e.exports={body:"zakZ4",callTitle:"_1d2uu",participantName:"_1uXB0",actionRow:"_2oBwI",btnGroup:"_10nCA",btnAccept:"PDKdM",btnReject:"yNOsI",btnEnd:"_2Zv4M",btnMute:"_3YgCN",webrtcCanvas:"_26iGO",webrtcVideo:"-lKyj",webrtcVideoPreview:"_3ePUF",webrtcAudio:"HJixj"}},bjgiedaj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e,t){return l(o(),e,t)},t.formatToParts=function(e,t){var a=o(),i=d(a),r=c(a,e),s=l(a,e,t).replace(r,"").trim(),n=s.indexOf(i),u=-1===n?s:s.substring(0,n),f=-1===n?"":s.substring(n);return{symbol:r,integer:u,decimal:f}},t.formatLocalSymbol=function(e){return c(n[e],e)},t.valueFromString=u,t.validatePrice=function(e,t){var a=o(),i=void 0!==r.CURRENCY_DIGITS[e]?r.CURRENCY_DIGITS[e]:r.DEFAULT_DIGITS,s=u(e,t),n=t.replace(/\D+$/g,""),l=d(a);if(s>4503599627370496||s<1||isNaN(s)||n!==t||(t.split(l)[1]||"").length>i)return!1;return!0},t.currencyForCountryShortcode=function(e){var t=r.REGION_TO_CURRENCY[e.toUpperCase()];return(null==t?void 0:t.length)>0?t[0]:r.DEFAULT_CURRENCY};var r=a("dgbiieecah"),s=i(a("bdjjabfecc")),n={IDR:"in-ID",MXN:"es-MX",INR:"en-IN"},o=()=>[s.default.getFullLocale(),s.default.getLocale()].filter(Boolean);function d(e){return new Intl.NumberFormat(e).format(1.1).substring(1,2)}function l(e,t,a){return new Intl.NumberFormat(e,{style:"currency",currency:t}).format(a/1e3)}function c(e,t){return l(e,t,0).replace(/\d+([,.]\d+)?/g,"").trim()}function u(e,t){var a=o(),i=c(a,e),r=t.replace(i,"").trim(),s=function(e){return new Intl.NumberFormat(e).format(1e3).substr(1,1)}(a);return Math.round(1e3*parseFloat(r.replace(s,"")))}},bjhbdagefg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("dfdebdgdei"),o=i(a("efebdigbb")),d=i(a("bgfcjjddjf")),l=i(a("cagaiadjai")),c=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("hgigjbgie")),h=i(a("bhbdiadfhj")),p=i(a("jheedhagg")),g=i(a("ccfehggbjf")),m=i(a("bdjjabfecc")),b=i(a("ebddggeaib")),v=i(a("cbjebbghea")),_=a("dcbafbaejf"),E=i(a("cffhhhgcfa")),j=i(a("bebhiegfdj")),y=i(a("dcdbbhicce")),S=a("cjfegjecaj");class C extends s.PureComponent{constructor(...e){super(...e),this.confirmReportGroupSpam=()=>{c.default.openModal(s.createElement(v.default,{isGroupChat:!0,onReport:this.reportSpam,onReportExitClear:this.reportSpamExitClear,onCancel:()=>c.default.closeModal()}))},this.exitChat=()=>{c.default.deleteOrExitChat(this.props.chat)},this.confirmReportSpam=()=>{c.default.openModal(s.createElement(v.default,{isBusiness:this.props.contact.isBusiness,isGroupChat:!1,onReport:this.reportSpam,onReportBlockClear:this.reportSpamBlockClear,onCancel:()=>c.default.closeModal()}))},this.reportSpam=()=>{(0,_.sendSpamReport)(this.props.chat),c.default.closeModal()},this.reportSpamExitClear=()=>{(0,_.sendSpamExitClear)(this.props.chat),c.default.closeModal()},this.reportSpamBlockClear=()=>{(0,_.sendSpamBlockClear)(this.props.chat),c.default.closeModal()},this.notSpam=()=>{(0,_.sendNotSpam)(this.props.chat,!0).catch(()=>{})},this.confirmBlock=()=>{c.default.openModal(s.createElement(o.default,{contact:this.props.contact,onCancel:()=>c.default.closeModal(),onBlock:this.block,onReportSpamBlock:this.reportSpamBlock}))},this.block=()=>{(0,n.blockContact)(this.props.contact).catch(()=>{}),c.default.closeModal()},this.reportSpamBlock=()=>{(0,_.sendSpamReport)(this.props.chat),(0,n.blockContact)(this.props.contact).catch(()=>{}),c.default.closeModal()},this.confirmUnblock=()=>{c.default.openModal(s.createElement(u.default,{okText:m.default.t(1325),onOK:this.unblock,cancelText:m.default.t(1497),onCancel:()=>c.default.closeModal()},m.default.t(1326,{contact:this.props.contact.formattedName})))},this.unblock=()=>{(0,n.unblockContact)(this.props.contact).catch(()=>{}),c.default.closeModal()},this.getNotSpamButton=()=>s.createElement("div",{key:"not_spam",className:E.default.button},s.createElement(l.default,{onClick:this.notSpam,type:"plain-white"},m.default.t(1649))),this.onViewInfo=()=>{c.default.openDrawerRight(s.createElement(g.default,{chat:(0,S.unproxy)(this.props.chat),key:"info-".concat(this.props.chat.id.toString())}),"slide-left",this.props.uim)}}componentDidMount(){this.props.listeners.add(d.default,"add remove reset",()=>{this.forceUpdate()})}render(){var{chat:e,contact:t}=this.props;if(e.isPSA||!e.shouldAppearInList||e.trusted)return null;var a,i=d.default.get(e.id),r=[];if(e.isGroup)a=m.default.t(668),r.push(s.createElement("div",{key:"report_spam",className:E.default.button},s.createElement(l.default,{type:"plain-white",onClick:this.confirmReportGroupSpam},m.default.t(1144)))),r.push(s.createElement("div",{key:"exit_group",className:E.default.button},s.createElement(l.default,{type:"plain-white",onClick:this.exitChat},m.default.t(1543)))),r.push(this.getNotSpamButton());else{if(a=s.createElement("div",{className:E.default.text},m.default.t(1250)),t.isBusiness)if(h.default.supportsFeature(h.default.F.VNAME_V_2)){var n=t.verifiedLevel===f.default.VERIFIED_LEVEL.HIGH?m.default.t(1058):m.default.t(849);a=s.createElement("div",{className:E.default.text},n)}else t.verifiedLevel>f.default.VERIFIED_LEVEL.UNKNOWN&&t.businessProfile&&(a=s.createElement(j.default,{contact:t,businessProfile:t.businessProfile,onClick:this.onViewInfo}));r.push(s.createElement("div",{key:"report_spam",className:E.default.button},s.createElement(l.default,{type:"plain-white",onClick:this.confirmReportSpam},m.default.t(1144)))),i?r.push(s.createElement("div",{key:"unblock",className:E.default.button},s.createElement(l.default,{onClick:this.confirmUnblock,type:"plain-white"},m.default.t(1325)))):r.push(s.createElement("div",{key:"block",className:E.default.button},s.createElement(l.default,{onClick:this.confirmBlock,type:"plain-white"},m.default.t(249)))),r.push(this.getNotSpamButton())}return s.createElement("div",{className:E.default.spam},a,s.createElement("div",{className:E.default.controls},r))}}C.CONCERNS={chat:["id","isPSA","shouldAppearInList","trusted","isGroup","vcardDismissed"],contact:["id","isBusiness","verifiedLevel","formattedName","businessProfile"]};var M=(0,p.default)((0,b.default)((0,y.default)(C,C.CONCERNS)));t.default=M},bjhbhecedh:function(e,t){e.exports={shade:"_2Maik"}},bjhdffchbh:function(e,t){e.exports={input:"_2HE1Z",placeholder:"Srlyw",body:"_1awRl",default:"ugx-m",compose:"_1hRBM",large:"_3H19A",status:"_2u7lO",media:"QkEzS",invite:"_3wgzu",small:"_2bZgb","list-search":"_1aIlm",listSearch:"_1aIlm"}},bjheffjbgd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{overflow:t,flatListControllers:a,children:i,theme:r}=e,u=(0,n.default)(e,["overflow","flatListControllers","children","theme"]),f=(0,o.default)(l.default.container,{[l.default.noscroll]:"hidden"===t,[l.default.centerItem]:"center-content"===r,[l.default.padding]:"padding"===r,[l.default.centerColumn]:"center-column"===r});if(a&&a.length>0)return d.createElement(c.default,(0,s.default)({flatListControllers:a,className:f},u),i);return d.createElement("div",(0,s.default)({className:f},u),i)};var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("ebgdihifc")),c=r(a("bfchfhibba"))},bjhejdiicf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PREVIEW_HEIGHT=void 0;var s=r(a("dfadhaifh")),n=r(a("bebajedcaf")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("cifgdghbhg")),c=r(a("ecagbdjcba")),u=r(a("bagefjifjg")),f=r(a("dhggdfijcg")),h=r(a("dfhddecjbi")),p=r(a("fghiifea")),g=r(a("cjafajdgce")),m=a("igiffibee"),b=r(a("fjgaiebfh")),v=r(a("deeafjfccb")),_=a("cbhhehcjbb"),E=r(a("dcdbbhicce")),j=r(a("eebiehgif")),y=r(a("bfiaaegafb")),S=r(a("edbaidcaf"));function C(){var e=(0,s.default)(["Bad url: ",""]);return C=function(){return e},e}t.PREVIEW_HEIGHT=150;var M=["foursquare.com","facebook.com","maps.google.com"];class T extends d.PureComponent{constructor(e){super(e),this.loc=()=>{var e=this.props.msg.get("loc");if(e)return 2===(e=e.split("\n")).length?{name:e[0],addr:e[1]}:{name:e}},this.getLocationDetails=e=>{var t,a,i,{msg:r}=this.props,s=this.loc(),l=r.clientUrl||e,c=S.default.hostname(l),u=(0,n.default)(M.filter(e=>c.includes(e))),f=u?d.createElement("span",{className:p.default.link},c):null,h=S.default.isHttps(l);if(!h)return l.toLowerCase().startsWith("javascript:")&&(__LOG__(4,!1,new Error)(C(),l),SEND_LOGS("URL error")),null;if(!u&&h&&s&&!l.includes("javascript")){t=s.name?d.createElement(_.SelectableLink,{className:p.default.title,dir:"auto",href:l,plainText:"".concat(s.name,"\n").concat(l),selectable:!0,target:"_blank",title:s.name},s.name):null;var g=(0,o.default)(p.default.address,{[p.default.hasURL]:f});a=s.addr?d.createElement(_.SelectableDiv,{className:g,selectable:!0,title:s.addr},s.addr):null}return(t||a||f)&&(i=d.createElement("div",{className:p.default.text},d.createElement(b.default,{msg:r.unsafe(),"data-id":r.id},t,a,f))),i},this.onClick=e=>{e.stopPropagation()}}render(){var e,t,a=this.props.msg,{lat:i,lng:r}=a,s=this.loc(),n=s&&s.name,b=(0,m.getMapUrl)(i,r,n),E=this.getLocationDetails(b),S=null!=E||a.isFromTemplate?null:d.createElement(y.default,null),C=this.props.displayAuthor&&!a.isSentByMe&&a.isGroupMsg,M=a.showForwarded(),T=C?d.createElement("div",{className:p.default.author},d.createElement(l.default,{msg:a.unsafe(),contact:a.senderObj})):null,P=M?d.createElement(h.default,{msg:a.unsafe(),className:p.default.forwardedIndicator}):null,O=(0,o.default)(p.default.container,{[p.default.hasCaption]:E,[p.default.hasAuthor]:C,[p.default.forwarded]:M,[p.default.ctwaContainerWidth]:null!=a.ctwaContext}),N=this.props.quotedMsg?d.createElement("div",{className:p.default.quote},this.props.quotedMsg):null;return a.isFromTemplate&&(e=a.caption?d.createElement("div",{className:p.default.caption},d.createElement(u.default,{msg:a.unsafe(),spacer:!a.footer})):null,t=d.createElement(j.default,{dir:a.dir,footer:a.footer,isFromTemplate:a.isFromTemplate,msg:a.unsafe(),rtl:a.rtl,type:a.type})),d.createElement("div",null,d.createElement(c.default,{className:O,contact:a.senderObj,msg:a.unsafe()},T,P,N,d.createElement(f.default,{msg:a.unsafe(),wrapperClass:p.default.ctwaContext}),d.createElement(_.SelectableDiv,{className:p.default.thumb,onClick:this.onClick,plainText:b,selectable:!0,style:{height:150}},d.createElement(g.default,{lat:a.lat,lng:a.lng,width:a.ctwaContext?330:270,height:150,name:n,className:p.default.thumbBody}),S),E,e,t,d.createElement("div",{className:p.default.meta},d.createElement(v.default,{msg:a}))))}}T.CONCERNS={msg:["caption","clientUrl","dir","footer","isFromTemplate","id","isGroupMsg","isSentByMe","lat","lng","rtl","senderObj","type","ctwaContext"]};var P=(0,E.default)(T,T.CONCERNS);t.default=P},bjiagddifi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.reduce((e,t)=>{var{hooks:a}=t;return a?(Object.keys(a).forEach(i=>{e[i]||(e[i]=[]),e[i].push([t,a[i]])}),e):e},{});return Object.keys(a).reduce((e,i)=>(e[i]=function(e,t){return(...a)=>{e.forEach(([e,i])=>i.call(e,...a,t))}}(a[i],t),e),{})}},bjiceahcdj:function(e,t){e.exports={avatar:"_3Vt-g",roundBorder:"_1iKhq",avatarWrapper:"_2h6tR",avatarSvgWrapper:"_3zwmA",avatarImageWrapper:"_2GNbB",transition:"_2YBb_",isLoaded:"_2ZZQV",centerChild:"_3QHRD",avatarImage:"_2pzZl"}},bjjabihhjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("ebddggeaib")),l=r(a("dgjifchfde")),c=a("cacaefcddj"),u=r(a("dcdiaahjj"));class f extends s.Component{constructor(...e){super(...e),this.count=0,this.updateUnreadCount=()=>{var e;e=u.default.displayInfo===u.StreamInfo.OFFLINE||u.default.displayInfo===u.StreamInfo.TIMEOUT?-1:n.default.filter(e=>e.shouldShowUnreadInTitle).length,this.count!==e&&(this.count=e,(0,c.setTitleAndIcon)(e))}}componentDidMount(){var e=this.props.listeners;e.add(o.default,"alert_new_msg",e=>l.showMsgNotification(e)),e.add(o.default,"alert_call",l.showCallNotification),e.add(o.default,"cancel_call",l.cancelCallNotification),e.add(n.default,"add remove reset change:archive change:unreadCount change:muteExpiration",this.updateUnreadCount),e.add(n.default,"change:hasUnread",l.closeNotifications),e.add(u.default,"change:displayInfo",this.updateUnreadCount),this.updateUnreadCount()}componentWillUnmount(){(0,c.setTitleAndIcon)(0)}render(){return null}}var h=(0,d.default)(f);t.default=h},bjjbjadgeg:function(e,t){e.exports={container:"_3Z2oJ",containerSearch:"_2amBd",panelHeight:"_24EK1",contentContainer:"_2jYgI",contentContainerSearch:"_3jdtQ",bodyContainer:"_1GFtw",emptyContainer:"_1R8G8",emptySticker:"_23KHo",emptyText:"_2hyov"}},bjjdjibgad:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DISP_LOCATION=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("jagjbhcgf"),d=r(a("cjcabiggfd")),l=i(a("ciafdhcchg")),c=a("ddbdgibbbi"),u=r(a("dfbbifgeea")),f=r(a("ebddggeaib")),h=r(a("bfedhighcf")),p=r(a("bjfecgfdgj")),g=r(a("baccjfeija")),m={COMPOSE_BOX:"COMPOSE_BOX",DROPDOWN:"DROPDOWN"};t.DISP_LOCATION=m;class b extends n.PureComponent{constructor(e){var t;super(e),this._sectionIds=0===p.default.length?l.ORDERED_TAB_SECTION_IDS.filter(e=>e!==l.default.RECENT):l.ORDERED_TAB_SECTION_IDS,this._handleEmojiPanelFocusNext=()=>{this.props.onFocusNext()},this._handleMenuTabClick=e=>{this._selectSection(e)},this._handleMouseDown=e=>{e.stopPropagation(),e.preventDefault(),this._focusSearchInput()},this._handlePanelSection=e=>{this._animationPromise||this.state.selectedSectionId!==e&&this.setState({selectedSectionId:e})},this._onEmoji=e=>{p.default.increment(e),this.props.onEmoji(e)},this._setRefContent=e=>{this._refContent=e},this.renderEmojiTab=(e,t)=>n.createElement(g.default,{key:e,onClick:this._handleMenuTabClick,sectionId:e,selected:t}),this._scrollSectionIds=this._sectionIds,t=this.props.displayCache?this.props.displayCache:{scrollTop:0,sectionId:this._sectionIds[0],showSearchInput:!0},this._displayCache=t,this.state={selectedSectionId:t.sectionId}}componentDidMount(){this.props.listeners.uiIdle(()=>{this.restoreFocus()})}restoreFocus(e){this._focusSearchInput(e)}_focusSearchInput(e){this._refContent&&this._refContent.focusSearchInput(e)}_selectSection(e){this.state.selectedSectionId!==e&&((0,c.setLastEmojiTab)(e),this.setState({selectedSectionId:e}),this._focusSearchInput(),this._scrollToSection(e))}_scrollToSection(e){if(this._refContent){var t=this._refContent.scrollToSection(e);this._animationPromise=t,t.finally(()=>{t===this._animationPromise&&delete this._animationPromise})}}render(){var e=(0,s.default)(u.default.emojiPanel,{[u.default.panelDropdown]:this.props.displayLocation===m.DROPDOWN}),{width:t=o.EMOJI_PICKER_WIDTH}=this.props;return n.createElement("div",{className:e,onMouseDown:this._handleMouseDown},n.createElement(h.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderEmojiTab}),n.createElement(d.default,{displayCache:this._displayCache,width:t,onDisplayCache:this.props.onDisplayCache,onFocusPrev:this.props.onFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext,onEmoji:this._onEmoji,onSection:this._handlePanelSection,ref:this._setRefContent,sectionIds:this._scrollSectionIds,onChange:this.props.onChange,defaultSearchText:this.props.defaultSearchText}))}}b.defaultProps={displayLocation:m.DROPDOWN};var v=(0,f.default)(b);t.default=class extends v{restoreFocus(e){this.getComponent().restoreFocus(e)}}},bjjhgjdbhd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DRAWER_HEADER_TYPE=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("chfjcdfeig")),l=a("cadfgefaja"),c=r(a("dgdcjccfdi")),u=r(a("didfdhbecg")),f={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"};t.DRAWER_HEADER_TYPE=f;var h=e=>{var{title:t,onBack:a,onCancel:i,type:r,children:h,menu:p}=e,g=a?n.createElement("button",{className:d.default.btnCloseDrawer,"data-a8n":o.default.key("btn-closer-drawer"),onClick:a},n.createElement(c.default,{name:"back",directional:!0})):null,m=i?n.createElement("button",{className:d.default.btnCloseDrawer,"data-a8n":o.default.key("btn-closer-drawer"),onClick:i},n.createElement(c.default,{name:"x"})):null,b=null!=p?n.createElement("span",{className:d.default.paneListControls},n.createElement(l.MenuBar,{key:"drawer-header",theme:r!==f.SMALL?"inverse":null},n.createElement(u.default,{transitionName:"btn"},p))):null,v=(0,s.default)({[d.default.multiMediaGallery]:r===f.MULTI_MEDIA_GALLERY,[d.default.labels]:r===f.LABELS,[d.default.drawerHeader]:r===f.LARGE||r===f.MULTI_MEDIA_GALLERY||r===f.LABELS,[d.default.drawerHeaderSmall]:r===f.SMALL,[d.default.drawerHeaderOffset]:r===f.OFFSET||r===f.POPUP,[d.default.drawerHeaderPopup]:r===f.POPUP}),_=t&&null!=h?n.createElement("div",{className:d.default.side},h):null;return n.createElement("header",{className:v},n.createElement("div",{className:d.default.drawerTitle,"data-animate-drawer-title":!0},n.createElement("div",{className:d.default.drawerTitleAction},g,m),n.createElement("div",{"data-a8n":o.default.key("drawer-title-body"),className:d.default.drawerTitleBody},t||h),_,b))};t.default=h},bjjjaabahb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(a("chgaccicf")).default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0});t.default=r},bjjjgbhjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhigahgdjb")),o=r(a("hhcjfgifh")),d=i(a("dbfiijcdie")),l=i(a("cjbjcbajdj")),c=i(a("hjieaedbd")),u=i(a("bdjjabfecc")),f=i(a("ebddggeaib")),h=i(a("gjbhafcjg")),p=i(a("dcdbbhicce")),g=i(a("hicdbdjjg")),m=i(a("bjghdghafg")),b=a("jgidicjf");class v extends s.PureComponent{constructor(...e){super(...e),this.state={isMouseOver:!1,isFullscreenMode:d.default.isFullscreenMode},this.toggleMute=()=>{this.props.callUi.muted=!this.props.callUi.muted,g.default.mute(this.props.callUi.muted)},this.setRefContainer=e=>{this.refContainer=e},this.handleFullscreenToggleButtonClick=e=>{this.state.isFullscreenMode?this.handleExitFullscreen(e):this.handleEnterFullscreen(e)},this.handleEnterFullscreen=e=>{e.stopPropagation(),d.default.requestFullscreen(this.refContainer)},this.handleExitFullscreen=e=>{e.stopPropagation(),d.default.exitFullscreen()},this.onWebrtcStop=()=>{g.default.endCall(),this.props.onCallEnd()},this.onWebrtcStart=()=>{var e=this.props.callUi.to,t=this.props.callUi.type;if(!e)throw new Error("Callee is null.");if(g.default.registerWebRTCCallback(e=>{"audio"===e.track.kind&&this.refAudioElement&&(this.refAudioElement.srcObject=e.streams[0]),"video"===e.track.kind&&this.refVideoElement&&"video"===t&&(this.refVideoElement.srcObject=e.streams[0])}),"video"===t){if(!c.default)throw new Error("VoipWindow:onWebrtcStart no video capability");(0,c.default)({audio:!1,video:!0}).then(e=>{this.refVideoPreviewElement&&(this.refVideoPreviewElement.srcObject=e)})}g.default.callStart(e,"video"===t)}}componentDidMount(){this.props.listeners.add(d.default,"fullscreen_change",()=>{d.default.isFullscreenMode&&d.default.fullscreenElement===this.refContainer?this.setState({isFullscreenMode:!0}):d.default.isFullscreenMode||this.setState({isFullscreenMode:!1})})}render(){var e,t,{onCallAccept:i,onCallReject:r,onCallEnd:d}=this.props,{state:c,outgoing:f,from:p,to:g,type:v}=this.props.callUi,_=f?g:p,E=n.default.get(_||""),j=E?s.createElement("div",{className:m.default.participantName},s.createElement(h.default,{contact:E,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0})):null,y=E?s.createElement(o.default,{id:E.id,size:82,quality:o.DETAIL_IMAGE_QUALITY.HIGH}):null,S=s.createElement("div",{className:m.default.actionRow},s.createElement("div",{className:m.default.btnGroup},s.createElement("button",{className:m.default.btnReject,onClick:r}),s.createElement("button",{className:m.default.btnAccept,onClick:i}))),C=s.createElement("div",{className:m.default.actionRow},s.createElement("div",{className:m.default.btnGroup},s.createElement("button",{className:m.default.btnMute,onClick:this.toggleMute}),s.createElement("button",{className:m.default.btnEnd,onClick:d}))),M=s.createElement("div",{className:m.default.actionRow},s.createElement("div",{className:m.default.btnGroup},s.createElement("button",{className:m.default.btnEnd,onClick:d}))),T=a("bhbdiadfhj").default;if(T.supportsFeature(T.F.WEB_VOIP_VOICE_CALL)||T.supportsFeature(T.F.WEB_VOIP_VIDEO_CALL)){M=s.createElement("div",{className:m.default.actionRow},s.createElement("div",{className:m.default.btnGroup},s.createElement("button",{className:m.default.btnEnd,onClick:this.onWebrtcStop}),s.createElement("button",{className:m.default.btnAccept,onClick:this.onWebrtcStart})));var P=T.supportsFeature(T.F.WEB_VOIP_VIDEO_CALL)&&"video"===v?s.createElement("video",{className:m.default.webrtcVideo,id:"webRtcVideo",autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.refVideoElement=e})}):null,O=T.supportsFeature(T.F.WEB_VOIP_VIDEO_CALL)&&"video"===v?s.createElement("video",{className:m.default.webrtcVideoPreview,id:"webRtcVideoPreview",autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.refVideoPreviewElement=e})}):null;e=s.createElement("div",{className:m.default.webrtcCanvas},P,O,s.createElement("audio",{className:m.default.webrtcAudio,id:"webRtcAudio",controls:!0,autoPlay:!0,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.refAudioElement=e})}))}switch(c){case b.CALL_STATES.INCOMING_RING:t=S;break;case b.CALL_STATES.ACTIVE:t=C;break;default:t=M}var N=s.createElement("div",{className:m.default.callTitle},u.default.t(1776)),I=s.createElement(l.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick});return s.createElement("div",{className:m.default.body,ref:this.setRefContainer,onMouseEnter:()=>{this.setState({isMouseOver:!0})},onMouseLeave:()=>{this.setState({isMouseOver:!1})}},N,j,y,e,this.state.isMouseOver&&I,t)}}v.CONCERNS={callUi:["state","muted","speaker","outgoing","from","to","type"]};var _=(0,f.default)((0,p.default)(v,v.CONCERNS));t.default=_},bjjjgheffc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BUBBLE_PADDING=t.MAX_DIM=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("cifgdghbhg")),l=r(a("ecagbdjcba")),c=r(a("bagefjifjg")),u=r(a("ccbgfecegc")),f=r(a("hgigjbgie")),h=r(a("dhggdfijcg")),p=a("cabeijgaif"),g=r(a("dfhddecjbi")),m=r(a("ehibfjica")),b=a("dhegcfddhg"),v=r(a("bdjjabfecc")),_=r(a("dcjigehfeb")),E=r(a("ebibaajhjh")),j=i(a("cfbhddjcif")),y=r(a("deeafjfccb")),S=r(a("bdcchebfge")),C=(a("gdgchefji"),r(a("dcdbbhicce"))),M=a("cjfegjecaj"),T=a("cgebccjfag"),P=r(a("dgdcjccfdi")),O=r(a("bfiaaegafb")),N=r(a("ecfabjjeda")),I=(0,T.getIntFromStylesProp)(m.default,"-width-picture-bubble-inner");t.MAX_DIM=I;var A=(0,T.getIntFromStylesProp)(m.default,"-padding-picture-bubble");t.BUBBLE_PADDING=A;var w=I/5.4;class R extends n.PureComponent{constructor(...e){super(...e),this.state={playing:!1},this.playCount=0,this.pause=()=>{this.playCount=0,this._pause()},this.handleKeyActivation=e=>{e.stopPropagation(),e.preventDefault(),this._handleClick(e)},this.play=e=>{var{mediaData:t}=this.props,a=this.playerRef;if(t.mediaStage===_.default.STAGE.RESOLVED&&a){e&&e.stopPropagation();var i=this.duration;if(null==i||0===i){var r=a.getDuration();null!=r?i=r:t.duration&&"0"!==t.duration&&(i=parseInt(t.duration,10))}if(null!=i&&0!==i){var s=Math.ceil(6/i);this.playCount=Math.max(s,3)}else this.playCount=3;this._play()}},this._pause=()=>{this.setState({playing:!1}),this.playerRef&&this.playerRef.pauseAndReset()},this._play=()=>{this.playerRef&&(this.playCount<=0?this.pause():(this.playCount-=1,this.state.playing||this.setState({playing:!0}),this.playerRef.play()))},this.showMediaMissing=()=>{u.default.openModal(n.createElement(E.default,{msg:this.props.msg.unsafe()}))},this.getZoomNode=e=>{var t=this.props.isMsgVisible;if(!t)return null;var a=t(e);return a?a.getImgNode&&a.getImgNode():null},this.launchMediaViewer=e=>{e&&e.stopPropagation(),u.default.mediaViewerModal({msg:(0,M.unproxy)(this.props.msg.unsafe()),getZoomNode:this.getZoomNode})},this.downloadMedia=()=>{this.props.msg.downloadMedia(!0,S.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},this.cancelDownload=()=>{this.props.msg.cancelDownload()},this.cancelUpload=()=>{this.props.msg.cancelUpload()},this.resumeUpload=()=>{this.props.msg.resumeUpload()},this.resumeRemoteUpload=()=>{this.props.msg.resumeRemoteUpload()},this._handleClick=e=>{switch(this.props.mediaData.mediaStage){case _.default.STAGE.RESOLVED:this._shouldPlay()?this.play(e):this.launchMediaViewer(e);break;case _.default.STAGE.INIT:this.launchMediaViewer(e);break;case _.default.STAGE.FETCHING:this.cancelDownload();break;case _.default.STAGE.NEED_POKE:this.downloadMedia();break;case _.default.STAGE.UPLOADING:this.cancelUpload();break;case _.default.STAGE.NEED_UPLOAD:this.resumeUpload();break;case _.default.STAGE.REMOTE_NEED_UPLOAD:this.resumeRemoteUpload();break;case _.default.STAGE.ERROR_MISSING:this.showMediaMissing()}}}componentDidMount(){this.props.msg.downloadMedia(!1,S.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}getStyle(){var e,t,a=this.props.mediaData,i=a.aspectRatio||a.fullWidth/a.fullHeight;if(!i)return{bubbleWidth:I,bubbleHeight:"100%",contentWidth:I,contentHeight:"100%"};i<1/5.4?(t=I,e=2.5*w):i<1?(t=I,e=I*i):i<5.4?(e=I,t=I/i):(e=I,t=w);var r=a.renderableUrl&&a.fullWidth||e,s=a.renderableUrl&&a.fullHeight||t;return r/s>e/t?(r=r*t/s,s=t):(s=s*e/r,r=e),s>I&&(s=I),{bubbleWidth:e,bubbleHeight:t,contentWidth:r,contentHeight:s}}getFlexSize(e){var t,a,i=this.props.mediaData,r=i.aspectRatio||i.fullWidth/i.fullHeight,s=2.5*w;r>=1?e<I?(a=(t=e)/r)<w&&(a=w):(a=(t=I)/r)<w&&(a=w):((t=(a=I)*r)<s&&(t=s),e<I&&t>e&&(t=e));var n=t,o=a;return n/o>t/a?(n=n*a/o,o=a):(o=o*t/n,n=t),{bubbleWidth:t,bubbleHeight:a,contentWidth:n,contentHeight:o}}getImgNode(){if(this.playerRef)return this.playerRef.underlyingVideo()}_shouldPlay(){return!this.state.playing&&this.playCount!==1/0}render(){var e=this.props.msg,t=this.props.mediaData,a=t.preview?t.preview.url():void 0,i=null,r=null,u=this.getStyle();null!=this.props.maxWidth&&this.props.maxWidth<u.bubbleWidth&&(u=this.getFlexSize(this.props.maxWidth));var{bubbleWidth:E,contentWidth:S,contentHeight:C}=u;switch(t.mediaStage){case _.default.STAGE.RESOLVED:this._shouldPlay()&&(i=n.createElement(j.GifIcon,{onClick:this._handleClick}));var M=t.aspectRatio>=1?{width:"auto",height:C}:{width:S,height:"auto"};r=n.createElement("div",{className:m.default.thumbVideo},n.createElement(N.default,{ref:(0,b.GetRef)("playerRef",this),src:t.renderableUrl,style:M,onEnded:this._play,muted:!0},v.default.t(1383)));break;case _.default.STAGE.FETCHING:i=n.createElement(j.PendingCancel,null);break;case _.default.STAGE.NEED_POKE:i=n.createElement(j.Download,{filesize:t.size});break;case _.default.STAGE.UPLOADING:i=n.createElement(j.PendingCancel,null);break;case _.default.STAGE.NEED_UPLOAD:case _.default.STAGE.REMOTE_NEED_UPLOAD:i=n.createElement(j.Upload,{filesize:t.size});break;case _.default.STAGE.SENDING:i=e.isFailed?null:n.createElement(j.Pending,null);break;default:i=n.createElement(j.Pending,null)}var T,I=a?n.createElement("div",{className:m.default.thumbImage,style:{backgroundImage:"url(".concat(a,")")}}):null,w=e.caption?n.createElement("div",{className:m.default.caption,style:{maxWidth:E}},n.createElement(c.default,{msg:e.unsafe(),trusted:this.props.trusted})):null,R=w?null:n.createElement(O.default,null),L=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,k=e.showForwarded(),x=(0,s.default)(m.default.bubble,{[m.default.hasCaption]:e.caption,[m.default.hasAuthor]:L,[m.default.forwarded]:k,[m.default.isPSA]:e.isPSA,[m.default.isGallery]:this.props.displayType===f.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===f.default.DISP_TYPE.GALLERY,[m.default.isInfo]:this.props.displayType===f.default.DISP_TYPE.MSG_INFO}),G=L?n.createElement("div",{className:m.default.author},n.createElement(d.default,{msg:e.unsafe(),contact:e.senderObj})):null,U=k?n.createElement(g.default,{msg:e.unsafe(),className:m.default.forwardedIndicator}):null;switch(e.gifAttribution){case p.VideoMessageAttribution.GIPHY:T=n.createElement("div",{className:m.default.vendor},n.createElement(P.default,{name:"giphy"}));break;case p.VideoMessageAttribution.TENOR:T=n.createElement("div",{className:m.default.vendor},n.createElement(P.default,{name:"tenor"}));break;default:T=null}var F=this.props.quotedMsg?n.createElement("div",{className:m.default.quote},this.props.quotedMsg):null,B=n.createElement(n.Fragment,null,G,U,F,n.createElement(h.default,{msg:e.unsafe(),wrapperClass:m.default.ctwaContext}),n.createElement("div",{"data-a8n":o.default.key("image-thumb-gif"),className:m.default.thumb,onClick:this._handleClick,style:{width:S,height:C}},i,I,r,R,T),w,n.createElement("div",{className:m.default.meta},n.createElement(y.default,{msg:this.props.msg})));return w?n.createElement(l.default,{contact:e.senderObj,msg:e.unsafe(),className:x,onClick:D,style:{width:E}},B):n.createElement("div",{className:x,onClick:D,style:{width:E+2*A}},B)}}function D(e){e.stopPropagation()}R.CONCERNS={msg:["id","ack","caption","isFailed","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"],mediaData:["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]};var L=(0,C.default)(R,R.CONCERNS);t.default=L},caaadefbib:function(e,t){e.exports={checkboxSelectableWrapper:"_2eV08",checkboxSelectableControl:"_2HZRw"}},caabaffghd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("bjgidhichc").Mirrored(["CONTACT_US","LICENSES","DELETE_OR_EXIT_CHAT","GO_TO_NEXT_CHAT","GO_TO_PREV_CHAT","LOGOUT","OPEN_NEW_CHAT","OPEN_NEW_GROUP","OPEN_PROFILE","OPEN_SETTINGS","SEARCH","SEARCH_IN_CHAT","TOGGLE_ARCHIVE","TOGGLE_MUTE","TOGGLE_UNREAD","ZOOM_IN","ZOOM_OUT","ZOOM_RESET"]);t.default=i},caaebedhfb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM=t.IS_MMS_URL_SEARCH_PARAM=void 0;t.IS_MMS_URL_SEARCH_PARAM="__wa-mms";t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM="mms-type"},caajihiffj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({sourceUrl:e,context:t,isSentByMe:a,compose:i}){var r;r=(null==t?void 0:t.isSuspiciousLink)||!(null==t?void 0:t.thumbnailUrl)&&!(null==t?void 0:t.thumbnail)?o.createElement("div",{className:l.default.noThumbContainer},o.createElement(p.default,{className:l.default.noThumbIcon,name:"link"})):o.createElement("img",{className:l.default.media,src:t.thumbnailUrl?t.thumbnailUrl:"data:image/jpeg;base64,".concat(t.thumbnail||"")});var m=null!=(null==t?void 0:t.description)&&!(null==t?void 0:t.isSuspiciousLink)&&o.createElement("div",{className:l.default.description},o.createElement(c.default,{text:null==t?void 0:t.description,titlify:!0})),b=e;if(t&&(b=t.sourceUrl,!t.isSuspiciousLink&&(t.title||t.thumbnailUrl||t.thumbnail))){b=g.default.hostname(b);try{b=n.default.toUnicode(b)}catch(e){}}var v=b&&o.createElement("div",{className:l.default.source},o.createElement(c.default,{text:b})),_=(null==t?void 0:t.isSuspiciousLink)?null:null==t?void 0:t.title,E=(0,s.default)(l.default.preview,{[l.default.isCompose]:i,[l.default.bubbleIn]:!i&&!a,[l.default.bubbleOut]:a});return o.createElement("div",{className:E,onClick:()=>{if(!i)if(null==t?void 0:t.isSuspiciousLink){var e=(0,f.findLink)(null==t?void 0:t.sourceUrl);e&&d.default.openModal(o.createElement(h.default,{link:e}))}else(null==t?void 0:t.sourceUrl)&&(0,u.openExternalLink)(null==t?void 0:t.sourceUrl)}},r,o.createElement("div",{className:l.default.body},o.createElement("div",{className:l.default.title,title:_},o.createElement(c.default,{text:_})),m,v))};var s=r(a("ceffhbhahb")),n=r(a("egjbcdafa")),o=i(a("ddhijeejag")),d=r(a("ccbgfecegc")),l=r(a("chfhagefja")),c=r(a("gfebgebbi")),u=a("djaiggcdb"),f=a("dbcedfihd"),h=r(a("bfebcgehdb")),p=r(a("dgdcjccfdi")),g=r(a("edbaidcaf"))},cabffcdjbg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.receiverJid)return null;var t,a=o.default.get(e.receiverJid),i=n.createElement("span",{className:u.default.name},a?a.isMe?d.default.t(1782):n.createElement(c.default,{contact:a,showNotifyName:!0}):(0,f.default)(e.receiverJid));switch(e.subtype){case"send":t=n.createElement(l.default,{id:1672,params:{receiverName:i}});break;case"request":t=n.createElement(l.default,{id:1664,params:{receiverName:i}})}return n.createElement("span",{className:(0,s.default)(u.default.container,{[u.default.isQuoted]:e.isQuoted})},t)};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dhigahgdjb")),d=r(a("bdjjabfecc")),l=r(a("cbedabhaa")),c=r(a("gjbhafcjg")),u=r(a("dhfjdaeheb")),f=r(a("djbfhebjhe"))},cabgagjaab:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getAppUserModelId=function(){return"win32"!==e.platform||e.windowsStore?null:"com.squirrel.WhatsApp.WhatsApp"}}).call(this,a("ddghcccjbh"))},cabhgdgbae:function(e,t){e.exports={container:"_3cVsW",containerFull:"H4EjY",icon:"_1i3PF",containerCircleIconFull:"-kQM8",name:"_2C1nK",labelFilter:"_3AnHw",iconContainer:"_1Rde3",drawerTitle:"_1dAo2",circleIcon:"fZQE3"}},cabihhjgfd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("hcfegac")),d=r(a("bcjcbbafcj")),l=r(a("cfeahhdfce"));function c(){var e=(0,s.default)(["video.play() promise rejected: "," The error code is ","."]);return c=function(){return e},e}function u(){var e=(0,s.default)(["video.play() promise rejected w/ AbortError: ",", error code: ",""]);return u=function(){return e},e}function f(){var e=(0,s.default)(["Assertion failed! ",""]);return f=function(){return e},e}function h(){var e=(0,s.default)(["srcObject is not supported in video tag while src is not set."]);return h=function(){return e},e}class p extends n.PureComponent{constructor(...e){super(...e),this.refVideo=null,this.autoPlayErrorCount=0,this.setRefVideo=e=>{if(e!==this.refVideo&&(this.refVideo&&this.refVideo.removeEventListener("playing",this.onPlaying),this.refVideo=e,e&&("srcObject"in e&&this.props.srcObject?e.srcObject=this.props.srcObject:e.src||__LOG__(3)(h()),e&&e.addEventListener("playing",this.onPlaying),this.props.autoPlay))){if(e.addEventListener("playing",this.onceAutoplay),e.srcObject)return void this.play();(d.default.isGecko||d.default.isSafari)&&this.props.autoPlay&&e.paused&&this.play()}},this.onceAutoplay=()=>{var e=this.refVideo;if(e&&(e.removeEventListener("playing",this.onceAutoplay),!e.videoHeight||!e.videoWidth)){this.pause(),this.play();var t;this.autoPlayErrorCount<6&&this.autoPlayErrorCount++,this.autoPlayErrorCount>1&&this.autoPlayErrorCount<6&&(t="the height and width of the video is not zero, count (larger than 1): ".concat(this.autoPlayErrorCount)),this.autoPlayErrorCount>=6&&(t="the height and width of the video is not zero, count larger than ".concat(this.autoPlayErrorCount)),t&&(__LOG__(4,!1,new Error)(f(),t),SEND_LOGS("non-zero height and width"))}},this.onPlaying=()=>{var e=this.refVideo;e&&(e.paused||null!=e.videoHeight&&e.videoHeight>0&&null!=e.videoWidth&&e.videoWidth>0&&this.props.onPlaying&&this.props.onPlaying())},this.getVolume=()=>this.refVideo?this.refVideo.volume:0,this.setVolume=e=>{this.refVideo&&(this.refVideo.volume=e)},this.getMuted=()=>!!this.refVideo&&this.refVideo.muted,this.setMuted=e=>{this.refVideo&&(this.refVideo.muted=e)},this.getPaused=()=>!this.refVideo||this.refVideo.paused,this.getCurrentTime=()=>this.refVideo?this.refVideo.currentTime:0,this.setCurrentTime=e=>{this.refVideo&&(this.refVideo.currentTime=e)},this.getDuration=()=>this.refVideo?this.refVideo.duration:0,this.setDuration=e=>{this.refVideo&&(this.refVideo.duration=e)},this.getBuffered=()=>this.refVideo?this.refVideo.buffered:null}underlyingVideo(){return this.refVideo}play(){this._play()}_play(){var e=this.refVideo;return e?e.paused?(e.removeEventListener("playing",this.onPlaying),(0,o.default)(e).then(()=>{e&&e.addEventListener("playing",this.onPlaying),this.onPlaying()}).catch(t=>{if(e&&e.addEventListener("playing",this.onPlaying),"AbortError"!==t.name){var a=this.refVideo&&this.refVideo.error&&this.refVideo.error.message?this.refVideo.error.message:"",i=this.refVideo&&this.refVideo.error?this.refVideo.error.code:"";__LOG__(3)(c(),a,i),this.props.onError&&this.props.onError(t)}else __LOG__(3)(u(),t.message,t.code)})):Promise.resolve():Promise.reject(new Error("cannot play unmounted video"))}pause(){var e=this.refVideo;e&&(e.paused||e.pause())}pauseAndReset(){var e=this.refVideo;e&&(e.currentTime=0,this.pause())}render(){return n.createElement("video",{ref:this.setRefVideo,autoPlay:this.props.src?this.props.autoPlay:void 0,className:this.props.className?this.props.className:l.default.video,controls:this.props.controls,height:this.props.height,loop:this.props.loop,muted:this.props.muted,poster:this.props.poster,src:this.props.src?this.props.src:void 0,width:this.props.width,onClick:this.props.onClick,onAbort:this.props.onAbort,onCanPlay:this.props.onCanPlay,onCanPlayThrough:this.props.onCanPlayThrough,onDurationChange:this.props.onDurationChange,onEmptied:this.props.onEmptied,onEncrypted:this.props.onEncrypted,onEnded:this.props.onEnded,onError:this.props.onError,onLoadedData:this.props.onLoadedData,onLoadedMetadata:this.props.onLoadedMetadata,onLoadStart:this.props.onLoadStart,onPause:this.props.onPause,onPlay:this.props.onPlay,onProgress:this.props.onProgress,onRateChange:this.props.onRateChange,onSeeked:this.props.onSeeked,onSeeking:this.props.onSeeking,onStalled:this.props.onStalled,onSuspend:this.props.onSuspend,onTimeUpdate:this.props.onTimeUpdate,onVolumeChange:this.props.onVolumeChange,onWaiting:this.props.onWaiting},this.props.children)}}t.default=p},cadaffihj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(a("chgaccicf")).default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0});t.default=r},cadedccheg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("eceibhbeff")),o=i(a("dcjigehfeb")),d=i(a("dcdbbhicce"));class l extends s.Component{constructor(e){super(e),this.state={blob:n.default.get(this.props.mediaData.filehash)},this.state.blob||e.mediaData.mediaStage!==o.default.STAGE.RESOLVED||e.downloadMedia()}componentDidUpdate(){if(!this.state.blob){var{filehash:e}=this.props.mediaData;n.default.has(e)&&this.setState({blob:n.default.get(e)})}}render(){var{blob:e}=this.state;return e?this.props.render(e):this.props.renderPlaceholder()}}l.CONCERNS={mediaData:["filehash","mediaStage"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},cadfgefaja:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBar=function(e){var t=(0,n.default)(l.default.menu,{[l.default.menuDefault]:!e.theme,[l.default.menuStrong]:"strong"===e.theme,[l.default.menuInverse]:"inverse"===e.theme});return o.createElement("div",{className:t},e.children)},t.MenuBarItem=h;var s=r(a("bacehaajgh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("effbcehec")),l=r(a("bcdeiggheh")),c=r(a("cgjdibiahi")),u=r(a("ccaddbgihj")),f=r(a("didfdhbecg"));function h(e){var{text:t,transitionName:a,disabled:i,children:r,icon:h,title:p,selected:g}=e,[m,b]=o.useState(!1),v=null!=r&&m?o.createElement(c.default,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,requestDismiss:()=>{b(!1)}},o.Children.only(r)):null,_=(0,n.default)(l.default.item,{[l.default.selected]:g,[l.default.active]:m,[l.default.disabled]:i}),[E,j]=(0,u.default)(t=>{e.onClick&&e.onClick(t),t.isDefaultPrevented()||(t.preventDefault(),m||null!=r&&b(!0))},{disabled:i});return o.createElement("div",{"data-a8n":d.default.key(e.a8nText),className:_},o.createElement("div",(0,s.default)({},j,{"data-tab":e.tabOrder,title:p,ref:E}),h,t&&o.createElement("span",{className:l.default.itemText},t)),o.createElement(f.default,{transitionName:a},v))}h.defaultProps={transitionName:"dropdown",disabled:!1}},cadjcdbgha:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("effbcehec")),o=a("ebjaejiaba"),d=i(a("daghjjjedc")),l=i(a("cgajbaciee")),c=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("gfebgebbi")),h=i(a("bhbdiadfhj")),p=i(a("bdjjabfecc")),g=a("cjciachhej");class m extends s.Component{constructor(...e){super(...e),this.state={keepStarred:!0},this.onCancel=()=>{c.default.closeModal()},this.onClear=()=>{var e=this.props.chat;e.pendingAction++,(0,g.sendClear)(e,h.default.supportsFeature(h.default.F.CHAT_CLEAR_STARRED)&&this.state.keepStarred).finally(()=>{e.pendingAction--}),c.default.closeModal()},this.onToggleStarred=()=>{this.setState({keepStarred:!this.state.keepStarred})}}getText(){var e=this.props.chat;switch(e.kind){case o.CHAT_KIND.GROUP:return p.default.t(426,{name:e.title()});case o.CHAT_KIND.CHAT:return p.default.t(425,{name:e.title()});case o.CHAT_KIND.BROADCAST:return p.default.t(424);default:return""}}render(){var e;return h.default.supportsFeature(h.default.F.CHAT_CLEAR_STARRED)&&(e=s.createElement("div",{className:l.default.section,onClick:this.onToggleStarred},s.createElement("div",{"data-a8n":n.default.key("menu-icon-clear-chat"),className:l.default.control},s.createElement(d.default,{onChange:this.onToggleStarred,checked:this.state.keepStarred})),s.createElement("div",{className:l.default.label},p.default.t(780)))),s.createElement(u.default,{onOK:this.onClear,okText:p.default.t(422),onCancel:this.onCancel},s.createElement("div",null,s.createElement(f.default,{text:this.getText()}),e))}}t.default=m},cadjefbajf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"djihccehdc",7)).then(e=>e.default),"CaptureFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},cadjjhjjci:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t.parentNode;if(!a)return;if(t.nextSibling)return void a.insertBefore(e,t.nextSibling);return a.appendChild(e),e}},caedaejadb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgcgbfbffj")),n=r(a("hgigjbgie")),o=a("bgihjbde"),d=i(a("cajijabhgb")),l=r(a("cbcbdjdah")),c=r(a("biecbbiiee"));class u extends s.default{constructor(...e){super(...e),this.hasLinkBefore=!0}delete(){super.delete(),this.stopListening(),this.reset()}queryLinks(e,t){if(t)return this.queryLinkBefore||(this.queryLinkBefore=c.default.queryMedia(t.id.remote,n.default.MEDIA_QUERY_LIMIT,"before",t.id,"url").then(e=>((!e||e.length<n.default.MEDIA_QUERY_LIMIT)&&(this.hasLinkBefore=!1),this.add(e,{at:0}),this.createLinksAndAddMsgs(e),{length:e.length})).catchTypes(o.WebdDrop,d.ProtoVersionUndefined,()=>{}).catchEqualTo(404,()=>{}).finally(()=>{this.queryLinkBefore=null,this.trigger("query_link_before")}),this.trigger("query_link_before")),this.queryLinkBefore;var a=e.msgs.getModelsArray();if(0===this.length){if(!a||0===a.length)return this.hasLinkBefore=!1,new Promise(e=>{e({eof:!0})});this.add(a.filter(e=>e.getLinks().length>0),{at:0}),this.createLinksAndAddMsgs(a)}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasLinkBefore=!1,new Promise(e=>{e({eof:!0})});if(this.length<=2*n.default.MEDIA_QUERY_LIMIT){var i=0===this.length?e.msgs.head():this.head();return this.queryLinks(e,i)}return new Promise(e=>{e({eof:!1})})}createLinksAndAddMsgs(e){var t=[];Promise.loop((a,i,r)=>{e.length===r&&a();var s=e[r];s.getLinks().length&&t.push(s)}).then(()=>{this.add(t),this.trigger("query_link_before")})}}t.default=u,u.model=l.default,u.comparator=(e,t)=>e.t-t.t},caedchihhc:function(e,t){e.exports={bubble:"_7JsyP",isGallery:"NH3iN",isPreview:"_2Yw9I",quote:"qFwaK",hasAuthor:"_3qBTz",vcard:"_1LRTv",author:"_1O0p7",hasQuote:"_3t2ki",body:"_1ta_Q",avatar:"_39Bup",meta:"_3BvPf",name:"_1QRcr",ctwaContext:"_2lJNj",placeholder:"XSawi",placeholderAnimation:"tWSpT","gradient-ltr":"_1rDdB",gradientLtr:"_1rDdB","gradient-rtl":"_1wkzd",gradientRtl:"_1wkzd",placeholderImage:"_1QyKk",placeholderText:"_1HjtW",vcardDownloadStageIcon:"PQSq5"}},caegbedegd:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=a("cbhhehcjbb");function n({children:e,selectable:t}){return r.createElement(s.SelectableStrong,{selectable:t,appTextTemplate:"*${appText}*"},e)}n.defaultProps={children:""};var o=n;t.default=o},cafbidhddf:function(e,t){e.exports={text:"qOiOp"}},cafcabcicd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bajieejahc",7)).then(e=>e.default),"SendMsgMultiFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(935),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},cafcgjgibg:function(e,t){e.exports={container:"_1yQ4U",text:"_3ZBgR",messageNewNumberButton:"-kwHt"}},cafdcbgbjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.reduce((e,{parsers:t})=>t?t.reduce((e,t)=>t(e),e):e,(0,r.default)(e))};var r=i(a("ebjfcagbfd"))},caficgceif:function(e,t){e.exports={"-item-spacing":"16px",itemSpacing:"16px","-item-width":"26px",itemWidth:"26px",container:"_37evB",active:"RXmfT",square24:"jME8-",square26:"_3guyl",top:"hLiSc",padding:"sWiot"}},cagbbjgahc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfacahcafg")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("bjjbjadgeg")),l=r(a("bdjjabfecc")),c=i(a("jdigiabic")),u=r(a("bfgbdiffgd")),f=r(a("cgfidiajgj")),h=r(a("cjfhhbcfdh")),p=r(a("becgjbhfe")),g=r(a("baebehedbi")),m=r(a("dgcjjbdicd"));class b extends o.PureComponent{constructor(...e){super(...e),this.state={isCollectionReady:c.default.isSynced()},this._setRefScrollGrid=e=>{this._refScrollGrid=e}}componentDidMount(){this.state.isCollectionReady||c.default.sync().then(()=>{this.setState({isCollectionReady:!0})})}focus(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}render(){return this.state.isCollectionReady?0===c.default.length?o.createElement("div",{className:(0,n.default)(d.default.emptyContainer,u.default.stickerSearchEnabled?d.default.panelHeight:null)},o.createElement("div",{className:d.default.emptySticker,style:{backgroundImage:"url(".concat(h.default,")")}}),o.createElement("p",{className:d.default.emptyText},l.default.t(1283))):o.createElement(m.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:c.default.toArray()}):o.createElement("div",{className:g.default.container},(0,s.default)(c.RECENT_STICKERS_LIMIT,e=>o.createElement(p.default,{key:e,sticker:f.default.getPlaceholder()})))}}t.default=b},cagdbihcfc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("egbcjfjag")),d=i(a("deefgbbaj")),l=i(a("hadcdcjij")),c=i(a("ecffbdieca"));var u=function(e){var t=(0,n.default)({[l.default.panelBodyError]:e.error},l.default.panelBody);return s.createElement("div",null,s.createElement("div",{className:o.default.container}),s.createElement("div",{className:l.default.gifPanel},s.createElement("div",{className:l.default.bodyContainer},s.createElement("div",{className:t},s.createElement("div",{className:d.default.noResults},s.createElement(c.default,e))))))};t.default=u},caghhccge:function(e,t){e.exports={mainWrapper:"_1B91o",v3_x:"_1j-Xk",v3X:"_1j-Xk",v3_x_mac:"_3KlqZ",v3XMac:"_3KlqZ",modalBackground:"_1IC9d"}},cahahadche:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgebcfedgb")),o=i(a("gfebgebbi")),d=i(a("bighbhcffc")),l=a("gaifbabbj");class c extends s.Component{componentDidMount(){}render(){var{base:e,unicode:t,action:a,children:i}=this.props;return s.createElement("div",{className:d.default.gridContainer},s.createElement("span",{className:d.default.baseEmoji},s.createElement(n.default,{type:"emoji-grid",key:"base",a8n:"mi-emoji-variant",action:i=>a(i,t,e)},s.createElement(o.default,{text:e,formatters:l.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))),s.createElement("div",{className:d.default.options},i))}}t.default=c},cahdiidcaa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.applyContactBusinessProps=t.updateContactBusinessProperties=void 0;var r=i(a("ffedgcdgj")),s=i(a("hgigjbgie")),n=i(a("dhigahgdjb")),o=i(a("bhbdiadfhj")),d=a("cihghiacbi"),l=a("dcbdjheea"),c=(e,t)=>{var a={};for(var i of e){var{id:r}=i;a[r.user]=i}for(var s of t){var{id:n}=s,o=a[n.user],d=Boolean(o),{level:l,name:c,isApi:u}=o||{},h={isBusiness:d,isEnterprise:Boolean(u),verifiedLevel:f(l),verifiedName:c};s.set(h)}};t.updateContactBusinessProperties=c;var u=function(){var e=(0,r.default)((function*(){if(o.default.supportsFeature(o.default.F.MD_BACKEND)){var e=(yield(0,d.getAllVerifiedNames)()).map(({id:e,name:t,level:a,isApi:i})=>({id:(0,l.createUserWid)(e),name:t,level:a,isApi:i}));c(e,n.default.toArray())}}));return function(){return e.apply(this,arguments)}}();function f(e){if(null!=e){switch(e){case"unknown":return s.default.VERIFIED_LEVEL.UNKNOWN;case"low":return s.default.VERIFIED_LEVEL.LOW;case"high":return s.default.VERIFIED_LEVEL.HIGH}return s.default.VERIFIED_LEVEL.UNKNOWN}}t.applyContactBusinessProps=u},cahecebagf:function(e,t){e.exports={mediaViewerAnimate:"_1QdT-","media-viewer-animate":"_1QdT-",cursorZoomOut:"_3wNo_",mediaViewer:"_2bER9",mediaContent:"_1C9_o",btnMediaNext:"IjjTF",btnMediaPrev:"rGsUO",imageAudio:"_26vgi",media:"lOMJe",mediaWithCaption:"_212SP",mediaCaption:"_2Ardz",captionHidden:"_1qJRg",mediaViewerAudio:"_3ozOJ"}},caifaihfad:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"dbjdhjhjha",7)).then(e=>e.default),"SendGroupInviteFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(696),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},caifijidhe:function(e,t){e.exports={mediaViewerBlurCrop:"_2nqCf",mediaViewerBlurImg:"r7ZS5"}},caigeciieb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ResizeSensor=void 0;var s,n,o=r(a("ddhijeejag")),d=i(a("baigacadjd")),l=i(a("bdhijcggig"));function c(){return null==n&&(n=new WeakMap),n}class u extends o.Component{constructor(...e){super(...e),this.resizeObserver=(null==s&&(s=new d.default(e=>{for(var t of e){var{width:a,height:i}=t.contentRect,r=c().get(t.target);null!=r&&r(a,i)}})),s),this.observerMap=c(),this._handleDiv=e=>{var t=this._sensorEl;e!==t&&null!=t&&(this.resizeObserver.unobserve(t),this.observerMap.delete(t)),this._sensorEl=e,null!=e&&(this.observerMap.set(e,this._handleResize),this.resizeObserver.observe(e))},this._handleResize=(e,t)=>{this.props.onResize(e,t)}}shouldComponentUpdate(){return!1}render(){return o.createElement("div",{ref:this._handleDiv,className:l.default.sensor})}}t.ResizeSensor=u;var f=u;t.default=f},caijdjeaba:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.msgFindQuery=function(e,t){if(null!=t.label)return Promise.resolve([]);if("before"===e)return function(e,t=20){s.default.supportsFeature(s.default.F.MD_BACKEND)&&n.default;return Promise.resolve([])}(0,t.count);if("after"===e)return function(e,t=20){s.default.supportsFeature(s.default.F.MD_BACKEND)&&n.default;return Promise.resolve([])}(0,t.count).catchType(l,()=>({status:404}));if("star"===e){null==t.id||new n.default(t);return null!=t.media?Promise.resolve([]):null!=t.chat?function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve([])}(t.chat,t.count):function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve([])}(t.count)}if("search"===e){var i={};t.remote&&(i.remote=t.remote.toString()),t.count&&t.page>=0&&(i.limit=t.count,i.page=t.page);var{default:r}=a("baghfccdgd");return r.search(t.searchTerm,i)}if("media"===e){t.remote,null==t.id||new n.default(t);return"document"===t.media||"url"===t.media?c(t.count,t.direction).then(e=>e.map(o.hydrateMessage)):Promise.all([c(t.count,t.direction).then(e=>e.map(o.hydrateMessage)),c(t.count,t.direction).then(e=>e.map(o.hydrateMessage)),c(t.count,t.direction).then(e=>e.map(o.hydrateMessage))]).then(([e,t,a])=>{var i=[e,a,t].flat();return{docCount:t.length,linkCount:a.length,mediaCount:e.length,messages:i}})}return __LOG__(3)(d(),e),Promise.reject(new Error("Message query type ".concat(e," not implemented.")))},t.queryVcard=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve()},t.getMsgByMsgKey=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve(null)},t.getMsgsByMsgKey=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve([])};var r=i(a("dfadhaifh")),s=i(a("bhbdiadfhj")),n=i(a("cffajefeag")),o=a("bigeebbfbi");function d(){var e=(0,r.default)(["Message query type "," not implemented."]);return d=function(){return e},e}class l extends Error{constructor(e){super(e||"Anchor message does not exist in message table"),this.name="NoAnchorMessageError"}}function c(){return s.default.supportsFeature(s.default.F.MD_BACKEND),Promise.resolve([])}},cajagfhdgb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bfhbedhfbj")),d=r(a("hgigjbgie")),l=r(a("gfebgebbi")),c=a("dgjddffcfg"),u=r(a("bhbdiadfhj")),f=r(a("cgegcgfgjh")),h=a("gaifbabbj"),p=r(a("bdjjabfecc")),g=r(a("dhjjadddfg")),m=r(a("ebddggeaib")),b=r(a("bdcchebfge")),v=r(a("dbifaefjhg")),_=r(a("dihddiefbh")),E=r(a("gjbhafcjg")),j=r(a("bfgbdiffgd")),y=r(a("dcdbbhicce")),S=a("cjfegjecaj");class C extends n.PureComponent{constructor(...e){super(...e),this.updateAfterFeatureFlagChange=()=>{this.props.listeners._unmounted||this.forceUpdate()}}componentDidMount(){var{listeners:e,msg:t}=this.props;e.add(u.default,u.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange),t.type===d.default.MSG_TYPE.DOCUMENT&&t.isVcardOverMmsDocument&&(!t.mediaData||!t.mediaData.mediaBlob)&&t.isTrusted()&&t.unsafe().size<=1024*j.default.mmsVcardAutodownloadSizeKb&&t.downloadMedia(!0,b.default.WEBC_RMR_REASON_CODE.MSG_RENDER),t.mediaData&&t.type===d.default.MSG_TYPE.DOCUMENT&&t.isVcardOverMmsDocument&&e.add(t.mediaData,"change:parsedVcards",()=>{this.forceUpdate()})}render(){var{msg:e,searchQuery:t=[],msgType:a,author:i}=this.props,r=[];u.default.supportsFeature(u.default.F.MD_BACKEND)||e.isSentByMe&&!e.asRevoked&&r.push(n.createElement(v.default,{msg:e.unsafe(),key:"symbol"}));var d="Search"!==a&&!e.isSentByMe&&e.isGroupMsg&&!e.isNotification,m=i&&"Search"===a;if((d||m)&&(d?r.push(n.createElement(E.default,{contact:e.senderObj,useShortName:!0,key:"author"})):m&&r.push(n.createElement(l.default,{text:i,direction:"auto",key:"author"})),r.push(n.createElement("span",{key:"divider"},":"," "))),e.hasSymbol()&&r.push(n.createElement(_.default,{msg:e.unsafe(),key:"msg-symbol"})),"order"===e.type&&null!=e.itemCount&&r.push(n.createElement("div",{key:"item-count"},p.default.t(784,{count:e.itemCount||0,_plural:e.itemCount||0}),e.message?n.createElement("span",{key:"item-divider"},":"," "):null)),null!=e.asGroupNotification)r.push(n.createElement(f.default,{msg:e.asGroupNotification,clickable:!1,key:"status"}));else if(null!=e.asBroadcastNotification)r.push(n.createElement(o.default,{msg:e.asBroadcastNotification,clickable:!1,key:"broadcast_notification"}));else{var b=e.asRevoked;u.default.supportsFeature(u.default.F.MD_BACKEND);var j=(0,s.default)({[g.default.product]:null!=e.asProduct,[g.default.italic]:b});r.push(n.createElement(l.default,{className:j,direction:e.dir,text:(0,c.replaceMultipleSpaces)((0,c.msgText)((0,S.unproxy)(e.unsafe()),!1,!0)||""),dirMismatch:e.rtl!==p.default.isRTL(),formatters:h.Configuration[a]({mentions:e.mentionMap(),terms:t}),ellipsify:!0,inlineblock:!0,key:"status"}))}var y=p.default.embedDir((0,c.msgText)((0,S.unproxy)(e.unsafe()))||"",e.rtl);return n.createElement("span",{className:g.default.last,title:y},r)}}C.CONCERNS={msg:["dir","asBroadcastNotification","isGroupMsg","asGroupNotification","isNotification","asProduct","asRevoked","isSentByMe","itemCount","rtl","senderObj","type","mediaData","message","isVcardOverMmsDocument","size","mdDowngrade"]};var M=(0,m.default)((0,y.default)(C,C.CONCERNS));t.default=M},cajejegicg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setChecksum=function(e){r.default.supportsFeature(r.default.F.MD_BACKEND)&&(0,s.setContactChecksum)(e);return Promise.resolve()};var r=i(a("bhbdiadfhj")),s=a("echdbcgfij")},cbafefgfac:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("bebajedcaf"));function o(){var e=(0,s.default)(["bin-recv: response,notice_state"]);return o=function(){return e},e}var d={queryNoticeState:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"notice"},void 0),r=e?"query,notice_state,resume":"query,notice_state";this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a={notices:[],status:parseInt(this.N.attr("code",e),10)||200};if(__LOG__(2)(o()),"response"===this.N.tag(e)&&"notice"===this.N.attr("type",e)){var i=this.N.children(e);if(Array.isArray(i))for(var r=0;r<i.length;r++){var s=this.parseNotice(i[r]);(0,n.default)(s)||a.notices.push(s)}}t(a)}).catch(a)},t),onDrop:this.wrap(a),serverCacheable:Boolean(e)},{debugString:r,metricName:"QUERY_NOTICE_STATE"})})},parseNotice:function(e){if("notice"===this.N.tag(e)){var t=parseInt(this.N.attr("id",e),10),a=parseInt(this.N.attr("version",e),10),i={id:isNaN(t)?void 0:t,blocking:"true"===this.N.attr("blocking",e),version:isNaN(a)?void 0:a};return null!=i.id?i:(0,r.default)({},void 0)}}};t.default=d},cbagjbgjfa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.newMessageQueryEvent=function(e){return new s.default.WebcMessageQuery({webcResponseBytes:0,webcMessageCount:0,webcTextMessageCount:0,webcVideoMessageCount:0,webcPhotoMessageCount:0,webcAudioMessageCount:0,webcPttMessageCount:0,webcStickerMessageCount:0,webcDocumentMessageCount:0,webcOtherMessageCount:0,webcMessageQueryTrigger:e})},t.logMessageCounts=function(e,t){e.webcMessageCount+=t.length;for(var a=0,i=t[a];a<t.length;++a,i=t[a])switch(i.type){case n.CHAT:case n.LOCATION:case n.PAYMENT:case n.VCARD:case n.CIPHERTEXT:case n.MULTI_VCARD:case n.REVOKED:case n.OVERSIZED:e.webcTextMessageCount+=1;break;case n.IMAGE:case n.PRODUCT:e.webcPhotoMessageCount+=1;break;case n.VIDEO:e.webcVideoMessageCount+=1;break;case n.AUDIO:e.webcAudioMessageCount+=1;break;case n.PTT:e.webcPttMessageCount+=1;break;case n.STICKER:e.webcStickerMessageCount+=1;break;case n.DOCUMENT:e.webcDocumentMessageCount+=1;break;default:e.webcOtherMessageCount+=1}};var r=i(a("hgigjbgie")),s=i(a("bdcchebfge"));var{MSG_TYPE:n}=r.default},cbaiicibei:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HEIGHT=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("hgigjbgie")),l=r(a("bbaacgghch")),c=r(a("ddajbaceej")),u=r(a("dhfbfehaef")),f=r(a("bdjjabfecc")),h=r(a("dhcbjigadb")),p=a("cbhhehcjbb"),g=r(a("dgdcjccfdi")),m=r(a("bcjcbbafcj"));t.HEIGHT=56;class b extends n.PureComponent{constructor(...e){super(...e),this.state={value:this.props.value||"",tabFocused:!!this.props.tabFocused},this._handleChange=e=>{var t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t,e)},this._handleClearButtonClick=e=>{this.setState({value:""}),this.props.onChange&&this.props.onChange("",e)},this._handleDownKey=e=>{e.stopPropagation(),e.preventDefault(),this.props.onDownKey&&this.props.onDownKey(e)},this._handleEnterKey=e=>{e.preventDefault(),e.stopPropagation(),this.props.onEnterKey&&this.props.onEnterKey(e)},this._handleFocus=()=>{this.focus()},this._setRefInput=e=>{this._refInput=e},this._setRefInputContainer=e=>{this._refInputContainer=e}}static getDerivedStateFromProps(e){return{value:e.value,tabFocused:e.tabFocused}}focus(e){this._refInput&&(this.hasFocus()||(c.default.focus(this._refInput),e&&l.default.indicateFocus(this._refInputContainer)))}hasFocus(){return!!document.activeElement&&this._refInput===document.activeElement}render(){var e=null;return this.state.value&&!this.props.tabFocused&&(e=n.createElement("button",{className:h.default.cancelIcon,onClick:this._handleClearButtonClick},n.createElement(g.default,{name:"x-alt-small"}))),n.createElement(u.default,{handlers:{enter:this._handleEnterKey,down:this._handleDownKey},"data-tab":d.default.TAB_ORDERS.PANEL_SEARCH_INPUT,className:(0,s.default)(h.default.searchRow,{[h.default.ffFix]:m.default.isGecko,[h.default.rowShadow]:this.props.shadow}),key:"search-input",onFocus:this._handleFocus},n.createElement("label",{ref:this._setRefInputContainer,className:h.default.rowInput},n.createElement("div",{className:h.default.inputContainer},n.createElement("input",{"data-a8n":o.default.key("input-emoji-search"),ref:this._setRefInput,className:(0,s.default)(h.default.inputEmojiSearch,p.SELECTABLE_INPUT_CSS_CLASS),type:"text",dir:f.default.isRTL()?"rtl":"ltr",value:this.props.tabFocused?"":this.state.value,title:this.props.label,placeholder:this.props.label,onMouseDown:e=>{e.stopPropagation()},onChange:this._handleChange}),e)))}}t.default=b},cbbdegjicb:function(e,t){e.exports={title:"_3QmX_",titleMain:"_3Tiru",meta:"_36C61",chat:"_2s9OA",divider:"BsZoR",chevron:"_1TbWB",avatar:"_2nziO",author:"_28Cpf"}},cbbdfhcegf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.openMessengerRoomUrl=function(e){var t={source:"whatsapp",ep:e?3:4},a=n.default.build("https://messenger.com/groupcall/create",t);(0,r.openExternalLink)(a);var i=s.default.DESTINATION.BROWSER,o=e?s.default.ROOMS_ENTRY_POINT.ATTACHMENT:s.default.ROOMS_ENTRY_POINT.WEB_MENU;new s.default.RoomsCreationFlow({entryResult:i,roomsEntryPoint:o}).commit()};var r=a("djaiggcdb"),s=i(a("bdcchebfge")),n=i(a("edbaidcaf"))},cbbghihadb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhfbfehaef"));class o extends s.Component{constructor(...e){super(...e),this._onNext=e=>{e.preventDefault(),e.stopPropagation(),this.props.active.setNext(!0),this.props.onIndexChange&&this.props.onIndexChange(this.props.active.index)},this._onPrev=e=>{e.stopPropagation(),e.preventDefault(),this.props.active.prev()>-1?(this.props.active.setPrev(!0),this.props.onIndexChange&&this.props.onIndexChange(this.props.active.index)):this.props.onLeave&&(this.props.onLeave(e),this.props.active.unset())},this._onEnter=e=>{this.props.onEnter&&this.props.onEnter(e)}}render(){var e={down:this._onNext,up:this._onPrev,enter:this._onEnter};return s.createElement(n.default,{handlers:e,onRef:this.props.onRef},this.props.children)}}t.default=o},cbbhghigbd:function(e,t){e.exports={container:"ypR3Y",wrapper:"_2rdGE",innerWrapper:"_38BaU",starIcon:"_1HTLC",thumb:"_1u6tp",blur:"_2WtOE"}},cbcbdjdah:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createProductInquiry=function(e,t,a){var i=function(e){return new ee(e)}({ack:b.default.ACK.CLOCK,id:new w.default({id:"product_inquiry",remote:t,fromMe:!0}),from:t,t:p.default.globalUnixTime(),type:Z.PRODUCT,title:e.name,description:e.description,businessOwnerJid:t.toString({legacy:!0}),productId:e.id.toString(),url:e.url,productImageCount:e.productImageCollection.length,body:a.preview&&a.preview._b64,currencyCode:e.currency,priceAmount1000:e.priceAmount1000});return i.mediaData.set(a),i},t.default=t.TYPE=void 0;var s=r(a("ffedgcdgj")),n=r(a("dfadhaifh")),o=r(a("bcdejiigcg")),d=r(a("bhaghghai")),l=r(a("bebajedcaf")),c=r(a("dgcdhiachd")),u=i(a("dcaifjegcg")),f=i(a("dehfadfiij")),h=a("ecbfjecdii"),p=r(a("cfadcbbiie")),g=r(a("ccbgfecegc")),m=r(a("bjigbaghc")),b=r(a("hgigjbgie")),v=r(a("dhigahgdjb")),_=i(a("bjgiedaj")),E=r(a("djegeegcbf")),j=a("chhdedhgfe"),y=r(a("cijheiibhg")),S=a("ddbdgibbbi"),C=r(a("bhbdiadfhj")),M=r(a("bdjjabfecc")),T=a("debfcgabcb"),P=a("cefjgcjhgf"),O=i(a("dbcedfihd")),N=i(a("cjahggceac")),I=r(a("dcjigehfeb")),A=r(a("bdcchebfge")),w=r(a("cffajefeag")),R=i(a("ccbagdhfbb")),D=a("bcjidabgad"),L=r(a("cahfddcdga")),k=a("bdgehigfig"),x=a("dgbddfjdhi"),G=r(a("bfgbdiffgd")),U=a("hjbbdjjdf"),F=a("bficeagfg"),B=a("dffjhcaahi"),V=a("cjjdjbcgjh"),H=r(a("bacbhehedf")),W=r(a("jccfhaecf")),K=r(a("djbfhebjhe"));function Y(){var e=(0,n.default)(["error = ",""]);return Y=function(){return e},e}function q(){var e=(0,n.default)(["updated "," from "," to ",""]);return q=function(){return e},e}function z(){var e=(0,n.default)(["id: "," type: ",""]);return z=function(){return e},e}function Q(){var e=(0,n.default)(["resumeUpload called while state was ",""]);return Q=function(){return e},e}function J(){var e=(0,n.default)(["Msg:initialize updating msg with out of order ack"]);return J=function(){return e},e}function X(){var e=(0,n.default)(["msg:msg with no sender id:",", from:",", author:",", type:",""]);return X=function(){return e},e}var{MSG_TYPE:Z}=b.default;t.TYPE=Z;class $ extends u.default{constructor(...e){super(...e),this.id=(0,u.prop)(),this.body=(0,u.prop)(),this.type=(0,u.prop)(),this.subtype=(0,u.prop)(),this.t=(0,u.prop)(),this.notifyName=(0,u.prop)(),this.from=(0,u.prop)(),this.to=(0,u.prop)(),this.author=(0,u.prop)(),this.self=(0,u.prop)("in"),this.ack=(0,u.prop)(),this.invis=(0,u.prop)(),this.isNewMsg=(0,u.prop)(),this.star=(0,u.prop)(!1),this.recvFresh=(0,u.prop)(),this.caption=(0,u.prop)(),this.interactiveAnnotations=(0,u.prop)(),this.clientUrl=(0,u.prop)(),this.loc=(0,u.prop)(),this.lat=(0,u.prop)(),this.lng=(0,u.prop)(),this.isLive=(0,u.prop)(),this.accuracy=(0,u.prop)(),this.speed=(0,u.prop)(),this.degrees=(0,u.prop)(),this.comment=(0,u.prop)(),this.sequence=(0,u.prop)(),this.shareDuration=(0,u.prop)(),this.finalLat=(0,u.prop)(),this.finalLng=(0,u.prop)(),this.finalAccuracy=(0,u.prop)(),this.finalThumbnail=(0,u.prop)(),this.finalSpeed=(0,u.prop)(),this.finalDegrees=(0,u.prop)(),this.finalTimeOffset=(0,u.prop)(),this.directPath=(0,u.prop)(),this.mimetype=(0,u.prop)(),this.duration=(0,u.prop)(),this.filehash=(0,u.prop)(),this.uploadhash=(0,u.prop)(),this.size=(0,u.prop)(),this.filename=(0,u.prop)(),this.streamingSidecar=(0,u.prop)(),this.mediaKey=(0,u.prop)(),this.mediaKeyTimestamp=(0,u.prop)(),this.pageCount=(0,u.prop)(),this.isGif=(0,u.prop)(),this.gifAttribution=(0,u.prop)(),this.isViewOnce=(0,u.prop)(),this.streamable=(0,u.prop)(),this.width=(0,u.prop)(),this.height=(0,u.prop)(),this.thumbnailDirectPath=(0,u.prop)(),this.thumbnailSha256=(0,u.prop)(),this.thumbnailEncSha256=(0,u.prop)(),this.thumbnailHeight=(0,u.prop)(),this.thumbnailWidth=(0,u.prop)(),this.scanLengths=(0,u.prop)(),this.scansSidecar=(0,u.prop)(),this.isFromTemplate=(0,u.prop)(!1),this.devicesAdded=(0,u.prop)(),this.devicesRemoved=(0,u.prop)(),this.isThisDeviceAdded=(0,u.prop)(),this.firstFrameLength=(0,u.prop)(),this.firstFrameSidecar=(0,u.prop)(),this.isAnimated=(0,u.prop)(),this.canonicalUrl=(0,u.prop)(),this.matchedText=(0,u.prop)(),this.thumbnail=(0,u.prop)(),this.richPreviewType=(0,u.prop)(),this.doNotPlayInline=(0,u.prop)(),this.title=(0,u.prop)(),this.description=(0,u.prop)(),this.businessOwnerJid=(0,u.prop)(),this.productId=(0,u.prop)(),this.currencyCode=(0,u.prop)(),this.priceAmount1000=(0,u.prop)(),this.retailerId=(0,u.prop)(),this.url=(0,u.prop)(),this.productImageCount=(0,u.prop)(),this.recipients=(0,u.prop)(),this.broadcast=(0,u.prop)(),this.quotedMsg=(0,u.prop)(),this.quotedStanzaID=(0,u.prop)(),this.quotedRemoteJid=(0,u.prop)(),this.quotedParticipant=(0,u.prop)(),this.mentionedJidList=(0,u.prop)(),this.footer=(0,u.prop)(),this.hydratedButtons=(0,u.prop)(),this.buttons=(0,u.prop)(),this.selectedId=(0,u.prop)(),this.selectedIndex=(0,u.prop)(),this.multicast=(0,u.prop)(),this.urlText=(0,u.prop)(),this.urlNumber=(0,u.prop)(),this.clearMedia=(0,u.prop)(),this.isVcardOverMmsDocument=(0,u.prop)(!1),this.vcardList=(0,u.prop)(),this.vcardFormattedName=(0,u.prop)(),this.protocolMessageKey=(0,u.prop)(),this.templateParams=(0,u.prop)(),this.textColor=(0,u.prop)(),this.backgroundColor=(0,u.prop)(),this.font=(0,u.prop)(),this.isForwarded=(0,u.prop)(!1),this.forwardingScore=(0,u.prop)(),this.labels=(0,u.prop)(),this.paymentCurrency=(0,u.prop)(),this.paymentAmount1000=(0,u.prop)(),this.paymentMessageReceiverJid=(0,u.prop)(),this.paymentTransactionTimestamp=(0,u.prop)(),this.paymentStatus=(0,u.prop)(),this.paymentNoteMsg=(0,u.prop)(),this.paymentRequestMessageKey=(0,u.prop)(),this.paymentExpiryTimestamp=(0,u.prop)(),this.ephemeralStartTimestamp=(0,u.prop)(),this.ephemeralDuration=(0,u.prop)(),this.ephemeralSettingTimestamp=(0,u.prop)(),this.ephemeralOutOfSync=(0,u.prop)(),this.bizPrivacyStatus=(0,u.prop)(),this.verifiedBizName=(0,u.prop)(),this.inviteCode=(0,u.prop)(),this.inviteCodeExp=(0,u.prop)(),this.inviteGrp=(0,u.prop)(),this.inviteGrpName=(0,u.prop)(),this.inviteGrpJpegThum=(0,u.prop)(),this.sellerJid=(0,u.prop)(),this.message=(0,u.prop)(),this.orderTitle=(0,u.prop)(),this.itemCount=(0,u.prop)(),this.orderId=(0,u.prop)(),this.surface=(0,u.prop)(),this.status=(0,u.prop)(),this.token=(0,u.prop)(),this.historySyncMetaData=(0,u.prop)(),this.mdDowngrade=(0,u.prop)(),this.appStateSyncKeyShare=(0,u.prop)(),this.appStateSyncKeyRequest=(0,u.prop)(),this.broadcastParticipants=(0,u.prop)(),this.broadcastId=(0,u.prop)(),this.ctwaContext=(0,u.prop)(),this.list=(0,u.prop)(),this.listResponse=(0,u.prop)(),this.promises=(0,u.session)(()=>({})),this.local=(0,u.session)(),this.search=(0,u.session)(),this.msgChunk=(0,u.session)(),this.phoneUploading=(0,u.session)(),this.startOfDay=(0,u.session)(),this.startOfDaySkew=(0,u.session)(),this._quotedMsgObj=(0,u.session)(),this.isQuotedMsgAvailable=(0,u.session)(!0),this.senderObj=(0,u.session)(),this.mediaData=(0,u.session)(),this.forwardedFromWeb=(0,u.session)(!1),this._links=(0,u.session)(()=>[]),this.linksIndexParsed=(0,u.session)(0),this.chat=(0,u.derived)(this._chat),this.hasTemplateButtons=(0,u.derived)(this._hasTemplateButtons,["buttons"]),this.ephemeralExpirationTimestamp=(0,u.derived)(this._ephemeralExpirationTimestamp,["t","subtype","ephemeralStartTimestamp","ephemeralDuration"]),this.isEphemeral=(0,u.derived)(this._isEphemeral,["ephemeralDuration","type","subtype"]),this.isQuickReply=(0,u.derived)(this._isQuickReply,["buttons"]),this.isFutureproof=(0,u.derived)(this._isFutureproof,["type","subtype"]),this.isGroupMsg=(0,u.derived)(this._isGroupMsg),this.isStatusV3=(0,u.derived)(this._isStatusV3),this.isPSA=(0,u.derived)(this._isPSA),this.isRTL=(0,u.derived)(this._isRTL,["dir"]),this.isProductInquiry=(0,u.derived)(this._isProductInquiry),this.statusV3TextBg=(0,u.derived)(this._statusV3TextBg),this.isSentByMe=(0,u.derived)(this._isSentByMe),this.isSentByMeFromWeb=(0,u.derived)(this._isSentByMeFromWeb,["isUserCreatedType"]),this.isNotification=(0,u.derived)(this._isNotification,["type","subtype"]),this.asGroupNotification=(0,u.derived)(this._asGroupNotification,["type"]),this.asBroadcastNotification=(0,u.derived)(this._asBroadcastNotification,["type"]),this.isBizNotification=(0,u.derived)(this._isBizNotification,["type","subtype"]),this.asViewOnce=(0,u.derived)(this._asViewOnce,["type","isViewOnce"]),this.asProduct=(0,u.derived)(this._asProduct,["type"]),this.asAlbumAsset=(0,u.derived)(this._asAlbumAsset,["type","isNotification","caption","isForwarded","asRevoked","isGif","quotedMsg","ctwaContext","isViewOnce"]),this.asGroupedSticker=(0,u.derived)(this._asGroupedSticker,["type","isNotification","asRevoked","quotedMsg","ctwaContext"]),this.isMedia=(0,u.derived)(this._isMedia,["type"]),this.asDoc=(0,u.derived)(this._asDoc,["type"]),this.isMMS=(0,u.derived)(this._isMMS,["type"]),this.asRevoked=(0,u.derived)(this._asRevoked,["type"]),this.numTimesForwarded=(0,u.derived)(this._numTimesForwarded,["isForwarded","forwardingScore"]),this.isFrequentlyForwarded=(0,u.derived)(this._isFrequentlyForwarded,["numTimesForwarded"]),this.eventType=(0,u.derived)(this._eventType,["type","invis","isNewMsg"]),this.sender=(0,u.derived)(this._sender),this.text=(0,u.derived)(this._text,["type","body","caption","comment","isLive","paymentNoteMsg","subtype"]),this.containsEmoji=(0,u.derived)(this._containsEmoji,["text"]),this.isFailed=(0,u.derived)(this._isFailed,["isSentByMe","ack","mdDowngrade"]),this.vcard=(0,u.derived)(this._vcard,["type","body"]),this.isUnsentMedia=(0,u.derived)(this._isUnsentMedia,["ack","isMMS","isSentByMe"]),this.dir=(0,u.derived)(this._dir,["type","text","subtype"]),this.rtl=(0,u.derived)(this._rtl,["type","text","subtype"]),this.linkPreview=(0,u.derived)(this._linkPreview,["matchedText","body","title","description"]),this.isGroupsV4InviteExpired=(0,u.derived)(this._isGroupsV4InviteExpired,["type","inviteCode","inviteCodeExp"]),this.isPersistent=(0,u.derived)(this._isPersistent),this.isUnreadType=(0,u.derived)(this._isUnreadType,["type"]),this.isUserCreatedType=(0,u.derived)(this._isUserCreatedType,["type"]),this.initialPageSize=(0,u.derived)(this._initialPageSize,["isFrequentlyForwarded"])}_chat(){return this._getChatCollection().get(this.id.remote)}_hasTemplateButtons(){return this.isFromTemplate&&null!=this.buttons&&this.buttons.length>0}_ephemeralExpirationTimestamp(){var{ephemeralDuration:e,ephemeralStartTimestamp:t,t:a,subtype:i,id:{fromMe:r}}=this;return(0,j.getEphemeralExpirationTimestamp)(e,t,a,i,r)}_isEphemeral(){return(this.type!==Z.PROTOCOL||"ephemeral_setting"!==this.subtype)&&(null!=this.ephemeralDuration&&0!==this.ephemeralDuration)}_isQuickReply(){if(!this.hasTemplateButtons)return!1;if(null==this.buttons)return!1;var e=this.buttons.at(0);return null!=e&&e.subtype===b.default.TEMPLATE_BUTTON_SUBTYPE.QUICK_REPLY}_isFutureproof(){return this.type===Z.UNKNOWN||this.type===Z.PAYMENT&&"futureproof"===this.subtype}_isGroupMsg(){return W.default.isGroup(this.from)||W.default.isGroup(this.to)}_isStatusV3(){return W.default.isStatusV3(this.id.remote)}_isPSA(){return W.default.isPSA(this.id.remote)}_isRTL(){return"rtl"===this.dir||void 0===this.dir&&M.default.isRTL()}_isProductInquiry(){return this.id&&this.id.id===b.default.PRODUCT_INQUIRY_TYPE}_statusV3TextBg(){if(!this.isStatusV3)return null;var e=this.backgroundColor;return e?"rgba(".concat(e>>16&255,", ").concat(e>>8&255,", ").concat(255&e,", ").concat(e>>24&255,")"):null}_isSentByMe(){return"in"!==this.id.self&&!this.isNotification&&W.default.equals(this.from,(0,S.getMaybeMeUser)())}_isSentByMeFromWeb(){return this.id.fromMe&&this.local&&this.isUserCreatedType}_isNotification(){return R.isNotification(this.type,this.subtype)}_asGroupNotification(){var e=this.safe();switch(e.type){case Z.GROUP_NOTIFICATION:case Z.GP2:return e;default:return null}}_asBroadcastNotification(){var e=this.safe();return e.type===Z.BROADCAST_NOTIFICATION?e:null}_isBizNotification(){if(this.type===Z.NOTIFICATION_TEMPLATE){if(h.BIZ_SYSTEM_MSG_SUBTYPES.includes(this.subtype))return!0;switch(this.subtype){case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":case"biz_verified_transition_top_to_bottom":case"biz_verified_transition_bottom_to_top":case"biz_intro_top":case"biz_intro_bottom":case"biz_name_change":case"biz_move_to_consumer_app":case"biz_two_tier_migration_top":case"biz_two_tier_migration_bottom":return!0;default:return!1}}return!1}_asViewOnce(){var e=this.safe();return e.type!==b.default.MSG_TYPE.IMAGE&&e.type!==b.default.MSG_TYPE.VIDEO||!e.isViewOnce?null:e}_asProduct(){var e=this.safe();return"product"===e.type?e:null}_asAlbumAsset(){var e=this.safe();return e.type!==b.default.MSG_TYPE.IMAGE&&(e.type!==b.default.MSG_TYPE.VIDEO||!0===e.isGif)||e.isNotification||e.caption||e.asRevoked||e.quotedMsg||e.ctwaContext||e.isViewOnce?null:e}_asGroupedSticker(){var e=this.safe();return e.type!==b.default.MSG_TYPE.STICKER||e.isNotification||e.asRevoked||e.quotedMsg||e.ctwaContext?null:e}_isMedia(){return["image","video","audio"].includes(this.type)}_asDoc(){var e=this.safe();return e.type===b.default.MSG_TYPE.DOCUMENT?e:null}_isMMS(){return R.typeIsMMS(this.type,this.subtype)}_asRevoked(){var e=this.safe();return e.type===Z.REVOKED?e:null}_numTimesForwarded(){return this.forwardingScore?this.forwardingScore||0:this.isForwarded?1:0}_isFrequentlyForwarded(){return this.numTimesForwarded>=b.default.FREQUENTLY_FORWARDED_SENTINEL}_eventType(){if(!this.isNewMsg)return"i";var e=this.eventTypeFromMsgType();return this.invis?"i"===e?"i":"n":e}_sender(){return this.isSentByMe?this.from:this.isGroupMsg||this.isStatusV3?this.author:this.from}_text(){if(this.isFromTemplate)return this.type===Z.CHAT?this.body:this.caption;switch(this.type){case Z.CHAT:return this.body;case Z.IMAGE:case Z.VIDEO:return this.caption;case Z.LOCATION:return this.isLive?this.comment:void 0;case Z.PAYMENT:var{paymentNoteMsg:e}=this;return e?e.body:void 0;case Z.GROUPS_V4_INVITE:return this.comment;case Z.PRODUCT:return this.getProductInfoText();case Z.HSM:case Z.TEMPLATE_BUTTON_REPLY:return this.body;default:return}}_containsEmoji(){var{text:e}=this;return!!e&&E.default.containsEmoji(e)}_isFailed(){return this.isSentByMe&&this.ack<b.default.ACK.CLOCK}_vcard(){if(this.type===Z.VCARD)try{return(0,V.parseVcard)(this.body)}catch(e){return}}_isUnsentMedia(){return this.ack<b.default.ACK.SENT&&this.isMMS&&this.isSentByMe}_dir(){return this.type===Z.VCARD?this.subtype?f.dir(this.subtype):void 0:this.text?f.dir(this.text):void 0}_rtl(){return this.type===Z.VCARD?!!this.subtype&&"rtl"===f.dir(this.subtype):!!this.text&&"rtl"===f.dir(this.text)}_linkPreview(){return(0,U.isString)(this.matchedText)&&(!(0,l.default)(this.title)||!(0,l.default)(this.description))&&this.body.includes(this.matchedText)}_isGroupsV4InviteExpired(){if(this.type!==b.default.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(!this.inviteCode)return!0;var e=(new Date).getTime()/1e3;return parseInt(e,10)>=parseInt(this.inviteCodeExp,10)}_isPersistent(){return this.type===Z.E2E_NOTIFICATION&&"encrypt"===this.subtype}_isUnreadType(){return[Z.CHAT,Z.IMAGE,Z.VIDEO,Z.AUDIO,Z.PTT,Z.DOCUMENT,Z.VCARD,Z.LOCATION,Z.CIPHERTEXT,Z.OVERSIZED,Z.MULTI_VCARD,Z.REVOKED,Z.UNKNOWN,Z.STICKER,Z.PRODUCT,Z.GROUPS_V4_INVITE].includes(this.type)}_isUserCreatedType(){return[Z.PROTOCOL,Z.CHAT,Z.LOCATION,Z.VCARD,Z.MULTI_VCARD,Z.IMAGE,Z.VIDEO,Z.AUDIO,Z.PTT,Z.DOCUMENT,Z.STICKER,Z.PRODUCT,Z.GROUPS_V4_INVITE].includes(this.type)}_initialPageSize(){return this.isFrequentlyForwarded?b.default.FREQUENTLY_FORWARDED_INITIAL_PAGE_SIZE:b.default.INITIAL_PAGE_SIZE}initialize(){if(super.initialize(),this._pendingAckUpdate=new c.default,this.sender)this.addChild("senderObj",v.default.gadd(this.sender));else switch(this.type){case Z.NOTIFICATION:case Z.NOTIFICATION_TEMPLATE:case Z.GROUP_NOTIFICATION:case Z.GP2:case Z.BROADCAST_NOTIFICATION:case Z.E2E_NOTIFICATION:case Z.CALL_LOG:case Z.PROTOCOL:break;default:__LOG__(2)(X(),this.id.toString(),this.from.toString(),this.author&&this.author.toString(),this.type)}var e;this.mentionedJidList=this.mentionedJidList||[],this.mentionedJidList.forEach(e=>v.default.gadd(e));var t=this.getCollection();(e=t.preAck[this.id])&&(__LOG__(2)(J()),this.updateAck(e.ack,e.t),delete t.preAck[this.id]),this.type===Z.CIPHERTEXT&&this.listenToOnce(this,"change:type",this.onCiphertextDecrypted),this.mediaObject=void 0,R.typeIsMMS(this.type,this.subtype)&&(this._createMediaDataChild(),N.registerMsg(this)),this.isSentByMeFromWeb&&(this.promises.sendPromise=Promise.sit("settled").finally(()=>{this.promises.sendPromise=null}).endWithControls("settled")),this.isLive&&a("cdcijfdgje").default.processMsg(this,!1),m.default.isSMB&&(0,T.initializeLabels)(this)}getLinks(e=this.initialPageSize+1){var{text:t}=this;if(!t)return this._links;if(this.linksIndexParsed>=e)return this._links;var a=(0,F.firstNCodepoints)(t,e),i=O.findLinks(a,!1,this.sender);if((0,F.numCodepoints)(t)>e&&i.length>0){var r=i[i.length-1];(0,F.numCodepoints)(a.slice(0,r.index))+(0,F.numCodepoints)(r.url)===e&&(i=O.findLinks(t,!1,this.sender))}return this.linksIndexParsed=e,this._links=i}getGalleryLinks(){return(0,d.default)(this.getLinks(),"href").filter(e=>e.isHttp)}getSuspiciousLinks(){return this.getLinks().filter(e=>e.suspiciousCharacters&&e.suspiciousCharacters.size)}_createMediaDataChild(){this.addChild("mediaData",new I.default)}hasSymbol(){return["image","video","audio","ptt","location","vcard","multi_vcard","document","ciphertext","oversized","unknown","call_log","revoked","sticker","payment","groups_v4_invite","product","order"].includes(this.type)}mayFail(){return this.isSentByMe&&this.ack<b.default.ACK.SENT}isUnsentPhoneMsg(){return!this.local&&this.isSentByMe&&this.ack<b.default.ACK.SENT}canReply(){return this.chat.canSend&&!this.mayFail()&&!this.isNotification&&this.type!==Z.UNKNOWN&&this.type!==Z.CIPHERTEXT&&this.type!==Z.OVERSIZED&&this.type!==Z.REVOKED&&C.default.supportsFeature(C.default.F.REPLIES_OUT)&&this.interactiveButtonsReleased()}canPrivateReply(){return!this.mayFail()&&!this.isNotification&&this.type!==Z.UNKNOWN&&this.type!==Z.CIPHERTEXT&&this.type!==Z.OVERSIZED&&this.type!==Z.REVOKED&&C.default.supportsFeature(C.default.F.REPLIES_OUT)&&!this.isSentByMe&&this.isGroupMsg&&C.default.supportsFeature(C.default.F.PRIVATE_REPLY)&&this.interactiveButtonsReleased()}canPrivateReplyInRestrictedGrp(){return!!this.chat.isAnnounceGrpRestrict&&!this.chat.isReadOnly&&C.default.supportsFeature(C.default.F.PRIVATE_REPLY)&&C.default.supportsFeature(C.default.F.REPLIES_OUT)&&!this.mayFail()&&!this.isSentByMe&&!this.isNotification&&this.type!==Z.UNKNOWN&&this.type!==Z.CIPHERTEXT&&this.type!==Z.OVERSIZED&&this.type!==Z.REVOKED&&this.interactiveButtonsReleased()}canForward(){if(this.type===Z.CIPHERTEXT)return!1;if(this.type===Z.OVERSIZED)return!1;if(this.type===Z.REVOKED)return!1;if(this.type===Z.UNKNOWN)return!1;if(this.type===Z.PAYMENT)return!1;if(this.type===Z.LIST)return!1;if(this.type===Z.GROUPS_V4_INVITE)return!1;if(this.type===Z.LOCATION&&this.isLive)return!1;if(this.type===Z.ORDER)return!1;if(!this.interactiveButtonsReleased())return!1;if(this.ack<b.default.ACK.SENT&&this.isSentByMe)return!1;if(this.isMMS){var e=this.mediaData;if(!N.canSendType(e.type))return!1;if(e.mediaStage===I.default.STAGE.ERROR_MISSING)return!1;if(e.mediaStage===I.default.STAGE.ERROR_UNSUPPORTED)return!1;if(e.mediaStage!==I.default.STAGE.RESOLVED&&(this.type===Z.IMAGE||this.type===Z.VIDEO||this.type===Z.PTT))return!1;if(this.isViewOnce)return!1;if(this.isUnsentMedia)return!1}return!0}canQuickForward(){return!(!this.canForward()||this.isFrequentlyForwarded||0!==this.getSuspiciousLinks().length||this.type===b.default.MSG_TYPE.PTT||this.type===b.default.MSG_TYPE.STICKER||!this.interactiveButtonsReleased())&&(this.isMMS||this.linkPreview||this.type===b.default.MSG_TYPE.VCARD||this.type===b.default.MSG_TYPE.LOCATION)}canStar(){return!this.isNotification&&!this.isFutureproof&&!this.isViewOnce&&this.type!==Z.REVOKED&&!(this.ack<b.default.ACK.SENT&&this.isSentByMe)&&this.interactiveButtonsReleased()}interactiveButtonsReleased(){return this.isFromTemplate||!this.hasTemplateButtons&&this.type!==b.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY}isGroupLeave(){return"gp2"===this.type&&("leave"===this.subtype||"remove"===this.subtype)&&W.default.equals(this.recipients[0],(0,S.getMaybeMeUser)())}isTrusted(){return!!W.default.equals(this.sender,(0,S.getMaybeMeUser)())||(!(!this.senderObj||!this.senderObj.isMyContact)||(this.isGroupMsg?this.chat.isTrusted():this.chat.notSpam))}getVcardWids(){return this.type!==Z.VCARD?null:(0,V.vcardWids)(this.vcard)}getLocObject(){var e=this.loc;if(e){var[t,a=null]=e.split("\n");return{name:t,addr:a}}return null}resumeRemoteUpload(){return this.isUnsentPhoneMsg()&&!this.phoneUploading&&((0,k.sendMsgRecord)(this).then(e=>{e!==x.SendMsgResult.OK&&(this.phoneUploading=!1)}),this.phoneUploading=!0),this.downloadMedia(!0,A.default.WEBC_RMR_REASON_CODE.MSG_CLICK)}forceRMR(){return Promise.reject(new Error("unimplemented forceRMR"))}isForcingRMR(){return!1}cancelDownload(){N.cancelDownloadMsg(this)}resumeUpload(){return this.mediaData.mediaStage!==I.default.STAGE.NEED_UPLOAD&&(__LOG__(4,!1,new Error)(Q(),this.mediaData.mediaStage),SEND_LOGS("resume-non-need-upload")),N.resumeUploadMsg(this)}cancelUpload(){N.cancelUploadMsg(this)}logInitialRender(){if(this.isMMS&&this.mediaData&&!this.isStatusV3&&!this._renderEvent){var e=this._renderEvent=new A.default.WebcMediaRender({messageMediaType:this.getWamMediaType(),webcChatType:this.chat.getWebcChatType(),webcChatPosition:this.chat.initialIndex,webcBrowserNetworkType:(0,D.getEffectiveNetworkType)(),webcMessageT:this.t}),{msgChunk:t}=this;t&&t===this.chat.msgs&&(e.webcMessageIndex=t.length-t.indexOf(this)-1);var a=()=>{switch(this.mediaData.mediaStage){case I.default.STAGE.INIT:case I.default.STAGE.PREPARING:case I.default.STAGE.FETCHING:case I.default.STAGE.DECRYPTING:case I.default.STAGE.REMOTE_UPLOADING:case I.default.STAGE.REUPLOADING:case I.default.STAGE.UPLOADING:case I.default.STAGE.SENDING:return;case I.default.STAGE.RESOLVED:e.webcMediaStage=A.default.WEBC_MEDIA_STAGE_TYPE.RESOLVED;break;case I.default.STAGE.NEED_POKE:e.webcMediaStage=A.default.WEBC_MEDIA_STAGE_TYPE.NEEDS_RMR;break;default:e.webcMediaStage=A.default.WEBC_MEDIA_STAGE_TYPE.OTHER}this._logStorageEstimate(e).finally(()=>{e.commit(),this.stopListening(this.mediaData,"change:mediaStage",a)})};this.listenToAndRun(this.mediaData,"change:mediaStage",a)}}downloadMedia(e,t){if(this.asRevoked)return Promise.resolve();if(this.isMMS||(__LOG__(4,!1,new Error)(z(),this.id.toString(),this.type),SEND_LOGS("media-fault: downloadMedia msg is not mms type")),this.isUnsentPhoneMsg()){var a=this.promises.waitForPhoneUpload;return a||(a=this.promises.waitForPhoneUpload=(0,H.default)(this.mediaData,"change:mediaStage change:filehash",()=>!!this.mediaData.filehash&&!this.isUnsentPhoneMsg()).then(()=>{this.promises.waitForPhoneUpload=null})),a.then(()=>this.downloadMedia(e,t))}return N.downloadMsg(this,t===A.default.WEBC_RMR_REASON_CODE.MSG_CLICK,e,t,this._getRmrData(t))}_getRmrData(e){var t={webcRmrReason:e,webcMessageT:this.t},a=this.chat;if(a){t.webcChatType=a.getWebcChatType(),null!=a.initialIndex&&(t.webcChatPosition=a.initialIndex);var{msgChunk:i}=this;i&&i===a.msgs&&(t.webcMessageIndex=i.length-i.indexOf(this)-1)}return t}applyUpdate(e){return e.type&&this.type!==e.type&&R.typeIsMMS(e.type)?(this.type!==Z.CIPHERTEXT&&(__LOG__(4,!1,new Error)(q(),this.id.toString(),this.type,String(e.type)),SEND_LOGS("invalid-type-update")),this._createMediaDataChild(),N.registerMsgEarly(this,e),N.prepareMsg(this).then(()=>{this.set(e)}).catch(e=>{__LOG__(4,!1,new Error)(Y(),String(e)),SEND_LOGS("preregister-error")})):(this.set(e),this.isLive&&a("cdcijfdgje").default.processMsg(this,!0),this.paymentTransactionTimestamp&&this.getCollection().updateLastTransactionTime(this.id.remote,this.paymentTransactionTimestamp),Promise.resolve())}waitForPrep(){return R.typeIsMMS(this.type,this.subtype)?N.prepareMsg(this):Promise.resolve()}delete(e){super.delete(),a("djfhiceeje").default.remove(this),this.isLive&&a("cdcijfdgje").default.removeMsg(this),this.getCollection().remove(this.id),this.msgChunk&&this.msgChunk.remove(this.id,{},Boolean(e&&e.skipUpdatingSortTime)),R.typeIsMMS(this.type)&&N.deregisterMsg(this);var t=this._getChatCollection().get(this.id.remote);if(t){if(t.unreadMsgAnchor===this&&(t.unreadMsgAnchor=void 0),(!e||!e.doNotResetLastReceived)&&t.lastReceivedKey===this.id){var i=void 0,r=t.getLastReceivedMsg();r&&(i=r.id),(0,P.setLastReceivedKey)(t.id,i).then(()=>{t.lastReceivedKey=i})}t.composeQuotedMsg===this&&(t.composeQuotedMsg=null)}}quotedMsgObj(){if(!this.quotedMsg&&!this.paymentRequestMessageKey)return null;if(this._quotedMsgObj){var e=this.getCollection();return R.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,e)}if(this.quotedMsg)this._quotedMsgObj=this._getQuotedMsgObj();else{if(!this.paymentRequestMessageKey)return null;this._quotedMsgObj=this._getQuotedPaymentRequestMsg()}var t=this.getCollection();return R.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,t)}_getQuotedMsgObj(){var e=(0,S.getMaybeMeUser)(),t=!this.quotedParticipant||W.default.equals(this.quotedParticipant,e),a=t?"out":"in",i=this.quotedRemoteJid?this.quotedRemoteJid:this.id.remote,r={id:this.quotedStanzaID,from:t?e:i,to:t?i:e,self:a,author:(0,L.default)(this.quotedParticipant,"this.quotedParticipant"),remote:i};return!(W.default.isGroup(r.from)||W.default.isGroup(r.to))&&!W.default.isStatusV3(i)||W.default.equals(e,this.quotedParticipant)||(r.participant=(0,L.default)(this.quotedParticipant,"this.quotedParticipant")),Object.assign(r,this.quotedMsg),R.createQuotedMsg(r)}_getQuotedPaymentRequestMsg(){if(!this.paymentRequestMessageKey)return null;var e=this.paymentRequestMessageKey.remote?this.paymentRequestMessageKey.remote:this.id.remote,t=this.paymentRequestMessageKey.fromMe,a=null!=this.paymentRequestMessageKey.self?this.paymentRequestMessageKey.self:t?"out":"in",i=this.paymentRequestMessageKey.participant||this.paymentMessageReceiverJid,r={id:this.paymentRequestMessageKey.id,from:t?(0,S.getMaybeMeUser)():e,to:t?e:(0,S.getMaybeMeUser)(),self:a,participant:i,author:i,remote:e,amount1000:this.paymentAmount1000,currency:this.paymentCurrency,receiverJid:this.sender,type:this.type,subtype:"request"};return R.createQuotedMsg(r)}getQuotedMsgAdminGroupJid(){return null==this.quotedMsg?this.quotedRemoteJid:null}msgContextInfo(e){var t=(0,o.default)(this.toJSON(),["id","t","notifyName","from","to","author","self","ack","invis","isNewMsg","star","recvFresh","recipients","broadcast","quotedMsg","quotedStanzaID","quotedRemoteJid","quotedParticipant","senderObj","multicast"]),a=null;return e&&!this.id.remote.equals(e)&&(a=this.id.remote),{quotedMsg:t,quotedParticipant:this.sender,quotedStanzaID:this.id.id,quotedRemoteJid:a}}displayName(e,t){if(!this.sender)return"";if(this.sender.equals((0,S.getMaybeMeUser)()))return M.default.t(1780);var a=this.senderObj,i=e?a.shortName:void 0;if(i)return i;if(a.name)return a.name;var r=t&&this.notifyName?" ~"+this.notifyName:"";return(0,K.default)(this.sender)+r}isQuoted(e){var t=this.quotedMsgObj();return!!t&&t.sender.equals(e)}isMentioned(e){return!!this.mentionedJidList&&this.mentionedJidList.findIndex(t=>t.equals(e))>-1}mentionMap(){if(!C.default.supportsFeature(C.default.F.MENTIONS_IN))return null;if(!this.mentionedJidList)return null;if(!this.mentionedJidList.length)return null;var e={};return this.mentionedJidList.forEach(t=>{e["@".concat(W.default.user(t)||"")]=v.default.gadd(t)}),e}updateAck(e,t){if(C.default.supportsFeature(C.default.F.MD_BACKEND))this.updateAckMD(e,t);else{var a=this.ack;(0,U.isNumber)(e)&&(void 0===a||e>a||e===b.default.ACK.FAILED)?(this.ack=e,e>=1&&null!=t&&null==this.ephemeralStartTimestamp&&this.updateEphemeralStartTimestamp(t),"ephemeral_setting"===this.subtype&&1===e&&null!=t&&this.chat.updateEphemeralSettingTimestamp(t)):e===b.default.ACK.FAILED&&this.ack===b.default.ACK.CLOCK&&(this.ack=b.default.ACK.FAILED,this.phoneUploading=!1)}}updateAckMD(e,t){var a=this;this._pendingAckUpdate.enqueue((0,s.default)((function*(){var i=a.ack;(0,U.isNumber)(e)&&(void 0===i||e>i||e===b.default.ACK.FAILED)?(yield(0,B.updateLocal)(a.id,{ack:e}),a.ack=e,e>=1&&null!=t&&null==a.ephemeralStartTimestamp&&a.updateEphemeralStartTimestamp(t),"ephemeral_setting"===a.subtype&&1===e&&null!=t&&a.chat.updateEphemeralSettingTimestamp(t)):e===b.default.ACK.FAILED&&a.ack===b.default.ACK.CLOCK&&(yield(0,B.updateLocal)(a.id,{ack:b.default.ACK.FAILED}),a.ack=b.default.ACK.FAILED,a.phoneUploading=!1)})))}avParams(){return N.mediaMetadata(this)}resend(){return this.isFailed?(this._pendingAckUpdate.enqueue(()=>(0,B.updateLocal)(this.id,{ack:b.default.ACK.CLOCK}).then(()=>{this.ack=b.default.ACK.CLOCK})),this.isMMS?this.isSentByMeFromWeb?this.resumeUpload():this.resumeRemoteUpload():(0,k.sendMsgRecord)(this)):Promise.resolve()}onCiphertextDecrypted(){if(!this.isStatusV3){var e=this.chat,t=e.msgs.length,a=e.msgs.indexOf(this);-1!==a&&t-a<=10&&g.default.alertNewMsg(this)}}eventTypeFromMsgType(){var e,t,a=this.type,i=this.subtype,r=(0,S.getMaybeMeUser)();return a===Z.GP2||a===Z.GROUP_NOTIFICATION?"subject"===i?e="n":"add"===i||"invite"===i?(t=this.recipients[0],e=W.default.equals(t,r)?"s":"i"):"remove"===i?(t=this.recipients[0],e=W.default.equals(t,r)?"n":"i"):e="create"===i?"n":"i":e=a===Z.BROADCAST_NOTIFICATION||a===Z.NOTIFICATION||a===Z.E2E_NOTIFICATION?"create"===i?"n":"i":a===Z.GROUPS_V4_INVITE&&this.from.equals(r)?"i":a===Z.CALL_LOG?"n":this.broadcast?W.default.isBroadcast(this.id.remote)?"n":"i":a===Z.REVOKED?"i":this.isPSA?this.ack===b.default.ACK.RECEIVED?"d":"a":a===Z.CIPHERTEXT||a===Z.OVERSIZED?"a":a===Z.NOTIFICATION_TEMPLATE||a===Z.PROTOCOL&&"ephemeral_setting"===i?"i":"d",e}canRevoke(){return C.default.supportsFeature(C.default.F.REVOKE)&&this.id.fromMe&&this.isUserCreatedType&&(!W.default.isBroadcast(this.id.remote)||"iphone"===m.default.platform)&&!this.broadcast&&Math.trunc(+new Date/1e3)-this.t<=b.default.REVOKE_WINDOW&&!this.isUnsentPhoneMsg()&&!this.isUnsentMedia}getWamMessageType(){return this.isStatusV3?A.default.MESSAGE_TYPE.STATUS:this.isGroupMsg?A.default.MESSAGE_TYPE.GROUP:W.default.isBroadcast(this.id.remote)?A.default.MESSAGE_TYPE.BROADCAST:A.default.MESSAGE_TYPE.INDIVIDUAL}getWamMediaType(){switch(this.type){case Z.IMAGE:return A.default.MEDIA_TYPE.PHOTO;case Z.VIDEO:return this.mediaData.isGif?A.default.MEDIA_TYPE.GIF:A.default.MEDIA_TYPE.VIDEO;case Z.AUDIO:return A.default.MEDIA_TYPE.AUDIO;case Z.PTT:return A.default.MEDIA_TYPE.PTT;case Z.DOCUMENT:return A.default.MEDIA_TYPE.DOCUMENT;case Z.UNKNOWN:return A.default.MEDIA_TYPE.FUTURE;case Z.LOCATION:return this.isLive?A.default.MEDIA_TYPE.LIVE_LOCATION:A.default.MEDIA_TYPE.LOCATION;case Z.VCARD:return A.default.MEDIA_TYPE.CONTACT;case Z.MULTI_VCARD:return A.default.MEDIA_TYPE.CONTACT_ARRAY;case Z.CHAT:return this.linkPreview?A.default.MEDIA_TYPE.URL:A.default.MEDIA_TYPE.NONE;case Z.STICKER:return A.default.MEDIA_TYPE.STICKER;case Z.PRODUCT:return A.default.MEDIA_TYPE.PRODUCT_IMAGE;case Z.LIST:return A.default.MEDIA_TYPE.LIST;case Z.LIST_RESPONSE:return A.default.MEDIA_TYPE.LIST_REPLY;default:return A.default.MEDIA_TYPE.NONE}}showForwarded(){return this.numTimesForwarded>0&&!this.asRevoked}getForwardingScoreWhenForwarded(){if(!G.default.frequentlyForwardedMessages)return this.numTimesForwarded;var e=this.numTimesForwarded+(this.id.fromMe?0:1);return e>=G.default.frequentlyForwardedThreshold?b.default.FREQUENTLY_FORWARDED_SENTINEL:e}getProductInfoText(){var{title:e,description:t,currencyCode:a,priceAmount1000:i}=this;e="*".concat(e,"*");var r,s=a&&null!=i?_.format(a,i):null;return e=e.length>b.default.MAX_REPLY_PRODUCT_TITLE_LENGTH?"".concat((0,F.firstNCodepoints)(e,b.default.MAX_REPLY_PRODUCT_TITLE_LENGTH),"..."):e,t=t&&t.length>b.default.MAX_REPLY_PRODUCT_DESC_LENGTH?"".concat((0,F.firstNCodepoints)(t,b.default.MAX_REPLY_PRODUCT_DESC_LENGTH),"..."):t,s?r=s:t&&(r=t),r?"".concat(e,"\n").concat(r):e}updateEphemeralStartTimestamp(e){return(0,B.updateLocal)(this.id,{ephemeralStartTimestamp:e}).then(()=>{this.ephemeralStartTimestamp=e})}isExpired(){return null!=this.ephemeralExpirationTimestamp&&this.ephemeralExpirationTimestamp<=p.default.globalUnixTime()}_logStorageEstimate(e){return(0,y.default)().then(t=>{t&&(e.webcBrowserStorageQuotaBytes=t.quota,e.webcBrowserStorageQuotaUsedBytes=t.usage)})}getCollection(){return a("biecbbiiee").default}_getChatCollection(){return a("dbdfbgehgj").default}isDownloadable(){var e;return!this.asRevoked&&(!this.isViewOnce&&(this.type===b.default.MSG_TYPE.VCARD||this.type===b.default.MSG_TYPE.MULTI_VCARD||!!(null===(e=this.mediaData)||void 0===e?void 0:e.isDownloadable())&&this.type!==b.default.MSG_TYPE.STICKER))}safe(){return this}unsafe(){return this}}$.Proxy="msg",$.idClass=w.default;var ee=(0,u.defineModel)($),te=ee;t.default=te},cbcdhhcfcd:function(e,t){e.exports={viewport:"_3soxC",verticalListViewport:"_2aY82",horizontalListViewport:"_1bE8G"}},cbcgjbjcdc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,s.default)("overlay",u.default.mediaViewer),a=()=>o.default.closeModalMedia();return n.createElement("div",null,n.createElement("div",{className:t,"data-animate-media-viewer":!0},n.createElement("div",{className:c.default.mediaPanelHeader},n.createElement("div",{className:c.default.info}),n.createElement("div",{className:c.default.mediaPanelTools},n.createElement(f.MenuBar,{key:"media-panel-header",theme:"strong"},n.createElement(f.MenuBarItem,{a8nText:"btn-close",icon:n.createElement(h.default,{name:"x-viewer"}),title:d.default.t(1507),onClick:a})))),n.createElement("div",{className:u.default.mediaContent,dir:"ltr",onClick:a},n.createElement("div",{className:u.default.media},n.createElement(l.default,{error:e.error})))))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bdjjabfecc")),l=r(a("ecffbdieca")),c=r(a("bjcfcebada")),u=r(a("cahecebagf")),f=a("cadfgefaja"),h=r(a("dgdcjccfdi"))},cbcjbjhaib:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setBridge=function(e){s=e},t.getBridge=function(){return(0,r.default)(s,"_bridge")};var r=i(a("cahfddcdga")),s=null},cbcjhabjci:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){var t;s.default.supportsFeature(s.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("getAbout: invalid when build with MD_BACKEND"))):t=n.default.statusFind(e).then(t=>({id:e,status:null!=t.status?t.status:""})).catchType(r.WebdDrop,()=>({id:e,stale:!0,status:""}));return t},t.setMyStatus=function(e){var t;s.default.supportsFeature(s.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("setStatus: invalid when build with MD_BACKEND"))):t=n.default.sendSetStatus(e);return t};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},cbdcjfiefg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t,a=new s.default,i=(0,d.default)([n.default,a,l.default]);return t=e=class extends i{},e.EmojiSuggestions=(0,c.default)(o.default,{plugin:a}),t};var s=r(a("cfgafiffdb")),n=r(a("dfdhhbaich")),o=r(a("dbbhijehii")),d=i(a("igieaiddf")),l=r(a("ifdgihhgf")),c=r(a("dajheaeehj"))},cbddggghff:function(e,t){e.exports={mediaCanvas:"rvMOn",canvasBody:"_29aGz",list:"_1d9p3",listWrapper:"_3YmhK",canvasComponent:"_21AuG",canvasComponentLarge:"_3Lg5S",canvasSecondRow:"_1J2N6",viewerFlow:"_2thMj",active:"_3sOBc",placeholder:"_3jCUI",gradient:"_1ESlW"}},cbdjghedc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bbgcbbdeja")),d=a("cbhhehcjbb"),l=({title:e,icon:t,onClick:a,children:i})=>{var r=(0,s.default)(o.default.itemBody,{[o.default.row]:t}),l=(0,s.default)({[o.default.main]:t}),c=(0,s.default)({[o.default.side]:t});return n.createElement("div",{className:o.default.item,onClick:a,role:a?"button":""},n.createElement("div",{className:r},n.createElement("div",{className:l,dir:"auto"},n.createElement(d.SelectableDiv,{className:o.default.primary,selectable:!0},e),n.createElement("div",{className:o.default.secondary},i)),n.createElement("div",{className:c},t)))};t.default=l},cbeabehaca:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("jdjcgjgea")),n=i(a("cahfddcdga")),o=i(a("jccfhaecf"));function d(){var e=(0,r.default)(["Store:Contact can't call slice on contact.userhash"]);return d=function(){return e},e}class l{constructor(){this._map={},this.length=0}static getSidelistHash(e){return e.isUser?"string"==typeof e.userhash&&e.userhash.slice?e.userhash.slice(0,4):(__LOG__(3)(d()),null):null}put(e){var t=l.getSidelistHash(e);if(t&&!this._map[t]){if(this._map[t]){var a=this._map[t];a instanceof o.default?this._map[t]=[a,e.id]:a instanceof Array&&a.push(e.id)}else this._map[t]=e.id;this.length++}}remove(e){var t=l.getSidelistHash(e);if(t&&this._map[t]){var a=(0,n.default)(this._map[t],"this._map[hash]");a instanceof o.default?delete this._map[t]:a instanceof Array&&(0,s.default)(a,t=>t.equals(e.id)),this.length++}}get(e){var t=this._map[e];return t instanceof o.default?[t]:t}clear(){this._map={},this.length=0}}t.default=l},cbeafbecei:function(e,t){e.exports={hover:"_3pUIZ",quotedMsg:"rbF4e",msg:"rctpC",colorBar:"zSEzI",msgBody:"_2SCf6",composeBoxQuotedMsg:"_2o1V9"}},cbeagicbc:function(e,t){e.exports={clickable:"_2TFjK"}},cbecjajacd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setFrequent=function(e){var t={};Object.keys(e).forEach(a=>{t[a]=e[a].map(e=>e.toString())}),r.default.supportsFeature(r.default.F.MD_BACKEND)&&(0,s.setFrequentContacts)(t);return Promise.resolve()};var r=i(a("bhbdiadfhj")),s=a("echdbcgfij")},cbedjffdai:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new class{init(){}get(){return{textsize:0}}set(){}};t.default=i},cbefaccbce:function(e,t){e.exports={container:"_1IUco",list:"_1wnhj",section:"_2_5_D",action:"nopAp",shortcut:"zh8F8",key:"HAR-5"}},cbehejfaji:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("eiighchhi")),l=i(a("bdjjabfecc"));class c extends s.Component{constructor(...e){super(...e),this.onDownload=()=>{n.default.closeModal(),d.default.initDownload(this.props.msg)}}render(){return s.createElement(o.default,{onCancel:()=>n.default.closeModal(),onOK:this.onDownload,okText:l.default.t(1493),cancelText:l.default.t(1497),title:l.default.t(527)},l.default.t(526))}}t.default=c},cbehgfbgb:function(e,t){e.exports={container:"_2rkPA",thumb:"F7ErY",amount:"PWoPS",amountCurrency:"_1Q4VP",amountInteger:"uLJUy",amountDecimal:"qRY0e",isQuoted:"sk1jK",isQuotedInComposeBox:"_35rMY"}},cbgdhcfbei:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("daigbafceb")),d=r(a("cifgdghbhg")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=r(a("hhcjfgifh")),f=a("cgbdcdhgig"),h=r(a("dcjigehfeb")),p=r(a("ebibaajhjh")),g=r(a("bdcchebfge")),m=r(a("bgfajhfjhf")),b=i(a("chcgcbaffe")),v=r(a("dcdbbhicce")),_=r(a("dgdcjccfdi"));class E extends n.PureComponent{constructor(e){super(e),this._refPTTPlayer=n.createRef(),this.showMediaMissing=()=>{l.default.openModal(n.createElement(p.default,{msg:this.props.msg.unsafe()}))},this.downloadMedia=()=>{this.props.msg.downloadMedia(!1,g.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},this._forceDownloadMedia=()=>{this.props.msg.downloadMedia(!0,g.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},this.cancelDownload=()=>{this.props.msg.cancelDownload()},this.cancelUpload=()=>{this.props.msg.cancelUpload()},this.resumeUpload=()=>{this.props.msg.resumeUpload()},this.resumeRemoteUpload=()=>{this.props.msg.resumeRemoteUpload()},this.handleTimeUpdate=e=>{this.setState({currentTime:e})},this.handlePlayingUpdate=e=>{var{msg:t}=this.props;e&&(0,f.canMarkPlayed)(t.unsafe())&&(0,f.markPlayed)(t.unsafe()),this.setState({autoPlay:!1,playing:e})},this.state={currentTime:0,playing:!1,autoPlay:!1}}componentDidMount(){this.downloadMedia()}handleKeyActivation(){var e;null===(e=this._refPTTPlayer.current)||void 0===e||e.handleKeyActivation()}render(){var e,{msg:t,mediaData:a}=this.props,i=t.ack===c.default.ACK.PLAYED,r=i?m.default.blue:t.isSentByMe?m.default.gray:m.default.green,l=t.isSentByMe?m.default.out:m.default.in,f=n.createElement("div",{className:(0,s.default)(m.default.icon,r,l),key:"status"},n.createElement(_.default,{name:"ptt-status"})),p=this.state.playing?this.state.currentTime:a.duration;switch(a.mediaStage){case h.default.STAGE.RESOLVED:e=n.createElement(b.default,{ref:this._refPTTPlayer,mediaData:this.props.mediaData,downloadMedia:this.downloadMedia,autoPlay:this.state.autoPlay,duration:p,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:t.isSentByMe,playing:this.state.playing,played:i,displayType:this.props.displayType,getSequentialMsg:this.props.getSequentialMsg,currMsgId:t.id});break;case h.default.STAGE.NEED_POKE:e=n.createElement(b.AudioPlayerFrame,{icon:n.createElement(_.default,{name:"audio-download"}),outgoingMsg:t.isSentByMe,action:this._forceDownloadMedia});break;case h.default.STAGE.NEED_UPLOAD:e=n.createElement(b.AudioPlayerFrame,{icon:n.createElement(_.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeUpload});break;case h.default.STAGE.REMOTE_NEED_UPLOAD:e=n.createElement(b.AudioPlayerFrame,{icon:n.createElement(_.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeRemoteUpload});break;case h.default.STAGE.ERROR_MISSING:e=n.createElement(b.AudioPlayerFrame,{icon:n.createElement(_.default,{name:"audio-play",directional:!0}),outgoingMsg:t.isSentByMe,action:this.showMediaMissing});break;case h.default.STAGE.UPLOADING:case h.default.STAGE.SENDING:var g=a.mediaStage===h.default.STAGE.UPLOADING;e=n.createElement(b.AudioPlayerFrame,{action:g?this.cancelUpload:void 0,canCancel:g,fileSize:a.size,outgoingMsg:t.isSentByMe,spinner:!0});break;default:e=n.createElement(b.AudioPlayerFrame,{spinner:!0,outgoingMsg:t.isSentByMe})}var v=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?n.createElement(d.default,{msg:t.unsafe(),contact:t.senderObj}):null,E=n.createElement(u.default,{id:t.senderObj.id,size:55});return n.createElement(o.default,{msg:t,quotedMsg:this.props.quotedMsg,author:v,status:f,player:e,avatar:E,displayType:this.props.displayType})}}E.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj","id"],mediaData:["duration","type","mediaStage","renderableUrl","size"]};var j=(0,v.default)(E,E.CONCERNS);t.default=j},cbgifejihh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceSentMessage=function(e,t){return{deviceSentMessage:{destinationJid:t.toString({legacy:!0}),message:e}}},t.createViewOnceFutureProofMessage=h,t.createEphemeralFutureProofMessage=p,t.createMsgProtobuf=function(e,t){var a,i=function(e){var t=e.id,a=e.toJSON();delete a.status,delete a.mimetype,delete a.height,delete a.width,delete a.recipients,delete a.chat,delete a.broadcast,delete a.ack,delete a.invis,delete a.filehash,delete a.recvFresh,delete a.mediaData,c.default.isHttp(e.clientUrl)||delete a.clientUrl;for(var i in a)null==a[i]&&delete a[i];"chat"!==a.type||"url"!==a.subtype||d.default.supportsFeature(d.default.F.URL)||delete a.subtype;a.quotedMsg&&!d.default.supportsFeature(d.default.F.REPLIES_OUT)&&(delete a.quotedMsg,delete a.quotedStanzaID,delete a.quotedRemoteJid,delete a.quotedParticipant);a.mentionedJidList&&!d.default.supportsFeature(d.default.F.MENTIONS_OUT)&&delete a.mentionedJidList;var r=n.default.get(t.remote);r&&(a.conversionTuple=r.serialize());return a}(e);if(i.quotedMsg){var r=i.quotedMsg.mentionedJidList,s=Array.isArray(r)&&r.length>0?{mentionedJid:r.map(m)}:void 0;a={stanzaId:i.quotedStanzaID,remoteJid:m(i.quotedRemoteJid),participant:m(i.quotedParticipant),quotedMessage:g(i.quotedMsg,{duration:i.quotedMsg.duration,directPath:i.quotedMsg.directPath,encFilehash:i.quotedMsg.uploadhash,filehash:i.quotedMsg.filehash,height:i.quotedMsg.height,mediaKey:i.quotedMsg.mediaKey,mediaKeyTimestamp:(0,l.isNumber)(i.quotedMsg.mediaKeyTimestamp)?i.quotedMsg.mediaKeyTimestamp:void 0,mimetype:i.quotedMsg.mimetype,url:i.quotedMsg.clientUrl,width:i.quotedMsg.width},s)}}else i.quotedRemoteJid&&(a={remoteJid:m(i.quotedRemoteJid)});if(i.mentionedJidList&&i.mentionedJidList.length>0){var o=i.mentionedJidList;(a=a||{}).mentionedJid=o.map(m)}i.conversionTuple&&(a=a||{},Object.assign(a,i.conversionTuple));i.isForwarded&&((a=a||{}).isForwarded=i.isForwarded);i.forwardingScore&&((a=a||{}).forwardingScore=i.forwardingScore);i.ephemeralDuration&&((a=a||{}).expiration=i.ephemeralDuration);i.ephemeralSettingTimestamp&&((a=a||{}).ephemeralSettingTimestamp=i.ephemeralSettingTimestamp);i.ctwaContext&&((a=a||{}).externalAdReply={sourceUrl:i.ctwaContext.sourceUrl,body:i.ctwaContext.description,title:i.ctwaContext.title,thumbnailUrl:i.ctwaContext.thumbnailUrl,thumbnail:i.ctwaContext.thumbnail?b(i.ctwaContext.thumbnail):void 0,mediaType:i.ctwaContext.mediaType,mediaUrl:i.ctwaContext.mediaUrl});return g(i,t,a)},t.createMessageKey=function(e){return{remoteJid:m(e.to),fromMe:!0,id:e.id.id}};var r=i(a("dfadhaifh")),s=a("dibgccbbif"),n=i(a("ccbihadedf")),o=a("cabeijgaif"),d=i(a("bhbdiadfhj")),l=a("hjbbdjjdf"),c=i(a("edbaidcaf")),u=i(a("jccfhaecf"));function f(){var e=(0,r.default)(["invalid sticker mimetype: ",""]);return f=function(){return e},e}function h(e){return{viewOnceMessage:{message:e}}}function p(e){return{ephemeralMessage:{message:e}}}function g(e,t={},a,i){var r=i||{},s=e.mimetype||t.mimetype||void 0,n=t.duration;switch(e.type){case"chat":"url"===e.subtype||e.quotedMsg||e.quotedRemoteJid||Array.isArray(e.mentionedJidList)&&e.mentionedJidList.length>0||e.conversionTuple||e.isForwarded||e.forwardingScore||e._isPaymentNoteMsg||e.ephemeralDuration||e.ephemeralSettingTimestamp||e.ctwaContext?r.extendedTextMessage={text:e.body,matchedText:e.matchedText,canonicalUrl:e.canonicalUrl,description:e.description,title:e.title,jpegThumbnail:b(e.thumbnail),previewType:e.richPreviewType,contextInfo:a}:r.conversation=e.body;break;case"groups_v4_invite":r.groupInviteMessage={inviteCode:e.inviteCode,inviteExpiration:parseInt(e.inviteCodeExp,10),groupJid:e.inviteGrp,groupName:e.inviteGrpName,caption:e.comment,jpegThumbnail:b(e.inviteGrpJpegThum)};break;case"sticker":if("image/webp"!==t.mimetype)throw __LOG__(3)(f(),t.mimetype),new Error("invalid sticker mimetype");r.stickerMessage={url:t.url,mimetype:t.mimetype,directPath:t.directPath||void 0,fileSha256:b(t.filehash),fileEncSha256:b(t.encFilehash),mediaKey:b(t.mediaKey),mediaKeyTimestamp:(0,l.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,fileLength:(0,l.isNumber)(e.size)?e.size:void 0,height:e.height,width:e.width,firstFrameLength:t.firstFrameLength||void 0,firstFrameSidecar:e.firstFrameSidecar||void 0,isAnimated:t.isAnimated,contextInfo:a};break;case"location":var d={degreesLatitude:parseFloat(e.lat)||void 0,degreesLongitude:parseFloat(e.lng)||void 0,jpegThumbnail:b(e.body),contextInfo:a};if(e.loc&&(0,l.isString)(e.loc)){var c=e.loc.split("\n");d.name=c[0],d.address=c[1],d.url=e.clientUrl}r.locationMessage=d;break;case"vcard":r.contactMessage={displayName:e.vcardFormattedName,vcard:e.body,contextInfo:a};break;case"multi_vcard":r.contactsArrayMessage={displayName:e.subtype,contacts:e.vcardList.map(e=>e),contextInfo:a};break;case"image":r.imageMessage={url:t.url,mimetype:s,caption:e.caption,directPath:t.directPath||void 0,fileSha256:b(t.filehash),fileEncSha256:b(t.encFilehash),height:t.height,width:t.width,fileLength:(0,l.isNumber)(e.size)?e.size:void 0,mediaKey:b(t.mediaKey),mediaKeyTimestamp:(0,l.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:b(e.body),contextInfo:a,viewOnce:e.isViewOnce};break;case"product":r.productMessage={product:{productImage:{url:t.url,mimetype:s,caption:e.caption,directPath:t.directPath||void 0,fileSha256:b(t.filehash),fileEncSha256:b(t.encFilehash),height:t.height,width:t.width,fileLength:(0,l.isNumber)(e.size)?e.size:void 0,mediaKey:b(t.mediaKey),mediaKeyTimestamp:(0,l.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:b(e.body)},productId:e.productId,title:e.title,description:e.description,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000||void 0,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount},businessOwnerJid:e.businessOwnerJid,contextInfo:a};break;case"document":var u={url:t.url,mimetype:s,title:e.caption,directPath:t.directPath||void 0,fileSha256:b(t.filehash),fileEncSha256:b(t.encFilehash),fileName:t.filename,fileLength:(0,l.isNumber)(e.size)?e.size:void 0,mediaKey:b(t.mediaKey),mediaKeyTimestamp:(0,l.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:b(e.body),contextInfo:a,contactVcard:e.isVcardOverMmsDocument,thumbnailDirectPath:t.thumbnailDirectPath,thumbnailSha256:b(t.thumbnailSha256),thumbnailEncSha256:b(t.thumbnailEncSha256),thumbnailHeight:t.thumbnailHeight,thumbnailWidth:t.thumbnailWidth};(0,l.isNumber)(e.pageCount)&&!isNaN(e.pageCount)&&(u.pageCount=e.pageCount),r.documentMessage=u;break;case"ptt":case"audio":n=(0,l.isString)(n)?parseInt(n,10):n,r.audioMessage={url:t.url,mimetype:s,directPath:t.directPath||void 0,fileSha256:b(t.filehash),fileEncSha256:b(t.encFilehash),seconds:n,ptt:"ptt"===e.type,fileLength:(0,l.isNumber)(e.size)?e.size:void 0,mediaKey:b(t.mediaKey),mediaKeyTimestamp:(0,l.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,contextInfo:a,streamingSidecar:e.streamingSidecar};break;case"video":n=(0,l.isString)(n)?parseInt(n,10):n,r.videoMessage={url:t.url,mimetype:s,directPath:t.directPath||void 0,fileSha256:b(t.filehash),fileEncSha256:b(t.encFilehash),height:t.height,width:t.width,seconds:n,caption:e.caption,fileLength:(0,l.isNumber)(e.size)?e.size:void 0,mediaKey:b(t.mediaKey),mediaKeyTimestamp:(0,l.isNumber)(t.mediaKeyTimestamp)?t.mediaKeyTimestamp:void 0,jpegThumbnail:b(e.body),gifPlayback:e.isGif,gifAttribution:e.gifAttribution,contextInfo:a,streamingSidecar:e.streamingSidecar,viewOnce:e.isViewOnce};break;case"protocol":var v;switch(e.subtype){case"revoke":var _=e.protocolMessageKey;v={key:{remoteJid:m(_.remote),fromMe:_.fromMe,id:_.id,participant:m(_.participant)},type:o.ProtocolMessageType.REVOKE};break;case"ephemeral_setting":v={type:o.ProtocolMessageType.EPHEMERAL_SETTING,ephemeralExpiration:e.ephemeralDuration};break;case"ephemeral_sync_response":v={type:o.ProtocolMessageType.EPHEMERAL_SYNC_RESPONSE,ephemeralExpiration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp};break;case"app_state_sync_key_share":v={type:o.ProtocolMessageType.APP_STATE_SYNC_KEY_SHARE,appStateSyncKeyShare:e.appStateSyncKeyShare};break;case"app_state_sync_key_request":v={type:o.ProtocolMessageType.APP_STATE_SYNC_KEY_REQUEST,appStateSyncKeyRequest:e.appStateSyncKeyRequest}}v&&(r.protocolMessage=v);break;case"payment":var E={};E.stanzaId=e.quotedStanzaID,E.mentionedJid=e.mentionedJidList&&e.mentionedJidList.map(m),E.isForwarded=e.isForwarded,E.forwardingScore=e.forwardingScore,E.participant=m(e.quotedParticipant),e.quotedMsg&&(E.quotedMessage=g(e.quotedMsg));var j=e.paymentNoteMsg?g(Object.assign(e.paymentNoteMsg,{_isPaymentNoteMsg:!0}),E):void 0;switch(e.subtype){case"send":var y=e.paymentRequestMessageKey?{fromMe:e.paymentRequestMessageKey.fromMe,remoteJid:m(e.paymentRequestMessageKey.remote),id:e.paymentRequestMessageKey.id,participant:m(e.paymentRequestMessageKey.participant)}:void 0;r.sendPaymentMessage={requestMessageKey:y,noteMessage:j};break;case"request":r.requestPaymentMessage={amount1000:e.amount1000,expiryTimestamp:e._paymentExpiryTimestamp,requestFrom:e._paymentRequestFrom,currencyCodeIso4217:e._currencyCodeIso4217,noteMessage:j}}break;case"template_button_reply":r.templateButtonReplyMessage={selectedId:e.selectedId,selectedIndex:e.selectedIndex,selectedDisplayText:e.body,contextInfo:a};break;case"template":return"text"===e.subtype?(e.type="chat",e.title&&(e.body="*"+e.title+"*\n"+e.body)):e.type=e.subtype,g(e,t,a,r);case"list":r.listMessage=e.list;break;case"list_response":r.listResponseMessage=e.listResponse,r.listResponseMessage.contextInfo=a;break;case"order":e.itemCount||e.message||e.orderId||e.orderTitle||e.sellerJid||e.status||e.surface||e.thumbnail||e.token?r.orderMessage={itemCount:e.itemCount,message:e.message,orderId:e.orderId,orderTitle:e.orderTitle,sellerJid:e.sellerJid,status:e.status,surface:e.surface,thumbnail:b(e.thumbnail),token:e.token}:r.conversation=e.body}return e.isViewOnce?h(r):e.ephemeralDuration||"protocol"===e.type&&("ephemeral_setting"===e.subtype||"ephemeral_sync_response"===e.subtype)?p(r):r}function m(e){return e instanceof u.default?e.toString({legacy:!0}):(0,l.isString)(e)?e.replace(/@c.us$/,"@s.whatsapp.net"):void 0}function b(e){return e?(0,s.decodeB64)(e):void 0}},cbhbjajgac:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgjbjefebj")),n=r(a("bebajedcaf")),o=i(a("ddhijeejag")),d=r(a("cefgfgdhj")),l=r(a("cfegbbcefd")),c=r(a("gjhhbhigc"));class u extends c.default{static match(e,t){if(!t)return[];var{mentions:a}=t;if(!a||(0,n.default)(a))return[];for(var i,r,o=(i=a,r=Object.keys(i).map(s.default).join("|"),new RegExp("(".concat(r,")"),"g")),l=(0,d.default)(e,o),c=0;c<l.length;++c)l[c][4]=a[l[c][4][0]];return l}static jsx(e,t,{selectable:a}){return o.createElement(l.default,{contact:t,selectable:a})}}t.default=u,u.format=!1},cbhdbefddd:function(e,t){e.exports={drawer:"_2BQrC",white:"_19uQ5",drawerGallery:"_16K5B",drawerCapture:"_3g0m8",drawerEdit:"_2V3qe",drawerMedia:"QWTBH",drawerCatalog:"_1kIIu",striped:"_1AfeU",belowHeader:"wx4c2"}},cbhdjecbdf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var s=r(a("cdfdfciehj")),n=r(a("eaaagccfda")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("cgahdjdehg")),c=a("ihfehgab"),u=r(a("djaiggcdb")),f=r(a("dbfiijcdie")),h=r(a("cjbjcbajdj")),p=r(a("bdjjabfecc")),g=r(a("ebddggeaib")),m=r(a("dcjigehfeb")),b=r(a("cfccehgdic")),v=i(a("cfbhddjcif")),_=r(a("ihcaebjej")),E=i(a("deehhjcifg")),j=r(a("cjfibjfdc")),y=r(a("cefaajbdjj")),S=r(a("bcifacbch")),C=r(a("dgdcjccfdi")),M=r(a("bcjcbbafcj")),T=r(a("ecgbgejhaj")),P=r(a("didfdhbecg")),O=r(a("bjficacaec"));t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;class N extends d.Component{constructor(e){super(e),this.resetMouseMoveRecently=(0,n.default)(()=>{this.setState({mouseMoveRecently:!1})},3e3),this.buffered=[],this.setRefVideo=e=>{this.refVideo=e},this.setRefContainer=e=>{this.refContainer=e,this.refContainer},this.handleLoadedMetadata=(e,t)=>{var a=null!=this.props.startTime?this.props.startTime:0;this.setState({videoMetadata:{duration:e.duration,currentTime:a,volume:e.volume,muted:e.muted,bufferedTime:0}}),this.props.onAspectRatio&&e.videoWidth&&e.videoHeight&&this.props.onAspectRatio(e.videoWidth/e.videoHeight),this.props.onLoadedMetadata&&this.props.onLoadedMetadata(t)},this.handleTimeUpdate=e=>{var t=null,a=this.state.videoMetadata;if(a){var i=this.getRelevantBufferedTime(this.buffered,e);t=(0,s.default)((0,s.default)({},a),{},{currentTime:e,bufferedTime:i})}this.setState({videoMetadata:t})},this.handleVolumeChange=e=>{var t=null;this.state.videoMetadata&&(t=(0,s.default)((0,s.default)({},this.state.videoMetadata),{},{volume:e.volume,muted:e.muted})),this.setState({videoMetadata:t})},this.handleEnded=()=>{this.props.onVideoEnded&&this.props.onVideoEnded(),this.setState({isVideoPlaying:!1})},this.handleError=e=>{20!==e?(this.setState({isVideoError:!0}),this.props.onError&&this.props.onError()):this.setState({isVideoPlaying:!1})},this.handlePause=()=>{this.setState({isVideoPlaying:!1})},this.handlePlaying=()=>{this.setState({isVideoPlaying:!0})},this.handleProgress=e=>{this.buffered=e;var t=this.state.videoMetadata;if(t){var a=t.currentTime,i=this.getRelevantBufferedTime(e,a),r=(0,s.default)((0,s.default)({},t),{},{bufferedTime:i});this.setState({videoMetadata:r})}},this.handleEnterFullscreen=e=>{e.stopPropagation(),f.default.requestFullscreen(this.refContainer)},this.handleExitFullscreen=e=>{e.stopPropagation(),f.default.exitFullscreen()},this.handleFullscreenToggleButtonClick=e=>{this.state.isFullscreenMode?this.handleExitFullscreen(e):this.handleEnterFullscreen(e)},this.state={videoMetadata:null,isVideoPlaying:!1,isVideoError:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:f.default.isFullscreenMode}}componentDidMount(){this.props.listeners.add(f.default,"fullscreen_change",()=>{f.default.isFullscreenMode&&f.default.fullscreenElement===this.refContainer?this.setState({isFullscreenMode:!0},()=>{var e,t;null===(e=(t=this.props).onFullscreenToggle)||void 0===e||e.call(t,this.state.isFullscreenMode)}):f.default.isFullscreenMode||this.setState({isFullscreenMode:!1},()=>{var e,t;null===(e=(t=this.props).onFullscreenToggle)||void 0===e||e.call(t,this.state.isFullscreenMode)})})}componentWillUnmount(){this.resetMouseMoveRecently.cancel()}getCurrentTimeFromVideo(){return this.refVideo?this.refVideo.getCurrentTime():0}getVolumeFromVideo(){return this.refVideo?this.refVideo.getVolume():0}getMutedFromVideo(){return!!this.refVideo&&this.refVideo.getMuted()}getRelevantBufferedTime(e,t){for(var a=0,i=0;i<e.length;i++)if(t>=e[i][0]&&t<e[i][1]){a=e[i][1];break}return a}renderMedia(){switch(this.props.type){case c.PLAYER_TYPE.FLOATER:case c.PLAYER_TYPE.MEDIA_VIEWER:return this.renderMsgMedia();case c.PLAYER_TYPE.OG_FLOATER:return this.renderOgMedia()}return null}renderOgMedia(){var e=this.props.ogVideoInfo;if(!e)return null;var t={backgroundImage:"url(".concat(e.previewUrl,")")};return d.createElement(d.Fragment,null,this.state.isFullscreenMode?null:d.createElement("div",{className:S.default.preview,style:t}),""!==e.videoUrl?d.createElement(T.default,{ref:this.setRefVideo,key:"floating-media",url:e.videoUrl,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},p.default.t(1383)):null)}renderMsgMedia(){var e=this.props.msgVideoInfo;if(!e)return null;var{preview:t}=e.mediaData;if(this.isMediaRenderable()){var a=t?{backgroundImage:"url(".concat(t.url(),")")}:void 0;return d.createElement(d.Fragment,null,this.state.isFullscreenMode||this.props.type!==c.PLAYER_TYPE.FLOATER?null:d.createElement("div",{className:S.default.preview,style:a}),d.createElement(_.default,{ref:this.setRefVideo,key:"floating-media",msg:e.msg,mediaData:e.mediaData,className:S.default.videoTag,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},p.default.t(1383)))}return t?d.createElement("img",{key:"floating-media",src:t.url(),draggable:"false"}):null}isMediaRenderable(){switch(this.props.type){case c.PLAYER_TYPE.FLOATER:case c.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;if(!e)return!1;var t=e.mediaData;return t.mediaStage===m.default.STAGE.RESOLVED||t.streamable&&t.isStreamable();case c.PLAYER_TYPE.OG_FLOATER:return!0}return!0}renderMediaStage(){switch(this.props.type){case c.PLAYER_TYPE.FLOATER:case c.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;return e?d.createElement("div",{className:S.default.mediaStageWrapper},d.createElement(b.default,{msg:e.msg,mediaData:e.mediaData})):null;case c.PLAYER_TYPE.OG_FLOATER:var t=this.props.ogVideoInfo;return t&&""===t.videoUrl?d.createElement("div",{className:S.default.mediaStageWrapper},d.createElement(v.Pending,null)):null}return null}renderVideoControls(){var e,t;if(!this.isMediaRenderable())return null;var a=this.state.videoMetadata;return a?d.createElement(O.default,{refVideo:this.refVideo,videoMetadata:a,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying,ctwaSourceUrl:null===(e=this.props.ogVideoInfo)||void 0===e||null===(t=e.videoMsg.ctwaContext)||void 0===t?void 0:t.sourceUrl}):null}renderErrorMessage(){return d.createElement(j.default,null,p.default.t(1088),this.renderErrorMessageLink())}renderErrorMessageLink(){var e,t;if(this.props.type!==c.PLAYER_TYPE.OG_FLOATER)return null;if(!this.props.ogVideoInfo)return null;var a=null!==(e=null===(t=this.props.ogVideoInfo.videoMsg.ctwaContext)||void 0===t?void 0:t.sourceUrl)&&void 0!==e?e:this.props.ogVideoInfo.videoMsg.matchedText;return d.createElement(u.default,{className:S.default.errorLink,href:a},d.createElement("span",null,p.default.t(1089)),d.createElement(C.default,{directional:!0,display:"inline",name:"chevron-right-text",className:S.default.errorLinkChevron}))}render(){var e,t,a,i=this.isMediaRenderable();i&&(t=d.createElement(h.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}));var r,s=d.createElement(l.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:e=>{e.stopPropagation(),this.props.onClose()}});switch(this.props.type){case c.PLAYER_TYPE.OG_FLOATER:case c.PLAYER_TYPE.FLOATER:e=d.createElement(d.Fragment,null,M.default.isSafari?null:t,s);break;case c.PLAYER_TYPE.MEDIA_VIEWER:var n;n=this.state.isFullscreenMode?s:i?d.createElement(E.default,{onClick:e=>{e.stopPropagation(),this.props.onClose&&this.props.onClose(),this.props.onOpenVideoFloater&&this.props.onOpenVideoFloater()},theme:E.PIP_BUTTON_THEME.PLAYER}):null,e=d.createElement(d.Fragment,null,t,n),a=e=>{e.stopPropagation(),this.refVideo&&(this.state.isVideoPlaying?this.refVideo.pause():this.refVideo.play())}}r=this.state.isFullscreenMode?d.createElement(d.Fragment,null,d.createElement(y.default,{theme:"upper"}),d.createElement(y.default,{theme:"lower"})):this.props.type===c.PLAYER_TYPE.MEDIA_VIEWER?d.createElement(y.default,{theme:"full-sharp"}):d.createElement(y.default,{theme:"full-rounded"});var u=this.state.isVideoError?this.renderErrorMessage():null;return d.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,o.default)(S.default.container,{[S.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:()=>{this.setState({isMouseOver:!0})},onMouseLeave:()=>{this.setState({isMouseOver:!1})},onMouseDown:e=>{this.state.isFullscreenMode&&e.stopPropagation()},onMouseMove:()=>{this.state.isMouseOver||this.setState({isMouseOver:!0}),this.state.mouseMoveRecently||this.setState({mouseMoveRecently:!0}),this.resetMouseMoveRecently()},onClick:a},d.createElement("div",{className:S.default.videoFloaterMedia},this.renderMedia()),this.renderMediaStage(),u,this.props.overlays,d.createElement(P.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently?d.createElement(d.Fragment,null,r,this.renderVideoControls(),e):null))}}var I=(0,g.default)(N);t.default=class extends I{constructor(...e){super(...e),this.getCurrentTimeFromVideo=()=>this.getComponent().getCurrentTimeFromVideo()}}},cbhefjadgb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.formatLocalSymbol)(e.currency),a=f;if(null!=e.paymentStatus)switch(e.paymentStatus){case c.PaymentInfoStatus.COMPLETE:a=p;break;case c.PaymentInfoStatus.CANCELLED:case c.PaymentInfoStatus.COULD_NOT_COMPLETE:case c.PaymentInfoStatus.REFUNDED:case c.PaymentInfoStatus.EXPIRED:case c.PaymentInfoStatus.REJECTED:a=u;break;case c.PaymentInfoStatus.SENT:case c.PaymentInfoStatus.NEED_TO_ACCEPT:case c.PaymentInfoStatus.WAITING_FOR_PAYER:case c.PaymentInfoStatus.WAITING:a=h;break;case c.PaymentInfoStatus.PROCESSING:case c.PaymentInfoStatus.UNKNOWN_STATUS:a=f}var i="send"===e.subtype||null==e.paymentStatus||e.paymentStatus===c.PaymentInfoStatus.UNKNOWN_STATUS||e.paymentStatus===c.PaymentInfoStatus.PROCESSING?n.createElement(l.default,{name:"payment-send"}):n.createElement(l.default,{name:"payment-request"});return n.createElement("div",{className:(0,s.default)(d.default.icon,d.default[a],{[d.default.compact]:e.isCompact})},n.createElement("div",{className:(0,s.default)(d.default.iconSymbol,d.default[e.currency])},t),i)};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("bjgiedaj"),d=r(a("behchjjbbf")),l=r(a("dgdcjccfdi")),c=a("bbjghgfabf"),u="failed",f="processing",h="waiting",p="success"},cbjcbacfdh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ENC_RETRY_RECEIPT_ATTRS=t.TYPE_NAME=t.TYPE_STR=t.TYPE=void 0;t.TYPE={NONE:0,OFFER:1,OFFER_RECEIPT:2,ACCEPT:3,REJECT:4,TERMINATE:5,TRANSPORT:6,OFFER_ACK:7,OFFER_NACK:8,RELAY_LATENCY:9,RELAY_ELECTION:10,INTERRUPTION:11,MUTE:12,PREACCEPT:13,ACCEPT_RECEIPT:14,VIDEO_STATE:15,NOTIFY:16,GROUP_INFO:17,ENC_REKEY:18,PEER_STATE:19,VIDEO_STATE_ACK:20,FLOW_CONTROL:21,WEB_CLIENT:22,ACCEPT_ACK:23,GROUP_UPDATE:24,MAX:25};t.TYPE_STR={OFFER:"offer",ACCEPT:"accept",ENC_REKEY:"enc_rekey",REJECT:"reject",RECEIPT:"receipt"};t.TYPE_NAME=["NONE","OFFER","OFFER_RECEIPT","ACCEPT","REJECT","TERMINATE","TRANSPORT","OFFER_ACK","OFFER_NACK","RELAY_LATENCY","RELAY_ELECTION","INTERRUPTION","MUTE","PREACCEPT","ACCEPT_RECEIPT","VIDEO_STATE","NOTIFY","GROUP_INFO","ENC_REKEY","PEER_STATE","VIDEO_STATE_ACK","FLOW_CONTROL","WEB_CLIENT","ACCEPT_ACK","GROUP_UPDATE","MAX"];t.ENC_RETRY_RECEIPT_ATTRS={SINGLE_PARTICIPANT:"enc",GROUP_CALL:"enc_rekey_retry"}},cbjdbjecfg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgebcfedgb")),o=i(a("bdjjabfecc")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{render(){var{mute:e,disabled:t}=this.props,a=this.props.onMute.bind(null,!e.isMuted),i=e.isMuted?o.default.t(1631):o.default.t(1630);return s.createElement(n.default,{action:a,a8n:"mi-mute",disabled:t},i)}}l.CONCERNS={mute:["isMuted"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},cbjebbghea:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("effbcehec")),o=i(a("daghjjjedc")),d=i(a("bbfjdcedab")),l=i(a("bdjjabfecc")),c=i(a("fijchafde")),u=a("dhhjhedjij");class f extends s.Component{constructor(...e){super(...e),this.state={additionalActions:!0},this.onToggleAdditionalActions=()=>{this.setState({additionalActions:!this.state.additionalActions})},this.onReport=()=>{this.state.additionalActions?this.props.isGroupChat?this.props.onReportExitClear():this.props.onReportBlockClear():this.props.onReport()}}render(){var e,t,a;return this.props.isGroupChat?(e=l.default.t(1154),t=l.default.t(1153),a=l.default.t(1164)):this.props.isBusiness?(e=l.default.t(1148),t=l.default.t(1147),a=l.default.t(1166)):(e=l.default.t(1151),t=l.default.t(1150),a=l.default.t(1165)),s.createElement(d.default,{onOK:this.onReport,okText:l.default.t(1144),onCancel:this.props.onCancel},e,s.createElement(u.TextDiv,{className:c.default.metaText,theme:"muted"},a),s.createElement("div",{className:c.default.section,onClick:this.onToggleAdditionalActions},s.createElement("div",{"data-a8n":n.default.key("menu-icon-report-spam"),className:c.default.control},s.createElement(o.default,{onChange:this.onToggleAdditionalActions,checked:this.state.additionalActions})),s.createElement("div",{className:c.default.label},t)))}}t.default=f},cbjfgebbdf:function(e,t){e.exports={notification:"_203bP",icon:"_2eL9P"}},cbjgaedjgd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.templateParams[0]?e.templateParams[0].toString():(0,r.default)(e.id.remote)};var r=i(a("bcbdbebgci"))},cbjgeibhdg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Node=void 0;var r=i(a("dfadhaifh")),s=i(a("hhegggegb")),n=i(a("cgeeeeddea"));function o(){var e=(0,r.default)(["Blob size is larger than the limit of the whole store."]);return o=function(){return e},e}class d{constructor(e,t){this.key=e,this.value=t,this.prev=null,this.next=null}}t.Node=d;t.default=class{constructor(e){var t;this.schedulePurge=(0,s.default)(()=>{this.purgeNow()},1e3,{leading:!1}),this._keyToNode={},this._sizeLimit=e.sizeLimit,this._getSize=e.getSize,this._onPurge=e.onPurge,this._shouldEvict=null!==(t=e.shouldEvict)&&void 0!==t?t:()=>!0,this._onEvict=e.onEvict,this._onAdd=e.onAdd,this._onDelete=e.onDelete,this._currentSize=0,this._dummyHead=new d("dummy-head",null),this._dummyTail=new d("dummy-tail",null),this._dummyHead.next=this._dummyTail,this._dummyTail.prev=this._dummyHead}get(e){if(!this._keyToNode.hasOwnProperty(e))return null;var t=this._keyToNode[e];if(null==t)return null;var a=t.prev,i=t.next;a&&(a.next=i),i&&(i.prev=a);var r=this._dummyHead.next;if(null==r)throw new Error("The linked list is not constructed properly.");return this._dummyHead.next=t,r.prev=t,t.prev=this._dummyHead,t.next=r,t.value}has(e){return this._keyToNode.hasOwnProperty(e)}touch(e){this.get(e)}put(e,t){0!==this._sizeLimit&&(this._getSize(t)>this._sizeLimit?__LOG__(3)(o()):(this.delete(e),this._add(e,t),this.schedulePurge()))}_add(e,t){var a=new d(e,t);this._keyToNode[e]=a;var i=this._dummyHead.next;if(null==i)throw new Error("The linked list is not constructed properly.");this._dummyHead.next=a,i.prev=a,a.prev=this._dummyHead,a.next=i,this._currentSize+=this._getSize(t),this._onAdd&&this._onAdd(e,t)}delete(e){if(this._keyToNode.hasOwnProperty(e)){var t=this._keyToNode[e];if(null!=t){this._currentSize-=this._getSize(t.value);var a=t.prev,i=t.next;a&&(a.next=i),i&&(i.prev=a),delete this._keyToNode[e],this._onDelete&&this._onDelete(e,t.value)}}}clear(){this._keyToNode={},this._currentSize=0,this._dummyHead.next=this._dummyTail,this._dummyTail.prev=this._dummyHead,this._onClear&&this._onClear()}purgeNow(){for(var e=this._dummyTail.prev;this._currentSize>this._sizeLimit&&e!==this._dummyHead;e=e?e.prev:null){(0,n.default)(null!=e,"The linked list is not constructed properly.");var{key:t,value:a}=e;this._shouldEvict(t,a)&&(this.delete(t),this._onEvict&&this._onEvict(t,a))}this._onPurge&&this._onPurge(this._keyToNode)}}},cbjijeebhd:function(e,t){e.exports={ack:"_3PHHe",ackBlue:"_-68As"}},ccadaajdfc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cfadcbbiie")),o=i(a("hgigjbgie")),d=i(a("dhigahgdjb")),l=i(a("hhcjfgifh")),c=a("cgejchjdhj"),u=i(a("gfebgebbi")),f=i(a("ddajbaceej")),h=i(a("bfbfbjjgj")),p=i(a("dhfbfehaef")),g=i(a("bdjjabfecc")),m=i(a("ebddggeaib")),b=a("edagdaii"),v=i(a("cbbdegjicb")),_=i(a("dgdcjccfdi")),E=i(a("djbfhebjhe")),j=i(a("ccbcihdfhg"));class y extends s.Component{constructor(e){super(e),this._setWrapperRef=e=>{this._wrapperRef=e},this._setGalleryMsgRef=e=>{this._galleryMsgRef=e},this._setHotKeysRef=e=>{this._hotKeysRef=e},this.onSelectionChange=(e,t)=>{var a="focus"===e;if(a){var i=this._hotKeysRef;i&&(f.default.focus(i),t&&(0,c.scrollIntoViewIfNeeded)(i))}this.setState({current:a})},this.onActiveChange=(e,t)=>{if("focus"===e){var a=this._hotKeysRef;a&&(f.default.focus(a),t&&(0,c.scrollIntoViewIfNeeded)(a))}this.setState({active:!!e})},this.mouseOver=()=>{this.state.hover||this.setState({hover:!0})},this.mouseEnter=()=>{this.state.hover||this.setState({hover:!0})},this.mouseLeave=()=>{this.state.hover&&this.setState({hover:!1})},this.onEnter=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClickMsg&&this.props.onClickMsg(this.props.msg)},this.openContextMenu=()=>{this._wrapperRef&&this._wrapperRef.openContextMenu()},this.onFocus=()=>{this.setState({focus:!0}),this.indicateFocus()},this.onBlur=()=>{this.setState({focus:!1})},this.indicateFocus=()=>{var e;null===(e=this._galleryMsgRef)||void 0===e||e.indicateFocus()},this.getWrapperRef=()=>this._wrapperRef;var{currSelection:t,activeSelection:a,msg:i}=e;this.state={hover:!1,current:!!t&&t.value===i,active:!!a&&a.value===i,focus:!1}}componentDidMount(){var{msg:e,currSelection:t,activeSelection:a,listeners:i}=this.props;t&&i.add(t,e.id.toString(),this.onSelectionChange),a&&i.add(a,e.id.toString(),this.onActiveChange)}render(){var{msg:e,selectedMessages:t,displayType:a}=this.props,i=e.senderObj.formattedName,r=e.chat.isUser?d.default.assertGet(e.to).formattedName?d.default.assertGet(e.to).formattedName:(0,E.default)(e.to):e.chat.title(),c=a===o.default.DISP_TYPE.GALLERY?null:s.createElement("div",{className:v.default.title},s.createElement("div",{className:v.default.titleMain},s.createElement("div",{className:v.default.avatar},s.createElement(l.default,{id:e.senderObj.id,size:26})),s.createElement(u.default,{className:v.default.author,text:i,direction:"auto",titlify:!0}),s.createElement("span",{className:v.default.divider}),s.createElement(u.default,{className:v.default.chat,text:r,direction:"auto",titlify:!0})),s.createElement("div",{className:v.default.meta,dir:"auto"},n.default.relativeStr(e.t)),s.createElement("div",{className:v.default.chevron},s.createElement(_.default,{name:"chevron-right-alt",directional:!0}))),f={enter:this.onEnter};f[g.default.LR("right","left")]=this.openContextMenu;var m=this.props.selectable||this.state.hover&&a===o.default.DISP_TYPE.GALLERY;return s.createElement(p.default,{onRef:this._setHotKeysRef,handlers:f,onFocus:this.onFocus,onBlur:this.onBlur},s.createElement(h.default,{ref:this._setGalleryMsgRef,hover:this.state.hover,current:this.state.current&&this.state.focus,active:this.state.active,onClick:()=>this.props.onClickMsg&&this.props.onClickMsg(e,t&&!t.isSelected(e)),onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},c,s.createElement(j.default,{msg:e,key:e.id.toString(),ref:this._setWrapperRef,current:this.state.current&&this.state.focus,displayType:a||o.default.DISP_TYPE.STARRED_MSGS,isMsgVisible:this.props.isMsgVisible,selectable:m,selectedMessages:t,onMessageSelect:this.props.onMessageSelect,position:b.MsgPosition.END,tailOverride:"left",onProductClick:this.props.onProductClick,onMessageClick:this.props.onMessageClick})))}}var S=(0,m.default)(y);t.default=class extends S{getWrapperRef(){return this.getComponent().getWrapperRef()}}},ccaeejbjah:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bbbhcihbeh")),o=i(a("gfebgebbi")),d=i(a("cajagfhdgb")),l=i(a("dcdbbhicce"));class c extends s.PureComponent{render(){var{chat:e,presence:t}=this.props;if(t.isActive()){var a=t.getFormattedString();if(a)return s.createElement(o.default,{className:n.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:a})}var i=e.previewMessage;return i?s.createElement(d.default,{msg:i.safe(),msgType:"LastMessage"}):null}}c.displayName="ChatStateInfo",c.CONCERNS={chat:["previewMessage"],chatstate:["id","type"]},c.WEAK_CONCERNS={presence:["hasData","withholdDisplay"]};var u=(0,l.default)(c,c.CONCERNS,c.WEAK_CONCERNS);t.default=({chat:e})=>s.createElement(u,{chat:e,presence:e.presence,chatstate:e.presence.chatstate})},ccagafbad:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{name:t,message:a,stack:i}=e,n=(0,r.default)(e,["name","message","stack"]),o=(0,s.default)({name:t,message:"",stack:i}),d=o.slice(o.indexOf("\n")+1),l=0===Object.keys(n).length?"":" "+JSON.stringify(n,(e,t)=>e&&"object"==typeof t?String(t):t);return"".concat(t||"Error"," - ").concat(a||"").concat(l,"\n").concat(d)};var r=i(a("dagbcgeifg")),s=i(a("bbifffbcca"))},ccagfiehde:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&(e.nodeType===Node.TEXT_NODE&&0===e.textContent.length)}},ccaihiiddc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findEmojiRowAt=y,t.getNumColumns=S,t.default=t.TOTAL_SEARCH_HEIGHT=void 0;var s=r(a("ciajhadgcb")),n=i(a("ddhijeejag")),o=r(a("jaahgaghe")),d=i(a("ebjabaaifh")),l=r(a("ciafdhcchg")),c=r(a("bgheieccaj")),u=r(a("bfchfhibba")),f=r(a("dbfjeecgih")),h=r(a("bdjjabfecc")),p=r(a("ecdffdifib")),g=r(a("ebcdfgeea")),m=r(a("bcifhbgija")),b=parseInt(g.default["-total-search-height"],10);t.TOTAL_SEARCH_HEIGHT=b;var v,_=parseInt(g.default["-title-height"],10),E={[l.default.SEARCH_RESULT]:()=>{throw new Error("Search results should not be shown with a title.")},[l.default.RECENT]:()=>h.default.t(541),[o.default.SMILEYS_PEOPLE]:()=>h.default.t(542),[o.default.ANIMALS_NATURE]:()=>h.default.t(536),[o.default.FOOD_DRINK]:()=>h.default.t(538),[o.default.ACTIVITY]:()=>h.default.t(535),[o.default.TRAVEL_PLACES]:()=>h.default.t(544),[o.default.OBJECTS]:()=>h.default.t(540),[o.default.SYMBOLS]:()=>h.default.t(543),[o.default.FLAGS]:()=>h.default.t(537)};v=parseInt(g.default["-scrollbar-width"].replace(/px$/,""),10);class j extends n.PureComponent{constructor(e){super(e),this._rowComponents=new Map,this._flatListController=new f.default,this._renderBlanks=!1,this._getRowsAndSectionDataMemoized=(0,p.default)(e=>{var{numColumns:t,data:a,showTitles:i}=e,r=b,n={},o=[];return a.forEach(({sectionId:e,emojis:l},c)=>{var u=0,f=r;if(0!==l.length){i&&(o.push({kind:"title",itemKey:"section_".concat(e,"_title"),index:o.length,title:E[e](),sectionId:e,height:_,offsetTop:r}),u+=_,r+=_);var h=(0,s.default)(l,t),p=c===a.length-1;h.forEach((t,a)=>{var i=a===h.length-1&&!p?d.EMOJI_HEIGHT+parseInt(g.default["-section-bottom-margin"],10):d.EMOJI_HEIGHT;o.push({kind:"emojis",itemKey:"section_".concat(e,"_emoji_").concat(a),index:o.length,emojis:t,sectionId:e,height:i,offsetTop:r}),u+=i,r+=i}),n[e]={height:u,offsetTop:f}}}),{rows:o,sectionData:n}}),this._handleEmojiFocus=e=>{var t=this._refScrollContainer;t&&this.props.onEmojiFocus(e,t)},this._handleScroll=()=>{this._animationFrameID||(this._animationFrameID=requestAnimationFrame(this._handleScrollOnAnimationFrame))},this._handleScrollOnAnimationFrame=()=>{if(delete this._animationFrameID,this._refScrollContainer){var e=this._refScrollContainer.scrollTop;this.props.onScroll&&this.props.onScroll(e);var t=this._getSectionIdFromScrollTop(e);t&&this.props.onSection&&this.props.onSection(t)}},this._setRefScrollContainer=e=>{this._refScrollContainer=e},this._renderRow=e=>{switch(e.kind){case"title":return n.createElement("div",{className:g.default.title},e.title);case"emojis":return n.createElement(d.default,{emojis:e.emojis,focusAbove:t=>{this._focusEmojiAt(e.index,-1,t)},focusBelow:t=>{this._focusEmojiAt(e.index,1,t)},numColumns:this._getNumColumns(),onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,ref:t=>{t?this._rowComponents.set(e.itemKey,t):this._rowComponents.delete(e.itemKey)},allowVariantPrompt:e.sectionId!==l.default.RECENT});default:throw e.kind,new Error("Invalid row kind: ".concat(e.kind))}},this._getRowsAndSectionData()}componentDidMount(){this._refScrollContainer&&this._refScrollContainer.scrollTop!==this.props.initialScrollTop&&(this._refScrollContainer.scrollTop=this.props.initialScrollTop)}focusFirstVisibleEmoji(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.focusEmojiAt(0)}scrollToSection(e,t){var a=this._refScrollContainer;if(!a)return Promise.resolve();var{sectionData:i}=this._getRowsAndSectionData(),r=i[e];if(!r)return Promise.resolve();var s=r.offsetTop;if(a.scrollTop===s)return Promise.resolve();if(this._activeAnimation){if(this._activeAnimation.sectionId===e)return this._activeAnimation.promise;(0,m.default)(this._activeAnimation.scrollTarget,"stop"),this._activeAnimation&&this._activeAnimation.promise.cancel()}if(a.scrollTop===s)return Promise.resolve();var n=document.createElement("div");n.style.position="absolute",n.style.top="".concat(s+(t||0),"px"),n.style.left="0px",a.appendChild(n);var o=(0,m.default)(n,"scroll",{container:a,duration:300,easing:[.99,.13,.13,.99]}).then(()=>{}).delay(100);return this._activeAnimation={promise:o,sectionId:e,scrollTarget:n},o.finally(()=>{a.removeChild(n),this._activeAnimation&&this._activeAnimation.promise===o&&delete this._activeAnimation}),o}scrollToTop(){this._refScrollContainer&&(this._refScrollContainer.scrollTop=0)}selectFirstVisibleEmoji(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.selectFirstEmoji()}_getCurrentSearchInputHeight(){return this.props.searchInputVisible?b:0}_getNumColumns(){return S(this.props.width)}_getRowsAndSectionData(){return this._getRowsAndSectionDataMemoized({numColumns:this._getNumColumns(),data:this.props.data,showTitles:this.props.showTitles})}_getFirstVisibleEmojiRowComponent(e){if(this._refScrollContainer){var t=this._refScrollContainer.scrollTop+e,a=this._getEmojiRowFromScrollTop(t);if(a)return this._rowComponents.get(a.itemKey)}}_getEmojiRowFromScrollTop(e){var{rows:t}=this._getRowsAndSectionData();return t.map(e=>"emojis"===e.kind?e:null).filter(Boolean).find(t=>t.offsetTop+t.height>e)}_getSectionIdFromScrollTop(e){var t=this._getEmojiRowFromScrollTop(e+this._getCurrentSearchInputHeight());if(t)return t.sectionId}_focusEmojiAt(e,t,a){var{rows:i}=this._getRowsAndSectionData(),r=y(i,e,t);if(r){var s=this._rowComponents.get(r.itemKey);s&&s.focusEmojiAt(a)}}render(){var e,{rows:t}=this._getRowsAndSectionData(),a=Math.min(t.length,2);return(this.props.onScroll||this.props.onSection)&&(e=this._handleScroll),n.createElement(u.default,{onScroll:e,className:g.default.container,onRef:this._setRefScrollContainer,flatListControllers:[this._flatListController]},n.createElement(c.default,{data:t,reorderAnimationsEnabled:!1,forceConsistentRenderCount:!1,flatListController:this._flatListController,direction:"vertical",extraItems:a,initialScrollFromStart:this.props.initialScrollTop,renderItem:this._renderRow}))}}function y(e,t,a){for(var i=a<0?-1:1,r=t+a;r>=0&&r<e.length;){var s=e[r];if("emojis"===s.kind)return s;r+=i}}function S(e){var t=e-2*d.SIDE_MARGIN-v;return Math.floor(t/d.EMOJI_WIDTH)}t.default=j},ccbagdhfbb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.typeIsMMS=function(e,t){if("protocol"===e&&"history_sync_notification"===t)return!0;return E[e]||!1},t.msgMatchesType=function(e,t){switch(t){case"text":return e.type===d.default.MSG_TYPE.CHAT&&"url"!==e.subtype;case"image":return e.type===d.default.MSG_TYPE.IMAGE;case"video":return e.type===d.default.MSG_TYPE.VIDEO&&!e.isGif;case"gif":return e.type===d.default.MSG_TYPE.VIDEO&&e.isGif;case"audio":return e.type===d.default.MSG_TYPE.AUDIO;case"ptt":return e.type===d.default.MSG_TYPE.PTT;case"document":return e.type===d.default.MSG_TYPE.DOCUMENT;case"location":return e.type===d.default.MSG_TYPE.LOCATION;case"vcard":return e.type===d.default.MSG_TYPE.VCARD||e.type===d.default.MSG_TYPE.MULTI_VCARD;case"url":return e.type===d.default.MSG_TYPE.CHAT&&"url"===e.subtype;case"sticker":return e.type===d.default.MSG_TYPE.STICKER;case void 0:default:return!1}},t.createQuotedMsg=function(e){if(!e)return null;var t=new f.default({from:e.from,to:e.to,id:e.id,participant:e.participant,selfDir:e.self});return e.id=t,new(0,a("cbcbdjdah").default)(e)},t.getOriginalQuotedMsgIfPossible=function(e,t){if(!e)return e;var a=t.get(e.id);return a&&!a.asRevoked?a:e},t.getBroadcastFanoutKeys=j,t.broadcastFanout=function(e){var t;if(!e.invis){var i=j(e);i&&(t=i.map(e=>e.remote),i.forEach(t=>{var i=a("biecbbiiee").default;if(!i.some((0,n.default)({id:t}))){var r=M(e);r.to=t.remote,r.id=t,r.broadcast=!0;var s=i.add(r,{merge:!0});a("dbdfbgehgj").default.find(t.remote).then((function(e){h.default.ephemeralMessages&&s.forEach(t=>{if(t.type!==d.default.MSG_TYPE.PROTOCOL){e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting());var a=e.getEphemeralSettingTimestamp();null!=a&&(t.ephemeralSettingTimestamp=a)}}),y(s,e,!0)}))}}))}return t},t.addRecordsToChat=y,t.isNotification=function(e,t){switch(e){case d.default.MSG_TYPE.GROUP_NOTIFICATION:case d.default.MSG_TYPE.GP2:case d.default.MSG_TYPE.BROADCAST_NOTIFICATION:case d.default.MSG_TYPE.NOTIFICATION:case d.default.MSG_TYPE.NOTIFICATION_TEMPLATE:case d.default.MSG_TYPE.E2E_NOTIFICATION:case d.default.MSG_TYPE.CALL_LOG:return!0;case d.default.MSG_TYPE.PROTOCOL:return"ephemeral_setting"===t;default:return!1}};var r=i(a("dfadhaifh")),s=i(a("dfaadfeedd")),n=i(a("bhehgiigij")),o=i(a("dbafiicfja")),d=i(a("hgigjbgie")),l=a("bgihjbde"),c=i(a("cdhfageggb")),u=a("cefjgcjhgf"),f=i(a("cffajefeag")),h=i(a("bfgbdiffgd")),p=i(a("jccfhaecf"));function g(){var e=(0,r.default)(["setRecords LogoutDrop: ",""]);return g=function(){return e},e}function m(){var e=(0,r.default)(["chatMsgsCollection "," replaced by a collection with noEarlierMsgs true\n",""],["chatMsgsCollection "," replaced by a collection with noEarlierMsgs true\\n",""]);return m=function(){return e},e}function b(){var e=(0,r.default)(["models:msg:store:resetMostRecentMsgs .msgs === cmc !"]);return b=function(){return e},e}function v(){var e=(0,r.default)(["model:msgs:broadcastFanout no group_metadata rec for bclist, cant fanout: ",""]);return v=function(){return e},e}function _(){var e=(0,r.default)(["model:msgs:broadcastFanout: unknown msgOrKey: ",""]);return _=function(){return e},e}var E={image:!0,video:!0,audio:!0,ptt:!0,sticker:!0,document:!0,product:!0};function j(e){var t,i,r;if(e instanceof a("cbcbdjdah").default)i=e,r=e.id;else{if(!(e instanceof f.default))return void __LOG__(3)(_(),String(e));r=e}if(!p.default.isStatusV3(r.remote)){if(i&&i.recipients&&0!==i.recipients.length)t=i.recipients;else{var s=a("djaadchjch").default.get(r.remote);s?t=(0,o.default)(M(s.participants),"id"):__LOG__(2)(v(),r.remote.toString())}return t?t.map(e=>new f.default({fromMe:r.fromMe,remote:e,id:r.id})):void 0}}function y(e,t,i,r,s,n){var o=r||t.msgs;if(0!==e.length){var d=o===t.msgs;if(n)if(d)__LOG__(1)(b()),S(t,o,e);else d=!0,S(t,o,e).then(()=>{var e=new(0,a("dbfjecijha").default);if(e.replace(t.msgs),t.msgChunks.push(e),o.msgLoadState.noEarlierMsgs){var i=[(new Error).stack];__LOG__(2,!0)(m(),t.id.toString(),i.join("\n"))}t.replaceMsgsCollection(o),t.msgs.trigger("change:last",t.msgs.last())});else i?d?S(t,o,e):C(o,e):C(o,e,{at:0,silent:e.every(T)});var l=a("biecbbiiee").default;if(i&&d||!l.lastReceivedReceipt[t.id])for(var c=e.length-1;c>=0;c--){var u=e[c],f=u.id;if(f.fromMe&&!u.isNotification){l.updateLastReceipt(f.remote,u.t);break}}if(i&&d||!l.lastReceivedPaymentTransaction[t.id])for(var h=e.length-1;h>=0;h--){var p=e[h],g=p.id;p.paymentTransactionTimestamp&&l.updateLastTransactionTime(g.remote,p.paymentTransactionTimestamp)}var v=s;v&&!t.unreadMsgAnchor&&(t.disableUnreadAnchor?t.disableUnreadAnchor=!1:t.unreadMsgAnchor=e.find((function(e){return e.id.toString()===v.toString()})))}}function S(e,t,a){var i=(0,s.default)(a,e=>!!e);return i?(0,u.setLastReceivedKey)(e.id,i.id).then(()=>{e.lastReceivedKey=i.id,C(t,a)}):Promise.resolve()}function C(e,t,a){try{e.add(t,a)}catch(e){if(!(e instanceof l.LogoutDrop))throw e;__LOG__(3)(g(),e.toString())}}function M(e){return null!=e&&"object"==typeof e?JSON.parse(JSON.stringify(e),c.default):e}function T(e){return"i"===e.eventType}},ccbcihdfhg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.SystemBubble=function(e){var t=e.theme?q.default[e.theme]:null,a=(0,n.default)(q.default.msg,q.default.msgSystem,t,{[I.LIST_FOCUSABLE_ITEM_CLASS_NAME]:e.isFocusable}),i=(0,n.default)(q.default.message,q.default.messageSystem,{[q.default.messageHidden]:e.hidden});return o.createElement("div",{className:a,tabIndex:-1},o.createElement("div",{className:i},e.children))},t.MessageContainer=function(e){var t=(0,n.default)(q.default.msgContainer,{"message-out":e.isSentByMe,"message-in":!e.isSentByMe}),a=(0,n.default)(q.default.message,q.default.hasTail,"tail-override-left");return o.createElement("div",{className:t},o.createElement("div",{className:a},o.createElement("div",{className:q.default.messageBackground},o.createElement("div",{className:q.default.tail},o.createElement(B.default,{name:ae(X)})),e.children)))},t.getTailName=ae,t.default=t.Wrapper=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("effbcehec")),l=a("bheedafjh"),c=a("bcccgdhied"),u=r(a("dbdfbgehgj")),f=r(a("ccbgfecegc")),h=r(a("dacicgjcai")),p=r(a("bbfjdcedab")),g=r(a("hgigjbgie")),m=r(a("dfjejeffdj")),b=a("cgejchjdhj"),v=i(a("dgebcfedgb")),_=a("chhdedhgfe"),E=r(a("eiighchhi")),j=r(a("bbaacgghch")),y=r(a("ddajbaceej")),S=a("dgjddffcfg"),C=r(a("ddbeddiehf")),M=a("eajdbbfgfg"),T=r(a("dhfbfehaef")),P=a("ecceiefjaj"),O=r(a("cidbhiefbi")),N=r(a("bdjjabfecc")),I=a("bdfaehgedi"),A=r(a("ebddggeaib")),w=r(a("bihiceijie")),R=r(a("dhjjffibdg")),D=a("edagdaii"),L=r(a("dhegibaccd")),k=r(a("badciidhcf")),x=r(a("bcbcbjijjd")),G=r(a("bfgbdiffgd")),U=r(a("dcdbbhicce")),F=a("cjfegjecaj"),B=r(a("dgdcjccfdi")),V=r(a("efjdfifih")),H=r(a("cgjdibiahi")),W=r(a("dfciadajdf")),K=r(a("didfdhbecg")),Y=r(a("eahbjghegg")),q=r(a("dagjgcgfgc")),z=a("bedfbecdgd");function Q(){var e=(0,s.default)(["no onMessageSelect"]);return Q=function(){return e},e}function J(){var e=(0,s.default)(["wrapper:resend failure: ",""]);return J=function(){return e},e}var X=!1,Z=!0;class $ extends o.PureComponent{constructor(e){super(e),this.setRefMsgComponent=e=>this.refMsgComponent=e,this.setRefContext=e=>this.refContext=e,this._refTail=o.createRef(),this.setRefBubble=e=>this.refBubble=e,this.sizeMismatch=!1,this.stickerRef=o.createRef(),this._setRefContainer=e=>{this._refContainer=e},this.resend=()=>{this.props.msg.resend().catch((function(e){__LOG__(2)(J(),e)}))},this.openWebSearchFlow=()=>{var e=this.props.msg;f.default.openModal(o.createElement(Y.default,{messageText:e.body}),{transition:"modal-flow"})},this.openEphemeralInfoPopup=()=>{var e=this.props.msg.ephemeralDuration||0;f.default.openModal(o.createElement(p.default,{onOK:()=>{f.default.closeModal()}},(0,_.getEphemeralOutOfSyncInfoString)(e)),{transition:"modal-flow"})},this.openBizPrivacyInfoPopup=()=>{var e,t=this.props.msg,{bizPrivacyStatus:a}=t;if(null!=a){var i=(0,c.getBizPrivacyInfoString)(a,null!==(e=t.verifiedBizName)&&void 0!==e?e:(0,S.formatEnterpriseE2EName)(t.chat.contact),t.id.fromMe);f.default.openModal(o.createElement(p.default,{onOK:()=>{f.default.closeModal()}},i),{transition:"modal-flow"})}},this.mouseEnter=e=>{e.buttons||this.state.hover||!this._hasContextMenu()||this.setState({hover:!0})},this.mouseLeave=()=>{this.state.hover&&this._hasContextMenu()&&this.setState({hover:!1})},this.mouseDown=()=>{this.state.hover&&this.setState({hover:!1})},this._handleMouseContextMenu=e=>{e.stopPropagation()},this._getMenuRefContext=()=>{if(this.refContext)return this.refContext.getComponent().refContext},this.onMenu=(e,t)=>{if(t&&this.state.contextMenu)this.setState({contextMenu:null});else{var a=t?this._getMenuRefContext():e,i=(0,F.unproxy)(this.props.msg),r=[];i.isSentByMe&&this.props.displayType!==g.default.DISP_TYPE.MSG_INFO&&!i.asRevoked&&r.push(o.createElement(v.default,{key:"info",a8n:"mi-msg-info",action:()=>{this.openInfoDrawer()}},N.default.t(889))),i.canReply()&&r.push(o.createElement(v.default,{key:"reply",a8n:"mi-msg-reply",action:()=>{this.onReplyMessage()}},N.default.t(1143))),(i.canPrivateReply()||i.canPrivateReplyInRestrictedGrp())&&r.push(o.createElement(v.default,{key:"private_reply",a8n:"mi-msg-reply",action:()=>{this.onPrivateReplyMessage()}},N.default.t(1095))),i.isDownloadable()&&r.push(o.createElement(v.default,{key:"download",a8n:"mi-msg-download",action:()=>{this.onDownload()}},N.default.t(1493))),i.canForward()&&r.push(o.createElement(v.default,{key:"forward",a8n:"mi-msg-forward",action:()=>{this.openForwardFlow(!0)}},N.default.t(625))),(0,M.canEditLabelAssociation)()&&!i.asRevoked&&r.push(o.createElement(v.default,{key:"editLabel",a8n:"mi-edit-label",action:()=>{this.openEditLabelFlow()}},N.default.t(532))),i.canStar()&&(i.star?r.push(o.createElement(v.default,{key:"star",a8n:"mi-msg-unstar",action:()=>{this.onUnstarMessage()}},N.default.t(1337))):r.push(o.createElement(v.default,{key:"star",a8n:"mi-msg-star",action:()=>{this.onStarMessage()}},N.default.t(1259)))),r.push(o.createElement(v.default,{key:"delete",a8n:"mi-msg-delete",action:()=>{this.onDeleteMessage()}},N.default.t(494))),i.isGroupMsg&&i.author&&!i.isSentByMe&&r.push(o.createElement(v.default,{key:"author",a8n:"mi-msg-author",action:()=>{this.openContactChat()}},N.default.t(885,{author:i.displayName()}))),this.setState({contextMenu:{menu:r,anchor:a,theme:v.ThemeOptions.COMPACT,autoFocus:this._isKeyboardUser()}})}},this.openContextMenu=()=>{this._hasContextMenu()&&(this.state.hover?this.onMenu(void 0,!0):this.setState({hover:!0},()=>{this.onMenu(void 0,!0)}))},this.closeContextMenu=()=>{var e={contextMenu:null};this._isKeyboardUser()&&(e.hover=!1),this.setState(e)},this.onSelectClick=e=>{e&&e.stopPropagation();var t=this.props.onMessageSelect;t?t((0,F.unproxy)(this.props.msg),!this.state.selected,e):(__LOG__(4,!1,new Error)(Q()),SEND_LOGS("wrapper-onSelectClick"))},this.onDoubleClick=e=>{var{displayType:t}=this.props,a=(0,F.unproxy)(this.props.msg);!a.canReply()||this.props.selectable||t!==g.default.DISP_TYPE.CONVERSATION||this.state.contextMenu||((e,t)=>{for(var a=t;a;){if(a===e)return!0;a=a.parentNode}return!1})(this.refBubble,e.target)||(a.chat.composeQuotedMsg=a,f.default.focusChatTextInput(a.chat),this.highlight())},this.onResize=()=>{this.forceUpdate()},this._handleKeyActivation=e=>{var t,a;null===(t=this.getMsgComponentRef())||void 0===t||null===(a=t.handleKeyActivation)||void 0===a||a.call(t,e)},this.state={canQuickForward:e.msg.canQuickForward(),contextMenu:null,hover:!1,highlighting:!1,selected:!!e.selectedMessages&&e.selectedMessages.isSelected((0,F.unproxy)(e.msg)),isRevoked:Boolean(e.msg.asRevoked)};var t=this.props.displayType===g.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===g.default.DISP_TYPE.GALLERY||this.props.displayType===g.default.DISP_TYPE.MSG_INFO||this.props.displayType===g.default.DISP_TYPE.CONTACT_CARD;this.sizeMismatch=t&&this.props.msg.isGif}componentDidMount(){this.sizeMismatch&&this.refBubble&&(this.maxWidth=this.refBubble.offsetWidth,this.forceUpdate(),window.addEventListener("resize",this.onResize)),this.props.listeners.add(this.props.msg,"change",()=>{var e=this.props.msg.canQuickForward();e!==this.state.canQuickForward&&this.setState({canQuickForward:e});var t=Boolean(this.props.msg.asRevoked);t!==this.state.isRevoked&&this.setState({isRevoked:t})})}componentWillUnmount(){this.sizeMismatch&&window.removeEventListener("resize",this.onResize)}componentDidUpdate(e,t){this.state.contextMenu&&t.isRevoked!==this.state.isRevoked&&this.closeContextMenu()}scrollMsg(e,t){this._refContainer&&(0,b.scrollAt)(this._refContainer,void 0,t).then(e)}highlight(){var e=this.refBubble,t=this._refTail.current;e&&(this.setState({highlighting:!0}),j.default.indicateFocus(e,q.default.highlightAnimation),j.default.indicateFocus(t,q.default.highlightAnimation),this.props.listeners.addOnce(e,"animationend",()=>{this.setState({highlighting:!1})}),this.props.isFocusable&&this.focus({preventScroll:!0}))}openForwardFlow(e){var t,a=this.props.msg;a.type===g.default.MSG_TYPE.CIPHERTEXT?t=N.default.t(604):a.asRevoked?t=N.default.t(605):a.isUnsentMedia&&(t=N.default.t(603,{_plural:1})),t?f.default.openModal(o.createElement(p.default,{title:N.default.t(606),onOK:()=>f.default.closeModal(),okText:N.default.t(1649)},t)):e&&this.props.displayType===g.default.DISP_TYPE.CONVERSATION?this.onSelectClick():f.default.openModal(o.createElement(C.default,{msgs:[(0,F.unproxy)(a)]}),{transition:"modal-flow"})}openEditLabelFlow(){this.props.displayType===g.default.DISP_TYPE.CONVERSATION?this.onSelectClick():f.default.openModal(o.createElement(w.default,{modelsToUpdate:[(0,F.unproxy)(this.props.msg)]}))}openInfoDrawer(){f.default.msgInfoDrawer((0,F.unproxy)(this.props.msg))}openContactChat(){u.default.find(this.props.msg.author).then((function(e){f.default.openChatFromUnread(e).then(t=>{t&&f.default.focusChatTextInput(e)})}))}onDeleteMessage(){var{msg:e,isMsgVisible:t}=this.props;f.default.openModal(o.createElement(m.default,{chat:e.chat,msgList:[e].map(F.unproxy),deletePrompt:!0,revokePrompt:e.canRevoke(),isMsgVisible:t}))}onReplyMessage(){var e=(0,F.unproxy)(this.props.msg),t=e.chat;t.composeQuotedMsg=e,t===u.default.toArray().find(e=>e.active)?f.default.focusChatTextInput(t):f.default.openChatBottom(t)}onPrivateReplyMessage(){var e=(0,F.unproxy)(this.props.msg);u.default.find(e.sender).then(e=>Promise.props({ok:f.default.openChatBottom(e),chat:e})).then(({ok:t,chat:a})=>{t&&(a.composeQuotedMsg=e,this.props.msg&&this.props.msg.chat&&(a.composeQuotedMsgRemoteJid=this.props.msg.chat.id))})}onDownload(){E.default.initDownload((0,F.unproxy)(this.props.msg))}onStarMessage(){var e=(0,F.unproxy)(this.props.msg);f.default.sendStarMsgs(e.chat,[e])}onUnstarMessage(){var e=(0,F.unproxy)(this.props.msg);f.default.sendUnstarMsgs(e.chat,[e])}_isKeyboardUser(){return this.context}getMsgComponent(e){var{msg:t,position:a,displayType:i,isMsgVisible:r,getSequentialMsg:s}=this.props;return o.createElement(k.default,{chat:t.chat,displayAuthor:e,displayType:i,hover:this.state.hover,isMsgVisible:r,maxWidth:this.maxWidth,msg:t,ref:this.setRefMsgComponent,position:a,getSequentialMsg:s,onProductClick:this.props.onProductClick,onMessageClick:this.props.onMessageClick,forwardStickerRef:this.stickerRef})}getMsgComponentRef(){return this.refMsgComponent&&this.refMsgComponent.getRef()}onSelectChange(e){this.state.selected!==e&&this.setState({selected:e})}focus(e){this._refContainer&&y.default.focus(this._refContainer,e)}_hasContextMenu(){var{msg:e,displayType:t}=this.props;return!e.isNotification&&t!==g.default.DISP_TYPE.GALLERY&&t!==g.default.DISP_TYPE.CONTACT_CARD}_shouldShowMenuButton(){return this._hasContextMenu()&&!this.props.selectable&&(this.state.hover&&!this.state.highlighting||!!this.props.current||!!this.state.contextMenu)}render(){var e,{msg:t,position:a,displayType:i,selectedMessages:r,isFocusable:s}=this.props,c=i===g.default.DISP_TYPE.CONVERSATION,u=t.type!==g.default.MSG_TYPE.CHAT||i!==g.default.DISP_TYPE.STARRED_MSGS&&!!t.quotedMsg||!(a===D.MsgPosition.MID||a===D.MsgPosition.END)||i===g.default.DISP_TYPE.GALLERY||t.linkPreview||(0,P.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText,t.doNotPlayInline);this._shouldShowMenuButton()&&(e=o.createElement(R.default,{msg:t,position:a,key:"icon-context",ref:this.setRefContext,onToggle:e=>{this.onMenu(e)}}));var f=null;if(!t.isNotification&&this.props.selectable){var p=i===g.default.DISP_TYPE.GALLERY?"gallery":null;f=o.createElement(L.default,{checked:!!this.state.selected,onClick:this.onSelectClick,msgTheme:p})}var m=null;t.type===g.default.MSG_TYPE.STICKER&&this.props.selectable&&(m=o.createElement("span",null,o.createElement("div",{className:q.default.stickerWrapperContainer,onMouseEnter:this.stickerRef.current?this.stickerRef.current.onMouseEnter:null,onClick:this.onSelectClick})));var b=!1;if(t.type===g.default.MSG_TYPE.CHAT){var v=h.default.match(t.body);b=1===v.length&&v[0][4][0].length===t.body.length}var _,E,j,y,S,C,M=t.chat&&t.chat.isPSA,O=!M&&!t.isNotification&&!this.props.tailOverride&&(a===D.MsgPosition.FRONT||a===D.MsgPosition.SINGLE)||i===g.default.DISP_TYPE.MSG_INFO||this.props.tailOverride,A=te(t)&&(!u||t.isSentByMe||!t.isGroupMsg&&!t.quotedMsg)&&(c&&(a===D.MsgPosition.FRONT||a===D.MsgPosition.SINGLE)||!c),w=!this.props.selectable&&(i===g.default.DISP_TYPE.CONVERSATION||i===g.default.DISP_TYPE.MSG_INFO||i===g.default.DISP_TYPE.STARRED_MSGS),k=t.ephemeralOutOfSync&&!t.isNotification,U=w&&this.state.canQuickForward,F=w&&G.default.quickMessageSearch&&t.isFrequentlyForwarded&&t.type===g.default.MSG_TYPE.CHAT,Y=null!=t.bizPrivacyStatus,Q=(0,n.default)(q.default.msg,{[q.default.msgContinuation]:!(a!==D.MsgPosition.FRONT&&a!==D.MsgPosition.MID||t.isFromTemplate&&t.isQuickReply),[q.default.msgPSA]:i!==g.default.DISP_TYPE.STARRED_MSGS&&M,[q.default.msgSystem]:t.isNotification,[q.default.msgGallery]:i===g.default.DISP_TYPE.STARRED_MSGS||i===g.default.DISP_TYPE.CONTACT_CARD||i===g.default.DISP_TYPE.GALLERY,[q.default.msgInfo]:i===g.default.DISP_TYPE.MSG_INFO,[q.default.msgWithQuickAction]:Y||k||U||F,"message-out":!t.isNotification&&t.isSentByMe||i===g.default.DISP_TYPE.MSG_INFO,"message-in":!t.isNotification&&!t.isSentByMe,[I.LIST_FOCUSABLE_ITEM_CLASS_NAME]:s}),J=(0,n.default)(q.default.message,function(e){switch(e.type){case g.default.MSG_TYPE.NOTIFICATION_TEMPLATE:return e.isBizNotification?q.default.messageBizNotification:void 0;case g.default.MSG_TYPE.E2E_NOTIFICATION:return e.chat.isSupportGroup()?q.default.messageBizNotification:q.default.messageE2ENotification;case g.default.MSG_TYPE.GROUPS_V4_INVITE:return q.default.messageChat;case g.default.MSG_TYPE.CHAT:return(0,P.isParsableOnlineVideoURL)(e.richPreviewType,e.matchedText,e.doNotPlayInline)?q.default.messageVideoLinkPreview:q.default.messageChat;case g.default.MSG_TYPE.LOCATION:return e.isLive?q.default.messageLiveLocation:q.default.messageLocation;case g.default.MSG_TYPE.VCARD:return q.default.messageVcard;case g.default.MSG_TYPE.CIPHERTEXT:return(0,n.default)(q.default.messageChat,q.default.messagePlaceholder);case g.default.MSG_TYPE.MULTI_VCARD:return q.default.messageMultiVcard;case g.default.MSG_TYPE.IMAGE:return q.default.messageImage;case g.default.MSG_TYPE.PRODUCT:return q.default.messageProduct;case g.default.MSG_TYPE.STICKER:return te(e)?q.default.messageTransparent:q.default.messageSticker;case g.default.MSG_TYPE.VIDEO:return e.mediaData.isGif?q.default.messageGif:q.default.messageVideo;case g.default.MSG_TYPE.AUDIO:return q.default.messageAudio;case g.default.MSG_TYPE.PTT:return q.default.messagePTT;case g.default.MSG_TYPE.DOCUMENT:return q.default.messageDocument;case g.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return q.default.messageChat;case g.default.MSG_TYPE.ORDER:return q.default.messageProduct;case g.default.MSG_TYPE.UNKNOWN:return(0,n.default)(q.default.messageChat,q.default.messagePlaceholder);default:return}}(t),{[q.default.messageSystem]:t.isNotification,[q.default.messageCode]:b,[q.default.hasTail]:O,"tail-override-left":"left"===this.props.tailOverride,"tail-override-right":"right"===this.props.tailOverride,[q.default.tailOverrideHide]:A}),$=(0,n.default)({[q.default.messageBackground]:!te(t),[q.default.hasBorderBox]:!t.isNotification&&!te(t),[q.default.hasUrlCallButtons]:t.isFromTemplate&&t.hasTemplateButtons&&!t.isQuickReply});if(this.sizeMismatch&&!this.refBubble)return o.createElement("div",{className:q.default.placeholder,ref:this.setRefBubble});_=this.state.contextMenu?"none":t.isRTL?"pop-fast-reverse":"pop-fast",this.state.contextMenu&&(E=o.createElement(H.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},o.createElement(W.default,{contextMenu:this.state.contextMenu}))),this.props.isFocusedMsg&&(j=o.createElement(z.WhileFocusedListener,{parent:this})),r&&(y=o.createElement(z.SelectionListener,{parent:this,msgId:t.id.toString(),selectedMessages:r})),k?S=o.createElement("div",{className:q.default.quickActionButton,onClick:this.openEphemeralInfoPopup,role:"button"},o.createElement(B.default,{name:"info-alt"})):Y?S=o.createElement("div",{className:q.default.quickActionButton,onClick:this.openBizPrivacyInfoPopup,role:"button"},o.createElement(B.default,{name:"info-alt"})):U?S=o.createElement("div",{className:q.default.quickActionButton,onClick:()=>this.openForwardFlow(!1),role:"button"},o.createElement(B.default,{name:"forward-chat"})):F&&(S=o.createElement("div",{className:q.default.quickActionButton,onClick:this.openWebSearchFlow,role:"button"},o.createElement(B.default,{name:"search"}))),t.mediaData&&(C=o.createElement(z.MediaListener,{parent:this,mediaData:t.mediaData}));var ee,ie,re,se,ne="msg-container";(t.isNotification&&(ne="msg-notification-container"),O)&&(ie="left"===this.props.tailOverride?ae(X):"right"===this.props.tailOverride?ae(Z):ae(t.isSentByMe),ee=o.createElement(B.default,{name:ie,className:q.default.tail,containerRef:this._refTail}));t.logInitialRender(),t.isFromTemplate&&t.hasTemplateButtons&&(re=o.createElement(V.default,{msg:t,chat:t.chat})),t.isNotification||a===D.MsgPosition.MID?se=null:t.isSentByMe?se=o.createElement(l.InvisibleLabel,null,N.default.t(7)):t.isGroupMsg||(se=o.createElement(l.InvisibleLabel,null,N.default.t(6,{author:t.displayName()})));var oe=null;return t.isEphemeral&&(oe=o.createElement(l.InvisibleLabel,null,N.default.t(3))),o.createElement(T.default,{className:Q,"data-id":t.id.toString(),handlers:{enter:this._handleKeyActivation,space:this._handleKeyActivation},onDoubleClick:this.onDoubleClick,onRef:this._setRefContainer,tabIndex:-1},o.createElement(K.default,{transitionName:"delay-leave"},f),o.createElement("div",{"data-a8n":d.default.key(ne),className:J,onContextMenu:this._handleMouseContextMenu,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseDown,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},ee,o.createElement(x.default,{displayType:i,msg:t}),m,o.createElement("div",{className:$,ref:this.setRefBubble},se,this.getMsgComponent(u),o.createElement(K.default,{transitionName:_},e)),S,re,oe),E,j,y,C)}}t.Wrapper=$,$.defaultProps={displayType:g.default.DISP_TYPE.CONVERSATION},$.CONCERNS={msg:["author","body","chat","dir","ephemeralDuration","ephemeralOutOfSync","id","isBizNotification","isEphemeral","isFailed","isFrequentlyForwarded","isGif","isGroupMsg","isLive","isMedia","isMMS","isNotification","asRevoked","isRTL","isSentByMe","isUnsentMedia","linkPreview","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title","hasTemplateButtons","isQuickReply","isFromTemplate","doNotPlayInline","ctwaContext","bizPrivacyStatus","verifiedBizName","templateParams"]},$.contextType=O.default;var ee=(0,A.default)((0,U.default)($,$.CONCERNS));function te(e){return e.type===g.default.MSG_TYPE.STICKER&&!e.quotedMsg&&!e.ctwaContext}function ae(e){return e?N.default.isRTL()?"tail-in":"tail-out":N.default.isRTL()?"tail-out":"tail-in"}t.default=class extends ee{focus(e){this.getComponent().focus(e)}openContextMenu(){this.getComponent().openContextMenu()}getMsgComponentRef(){return this.getComponent().getMsgComponentRef()}}},ccbddcbied:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a={},i=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(a[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(a[e.doubleByte[t]]=t+n.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var a=t[1]?2*Object.keys(t[1]).filter((function(e){return!!t[1][e]})).length:0;this.writeListStart(e,1+a+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,i){if("string"!=typeof t&&!(t instanceof o.default))throw __LOG__(3)(c(),typeof t),new Error("invalid string");if(t instanceof o.default)this.writeJid(e,t.user,t.server);else{var r,s,d=a.hasOwnProperty(t)?a[t]:void 0;if("c.us"!==t||i)if(void 0===d){var l=t.indexOf("@");if(l<1)this.writeStringRaw(e,t);else{var u=t.substring(0,l),f=t.substring(l+1);this.writeJid(e,u,f)}}else{if(d<n.default.SINGLE_BYTE_MAX)this.writeToken(e,d);else{var h=d-n.default.SINGLE_BYTE_MAX;switch(s=h%256,h>>8){case 0:r=n.default.DICTIONARY_0;break;case 1:r=n.default.DICTIONARY_1;break;case 2:r=n.default.DICTIONARY_2;break;case 3:r=n.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+d)}}this.writeToken(e,r),this.writeToken(e,s)}else this.writeToken(e,a["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var a=s.default.numUtf8Bytes(t);if(a>=4294967296)throw new Error("string too large to encode (len = "+a+"): "+t);a>=1<<20?(e.pushByte(n.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(n.default.BINARY_20),e.pushInt20(a)):(e.pushByte(n.default.BINARY_8),e.pushByte(a)),e.pushString(t)},this.writeJid=function(e,t,a){if(e.pushByte(n.default.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(a){__LOG__(3,!0)(l(),a.message),this.writeString(e,t)}else this.writeToken(e,n.default.LIST_EMPTY);this.writeString(e,a)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var a in this.isAttr=!0,t)t[a]&&(this.writeString(e,a),this.writeString(e,t[a]));this.isAttr=!1}},this.writeChildren=function(e,t){var a;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((a=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+a);a>=1<<20?(e.pushByte(n.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(n.default.BINARY_20),e.pushInt20(a)):(e.pushByte(n.default.BINARY_8),e.pushByte(a)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");a=t.length,this.writeListStart(e,a);for(var i=0;i<a;i++)this.writeNode(e,t[i])}},this.writeListStart=function(e,t){0===t?e.pushByte(n.default.LIST_EMPTY):t<256?(e.pushByte(n.default.LIST_8),e.pushByte(t)):(e.pushByte(n.default.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,n.default.NIBBLE_8)}catch(a){__LOG__(3)(d(),a.message),this.writePackedBytesImpl(e,t,n.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,a){var i=s.default.numUtf8Bytes(t);if(i>n.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+i);var r,o=[],d=0;i%2>0&&(d=128);var l=d|Math.ceil(i/2);o.push(a),o.push(l);for(var c=Math.floor(i/2),u=0;u<c;u++)r=this.packBytePair(a,t[2*u],t[2*u+1]),o.push(r);d>0&&(r=this.packBytePair(a,t[i-1],"\0"),o.push(r));var f=new Uint8Array(o);e.pushUint8Array(f)},this.packBytePair=function(e,t,a){var i,r;switch(e){case n.default.NIBBLE_8:i=this.packNibble(t),r=this.packNibble(a);break;case n.default.HEX_8:i=this.packHex(t),r=this.packHex(a);break;default:throw new Error("invalid byte pack type: "+e)}return i<<4|r},this.packNibble=function(e){if(!i.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return i[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}};var r=i(a("dfadhaifh")),s=i(a("bfefjaegfe")),n=i(a("bhejigcige")),o=i(a("jccfhaecf"));function d(){var e=(0,r.default)(['writer:enc nib fail, try hex "','"']);return d=function(){return e},e}function l(){var e=(0,r.default)(['writer:encode-fallback "','"']);return l=function(){return e},e}function c(){var e=(0,r.default)(["writer:writeString passed non-string/wid type: ",""]);return c=function(){return e},e}},ccbgehdigj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("gfebgebbi")),l=i(a("bdjjabfecc")),c=i(a("dcdbbhicce"));class u extends s.PureComponent{constructor(...e){super(...e),this.onStop=()=>{var{liveLocation:e}=this.props.chat;e&&e.stopMyLiveLocation(),n.default.closeModal()},this.onCancel=()=>{n.default.closeModal()}}render(){var{name:e,isGroup:t}=this.props.chat,a=t?l.default.t(109,{name:e}):l.default.t(110,{name:e});return s.createElement(o.default,{onOK:this.onStop,okText:l.default.t(826),onCancel:this.onCancel},s.createElement(d.default,{text:a}))}}u.CONCERNS={chat:["name","isGroup","liveLocation"]};var f=(0,c.default)(u,u.CONCERNS);t.default=f},ccbhccfeai:function(e,t){e.exports={author:"_36EMx",hasForwarded:"_1FUM7",caption:"_1e_Zq",forwardedIndicator:"_1DRoe",hasAuthor:"_2xmaI",meta:"wo1Tv",hasCaption:"_17lIj",quote:"_3uZiO"}},ccbihadedf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgcgbfbffj")),n=i(a("cfadcbbiie")),o=r(a("dbbaabdabi")),d=a("cjbafegbjg");class l extends s.default{initializeFromCache(e){if(e){var t=n.default.globalUnixTime()-o.ConversionTupleExpiry,a=e.filter(e=>e.timestamp-t>0).map(e=>{var t=(0,d.parseConversionData)(e.conversionData);return t?e.conversionData=t:delete e.conversionData,e});this.add(a),this.saveToCache()}}}l.model=o.default,l.cachePolicy={id:"conversion_tuple",policy:s.CACHE_POLICY.LOAD,delay:1e3};var c=new l;t.default=c},ccdbdjihjh:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dcaifjegcg"));class s extends r.default{constructor(...e){super(...e),this.id=(0,r.prop)(),this.callId=(0,r.prop)(),this.isIncoming=(0,r.prop)(!1),this.isRinging=(0,r.prop)(!1),this.isInterrupted=(0,r.prop)(!1),this.isMuted=(0,r.prop)(!1),this.isTrafficStopped=(0,r.prop)(!1),this.isInvitingToGroupCall=(0,r.prop)(!1),this.isVideoStopped=(0,r.prop)(!1),this.isVideoPaused=(0,r.prop)(!1),this.isVideoDecodePaused=(0,r.prop)(!1),this.isVideoDecodeStarted=(0,r.prop)(!1),this.isOfferingVideoUpgrade=(0,r.prop)(!1)}}s.Proxy="callParticipant";var n=(0,r.defineModel)(s);t.default=n},ccdccbedad:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(1!==t.rangeCount)return;if(!t.getRangeAt(0).collapsed)return;var{anchorNode:i,anchorOffset:l}=t;if(i&&i===e.refInput){if(-1===(l-=1))return;i=i.childNodes[l],l=i.textContent.length}i=(0,o.default)(i)?d(i):i,(0,r.default)(i,e=>{var t=d(e);return t?[t]:[]},e=>{var t,r;if((0,n.isEmojiEl)(e))return t=s.default.fromNode(e,!0).toPlainString(),a(t,0,t);var o=(r=e===i?e.textContent.slice(0,l):e.textContent).lastIndexOf("\n"),d=o>=0;d&&(r=r.slice(o+1));for(var c=r.length-1;c>=0;c--)if(t=r.charAt(c),a(t,c,r))return!0;return!!d||void 0})};var r=i(a("bbiacghfif")),s=i(a("bjegdbjajg")),n=a("dfdhhbaich"),o=i(a("ccagfiehde"));function d(e){var t=e;do{if((t=t&&t.previousSibling)&&t.nodeType!==Node.TEXT_NODE&&!(0,n.isEmojiEl)(t))return null}while(t&&(0,o.default)(t));return t}},ccddejdgfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(n.default.supportsFeature(n.default.F.MD_BACKEND)){if(t){var{verifiedName:a}=t,i=r.default.gadd(e),{name:c,level:u,isApi:f,serial:h}=a;(0,o.updateContactBusinessProperties)([{id:e,name:c,level:u,isApi:f}],[i]),(0,d.createOrUpdateVerifiedBusinessName)(void 0,e,u,h,c,f)}}else l.default.queryVname(e).catchType(s.WebdDrop,()=>{})};var r=i(a("dhigahgdjb")),s=a("bgihjbde"),n=i(a("bhbdiadfhj")),o=a("cahdiidcaa"),d=a("cihghiacbi"),l=i(a("cfidecfjad"))},ccdfaeabji:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddfeabiaci")),s=i(a("debbbbibic")),n={version:"14",sendConversationPin:function(e,t,a){return new Promise((i,r)=>{var s=this.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:a?a.toString():void 0,jid:e},void 0]]);this.binSend("send",s,r,{clientCacheable:!0,onSend:this.wrap(i),onDrop:this.wrap(r)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+a].join(),metricName:"CHAT",ackRequest:!0})})}},o=(0,r.default)(n,s.default);t.default=o},ccdhaejgdh:function(e,t){e.exports={label:"_3ZCHZ",input:"_1mRZq"}},ccdjfhedcf:function(e,t){e.exports={"-color-bg-light":"#f7f7f7",colorBgLight:"#f7f7f7",panelBody:"_3RFYA",searchSpinner:"_3lDkQ",panelSearch:"h3j80"}},ccehadbeci:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ddgaeajhag")),o=r(a("cfadahgeie")),d=i(a("dcaifjegcg")),l=r(a("dbfjecijha"));function c(){var e=(0,s.default)(["model:Chat:replaceMsgsCollection:",""]);return c=function(){return e},e}function u(){var e=(0,s.default)(["models:Chat:removeMsg ",""]);return u=function(){return e},e}class f extends d.default{constructor(...e){super(...e),this.id=(0,d.prop)(),this.pendingMsgs=(0,d.prop)(),this.labels=(0,d.prop)(),this.msgChunks=(0,d.session)(()=>[]),this.lastReceivedKey=(0,d.session)(),this.unreadMsgAnchor=(0,d.session)(),this.disableUnreadAnchor=(0,d.session)(),this.msgsLength=(0,d.session)(),this.msgsChanged=(0,d.session)(0),this.msgs=(0,d.collection)(l.default)}initialize(){super.initialize(),this.listenTo(this.msgs,"change:last",()=>{this.msgsChanged++}),this.listenTo(this.msgs,"add remove bulk_add",()=>{this.msgsChanged++,this.msgsLength=this.msgs.length})}onEmptyMRM(){throw new Error("onEmptyMRM not implemented")}delete(){super.delete(),this.getAllCMCs().forEach(e=>{e.forEach(e=>{e.delete()}),e.delete()})}removeMsg(e){var t=e.msgChunk;t&&(t.indexOf(e)<0||(__LOG__(2)(u(),e.get("id")),t.remove(e),0===t.length&&(t===this.msgs?this.onEmptyMRM():this.removeMsgsCollection(t))))}getAllCMCs(){return this.msgChunks.concat([this.msgs])}getAllMsgs(){return(0,o.default)(this.getAllCMCs().map(e=>e.getModelsArray()))}replaceMsgsCollection(e){__LOG__(1)(c(),this.id.toString());var t={msg:e.last()};this.msgs.replace(e),this.notifyMsgCollectionMerge(e,this.msgs,this.msgs,t),this.msgChunks=(0,n.default)(this.msgChunks,e),e.delete()}removeMsgsCollection(e){this.msgChunks=(0,n.default)(this.msgChunks,e),e.delete()}notifyMsgCollectionMerge(e,t,a,i){this.trigger("change:cmc:merge",e,t,a,i)}}t.default=f},ccfbahfbeg:function(e,t){e.exports={metadataContainer:"_1f9aD",metadataText:"_3C41h",metadataTitle:"_1Rc2L",metadataDesc:"wrVqc",participantList:"_1Nb3_",participantsTitle:"_3Szq4",participantsContainer:"_2bsFK",participantWrapper:"lS7FT",emptyContentContainer:"_3agtm",participantsText:"oFKBa",contactsText:"_2_AhQ",participantText:"_1nLJj",inviteExpiration:"_2Ky7a",inviteExpirationIcon:"_1Ygbm"}},ccfcjccjbg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("djjeigcdbe")),o=i(a("dcaifjegcg")),d=r(a("bgfcjjddjf")),l=a("dfbbghiidh"),c=r(a("bjigbaghc")),u=r(a("hgigjbgie")),f=a("ccicaaeiaa"),h=a("ddbdgibbbi"),p=r(a("bhbdiadfhj")),g=a("eajdbbfgfg"),m=r(a("bdjjabfecc")),b=a("debfcgabcb"),v=r(a("edjgaiicj")),_=r(a("dhefcajhhb")),E=r(a("gbbacfeci")),j=r(a("jccfhaecf")),y=r(a("djbfhebjhe"));function S(){var e=(0,s.default)(["contact:onPendingActionUpdate pendingAction value is invalid"]);return S=function(){return e},e}function C(){var e=(0,s.default)(["contact:getStatus for non-user ",""]);return C=function(){return e},e}var M=/^[^0-9]+$/;class T extends o.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.name=(0,o.prop)(),this.shortName=(0,o.prop)(),this.pushname=(0,o.prop)(),this.type=(0,o.prop)("in"),this.verifiedName=(0,o.prop)(),this.isBusiness=(0,o.prop)(),this.isEnterprise=(0,o.prop)(),this.verifiedLevel=(0,o.prop)(),this.statusMute=(0,o.prop)(),this.sectionHeader=(0,o.prop)(),this.labels=(0,o.prop)(),this.isContactBlocked=(0,o.session)(!1),this.verificationString=(0,o.session)(),this.verificationBinary=(0,o.session)(),this.pendingAction=(0,o.session)(),this._notifyName=(0,o.session)(null),this.promises=(0,o.session)(()=>({})),this.status=(0,o.session)(),this.profilePicThumb=(0,o.session)(),this.businessProfile=(0,o.session)(),this.commonGroups=(0,o.session)(),this.liveLocations=(0,o.session)(),this.businessCatalog=(0,o.session)(),this.locale=(0,o.session)(),this.notifyName=(0,o.derived)(this._notifyNameFunction,["_notifyName","pushname","isBusiness","verifiedLevel","verifiedName"]),this.mentionName=(0,o.derived)(this._mentionName,["isMyContact","isBusiness","verifiedLevel","name","notifyName"]),this.displayName=(0,o.derived)(this._displayName,["id","mentionName","isMe"]),this.userid=(0,o.derived)(this._userid),this.userhash=(0,o.derived)(this._userhash),this.searchName=(0,o.derived)(this._searchName,["name","id","locale"]),this.searchVerifiedName=(0,o.derived)(this._searchVerifiedName,["verifiedLevel","verifiedName"]),this.header=(0,o.derived)(this._header,["name"]),this.isMe=(0,o.derived)(this._isMe),this.isUser=(0,o.derived)(this._isUser),this.isGroup=(0,o.derived)(this._isGroup),this.isBroadcast=(0,o.derived)(this._isBroadcast),this.isPSA=(0,o.derived)(this._isPSA),this.formattedShortNameWithNonBreakingSpaces=(0,o.derived)(this._formattedShortNameWithNonBreakingSpaces,["shortName","formattedName","id","locale"]),this.formattedShortName=(0,o.derived)(this._formattedShortName,["shortName","formattedName","id","locale"]),this.formattedName=(0,o.derived)(this._formattedName,["name","id","locale"]),this.formattedUser=(0,o.derived)(this._formattedUser,["name","id","locale"]),this.isWAContact=(0,o.derived)(this._isWAContact,["type"]),this.isMyContact=(0,o.derived)(this._isMyContact,["name"]),this.showBusinessCheckmark=(0,o.derived)(this._showBusinessCheckmark,["isBusiness","verifiedLevel","name","verifiedName"]),this.showBusinessVname=(0,o.derived)(this._showBusinessVname,["isBusiness","verifiedLevel","name","verifiedName"])}_notifyNameFunction(){return this.isBusiness&&this.verifiedLevel!==u.default.VERIFIED_LEVEL.HIGH?this.verifiedName:p.default.supportsFeature(p.default.F.CONTACT_HAS_PUSHNAME)?this.pushname:this._notifyName?this._notifyName.name:void 0}_mentionName(){return!this.isMyContact&&this.isBusiness&&this.verifiedLevel!==u.default.VERIFIED_LEVEL.HIGH?null:this.name||this.notifyName}_displayName(){return this.isMe&&c.default.pushname?c.default.pushname:this.mentionName||(0,y.default)(this.id)}_userid(){return this.isUser?j.default.user(this.id):null}_userhash(){return this.isUser?(0,v.default)((this.id.user||"")+"WA_ADD_NOTIF"):null}_searchName(){return j.default.isPSA(this.id)?m.default.accentFold(m.default.t(1791)):this.name?m.default.accentFold(this.name):null}_searchVerifiedName(){return this.verifiedLevel!==u.default.VERIFIED_LEVEL.HIGH?null:this.verifiedName?m.default.accentFold(this.verifiedName):null}_header(){if(this.name){var e=this.name.toLowerCase(),t=n.default.exec(e);if(t&&0===t.index||t&&M.test(e.slice(t.index))){var a=t[0],i=m.default.removeAccents(a);return(0,f.getCollator)().compare(i,a)?a:i}return"#"}}_isMe(){return this.id.equals((0,h.getMaybeMeUser)())}_isUser(){return j.default.isUser(this.id)}_isGroup(){return j.default.isGroup(this.id)}_isBroadcast(){return j.default.isBroadcast(this.id)}_isPSA(){return j.default.isPSA(this.id)}_formattedShortNameWithNonBreakingSpaces(){return this.id?this.isMe?m.default.t(1780):this.shortName||this.formattedName&&this.formattedName.replace(/\s/g," "):""}_formattedShortName(){return this.id?this.isMe?m.default.t(1780):this.shortName||this.formattedName:""}_formattedName(){return this.id?this.isMe?m.default.t(1780):j.default.isPSA(this.id)?m.default.t(1791):this.name?this.name:this.isUser?(0,y.default)(this.id):"":""}_formattedUser(){return this.getFormattedUser()}_isWAContact(){return this.isUser&&"in"===this.type}_isMyContact(){return!!(this.isUser&&this.name&&this.name.length)}_showBusinessCheckmark(){return this.isBusiness&&this.verifiedLevel===u.default.VERIFIED_LEVEL.HIGH&&this.name===this.verifiedName}_showBusinessVname(){return this.isBusiness&&this.verifiedLevel===u.default.VERIFIED_LEVEL.HIGH&&this.name!==this.verifiedName}initialize(){super.initialize(),this.id&&(this.isMe&&this.addChild("status",E.default.gadd(this.id)),this.isMe&&this.addChild("profilePicThumb",_.default.gadd(this.id)),this.isBusiness&&this.addChild("businessProfile",a("ejiicdbii").default.gadd(this.id)),this.listenTo(this,"change:isBusiness",()=>(0,l.onIsBusinessChange)(this)),this.listenTo(m.default,"locale_change",()=>{this.locale=m.default.getLocale()}),this.isContactBlocked=!!d.default.get(this.id),this.pendingAction=0,c.default.isSMB&&(0,b.initializeLabels)(this))}getStatus(){return j.default.user(this.id)||__LOG__(1)(C(),this.id.toString()),this.status=E.default.gadd(this.id)}getProfilePicThumb(){return this.profilePicThumb=_.default.gadd(this.id)}addPendingAction(e){if(e.isPending()){var t=()=>{this.decPending()};e.then(t,t),this.pendingAction++}return e}decPending(){this.pendingAction>0?this.pendingAction--:(__LOG__(2)(S()),this.pendingAction=0)}isBlocked(){return!!d.default.get(this.id)}searchMatch(e,t,a){var i;return(0,g.canDisplayLabel)()&&a?!(e&&this.searchName&&!this.searchName.includes(e))&&Boolean(null===(i=this.labels)||void 0===i?void 0:i.includes(a)):!!e&&(!(!this.searchName||!this.searchName.includes(e))||(!(!this.userid||!this.userid.includes(e))||(!!(t&&this.userid&&this.userid.includes(t))||(!(!this.searchVerifiedName||!this.searchVerifiedName.includes(e))||!(!this.pushname||!m.default.accentFold(this.pushname).includes(e))))))}getFormattedUser(){return this.id?j.default.isPSA(this.id)?m.default.t(1791):this.name?this.name:(0,y.default)(this.id):""}updateNotifyName(e,t){(!this._notifyName||this._notifyName.t<t)&&(this._notifyName={name:e,t:t},this.trigger("change:_notifyName",e))}set(e,t,a){var i=super.set(e,t,a);if("string"!=typeof e&&t&&t.merge&&i){if(i.isPSA)return i;!e.name&&i.name&&(i.unset("name"),i.unset("shortName")),!e.verifiedName&&i.verifiedName&&i.unset("verifiedName")}return i}getCollection(){return a("dhigahgdjb").default}}T.Proxy="contact",T.idClass=j.default;var P=(0,o.defineModel)(T);t.default=P},ccfeegdgeg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbiiibeefc")),o=i(a("dgdcjccfdi"));class d extends s.PureComponent{render(){var e=this.props.onClose?s.createElement("div",{className:n.default.closeBtn,role:"button",onClick:this.props.onClose},s.createElement(o.default,{name:"x"})):null;return s.createElement("div",{className:n.default.subheader},s.createElement("div",{className:n.default.main},this.props.children),e)}}t.default=d},ccfehggbjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(0),a.e(7)]).then(a.t.bind(null,"daaiadbhjc",7)).then(e=>e.default),"InfoFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},ccffgjicjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.resolve():s.default.sendMessagePlayed(e.id).then(()=>{})};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},ccfjbcbbga:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=t.OUTWARD_TYPES=t.STAGE=t.UPLOAD_STAGE=t.DOWNLOAD_STAGE=t.MSG_SPECIFIC_FIELDS=t.FIELDS=t.MEDIA_MSG_PROPS=t.MAPPED_STICKER_PROPS=t.MAPPED_MEDIA_PROPS=t.MAPPED_MSG_PROPS=t.MSG_TO_MEDIA=t.MEDIA_TO_MSG=void 0;var i=Object.freeze({preview:"body",mediaKey:"mediaKey",mediaKeyTimestamp:"mediaKeyTimestamp",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",fullHeight:"height",fullWidth:"width",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",sidecar:"streamingSidecar",subtype:"subtype",firstFrameLength:"firstFrameLength",firstFrameSidecar:"firstFrameSidecar",isAnimated:"isAnimated",isVcardOverMmsDocument:"isVcardOverMmsDocument",isViewOnce:"isViewOnce"});t.MEDIA_TO_MSG=i;var r=Object.freeze({body:"preview",directPath:"directPath",mediaKey:"mediaKey",mediaKeyTimestamp:"mediaKeyTimestamp",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",height:"fullHeight",width:"fullWidth",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",streamingSidecar:"sidecar",subtype:"subtype",firstFrameLength:"firstFrameLength",firstFrameSidecar:"firstFrameSidecar",isAnimated:"isAnimated",isVcardOverMmsDocument:"isVcardOverMmsDocument",isViewOnce:"isViewOnce"});t.MSG_TO_MEDIA=r;var s=Object.keys(r);t.MAPPED_MSG_PROPS=s;var n=Object.keys(i);t.MAPPED_MEDIA_PROPS=n;t.MAPPED_STICKER_PROPS=["filehash","height","mimetype","size","type","width"];var o=[...s,"clientUrl","uploadhash","streamable"];t.MEDIA_MSG_PROPS=o;var d=Object.freeze({VIDEO:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview","duration","durationFloat","isViewOnce"]),AUDIO:Object.freeze(["duration"]),IMAGE:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview","isViewOnce"]),PRODUCT:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),STICKER:Object.freeze(["animationDuration","singleLoopDuration","emojis","firstFrameLength","firstFrameSidecar","isAnimated","fullWidth","fullHeight","preview","rgbaBuffer","rgbaWidth","rgbaHeight","aspectRatio"]),STICKER_PACK:Object.freeze([]),DOCUMENT:Object.freeze(["aspectRatio","pageCount","preview","isVcardOverMmsDocument","parsedVcards","microThumbnail","fullPreviewData","fullPreviewSize"]),RAW:Object.freeze(["mediaBlob","size","filehash","progressiveStage"])});t.FIELDS=d;t.MSG_SPECIFIC_FIELDS=["type","filename","caption","isGif","gifAttribution","mimetype","pageCount","sidecar","subtype","isViewOnce"];t.DOWNLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",PROCESSING:"PROCESSING",NEED_POKE:"NEED_POKE",ERROR_MISSING:"ERROR_MISSING",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",PROGRESSIVE_READY:"PROGRESSIVE_READY",RESOLVED:"RESOLVED"};t.UPLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",UPLOADED:"UPLOADED"};t.STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",SENDING:"SENDING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",DECRYPTING:"DECRYPTING",RESOLVED:"RESOLVED",NEED_POKE:"NEED_POKE",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",PROGRESSIVE_READY:"PROGRESSIVE_READY",REMOTE_UPLOADING:"REMOTE_UPLOADING",REMOTE_NEED_UPLOAD:"REMOTE_NEED_UPLOAD"};t.OUTWARD_TYPES={IMAGE:"image",VIDEO:"video",AUDIO:"audio",PTT:"ptt",STICKER:"sticker",DOCUMENT:"document",PRODUCT:"product",UNKNOWN:"unknown"};var l=Object.freeze({VIDEO:"VIDEO",IMAGE:"IMAGE",AUDIO:"AUDIO",STICKER:"STICKER",DOCUMENT:"DOCUMENT",PRODUCT:"PRODUCT"});t.TYPE=l},ccfjgbibc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.startMemoryWamStat=function(){if(!f())return;setInterval(()=>{new o.default.WebcMemoryStat((0,s.default)((0,s.default)({},(0,l.default)(f(),"getMemoryInfo()")),{},{hasVerifiedNumber:c.default.mode===c.StreamMode.MAIN,numMessages:d.default.length})).commit()},n.default.MEMORY_METRIC_INTERVAL)},t.getMemoryTableRows=function(){var e=f();return e?Promise.resolve([{label:"Main Window",memory:e.usedJsHeapSize/1024,uptime:e.uptime}]):Promise.resolve()};var s=r(a("cdfdfciehj")),n=r(a("hgigjbgie")),o=r(a("bdcchebfge")),d=r(a("biecbbiiee")),l=r(a("cahfddcdga")),c=i(a("dcdiaahjj")),u=Date.now();function f(){var e=performance&&performance.memory;if(e)return{uptime:(Date.now()-u)/1e3,jsHeapSizeLimit:e.jsHeapSizeLimit,totalJsHeapSize:e.totalJSHeapSize,usedJsHeapSize:e.usedJSHeapSize}}},ccfjghjbdi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cbhbjajgac"));class s extends r.default{}t.default=s,s.mutates=!0,s.mutate=(e,t)=>"@".concat(t.displayName)},ccgeihgjja:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(8===e.keyCode)return function(e,t){if(t.isComposing)return!1;var a=window.getSelection();return function(e,t,a){if(!t.modify)return!1;var{refInput:i}=a,s=(0,r.default)(i,r.Direction.BACKWARD);if(!s)return!1;if(n=s,!Boolean(n&&n.dataset&&n.dataset.replacedEmojiText))return!1;var n;t.modify("extend","backward","character"),t.modify("move","backward","character");var o=s.dataset.replacedEmojiText,d=s.parentNode;if(!d)return!1;d.replaceChild(document.createTextNode(o+" "),s);for(var l=o.length,c=0;c<l+1;c++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}(0,a,t)}(0,t);return!1};var r=i(a("cdahgajfeb"))},ccgibcaehh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("eecfidjif"));class o extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.products=(0,s.prop)(),this.itemCount=(0,s.prop)(),this.total=(0,s.prop)(),this.currency=(0,s.prop)()}countTotals(){var e=this.cartItemCollection.reduce((e,t)=>(e.currency.add(t.currency),{itemCount:e.itemCount+t.quantity,total:e.total+t.quantity*t.priceAmount1000,currency:e.currency}),{itemCount:0,total:0,currency:new Set}),t=1===e.currency.size,a={itemCount:e.itemCount,total:t?e.total:null,currency:t?e.currency.values().next().value:null};this.set(a,{silent:!0})}initialize(){super.initialize(),this.cartItemCollection=new n.default,this.listenTo(this,"change:products",this.countTotals),this.countTotals()}getCollection(){return a("dhefebafbj").default}}o.Proxy="cart";var d=(0,s.defineModel)(o);t.default=d},cchbfbgdii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["privacy","blacklist","whitelist","verify"]}},cchccghbgd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=i(a("dcaifjegcg")),o=r(a("djejededad")),d=r(a("daahcdbfj"));class l extends n.default{constructor(...e){super(...e),this.id=(0,n.prop)(),this.products=(0,n.prop)(),this.itemCount=(0,n.prop)(),this.subtotal=(0,n.prop)(),this.tax=(0,n.prop)(),this.total=(0,n.prop)(),this.currency=(0,n.prop)(),this.createdAt=(0,n.prop)(),this.sellerJid=(0,n.prop)(),this.totalItemCount=(0,n.derived)(this._totalItemCount,["products"])}_totalItemCount(){return this.products.reduce((e,t)=>e+t.quantity,0)}initialize(){super.initialize(),this.orderItemCollection=new d.default,this.listenTo(this,"change:products",this.triggerItemCollectionUpdate),this.triggerItemCollectionUpdate()}triggerItemCollectionUpdate(){this.orderItemCollection.add(this.products.map(e=>new o.default((0,s.default)({},e))),{merge:!0})}getCollection(){return a("cjfjiidcae").default}}l.Proxy="order";var c=(0,n.defineModel)(l);t.default=c},cchfggidbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return(0,s.default)(e,(function(i){if(i.signal.aborted)throw new r.default;var s=e(i);return t.get(s,i).then(e=>{if(i.signal.aborted)throw new r.default;return null!=e?e:a(i).then(e=>{if(i.signal.aborted)throw new r.default;return t.set(s,e,i).then(()=>e)})})}))};var r=i(a("cgijjjgici")),s=i(a("cjbdijighi"))},ccicaaeiaa:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getCollator=function(){return r},t.default=void 0;var r,s=i(a("ccbgfecegc")),n=i(a("hgigjbgie")),o=a("ddbdgibbbi");d(),s.default.on("set_locale",d);function d(e=n.default.L10N.DEFAULT){if(window.Intl&&window.Intl.Collator){var t=window.Intl.Collator([e],{sensitivity:"base"});r={compare(e,a){try{return t.compare(e,a)}catch(e){return 0}}}}else r={compare:(e,t)=>e.localeCompare(t)}}var l=(e,t)=>{var a=e.id.toString(),i=t.id.toString(),s=(0,o.getMaybeMeUser)(),n=s&&s.toString();if(a===n)return 1;if(i===n)return-1;var d=e.name,l=t.name;if(!d&&l)return 1;if(d&&!l)return-1;if(d&&l&&e.header&&t.header){var c=r.compare(e.header,t.header);return 0===c?r.compare(d,l):c}return a&&i?a.localeCompare(i):-1};t.default=l},ccicababhd:function(e,t){e.exports={container:"bODxg",quotedMsg:"i8New",statusV3QuotedMsg:"vmSwy",composeBoxQuotedMsg:"ty4rx",hover:"_1P1on",colorBar:"_1SmnQ",msgBody:"_3k8SE",msgText:"_1Dook"}},cciddfgfcg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{forwardedRef:t}=e,a=(0,n.default)(e,["forwardedRef"]);return o.createElement(g,(0,s.default)({ref:t},a))};var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=i(a("ddhijeejag")),d=i(a("bjjdjibgad")),l=r(a("dbihbjdhgj")),c=r(a("bhbdiadfhj")),u=a("beeafhbcfh"),f=r(a("bfgbdiffgd")),h=i(a("dfiaecbgfh")),p=r(a("cgjdibiahi"));class g extends o.PureComponent{constructor(e){super(e),this.restoreFocus=e=>{switch(this.props.selectedPanelId){case u.PANELS.STICKER:this._refStickerPanel&&this._refStickerPanel.restoreFocus();break;case u.PANELS.GIF:this._refGifPanel&&this._refGifPanel.restoreFocus(e);break;case u.PANELS.EMOJI:default:this._refEmojiPanel&&this._refEmojiPanel.restoreFocus(e)}},this._setRefEmojiPanel=e=>{this._refEmojiPanel=e},this._setRefGifPanel=e=>{this._refGifPanel=e},this._setRefStickerPanel=e=>{this._refStickerPanel=e},this._handleEmojiPanelDisplayCache=e=>{this._emojiPanelDisplayCache=e,this._triggerDisplayCache()},this._handleEmojiPanelFocusNext=()=>{this.props.onPanelChange(u.PANELS.GIF)},this._handleEmojiPanelFocusPrev=()=>{this.props.onFocusRelease()},this._handleGifPanelDisplayCache=e=>{this._gifPanelDisplayCache=e,this._triggerDisplayCache()},this._handleTextChange=e=>{this.setState({searchText:e})},this._handleGifPanelFocusNext=()=>{f.default.stickers&&c.default.supportsFeature(c.default.F.STICKER_PACK_QUERY)?this.props.onPanelChange(u.PANELS.STICKER):this.props.onFocusRelease()},this._handleGifPanelFocusPrev=()=>{this.props.onPanelChange(u.PANELS.EMOJI)},this._handleRequestFocus=()=>{this.restoreFocus(!1)},this._handleStickerPanelDisplayCache=e=>{this._stickerPanelDisplayCache=e,this._triggerDisplayCache()},this._handleStickerPanelFocusNext=()=>{this.props.onFocusRelease()},this._handleStickerPanelFocusPrev=()=>{this.props.onPanelChange(u.PANELS.GIF)},e.displayCache&&(this._emojiPanelDisplayCache=e.displayCache.emojiPanel,this._gifPanelDisplayCache=e.displayCache.gifPanel,this._stickerPanelDisplayCache=e.displayCache.stickerPanel),this.state={searchText:""}}_triggerDisplayCache(){this.props.onDisplayCache({emojiPanel:this._emojiPanelDisplayCache,gifPanel:this._gifPanelDisplayCache,stickerPanel:this._stickerPanelDisplayCache})}render(){var e=null;switch(this.props.selectedPanelId){case u.PANELS.STICKER:e=o.createElement(h.default,{ref:this._setRefStickerPanel,displayCache:this._stickerPanelDisplayCache,displayLocation:h.DISP_LOCATION.COMPOSE_BOX,onChange:this._handleTextChange,defaultSearchText:this.state.searchText,onDisplayCache:this._handleStickerPanelDisplayCache,onFocusPrev:this._handleStickerPanelFocusPrev,onFocusNext:this._handleStickerPanelFocusNext,onSticker:this.props.onSticker});break;case u.PANELS.EMOJI:default:e=o.createElement(d.default,{ref:this._setRefEmojiPanel,displayCache:this._emojiPanelDisplayCache,width:this.props.width,displayLocation:d.DISP_LOCATION.COMPOSE_BOX,onChange:this._handleTextChange,defaultSearchText:this.state.searchText,onDisplayCache:this._handleEmojiPanelDisplayCache,onEmoji:this.props.onEmoji,onFocusPrev:this._handleEmojiPanelFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext});break;case u.PANELS.GIF:e=o.createElement(l.default,{ref:this._setRefGifPanel,displayCache:this._gifPanelDisplayCache,onChange:this._handleTextChange,defaultSearchText:this.state.searchText,onDisplayCache:this._handleGifPanelDisplayCache,onFocusRelease:this.props.onFocusRelease,onFocusNext:this._handleGifPanelFocusNext,onFocusPrev:this._handleGifPanelFocusPrev,onGif:this.props.onGif})}return o.createElement(p.default,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:this.props.requestDismiss,requestFocus:this._handleRequestFocus},e)}}},ccigcidgc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({auth:e,directPath:t,encFilehash:a,hostname:i,type:r}){return t&&e?function({auth:e,directPath:t,encFilehash:a,hostname:i,query:r}){var s=new URL(t,"https://".concat(i));if(s.hostname!==i)throw __LOG__(4,!1,new Error)(l(),s.hostname,i,t),SEND_LOGS("malicious directPath"),new Error("malicious directPath");var n=s.searchParams||new d.default(s.search);return n.set("auth",e),n.set("hash",(0,o.default)(a)),Object.keys(r).forEach(e=>{var t=r[e];n.set(e,t)}),"https://".concat(s.host).concat(s.pathname,"?").concat(n.toString())}({auth:e,encFilehash:a,hostname:i,directPath:t,query:{[n.MMS_URL_MEDIA_TYPE_SEARCH_PARAM]:r,[n.IS_MMS_URL_SEARCH_PARAM]:""}}):(0,s.default)({hostname:i,type:r,encFilehash:a,query:{[n.IS_MMS_URL_SEARCH_PARAM]:""}})};var r=i(a("dfadhaifh")),s=i(a("bebbbiiie")),n=a("caaebedhfb"),o=i(a("ebfbbaecji")),d=i(a("ddfjdghbjb"));function l(){var e=(0,r.default)(["url.hostname: ",", hostname: ",", directPath: ",""]);return l=function(){return e},e}},ccjaadabd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49,QUERY_NOTICE_STATE:50};t.default=i},ccjcgfcjda:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh"));function s(){var e=(0,r.default)(["wap:mediaUpload:missing-field"]);return s=function(){return e},e}function n(){var e=(0,r.default)(["wap:mediaUpload:missing-field"]);return n=function(){return e},e}function o(){var e=(0,r.default)(["wap:mediaUpload:error ",""]);return o=function(){return e},e}function d(){var e=(0,r.default)(["wap:mediaUpload:malformed"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["bin-recv: response,media"]);return l=function(){return e},e}var c=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],u=["url","mediaKey","filehash","encFilehash","mimetype"];function f(e,t){for(var a=0;a<t.length;a++)if(!e[t[a]])return!1;return!0}var h={mediaUpload:function(e,t){return new Promise((a,i)=>{var r=this.queryNode({type:"media",kind:e,id:t.toString()},void 0);this.binSend("sendEphemeral",r,i,{onSend:this.binWrap(t=>{this.BinaryProtocol.read(t).then(t=>{if(__LOG__(2)(l()),"response"!==this.N.tag(t)||"media"!==this.N.attr("type",t))return __LOG__(3)(d()),void a({status:400});var i=parseInt(this.N.attr("code",t),10)||200;if(200!==i)return __LOG__(3)(o(),i),void a({status:i});switch(e){case"sticker":var r={directPath:this.N.attr("direct_path",t),url:this.N.attr("url",t),filehash:this.N.attr("filehash",t),encFilehash:this.N.attr("enc_filehash",t),mediaKey:this.N.attr("media_key",t),mimetype:this.N.attr("mimetype",t),height:this.N.attr("height",t),width:this.N.attr("width",t)};return f(r,c)?void a({status:i,sticker:r}):(__LOG__(3)(n()),void a({status:400}));case"sticker-pack":var h={directPath:this.N.attr("direct_path",t),url:this.N.attr("url",t),filehash:this.N.attr("filehash",t),encFilehash:this.N.attr("enc_filehash",t),mediaKey:this.N.attr("media_key",t),mimetype:this.N.attr("mimetype",t)};return f(h,u)?void a({status:i,stickerPack:h}):(__LOG__(3)(s()),void a({status:400}));case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error("unknown kind ".concat(e))}})},a),onDrop:this.wrap(i)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})}};t.default=h},ccjiahibgf:function(e,t){e.exports={chatSubtitle:"_2Gdma",chatSubtitleHeader:"_2amHe",chatSubtitleText:"_3Id9P"}},cdaacjiegb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatOversizedMsgText=function(){return s.default.isElectron?r.default.t(1079):r.default.t(1080)},t.formatOversizedMsgNotification=function(){return r.default.t(1080)};var r=i(a("bdjjabfecc")),s=i(a("bcjcbbafcj"))},cdaedfafjc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerPack=t.PRE_PLACEHOLDER_ID=void 0;var s=r(a("dfadhaifh")),n=i(a("dcaifjegcg")),o=r(a("dcjigehfeb")),d=a("ccfjbcbbga"),l=r(a("cgejbjhjej"));function c(){var e=(0,s.default)(["id: ",", error: ",""]);return c=function(){return e},e}t.PRE_PLACEHOLDER_ID="placeholder:";var u=({index:e,page:t})=>new h({id:"".concat("placeholder:").concat(e),index:e,page:t});class f extends n.default{constructor(...e){super(...e),this.id=(0,n.prop)(),this.index=(0,n.prop)(),this.name=(0,n.prop)(),this.page=(0,n.prop)(),this.url=(0,n.prop)(),this.mimetype=(0,n.prop)("image/png"),this.mediaData=(0,n.session)(),this.mediaObject=(0,n.prop)(),this.directPath=(0,n.prop)(),this.filehash=(0,n.prop)(),this.mediaKey=(0,n.prop)(),this.mediaKeyTimestamp=(0,n.prop)(),this.size=(0,n.prop)(),this.type=(0,n.prop)(d.OUTWARD_TYPES.IMAGE),this.uploadhash=(0,n.prop)(),this.clientUrl=(0,n.derived)(this._clientUrl,["url","isFirstParty"]),this.stickers=(0,n.derived)(this._getStickersCollection,["id"]),this.isPlaceholder=(0,n.derived)(this._isPlaceholder,["id"]),this.isFirstParty=(0,n.derived)(this._isFirstParty,["url","mediaKey"])}_clientUrl(){return this.isFirstParty?"":this.url}_isPlaceholder(){return f.isPlaceholderId(this.id)}_isFirstParty(){return Boolean(this.url)&&!this.mediaKey}_getStickersCollection(){return this._stickers=this._stickers||new l.default(this.id.split("#")[0]),this._stickers}initialize(){super.initialize(),this.isPlaceholder||this.isFirstParty||(this.addChild("mediaData",new o.default({renderableUrl:""})),a("cjahggceac").registerStickerPackIcon(this))}downloadMedia(){return this.isPlaceholder||this.isFirstParty?Promise.resolve():a("cjahggceac").downloadStickerOrStickerPackIcon(this,"STICKER_PACK").catch(e=>{__LOG__(4,!1,new Error)(c(),this.id,String(e.stack||e)),SEND_LOGS("sticker-panel:sticker-pack download failed")})}delete(){super.delete(),a("cjahggceac").deregisterStickerPackIcon(this)}}t.StickerPack=f,f.Proxy="stickerPack",f.createPlaceholder=u,f.isPlaceholderId=e=>new RegExp("^".concat("placeholder:")).test(e);var h=(0,n.defineModel)(f),p=h;t.default=p,h.createPlaceholder=u,h.isPlaceholderId=f.isPlaceholderId},cdagfedaaf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.startOfDaySkew;if(void 0!==t&&t>s.default.skew-30&&t<s.default.skew+30)return e.startOfDay;return e.startOfDaySkew=s.default.skew,e.startOfDay=r.default.unix(e.t+s.default.skew).startOf("day").unix()};var r=i(a("dgdjiicfdg")),s=i(a("cfadcbbiie"))},cdahgajfeb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=window.getSelection();if(!a||!a.rangeCount)return null;var i=a.getRangeAt(0);if(!i.collapsed)return null;var{startContainer:s,startOffset:n}=i;if(s===e){var{childNodes:o}=s,{length:d}=o;if(t===r.FORWARD&&n>d||t===r.BACKWARD&&!n)return null;var l=t===r.BACKWARD?1:0,c=o[n-l];return c instanceof Element?c:null}var u=s.length===n;if(t===r.BACKWARD&&n)return null;if(t===r.FORWARD&&!u)return null;var f=t===r.BACKWARD?"previousSibling":"nextSibling",h=s[f];return h instanceof Element?h:null},t.Direction=void 0;var r=(0,i(a("chgaccicf")).default)({FORWARD:void 0,BACKWARD:void 0});t.Direction=r},cdahjdgdad:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;if(!r.default.supportsFeature(r.default.F.MD_BACKEND))return s.default.queryExist(e).then(e=>200===e.status?{wid:e.jid,biz:e.biz||!1}:null);t||(t=Promise.reject(new Error("Should not reach queryExists MD")));return t};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},cdbgdedbdh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aspectRatioScaled=function(e,t){return"number"!=typeof e||e<0||e!=e?{width:t,height:t}:e>1?{width:t,height:Math.max(t/e,1)}:{width:Math.max(t*e,1),height:t}},t.boundHeightWidth=function(e,t,a){var i=null!=t?t:a,r=null!=e?e:a;i>r?i>a&&(r*=a/i,i=a):r>a&&(i*=a/r,r=a);return{width:Math.max(i,1),height:Math.max(r,1)}},t.rotatePoint=function(e,t,a){var i=a*Math.PI/180;return{x:Math.cos(i)*e+Math.sin(i)*t,y:-Math.sin(i)*e+Math.cos(i)*t}}},cdbiieagei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("ihfehgab"),o=i(a("cbhdjecbdf"));class d extends s.PureComponent{render(){return s.createElement(o.default,{type:n.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onAspectRatio:this.props.onAspectRatio,autoPlay:this.props.autoPlay})}}t.default=d},cdciigjegj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPanelNoResults=h,t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bdjjabfecc")),o=i(a("ebddggeaib")),d=i(a("cjfhhbcfdh")),l=i(a("bfighhgdhb")),c=i(a("dgcjjbdicd"));class u extends s.PureComponent{constructor(...e){super(...e),this._setRefScrollGrid=e=>{this._refScrollGrid=e}}focus(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}render(){return 0===this.props.stickers.length?s.createElement(h,null):s.createElement(c.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerClick,stickers:this.props.stickers})}}var f=(0,o.default)(u);function h(){return s.createElement("div",{className:l.default.emptyContainer},s.createElement("div",{className:l.default.emptySticker,style:{backgroundImage:"url(".concat(d.default,")")}}),s.createElement("p",{className:l.default.emptyText},n.default.t(1047)))}t.default=class extends f{focus(e){this.getComponent().focus(e)}}},cdcijfdgje:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LiveLocationCollection=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("cgcgbfbffj")),o=i(a("cfadcbbiie")),d=i(a("hgigjbgie")),l=i(a("dhigahgdjb")),c=a("bgihjbde"),u=i(a("bieicghjif")),f=a("hjbbdjjdf"),h=i(a("cfidecfjad")),p=i(a("jccfhaecf"));function g(){var e=(0,s.default)(["Assertion failed!"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["Assertion failed!"]);return m=function(){return e},e}function b(){var e=(0,s.default)(["models:liveLocation:handle unrecognized payload"]);return b=function(){return e},e}function v(){var e=(0,s.default)(["models:liveLocation:handle unknown type: ",""]);return v=function(){return e},e}function _(){var e=(0,s.default)(["model:LiveLocation:getActive error ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["liveLocation:participant query not implemented on the phone"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["model:LiveLocation:_find error ",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["liveLocation:subscribe query not implemented on the phone"]);return y=function(){return e},e}class S extends n.default{_find(e){return p.default.isUser(e)||p.default.isGroup(e)?h.default.subscribeLiveLocation(e,!0).then(t=>{if(t.status&&t.status>=400)return 499===t.status?__LOG__(2)(y()):__LOG__(3)(j(),t.status),Promise.reject(t.status);var a=(0,f.isNumber)(t.duration)?t.duration:void 0,i=t.participants?t.participants.map(e=>(0,r.default)((0,r.default)({},this._extractLocationFields(e)),{},{id:e.id,expiration:0===e.expiration?1/0:e.expiration})):[];return{id:e,duration:a,participants:i}}):Promise.reject(new Error("invalid wid for live location: "+e))}getActive(e){return p.default.isUser(e)||p.default.isGroup(e)?h.default.queryActiveLiveLocation(e).then(t=>{if(t.status&&t.status>=400)return 499===t.status?__LOG__(2)(E()):__LOG__(3)(_(),t.status),Promise.reject(t.status);if(t.participants&&t.participants.length){var a=t.participants.map(e=>({id:e.id,expiration:0===e.expiration?1/0:e.expiration}));this.add({id:e,participants:a},{merge:!0})}}).catchType(c.WebdDrop,()=>{}):Promise.reject(new Error("invalid wid for live location: "+e))}onResume(){this.filter(e=>e.active&&e.hasParticipants()).forEach(e=>{this.update(e.id)})}handle(e){Array.isArray(e)?e.forEach(e=>{switch(e.type){case"update":var t=this._extractLocationFields(e),a=l.default.get(e.jid);a&&a.liveLocations&&a.liveLocations.forEach(e=>e.set(t));break;case"disable":var i=this.get(e.chat);if(i){var r=i.participants.get(e.jid);r&&(e.seq>r.sequence||-1===e.seq)&&r.disable()}break;default:__LOG__(3)(v(),e.type)}}):__LOG__(3)(b())}processMsg(e,t=!1){e.type===d.default.MSG_TYPE.LOCATION&&e.isLive||(__LOG__(4,!1,new Error)(m()),SEND_LOGS("collection:liveLocation trying to process non live-location msg"));var a=e.id.remote,{lat:i,lng:r,accuracy:s,speed:n,degrees:l,sequence:c,comment:u,shareDuration:f,t:h}=e;if(h&&f){var p=h+f;if(!(p<=o.default.globalUnixTime())){var g={id:e.sender,lat:i,lng:r,accuracy:s,speed:n,degrees:l,sequence:c,comment:u,expiration:p,lastUpdated:h,msg:e};-1===c&&delete g.sequence;var b=this.get(a);if(b){var v=b.participants.get(g.id);if(t)return void(v&&v.lastUpdated<=g.lastUpdated&&v.set(g));if(v&&b.participants.removeParticipant(v),b.hasParticipants())return void b.participants.add(g)}this.add({id:a,participants:[g]})}}}removeMsg(e){e.type===d.default.MSG_TYPE.LOCATION&&e.isLive||(__LOG__(4,!1,new Error)(g()),SEND_LOGS("collection:liveLocation trying to remove non live-location msg"));var t=e.id.remote,a=e.sender,i=this.get(t);i&&i.participants.remove(a)}_extractLocationFields(e){return void 0===e.lat||void 0===e.lng?{}:{lastUpdated:o.default.globalUnixTime()-e.elapsed,lat:e.lat,lng:e.lng,accuracy:e.accuracy,speed:e.speed,degrees:e.degrees,comment:e.comment}}}t.LiveLocationCollection=S,S.model=u.default,S.staleCollection=!0,S.resumeOnAvailable=!0;var C=new S;t.default=C},cddfegbdha:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bgjbchbhhc",7)).then(e=>e.default),"ContactMsgInfoFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(889),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},cddgfddjc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.groupMenu=function(e,t){var a=[];a.push(s.createElement(d.default,{key:"info",a8n:"mi-group-info",action:()=>n.default.chatInfoDrawer(e)},l.default.t(1573))),a.push(s.createElement(d.default,{a8n:"mi-select-messages",key:"select",action:t},l.default.t(1717))),e.mute.canMute()&&a.push(s.createElement(c.default,{key:"mute",onMute:t=>n.default.muteChat(e,t),mute:e.mute}));return a.push(s.createElement(d.default,{key:"clear",a8n:"mi-clear",action:()=>n.default.clearChatMsgs(e)},l.default.t(423))),a.push(s.createElement(o.default,{key:"delete",onDeleteOrExit:()=>n.default.deleteOrExitChat(e),chat:e})),a},t.broadcastMenu=function(e,t){var a=[];return a.push(s.createElement(d.default,{key:"info",a8n:"mi-broadcast-info",action:()=>n.default.chatInfoDrawer(e)},l.default.t(1622))),a.push(s.createElement(d.default,{a8n:"mi-select-messages",key:"select",action:t},l.default.t(1717))),a.push(s.createElement(d.default,{key:"clear",a8n:"mi-clear",action:()=>n.default.clearChatMsgs(e)},l.default.t(423))),a.push(s.createElement(o.default,{key:"delete",onDeleteOrExit:()=>n.default.deleteOrExitChat(e),chat:e})),a};var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("dhbeaehhef")),d=i(a("dgebcfedgb")),l=i(a("bdjjabfecc")),c=i(a("cbjdbjecfg"))},cdeaejdeib:function(e,t){e.exports={quote:"_3fs13",forwarded:"HNdof",hasAuthor:"cln10",hasSuspiciousLinks:"_1Ggj_",linkPreview:"_3M2yQ",meta:"_2CsKM",title:"_9vf0c"}},cdecadehag:function(e,t){e.exports={wrapper:"_20adz",wrapperIn:"_3wdcN",wrapperOut:"Wkfjh",posBottom:"_2Ldsc",posTop:"_2I-n2"}},cdeehfbaib:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.onChangeNumberNotificationClick=v,t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cagaiadjai")),o=i(a("cafcgjgibg")),d=i(a("dbdfbgehgj")),l=i(a("ccbgfecegc")),c=i(a("dhigahgdjb")),u=i(a("ccfeegdgeg")),f=i(a("bdjjabfecc")),h=i(a("cahfddcdga")),p=i(a("dcdbbhicce")),g=a("dhhjhedjij"),m=i(a("didfdhbecg")),b=i(a("djbfhebjhe"));function v(e,t){var a=d.default.gadd(e);a.changeNumberOldJid||(a.changeNumberOldJid=t),a.changeNumberNewJid=void 0,l.default.openChatFromUnread(a).then(e=>{e&&l.default.focusChatTextInput(a)})}class _ extends s.Component{constructor(...e){super(...e),this.messageNewNumber=()=>{var{changeNumberNewJid:e}=this.props.chat,t=this.props.chat.id;v((0,h.default)(e,"changeNumberNewJid"),t)},this.dismissChangeNumberNotification=()=>{this.props.chat.sendDismissChangeNumber()}}isOldChat(){var{changeNumberOldJid:e,changeNumberNewJid:t}=this.props.chat;return void 0===e&&void 0!==t}isNewChat(){var{changeNumberOldJid:e,changeNumberNewJid:t}=this.props.chat;return void 0!==e&&void 0===t}getText(){var{changeNumberOldJid:e,id:t}=this.props.chat,a=e||t,i=c.default.get(a),r=i&&i.isMyContact?i.formattedName:(0,b.default)(a);return this.isNewChat()?f.default.t(392,{name:r}):f.default.t(393,{name:r})}render(){var e=null;if(this.props.chat.showChangeNumberNotification){var t=this.isOldChat()?s.createElement("div",{className:o.default.messageNewNumberButton},s.createElement(n.default,{onClick:this.messageNewNumber,type:"plain-white",nowrap:!0},f.default.t(391))):null;e=s.createElement(u.default,{onClose:this.dismissChangeNumberNotification},s.createElement("div",{className:o.default.container},s.createElement(g.TextSpan,{theme:"plain",className:o.default.text},this.getText()),t))}return s.createElement(m.default,{transitionName:"butterbar"},e)}}_.CONCERNS={chat:["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]};var E=(0,p.default)(_,_.CONCERNS);t.default=E},cdejbeiiha:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"JSXSerializer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"TextSerializer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"UnformatSerializer",{enumerable:!0,get:function(){return n.default}});var r=i(a("ecbafeecfe")),s=i(a("gbfcbchfd")),n=i(a("daejhbgabi"))},cdfccifhg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(...e){var t=e.reduce((e,t)=>e+t.byteLength,0),a=new Uint8Array(t),i=0;return e.forEach(e=>{a.set(new Uint8Array(e),i),i+=e.byteLength}),a.buffer}},cdfejjabfa:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.ExpiredLocationDrawerLoadable=t.LiveLocationDrawerLoadable=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"cdjefgbie",7)).then(({LiveLocationDrawer:e,ExpiredLocationDrawer:t})=>({LiveLocationDrawer:e,ExpiredLocationDrawer:t})),"LiveLocationDrawer");t.requireBundle=c;var u=(0,n.default)({loader:()=>c().then(e=>e.LiveLocationDrawer),loading:e=>s.createElement(l.default,{title:d.default.t(828),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.LiveLocationDrawerLoadable=u;var f=(0,n.default)({loader:()=>c().then(e=>e.ExpiredLocationDrawer),loading:e=>s.createElement(l.default,{title:d.default.t(804),error:Boolean(e.error),retry:e.retry}),delay:o.default.LOADABLE_DELAY});t.ExpiredLocationDrawerLoadable=f},cdfijgbhej:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var s=r(a("dfadhaifh")),n=r(a("dbdfbgehgj")),o=r(a("ccbgfecegc")),d=r(a("hgigjbgie")),l=r(a("dhigahgdjb")),c=r(a("cijheiibhg")),u=r(a("cccehdaiaf")),f=a("ddbdgibbbi"),h=r(a("bdcchebfge")),p=r(a("biecbbiiee")),g=a("bcjidabgad"),m=r(a("ebdjfhgggg")),b=i(a("dcdiaahjj"));function v(){var e=(0,s.default)(["One or more of the login timings was not logged: "]);return v=function(){return e},e}function _(){var e=(0,s.default)(["wam:Error comitting login event"]);return _=function(){return e},e}function E(){return Math.floor(window.performance.now())}class j extends u.default{constructor(){super(),this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},window.performance&&window.performance.now&&((0,f.knowsPhone)()?this.listenToOnce(o.default,"logout",this.init):this.init())}init(){this.timings.startSync=b.default.lastSyncStart,this.listenTo(b.default,"change:mode",this.changeStreamMode),this.listenTo(n.default,d.default.COLLECTION_HAS_SYNCED,this.onChatSync),this.listenTo(l.default,d.default.COLLECTION_HAS_SYNCED,this.onContactSync),this.listenTo(p.default,d.default.COLLECTION_HAS_SYNCED,this.onMsgSync),this.listenTo(p.default,"handle:msg_history",this.onMsgHistory)}changeStreamMode(){b.default.mode===b.StreamMode.SYNCING&&(this.timings.startSync=E(),this.data.webcPersistentLoginEnabled=(0,f.getRememberMe)()),b.default.mode===b.StreamMode.MAIN&&(this.timings.endSync=E(),this.maybeLogToWam())}onChatSync(e){null!=e.timing?this.data.webcSyncChatT=e.timing:this.timings.chatSync=E(),this.data.webcSyncChatCount=e.count,this.data.webcSyncChatSize=e.binarySize,this.maybeLogToWam()}onMsgSync(e){e&&(this.timings.msgSync=E(),this.data.webcSyncMessageCount+=e.count,this.data.webcSyncMessageSize+=e.binarySize),this.maybeLogToWam()}onContactSync(e){null!=e.timing?this.data.webcSyncContactT=e.timing:this.timings.contactSync=E(),this.data.webcSyncContactCount=e.count,this.data.webcSyncContactSize=e.binarySize,this.maybeLogToWam()}onMsgHistory(e){this.data.webcSyncMessageSize+=e.binarySize,this.data.webcSyncMessageCount+=e.count,null!=this.timings.msgSync&&(this.timings.msgSync=E())}maybeLogToWam(){var{contactSync:e,msgSync:t,chatSync:a}=this.timings,i=null!=a&&Number.isFinite(a||this.data.webcSyncChatT),r=null!=e&&Number.isFinite(e||this.data.webcSyncContactT),s=Number.isFinite(t);i&&r&&s&&(this._commitPromise||(this._commitPromise=(0,c.default)().then(e=>this._commitEvent(e)).catch(()=>{__LOG__(3)(_())}).finally(()=>this.reset())))}_commitEvent(e){var{startSync:t,endSync:a,contactSync:i,msgSync:r,chatSync:s}=this.timings,n=m.default.initialDisplayDate;null!=n&&0!==n&&null!=t&&null!=a&&null!=r&&null!=s&&null!=i&&Number.isFinite(n)&&Number.isFinite(t)&&Number.isFinite(a)?(this.data.webcQrLoadT=n,this.data.webcQrCodes=m.default.get(),this.data.webcLoginT=t-n,this.data.webcSyncT=a-t,this.data.webcSyncMessageT=r-t,this.data.webcSyncChatT||(this.data.webcSyncChatT=s-t),this.data.webcSyncContactT||(this.data.webcSyncContactT=i-t),this.data.webcBrowserNetworkType=(0,g.getEffectiveNetworkType)(),e&&(this.data.webcBrowserStorageQuotaBytes=e.quota,this.data.webcBrowserStorageQuotaUsedBytes=e.usage),new h.default.WebcLogin(this.data).commit()):__LOG__(3)(v())}reset(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={chatSync:void 0,contactSync:void 0,endSync:void 0,msgSync:void 0,startSync:void 0},this._commitPromise=void 0,this.listenToOnce(o.default,"logout",this.init)}}t.initialize=()=>new j},cdfjfcdgbi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("chebca"),d=i(a("djbghdgcj")),l=r(a("djegeegcbf")),c=r(a("bhbcdbjdeg")),{getGlyphIdFromUnicode:u,getStyle:f,getClasses:h}=l.default;class p extends n.Component{componentDidMount(){var{emoji:e}=this.props,t=this.context,a=u(e);null!=a&&(t.incrementLoadingEmojisCount(),d.default.loadEmoji(a,d.LOAD_PRIORITY.LAZY_LOAD_EMOJI).finally(()=>{t.decrementLoadingEmojisCount()}))}render(){var e,t,{className:a,element:i,emoji:r,selectable:o,selected:d,size:l,src:p,onLoad:g,tabIndex:m}=this.props,b=u(r);if(null==b)return null;p||(e=f(b,l),t=h(b,l));var v=(0,s.default)(a,t,{selected:d});return"span"===i?n.createElement("span",{className:v,style:e,onLoad:g,tabIndex:m,"data-unicode":this.props["data-unicode"],"data-variant":this.props["data-variant"],"data-emoji-index":this.props["data-emoji-index"]}):n.createElement(c.default,{alt:r,className:v,draggable:!1,onLoad:g,plainText:r,selectable:o,style:e,src:p})}}t.default=p,p.contextType=o.InitialEmojisCompletionContext},cdgeeegaih:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=function(e,t){var a=t.map(({contact:e})=>e),i=(e||"").toLowerCase();return a.filter(e=>function(e,t){if(t.isMe)return!1;var a=[t.searchName||t.formattedName];!t.isMyContact&&t.notifyName&&a.push(t.notifyName.toLowerCase());return a.some(t=>function(e,t){var a=-1;do{if(t.indexOf(e,a+1)===a+1)return!0}while(-1!==(a=t.indexOf(" ",a+1)));return!1}(e,t))}(i,e))}},cdgfgedieg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ejegihaeh")),o=i(a("hgigjbgie")),d=a("cdhbdacigj"),l=a("bgihjbde"),c=i(a("bgheieccaj")),u=i(a("edfgfbdfg")),f=i(a("ddajbaceej")),h=a("ddbdgibbbi"),p=i(a("cbbghihadb")),g=i(a("dhccahhefj")),m=i(a("dedadediih")),b=a("hjbbdjjdf"),v=a("dcbdjheea");class _ extends s.Component{constructor(...e){super(...e),this.setList=e=>{this.list=e},this.state={products:this._getCollectionProducts(),loadingMore:!1,loadedProducts:this._getCollectionProducts().length,canLoadMore:!0,hasCatalog:!0},this._handleRef=e=>{this._refHotKey=e},this.updateForScrollEvent=e=>{var t=e.currentTarget,{scrollTop:a,clientHeight:i,scrollHeight:r}=t;r-i-a<o.default.SCROLL_FUDGE&&!this.state.loadingMore&&this._loadMoreProducts()},this._onEnter=e=>{e.stopPropagation(),e.preventDefault();var{active:t}=this.props;t.value&&this._onProductClick(t.value)},this._handleSelect=(e,t,a)=>{var{selections:i,active:r,onSelectionChanged:s}=this.props;i.setVal(e,t,a),r.setVal(e,a),s&&s(e,t)},this._handleIndexChange=e=>{var t;null===(t=this.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},this._renderItem=e=>{var{data:t}=e;return s.createElement(m.default,{key:t.id.toString(),product:t,selections:this.props.selections,onClick:()=>this._onProductClick(t),active:this.props.active})}}componentDidMount(){this.props.active.init(this.state.products),this._findProducts()}toggleFirst(e){var t=this.state.products;if(0!==t.length){var a=t[0],i=!this.props.selections.isSelected(a);this._handleSelect(a,i,e)}}focus(){this._refHotKey&&f.default.focus(this._refHotKey)}_findProducts(){this.setState({loadingMore:!0}),n.default.find((0,h.getMaybeMeUser)()).catchType(l.ServerStatusCodeError,()=>this.setState({hasCatalog:!1,loadingMore:!1,canLoadMore:!1})).then(()=>this._loadMoreProducts())}_loadMoreProducts(){var e=this._getCatalog();e&&(e.afterCursor&&this.state.canLoadMore?(this.setState({loadingMore:!0}),n.default.findNextProductPage(e.id).checkpoint(this.props.rejectOnUnmount()).then(e=>{var t=e.length;this.setState(({loadedProducts:a})=>({products:e,loadingMore:!1,loadedProducts:t,canLoadMore:a!==t}),()=>{this.props.onProductsLoaded&&this.props.onProductsLoaded(e)}),this.props.active.init(e)}).catch(()=>{this.setState({loadingMore:!1,canLoadMore:!0})})):this.setState({loadingMore:!1,canLoadMore:!1}))}_getCollectionProducts(){var e=this._getCatalog();return null!=e?e.productCollection.getProductModels():[]}_getCatalog(){var e=(0,h.getMaybeMeUser)(),t=(0,b.isString)(e)?(0,v.createWid)(e):e;return n.default.get(t)}_onProductClick(e){var t=this.props.selections.isSelected(e);this._handleSelect(e,!t,!1)}_renderList(){if(0===this.state.products.length&&!this.state.loadingMore&&!this.state.canLoadMore)return s.createElement(d.ListProducts,{hasCatalog:this.state.hasCatalog});var e=this.state.products.map(e=>({itemKey:e.id.toString(),data:e}));return s.createElement(c.default,{ref:this.setList,direction:"vertical",forceConsistentRenderCount:!1,data:e,renderItem:this._renderItem,flatListController:this.props.flatListController,defaultItemHeight:o.default.PRODUCT_LIST_ITEM_HEIGHT})}render(){return s.createElement(p.default,{active:this.props.active,onEnter:this._onEnter,onLeave:this.props.onLeaveList,onRef:this._handleRef,onIndexChange:this._handleIndexChange},this._renderList(),this.state.loadingMore&&s.createElement(u.default,null))}}var E=(0,g.default)(_);t.default=class extends E{toggleFirst(e){this.getComponent().toggleFirst(e)}focus(){this.getComponent().focus()}updateForScrollEvent(e){this.getComponent().updateForScrollEvent(e)}}},cdghjejjij:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.changeProfilePicThumb=function(e,t){return r.default.imageChanged(e,t),Promise.resolve()};var r=i(a("dhefcajhhb"))},cdhbdacigj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.LazyLoadRetry=t.NoResultForLabel=t.LoadingWithText=t.Loading=t.ImageSearchEmpty=t.SearchingImages=t.BeforeImageSearch=t.DocMsgs=t.LinkMsgs=t.MediaMsgs=t.StarredMsgs=t.AllArchived=t.ListStatus=t.BeforeSearchMessages=t.ListGroups=t.ListProducts=t.ListChats=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchWithKeyword=t.SearchWithoutKeyword=t.SearchContacts=t.SearchingMessages=t.Searching=t.Search=t.Archived=t.Blocked=t.Empty=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("dbdfbgehgj")),l=r(a("ccbgfecegc")),c=r(a("gfebgebbi")),u=r(a("cdhffajaab")),f=r(a("bdjjabfecc")),h=r(a("bijffg")),p=r(a("ecdebjcgfa")),g=r(a("dgdcjccfdi")),m=({a8nText:e,a8nTitle:t,children:a,className:i,icon:r,text:d,theme:l,title:f,onClick:h})=>{var p=f?n.createElement("div",{"data-a8n":o.default.key(t),className:u.default.title},f):null,g=d?n.createElement("div",{"data-a8n":o.default.key(e),className:u.default.text},n.createElement(c.default,{text:d})):null,m=(0,s.default)(u.default.empty,i,{[u.default.compact]:"compact"===l});return n.createElement("div",{className:m,onClick:h},r,p,g,a)};t.Empty=m;t.Blocked=()=>{var e=n.createElement("div",{className:u.default.icon},n.createElement(g.default,{name:"empty-blocked"}));return n.createElement(m,{icon:e,title:f.default.t(253),text:f.default.t(181),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})};t.Archived=()=>{var e=n.createElement("div",{className:u.default.icon},n.createElement(g.default,{name:"empty-archived"}));return n.createElement(m,{icon:e,title:f.default.t(207),a8nTitle:"archived-empty"})};t.Search=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1200),a8nText:"search-no-chats-or-contacts"});t.Searching=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1212),a8nText:"searching-chats-contacts-messages"});t.SearchingMessages=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1214),a8nText:"searching-messages"});t.SearchContacts=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1201),a8nText:"search-no-contacts"});t.SearchWithoutKeyword=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1047),a8nText:"search-no-results-without-keyword"});t.SearchWithKeyword=e=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1204,{keyword:e}),a8nText:"search-no-results-without-keyword"});t.SearchGroups=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1202),a8nText:"search-no-groups"});t.SearchMessages=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1203),a8nText:"search-no-messages"});t.SearchMessagesUnavailable=()=>n.createElement(m,{className:u.default.emptyTop,text:f.default.t(1207),a8nText:"search-results-unavailable"});t.ListChats=()=>n.createElement(m,{text:f.default.t(1037),a8nText:"no-chats"});t.ListProducts=({hasCatalog:e=!0})=>{var t=e?f.default.t(1045):f.default.t(1036);return n.createElement(m,{text:t,a8nText:"no-products"})};t.ListGroups=()=>n.createElement(m,{text:f.default.t(1040),a8nText:"no-groups"});t.BeforeSearchMessages=(e,t)=>{var a=t?f.default.t(415,{chatName:e}):f.default.t(479,{chatName:e});return n.createElement(m,{className:u.default.emptyTop,text:a,a8nText:"chat-search-prompt"})};function b(){var e=a("ihfbhicij").default;l.default.openDrawerLeft(n.createElement(e,null))}t.ListStatus=()=>n.createElement(m,null);t.AllArchived=()=>{var e=d.default.filter(e=>e.archive).length;return n.createElement(m,{title:f.default.t(197),a8nTitle:"all-chats-archived"},n.createElement("div",{"data-a8n":o.default.key("see-archived"),role:"button",onClick:b,className:u.default.action},f.default.t(1220,{count:e,_plural:e})))};t.StarredMsgs=()=>n.createElement(m,{text:f.default.t(1048),a8nText:"no-starred-messages"});t.MediaMsgs=()=>n.createElement(m,{text:f.default.t(1042),a8nText:"no-media"});t.LinkMsgs=()=>n.createElement(m,{text:f.default.t(1041),a8nText:"no-links"});t.DocMsgs=()=>n.createElement(m,{text:f.default.t(1039),a8nText:"no-docs"});t.BeforeImageSearch=()=>n.createElement(m,{text:f.default.t(765),a8nText:"image-search-prompt"});t.SearchingImages=()=>n.createElement(m,{text:f.default.t(1213),a8nText:"searching-images"});t.ImageSearchEmpty=()=>n.createElement(m,{text:f.default.t(764),a8nText:"image-search-no-results"});t.Loading=()=>n.createElement(m,null,n.createElement(p.default,{size:50,stroke:4}));t.LoadingWithText=({text:e})=>n.createElement(m,null,n.createElement("div",{className:u.default.spinner},n.createElement(p.default,{size:50,stroke:4})),n.createElement(c.default,{element:"div",className:u.default.text,text:e}));t.NoResultForLabel=({labelId:e})=>{var t=h.default.assertGet(e);return n.createElement(m,null,n.createElement(c.default,{element:"div",className:u.default.text,text:f.default.t(1046,{labelName:t.name})}))};t.LazyLoadRetry=({className:e,onClick:t})=>n.createElement(m,{className:e,onClick:t},n.createElement(g.default,{name:"live-location-refresh",className:u.default.iconRetry}),n.createElement("div",null,f.default.t(1170)))},cdhbiabgae:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dbdfbgehgj")),d=r(a("ccbgfecegc")),l=r(a("gfebgebbi")),c=r(a("bdjjabfecc")),u=r(a("cbeafbecei"));class f extends n.PureComponent{constructor(...e){super(...e),this.state={hover:!1},this.onMouseOver=()=>{this.setState({hover:!0})},this.onMouseEnter=()=>{this.setState({hover:!0})},this.onMouseLeave=()=>{this.setState({hover:!1})},this.getGroupName=()=>{var{quotedGroupJid:e}=this.props,t=o.default.get(e);return t&&t.formattedTitle},this.onClick=()=>{var{quotedGroupJid:e}=this.props;o.default.find(e).then(e=>d.default.openChatBottom(e))}}hoverable(){return!this.state.hover&&!this.props.isComposePreview}render(){var{isComposePreview:e}=this.props,t=this.getGroupName();if(!t)return null;var a=(0,s.default)(u.default.quotedMsg,{[u.default.hover]:this.state.hover,[u.default.composeBoxQuotedMsg]:!!e});return n.createElement("div",{onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:a},n.createElement("div",{className:u.default.msg,role:e?"none":"button",onClick:this.onClick},n.createElement("span",{className:u.default.colorBar}),n.createElement("div",{className:u.default.msgBody},n.createElement(l.default,{className:"quoted-mention",text:c.default.t(1134,{groupName:t}),direction:"auto",key:"status"}))))}}t.default=f},cdhffajaab:function(e,t){e.exports={empty:"_2V78l",emptyTop:"_3w7Y4",compact:"_1PUQU",icon:"Qcee4",title:"P6qqF",text:"_1ivy5",spinner:"NNaOR",action:"WtmFP",iconRetry:"LOwp4"}},cdhhibdghc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,{msg:a,onClick:i,theme:r}=e,{thumbnail:d,orderTitle:c,isSentByMe:f}=a;d&&(t=s.createElement("div",{className:l.default.media,style:{backgroundImage:'url("data:image/jpeg;base64,'.concat(d,'")')}}));var h=(0,n.default)(l.default.preview,{[l.default.bubbleIn]:!f&&"quoted"!==r,[l.default.bubbleOut]:f||"quoted"===r,[l.default.quoted]:"quoted"===r});return s.createElement("div",{className:h,onClick:i},t,s.createElement("div",{className:l.default.body},s.createElement("div",{className:l.default.title},s.createElement(o.default,{text:c})),s.createElement(u,{msg:a})))},t.OrderDescription=u;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=(i(a("hgigjbgie")),i(a("gfebgebbi"))),d=i(a("bdjjabfecc")),l=i(a("dedjidijbg")),c=i(a("dgdcjccfdi"));function u(e){var{msg:t,showMessage:a}=e,i=null;if(null!=t.itemCount){var r=d.default.t(784,{count:t.itemCount||0,_plural:t.itemCount||0});i=s.createElement("div",{className:l.default.description},s.createElement(c.default,{className:l.default.descriptionIcon,name:"shopping-cart"}),s.createElement(o.default,{text:r}))}var n=!0===a?s.createElement(o.default,{text:t.message}):null;return s.createElement("div",null,i,n)}},cdidgggjha:function(e,t){e.exports={stickerItem:"_145n2",stickerMenu:"_2G-Gl"}},cdiecggbbg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgebcfedgb")),o=i(a("bdjjabfecc")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{render(){var{chat:e,disabled:t}=this.props,a=this.props.onArchive.bind(null,!e.archive);return s.createElement(n.default,{a8n:"mi-archive",action:a,key:"ArchiveMenuItem",disabled:t},e.archive?o.default.t(1324):o.default.t(203))}}l.CONCERNS={chat:["archive"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},cdjbeigged:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumPosition=void 0;t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},cdjedhbgfd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("cjjhigeega"));function n(){var e=(0,r.default)(["Assertion failed!"]);return n=function(){return e},e}var o=(e,t)=>{t.focusNode||(__LOG__(4,!1,new Error)(n()),SEND_LOGS("serializeTextBeforeCursor requires selection.focusNode"));var a=document.createRange();a.setStart(e,0),a.setEnd(t.focusNode,t.focusOffset);var i=a.cloneContents();return(0,s.default)(i,[])};t.default=o},cdjgehfdbd:function(e,t){e.exports={metadataContainer:"_3ElCy",metadataText:"_3lTfS",metadataTitle:"_32Hpp",metadataDesc:"_159HN",participantList:"_woVL",participantsTitle:"_1NNVG",participantsContainer:"_22iHZ",participantWrapper:"_22mMM",emptyContentContainer:"_14cBF",participantsText:"_1348Y",contactsText:"E-7B-",participantText:"dibFg"}},cdjhjfjajh:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("chbijbggjc"),s=i(a("dcaifjegcg"));class n extends s.default{constructor(...e){super(...e),this.isMicrophoneAvailable=(0,s.prop)(!1),this.isSpeakerAvailable=(0,s.prop)(!1),this.isVideoAvailable=(0,s.prop)(!1)}initialize(){super.initialize()}refreshDeviceList(e){this._deviceList=e,this.isVideoAvailable=e.some(e=>e.deviceType===r.AVDeviceType.Video&&e.isConnected),this.isMicrophoneAvailable=e.some(e=>e.deviceType===r.AVDeviceType.AudioInput&&e.isConnected),this.isSpeakerAvailable=e.some(e=>e.deviceType===r.AVDeviceType.AudioOutput&&e.isConnected)}}var o=new((0,s.defineModel)(n));t.default=o},cdjidedjdg:function(e,t){e.exports={moveResizeComponentContainer:"tersz",resizer:"_3VaA9",topResizer:"_3JX0o",bottomResizer:"_2MjcL",leftResizer:"_2ri8K",rightResizer:"grwYB",topRightResizer:"_2cw8J",topLeftResizer:"L2L-h",bottomRightResizer:"_3e2c7",bottomLeftResizer:"_25_nR",moveable:"sy0qc",defaultCursor:"_3AebD"}},cebgchhjbh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("bfgdchifdi")),l=r(a("dibdefhifh")),c=r(a("dgdcjccfdi"));class u extends n.PureComponent{constructor(...e){super(...e),this.state={hover:!1},this._onMouseEnter=()=>{this.setState({hover:!0})},this._onMouseLeave=()=>{this.setState({hover:!1})}}render(){var e=(0,s.default)(l.default.container,{[l.default.compact]:this.props.displayType===o.default.DISP_TYPE.MSG_INFO});return n.createElement("div",{className:e,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.state.hover?n.createElement(d.default,null,this.props.tooltip):null,n.createElement("div",{className:l.default.error,onClick:this.props.onClick,role:"button"},n.createElement(c.default,{name:"error"})))}}t.default=u},cecdefhddc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ThemeOptions=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bjjjaabahb")),d=r(a("bgheieccaj")),l=r(a("bfchfhibba")),c=r(a("dbfjeecgih")),u=r(a("bejgabcbdi")),f=r(a("chgaccicf")),h=a("cdgeeegaih"),p=r(a("befhhcfcij")),g=r(a("dcdbbhicce")),m=r(a("bfiibibaac")),b=r(a("cgjdibiahi")),v=r(a("didfdhbecg")),_=(0,f.default)({MEDIA_CAPTION:null});t.ThemeOptions=_;var E={active:!1,offset:0,omitted:"",query:"",results:[],scrollTop:0};class j extends n.Component{constructor(...e){super(...e),this.state=E,this.flatListController=new c.default,this.setRefList=e=>{this.list=e},this.onEnter=S(()=>this.handleSelect(this.state.offset),this),this.onInactive=S(()=>this.setState(E),this),this.onSearch=e=>{var{state:{omitted:t}}=this;if((!t||!e.startsWith(t))&&this.props.chat&&this.props.chat.isGroup){var{chat:{groupMetadata:{participants:a}}}=this.props;this.setState({active:!0,offset:0,omitted:null,query:e,results:(0,h.getResults)(e,a)})}},this.onEscape=()=>{this.setState({active:!1,offset:0,omitted:this.state.query,query:"",results:[]})},this.onUp=S(()=>{var e=Math.max(this.state.offset-1,0);this.setOffset(e)},this),this.onDown=S(()=>{var e=this.state.results.length-1,t=Math.min(this.state.offset+1,e);this.setOffset(t)},this),this.renderItem=e=>{var{index:t,contact:a}=e;return n.createElement(p.default,{key:a.id.toString(),contact:a,term:this.state.query,selected:t===this.state.offset,theme:this.props.theme===_.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:e=>e.preventDefault(),onMouseUp:()=>this.handleSelect(t),onMouseEnter:()=>this.setOffset(t,!0)})}}componentDidMount(){var{plugin:e}=this.props;e.registerHandler(this,o.default.ENTER,this.onEnter),e.registerHandler(this,o.default.TAB,this.onEnter),e.registerHandler(this,o.default.SEARCH,this.onSearch),e.registerHandler(this,o.default.INACTIVE,this.onInactive),e.registerHandler(this,o.default.UP,this.onUp),e.registerHandler(this,o.default.DOWN,this.onDown)}componentWillUnmount(){var{plugin:e}=this.props;e.unregisterHandler(this,o.default.ENTER),e.unregisterHandler(this,o.default.TAB),e.unregisterHandler(this,o.default.SEARCH),e.unregisterHandler(this,o.default.INACTIVE),e.unregisterHandler(this,o.default.UP),e.unregisterHandler(this,o.default.DOWN)}handleSelect(e){var t=this.state.results[e];if(t&&t.id){var a=this.props.chat.assignedColor(t.id);this.props.plugin.handleSelect(t,a+"")}}setOffset(e,t=!1){e!==this.state.offset&&this.setState({offset:e},()=>{!t&&this.list&&this.list.scrollIntoViewIfNeeded(e)})}renderList(){var{results:e,query:t,offset:a,active:i}=this.state;if(!i||!e.length)return null;var r=e.map((e,i)=>({height:52,itemKey:e.id.toString(),contentKey:"".concat(t).concat(i===a?"-selected":""),index:i,contact:e}));return n.createElement(b.default,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:this.onEscape,requestRecentFocusOnUnmount:!1},n.createElement("div",{className:(0,s.default)(m.default.overlayContainer,{[m.default.mediaCaption]:this.props.theme===_.MEDIA_CAPTION})},n.createElement(l.default,{className:m.default.resultsContainer,flatListControllers:[this.flatListController]},n.createElement(d.default,{ref:this.setRefList,data:r,flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))))}render(){return n.createElement(v.default,{component:"div",className:m.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}j.CONCERNS={chat:["groupMetadata","isGroup"]};var y=(0,g.default)(j,j.CONCERNS);function S(e,t){return(a,i)=>!(!t.state.active||!t.state.results.length)&&((!a||!(0,u.default)(a))&&(e.call(t,a,i),!0))}t.default=y},ceebdecegj:function(e,t){e.exports={content:"_2bC_3"}},ceedhgficf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dcdbbhicce")),o=i(a("ggihajihg"));class d extends s.PureComponent{render(){var{id:e,name:t,url:a}=this.props.stickerPack;return s.createElement(o.default,{id:e,name:t,url:a})}}d.CONCERNS={stickerPack:["id","name","url"]};var l=(0,n.default)(d,d.CONCERNS);t.default=l},ceeeiaedbi:function(e,t){e.exports={conversation:"_5auXc",placeholder:"_28F_N",composeBoxQuoted:"DXO25",quoted:"_2FAUA",stickerPanel:"Vhckz",clickable:"_2YpcJ"}},ceegagjdfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift(),{from:a,to:i,ack:s,participant:n,t:o}=t;switch(t.cmd){case"ack":r.default.updateInfo(t.id,a,i,s,n,o);break;case"acks":t.id.forEach(e=>{r.default.updateInfo(e,a,i,s,n,o)})}};var r=i(a("eigdejjai"))},ceehjafggg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfacahcafg")),n=i(a("ddhijeejag"));class o extends n.PureComponent{_renderColumns(){var{numColumns:e,numItems:t,offset:a,renderItem:i,selectedIndex:r}=this.props,n=0,o=t-e;return 1===a&&(e+=1,n=-1),a===o-1&&(e+=1),(0,s.default)(e,e=>{var s=e+n+a;return s<0||s>=t?null:i(s,s===r,this.props.menuWidth)})}render(){return n.createElement(n.Fragment,null,this._renderColumns())}}t.default=o},cefaajbdjj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ifeijahg"));class d extends n.PureComponent{render(){var e=null;switch(this.props.theme){case"upper":e=n.createElement("div",{key:"upper-shade",className:(0,s.default)(o.default.fullWidthShade,o.default.stripHeightShade,o.default.upperShade)});break;case"lower":e=n.createElement("div",{key:"lower-shade",className:(0,s.default)(o.default.fullWidthShade,o.default.stripHeightShade,o.default.lowerShade)});break;case"full-rounded":e=n.createElement("div",{key:"full-rounded-shade",className:(0,s.default)(o.default.fullWidthShade,o.default.fullHeightShade,o.default.roundedCorners)});break;case"full-sharp":e=n.createElement("div",{key:"full-sharp-shade",className:(0,s.default)(o.default.fullWidthShade,o.default.fullHeightShade)})}return e}}t.default=d},cefccdiabc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("effbcehec")),d=i(a("ebghecdhfg")),l=e=>{var t,a=(0,n.default)(e.className,d.default.chat,{[d.default.cartProduct]:"cart-product"===e.theme,[d.default.themeCheckbox]:"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme||"product-checkbox"===e.theme,[d.default.themeDrawerList]:"drawer-list"===e.theme,[d.default.themeIdentity]:"identity"===e.theme,[d.default.themeListNames]:"list-names"===e.theme||"list-names-no-delete"===e.theme,[d.default.themeMessage]:"cell-message"===e.theme||"cell-message-checkbox"===e.theme,[d.default.themePlain]:"plain"===e.theme,[d.default.themeSearch]:"chat-search"===e.theme,[d.default.themeStatus]:"status-list"===e.theme,[d.default.themeLabel]:"label-selection"===e.theme,[d.default.themeAddItem]:"add-item"===e.theme,[d.default.themeAddItemPlaceholder]:"add-item-placeholder"===e.theme,[d.default.idle]:e.idle,[d.default.member]:"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme,[d.default.unread]:!!e.unread,[d.default.chatDrag]:!!e.dragging,[d.default.active]:!!e.active,[d.default.isMuted]:!!e.isMuted,[d.default.groupV4Invite]:"group_v4_invite"===e.theme,[d.default.product]:"product"===e.theme||"product-checkbox"===e.theme,[d.default.orderProduct]:"order-product"===e.theme,[d.default.media]:"media"===e.theme,[d.default.listButton]:"list-button-compact"===e.theme,[d.default.listMsg]:"list-msg"===e.theme,[d.default.archivePanel]:"archive-panel"===e.theme});e.image&&(t=e.customImage?e.image:s.createElement("div",{className:d.default.chatAvatar},e.image));var i,r,l=null!=e.primaryDetail?s.createElement("div",{className:d.default.chatMeta},e.primaryDetail):null;null!=e.secondary&&(r=null!=e.secondaryDetail?s.createElement("div",{className:d.default.chatMeta},e.secondaryDetail):null,i=s.createElement("div",{className:d.default.chatSecondary},s.createElement("div",{className:d.default.chatStatus},e.secondary),r));var c=null!=e.detail?s.createElement("div",{className:(0,n.default)(d.default.chatBody,d.default.chatDetails)},e.detail):null;return s.createElement("div",{ref:e.setDivRef,"data-a8n":o.default.key("chat-card"),className:a,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu},t,s.createElement("div",{className:d.default.chatBody},s.createElement("div",{className:(0,n.default)(d.default.chatMain,{[d.default.noDelete]:"list-names-no-delete"===e.theme})},s.createElement("div",{className:d.default.chatTitle},e.primary),l),i),c)};t.default=l},cefeabhhda:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_BUCKETS=t.CAT_HOST_TIMESPAN=t.MMS_VCA_ENABLED=void 0;t.MMS_VCA_ENABLED=!1;t.CAT_HOST_TIMESPAN=0;t.MAX_BUCKETS=null},cefeifbjcb:function(e,t){e.exports={bubble:"_1dB-m",meta:"_1nOME",isPSA:"JS-NE",isPsa:"JS-NE"}},cefgfgdhj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a=0,i){var s,n=[];t.lastIndex=0;for(;(s=t.exec(e))&&t.lastIndex>0;)i&&(s=i(s,t)),s&&n.push((0,r.default)(s,a));return n};var r=i(a("cfjfcfhchg"))},cefjgcjhgf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setLastReceivedKey=function(){r.default.supportsFeature(r.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("bhbdiadfhj"))},cegaagefjg:function(e,t,a){e.exports=function(){return new Worker(a.p+"f88a783360de407a28a1.worker.js")}},ceggedffg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=0,a){return class extends s.default{static match(i){return(0,r.default)(i,e,t,a)}}};var r=i(a("cefgfgdhj")),s=i(a("gjhhbhigc"))},cehdgbej:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoldedContactName=t.UntrustedGroupDesc=t.TrustedGroupDesc=t.FormattedNotification=t.RawNotification=t.ComposeBox=t.QuotedMention=t.Format=t.QuickReply=t.FTSMessage=t.LastMessage=t.SearchGroupName=t.Search=t.UntrustedConversation=t.TrustedConversation=t.Compatibility=t.StatusV3Caption=t.StatusV3Text=t.LargeEmojiOnly=t.EmojiOnly=void 0;var i=a("eehjjeabe");t.EmojiOnly=({selectable:e}={})=>[[[i.Emoji,{selectable:e}]]];t.LargeEmojiOnly=({selectable:e}={})=>[[[i.Emoji,{selectable:e,size:"large"}]]];t.StatusV3Text=({links:e,selectable:t}={})=>[[[i.Code,{selectable:t}]],[[i.Link,{links:e,selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t,size:"xlarge"}]]];t.StatusV3Caption=({selectable:e}={})=>[[[i.Code,{selectable:e}]],[[i.Bold,{selectable:e}],[i.Italic,{selectable:e}],[i.Strikethrough,{selectable:e}]],[[i.Emoji,{selectable:e}]]];t.Compatibility=({selectable:e}={})=>[[[i.Emoji,{selectable:e}]]];t.TrustedConversation=({mentions:e,links:t,selectable:a}={})=>e?[[[i.Code,{selectable:a}]],[[i.Link,{links:t,selectable:a}]],[[i.Mention,{mentions:e,selectable:a}]],[[i.Bold,{selectable:a}],[i.Italic,{selectable:a}],[i.Strikethrough,{selectable:a}]],[[i.Emoji,{selectable:a}]]]:[[[i.Code,{selectable:a}]],[[i.Link,{links:t,selectable:a}]],[[i.Bold,{selectable:a}],[i.Italic,{selectable:a}],[i.Strikethrough,{selectable:a}]],[[i.Emoji,{selectable:a}]]];t.UntrustedConversation=({mentions:e,selectable:t}={})=>e?[[[i.Code,{selectable:t}]],[[i.Mention,{mentions:e,selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t}]]]:[[[i.Code,{selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t}]]];t.Search=({boundary:e,terms:t,selectable:a,mentions:r})=>[[[i.TextMention,{mentions:r,selectable:a}]],[[i.Bold,{selectable:a}],[i.Italic,{selectable:a}],[i.Strikethrough,{selectable:a}]],[[i.Highlight,{terms:t,boundary:e,selectable:a,ignoreDiacritics:!0}]],[[i.Emoji,{selectable:a}]]];t.SearchGroupName=({terms:e})=>[[[i.Highlight,{terms:e,ignoreDiacritics:!0}]],[[i.Emoji,{selectable:!1}]]];t.LastMessage=({mentions:e,selectable:t}={})=>e?[[[i.Code,{selectable:t}]],[[i.TextMention,{mentions:e,selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t}]]]:[[[i.Code,{selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t}]]];t.FTSMessage=({boundary:e,mentions:t,terms:a,selectable:r})=>[[[i.Code,{selectable:r}]],[[i.TextMention,{mentions:t,selectable:r}]],[[i.Bold,{selectable:r}],[i.Italic,{selectable:r}],[i.Strikethrough,{selectable:r}]],[[i.Highlight,{terms:a,boundary:e,selectable:r}]],[[i.Emoji,{selectable:r}]]];t.QuickReply=({selectable:e}={})=>[[[i.Code,{selectable:e}]],[[i.Bold,{selectable:e}],[i.Italic,{selectable:e}],[i.Strikethrough,{selectable:e}]],[[i.Emoji,{selectable:e}]]];t.Format=({mentions:e,selectable:t})=>[[[i.Code,{selectable:t}]],[[i.TextMention,{mentions:e,selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t}]]];t.QuotedMention=({mentions:e,selectable:t})=>[[[i.Code,{selectable:t}]],[[i.TextMention,{mentions:e,selectable:t,theme:{quoted:!0}}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]],[[i.Emoji,{selectable:t}]]];t.ComposeBox=({selectable:e}={})=>[[[i.Code,{selectable:e}]],[[i.Link,{selectable:e}]],[[i.Bold,{selectable:e}],[i.Italic,{selectable:e}],[i.Strikethrough,{selectable:e}]],[[i.Emoticon,{selectable:e}]]];t.RawNotification=({mentions:e,selectable:t})=>[[[i.RawMention,{mentions:e,selectable:t}]]];t.FormattedNotification=({mentions:e,selectable:t})=>[[[i.Code,{selectable:t}]],[[i.RawMention,{mentions:e,selectable:t}]],[[i.Bold,{selectable:t}],[i.Italic,{selectable:t}],[i.Strikethrough,{selectable:t}]]];t.TrustedGroupDesc=({links:e})=>[[[i.Code,{selectable:!0}]],[[i.Link,{links:e,selectable:!0}]],[[i.Bold,{selectable:!0}],[i.Italic,{selectable:!0}],[i.Strikethrough,{selectable:!0}]],[[i.Emoji,{selectable:!0}]]];t.UntrustedGroupDesc=()=>[[[i.Code,{selectable:!0}]],[[i.Bold,{selectable:!0}],[i.Italic,{selectable:!0}],[i.Strikethrough,{selectable:!0}]],[[i.Emoji,{selectable:!0}]]];t.BoldedContactName=({selectable:e})=>[[[i.BoldFirstWord,{selectable:e}]],[[i.Emoji,{selectable:e}]]]},ceiagggjad:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var{paymentStatus:a,expiryTimestamp:i}=t,[r,n]=o.useState(1e3*d.default.globalUnixTime());if((0,u.default)(()=>{n(1e3*d.default.globalUnixTime())},1e3),null==a||a===e.UNKNOWN_STATUS)return null;var v="",_=p;if(null!=a)switch(a){case f.PaymentInfoStatus.PROCESSING:v=l.default.t(1682),_=p;break;case f.PaymentInfoStatus.COMPLETE:v=l.default.t(1675),_=m;break;case f.PaymentInfoStatus.SENT:v=l.default.t(1678),_=g;break;case f.PaymentInfoStatus.NEED_TO_ACCEPT:v=b(r,i),_=g;break;case f.PaymentInfoStatus.COULD_NOT_COMPLETE:case f.PaymentInfoStatus.REFUNDED:v=l.default.t(1676),_=h;break;case f.PaymentInfoStatus.EXPIRED:v=l.default.t(1677),_=h;break;case f.PaymentInfoStatus.REJECTED:v=l.default.t(1685),_=h;break;case f.PaymentInfoStatus.CANCELLED:v=l.default.t(1674),_=h;break;case f.PaymentInfoStatus.WAITING_FOR_PAYER:case f.PaymentInfoStatus.WAITING:v=b(r,i),_=g;break;case f.PaymentInfoStatus.UNKNOWN_STATUS:v="",_=p}return o.createElement("span",{className:(0,s.default)(c.default.status,c.default[_])},v)};var s=r(a("ceffhbhahb")),n=r(a("dgdjiicfdg")),o=i(a("ddhijeejag")),d=r(a("cfadcbbiie")),l=r(a("bdjjabfecc")),c=r(a("cgddiaaege")),u=r(a("dbficigadj")),f=a("bbjghgfabf"),h="failed",p="processing",g="waiting",m="success";function b(e,t){if(null==t)return l.default.t(1678);var a=1e3*t;if(a-e>6e4){var i=(0,n.default)(e).to((0,n.default)(a));return l.default.t(1680,{timeSpan:i})}return a-e>0?l.default.t(1681):l.default.t(1679)}},ceiedfaadc:function(e,t){e.exports={container:"_28CAo"}},ceiehehagg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupProperty=function(e,t,a){return function e(t,a,i,r=(0,o.genId)()){if(!t.groupMetadata.canSetGroupProperty())return Promise.reject(new u.ActionError);if(!a)return Promise.reject(new u.ActionError);var s=(0,h.sendSetGroupProperty)(t.id,a,i),p={[l.default.GROUP_SETTING_TYPE.ANNOUNCEMENT]:{on:[f.default.t(405),f.default.t(397)],off:[f.default.t(404),f.default.t(396)]},[l.default.GROUP_SETTING_TYPE.RESTRICT]:{on:[f.default.t(411),f.default.t(403)],off:[f.default.t(410),f.default.t(402)]},[l.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED]:{on:[f.default.t(409),f.default.t(401)],off:[f.default.t(408),f.default.t(400)]},[l.default.GROUP_SETTING_TYPE.EPHEMERAL]:{on:[f.default.t(407),f.default.t(399)],off:[f.default.t(406),f.default.t(398)]}},m=0===i?"off":"on",[b,v]=p[a][m],_=new o.ActionType(b),E=s.then(()=>new o.ActionType(v)).catchType(c.ServerStatusCodeError,e=>{if(404===e.status)return new o.ActionType(f.default.t(28)+" "+f.default.t(84))}).catch(()=>(__LOG__(3)(g()),new o.ActionType(f.default.t(28),f.default.t(174),()=>e(t,a,i,r))));return d.default.openToast(n.createElement(o.ActionToast,{id:r,initialAction:_,pendingAction:E})),s.then(e=>{e._duplicate||t.groupMetadata.set(l.default.GROUP_SETTING_TO_METADATA[a],i)}).catchType(c.ServerStatusCodeError,()=>{})}((0,p.unproxy)(e),t,a)};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=r(a("hgigjbgie")),c=a("bgihjbde"),u=i(a("cajijabhgb")),f=r(a("bdjjabfecc")),h=a("babicefcfg"),p=a("cjfegjecaj");function g(){var e=(0,s.default)(["Error while setting property"]);return g=function(){return e},e}},ceijcbgdah:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],a=0;a<e.length;++a)for(var i=0;i<e[a].length;++i){var[r,s]=e[a][i];t.push([r,s,a])}return t}},cejajgjhhc:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0});var r={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.default}});var s=i(a("eccbdafcc"));Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},cfaeajeid:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=t.default=void 0;var r=i(a("iehjjbidi")),s={FAVORITES:"FAVORITES",[r.default.TRENDING]:r.default.TRENDING,[r.default.HAHA]:r.default.HAHA,[r.default.SAD]:r.default.SAD,[r.default.LOVE]:r.default.LOVE,[r.default.REACTIONS]:r.default.REACTIONS,[r.default.SPORTS]:r.default.SPORTS,[r.default.TV]:r.default.TV},n=s;t.default=n;var o={[s.FAVORITES]:s.FAVORITES,[s.TRENDING]:s.TRENDING,[s.HAHA]:s.HAHA,[s.SAD]:s.SAD,[s.LOVE]:s.LOVE,[s.REACTIONS]:s.REACTIONS,[s.SPORTS]:s.SPORTS,[s.TV]:s.TV},d=[o.FAVORITES,o.TRENDING,o.HAHA,o.SAD,o.LOVE,o.REACTIONS,o.SPORTS,o.TV];t.ORDERED_TAB_SECTION_IDS=d},cfafcfbaej:function(e,t){e.exports={text:"_1wlJG",template:"_1NcJS",placeholderIn:"G1sHr",placeholderOut:"_1DDbh",spacer:"_3ysB9",icons1:"_1BcQo",icons2:"_3DxOr",icons3:"_21Zcy",icons4:"_3Q2tG"}},cfaggciggj:function(e,t){e.exports={"-view-once-height":"60px",viewOnceHeight:"60px",bubble:"_3ytR3",clickableContainer:"_195Yn",deepContainerContent:"_2Pz7f",preview:"_2bl4m",content:"_3vhJW",contentHeader:"_1mGyp",contentIcon:"_15T4U",contentMeta:"_1QHQ7",stateIcon:"_2oaBn"}},cfbfafadca:function(e,t,a){e.exports=a.p+"img/rooms_ddca60c97a36e2b80c29bce69502c93b.jpg"},cfbfjcdiif:function(e,t){e.exports={symbol:"_3sDwr",margin:"XHLX8",miss:"_28tun",pttBlue:"_37v2u",pttGreen:"_2QrdY"}},cfbhddjcif:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.Pending=function(){return n.createElement("div",{className:d.default.controls},n.createElement("div",{className:(0,s.default)(d.default.icon,d.default.cursorPointer)},n.createElement("div",{className:d.default.spinner},n.createElement(l.default,{size:50,stroke:3,color:"white"})),n.createElement("div",{className:(0,s.default)(d.default.cancel,d.default.disabled)},n.createElement(c.default,{name:"media-cancel"}))))},t.PendingCancel=function(){return n.createElement("div",{className:d.default.controls},n.createElement("div",{className:(0,s.default)(d.default.icon,d.default.cursorPointer)},n.createElement("div",{className:d.default.spinner},n.createElement(l.default,{size:50,stroke:3,color:"white"})),n.createElement("div",{className:d.default.cancel},n.createElement(c.default,{name:"media-cancel"}))))},t.Download=function({filesize:e=0,onClick:t}){return e>0?n.createElement("div",{className:d.default.controls},n.createElement("button",{className:(0,s.default)(d.default.btnMeta,d.default.cursorPointer),onClick:t},n.createElement(c.default,{name:"media-download",className:d.default.iconMeta}),n.createElement("span",null,o.default.filesize(e)))):n.createElement("div",{className:d.default.controls},n.createElement("button",{className:(0,s.default)(d.default.button,d.default.cursorPointer),onClick:t},n.createElement(c.default,{name:"media-download"})))},t.Upload=function({filesize:e=0}){return e>0?n.createElement("div",{className:d.default.controls},n.createElement("button",{className:(0,s.default)(d.default.btnMeta,d.default.cursorPointer)},n.createElement(c.default,{name:"media-upload",className:d.default.iconMeta}),n.createElement("span",null,o.default.filesize(e)))):n.createElement("div",{className:d.default.controls},n.createElement("div",{className:d.default.button},n.createElement(c.default,{name:"media-upload"})))},t.Play=function(){return n.createElement("div",{className:d.default.controls},n.createElement("div",{className:d.default.button},n.createElement(c.default,{name:"media-play",className:d.default.play})))},t.GifIcon=function({onClick:e}){return n.createElement("div",{role:"button",className:d.default.controls,onClick:e},n.createElement("div",{className:d.default.button},n.createElement(c.default,{name:"media-gif"})))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bdjjabfecc")),d=r(a("dcifhcdhbe")),l=r(a("ecdebjcgfa")),c=r(a("dgdcjccfdi"))},cfcbahcge:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bfefjaegfe"));t.default=class{constructor(e){this.binary=new r.default(e)}readByte(){return this.binary.readUint8()}readInt16(){return this.binary.readUint16()}readInt20(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}readInt32(){return this.binary.readUint32()}readString(e){return this.binary.readString(e)}readBytes(e){return this.binary.readBuffer(e)}debugInfo(){var e=this.binary;return"offset: ".concat(e._readIndex," byte: ").concat(e._buffer[e._readIndex])}debugInfoWithPadding(){var e=this.binary,t=e._buffer.slice(Math.max(0,e._readIndex-20),e._readIndex).toString(),a=e._buffer.slice(e._readIndex,Math.min(e._buffer.length,e._readIndex+20)).toString();return"offset: ".concat(e._readIndex," byte: ").concat(e._buffer[e._readIndex]," previous 20 bytes: ").concat(t,"\n        following 20 bytes: ").concat(a,"\n        ")}}},cfccehgdic:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("dcjigehfeb")),d=r(a("cfbhddjcif")),l=i(a("cbehejfaji")),c=i(a("bdcchebfge")),u=i(a("dcdbbhicce")),f=a("cjfegjecaj");class h extends s.PureComponent{constructor(...e){super(...e),this.onUnsupportedDownloadClick=e=>{e.stopPropagation(),n.default.openModal(s.createElement(l.default,{msg:(0,f.unproxy)(this.props.msg)}))},this.downloadMedia=e=>{e.stopPropagation(),this.props.msg.downloadMedia(!0,c.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)},this.stopPropagation=e=>{e.stopPropagation()}}render(){var{mediaData:e}=this.props,t=null;if(this.props.mediaData.streamable&&this.props.mediaData.isStreamable())return null;switch(e.mediaStage){case o.default.STAGE.RESOLVED:case o.default.STAGE.ERROR_MISSING:return null;case o.default.STAGE.ERROR_UNSUPPORTED:return t=this.onUnsupportedDownloadClick,s.createElement(d.Download,{filesize:e.size,onClick:t});case o.default.STAGE.NEED_POKE:return t=this.downloadMedia,s.createElement(d.Download,{filesize:e.size,onClick:t});default:return t=this.stopPropagation,s.createElement("div",{onClick:t},s.createElement(d.Pending,null))}}}h.CONCERNS={mediaData:["mediaStage","size","streamable"]};var p=(0,u.default)(h,h.CONCERNS);t.default=p},cfccjacgje:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dbafiicfja")),n=r(a("iidhbgeed")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("ccbgfecegc")),c=r(a("bbfjdcedab")),u=r(a("hgigjbgie")),f=r(a("dfjejeffdj")),h=r(a("eiighchhi")),p=r(a("ddbeddiehf")),g=r(a("bhbdiadfhj")),m=a("eajdbbfgfg"),b=r(a("bdjjabfecc")),v=r(a("ebddggeaib")),_=r(a("bihiceijie")),E=r(a("bdcchebfge")),j=r(a("biecbbiiee")),y=r(a("badbjjhijd")),S=a("cjfegjecaj"),C=r(a("dgdcjccfdi")),M=i(a("bjhgigfbec"));class T extends d.Component{constructor(...e){super(...e),this.onStarChanged=e=>{this.props.selectedMessages.isSelected(e)&&this.forceUpdate()},this.onStarSelected=()=>{var{chat:e,selectedMessages:t,toastPosition:a}=this.props,i=t.getSelected();e&&l.default.sendStarMsgs(e,i,null,a),this.props.onCancel()},this.onUnstarSelected=()=>{var{chat:e,selectedMessages:t,toastPosition:a}=this.props,i=t.getSelected();e&&l.default.sendUnstarMsgs(e,i,null,a),this.props.onCancel()},this.onDownloadSelected=()=>{var e=(0,n.default)(this.props.selectedMessages.getSelected(),e=>e.mediaData);if(e.length){var t=(0,n.default)(e,e=>!e.mediaData.isDownloadable());t.length>0?(l.default.openToast(d.createElement(M.default,{msg:b.default.t(524),id:(0,M.genId)()})),Promise.all((0,s.default)(t,e=>e.downloadMedia(!0,E.default.WEBC_RMR_REASON_CODE.MULTI_SELECT_DOWNLOAD))).then(()=>{var t=(0,n.default)(e,e=>e.mediaData.isDownloadable());e.length>t.length&&l.default.openToast(d.createElement(M.default,{msg:b.default.t(612,{_plural:e.length-t.length,count:e.length-t.length}),id:(0,M.genId)()})),t.length&&h.default.initDownload(t)})):h.default.initDownload(e),this.props.onCancel()}},this.addOrRemoveLabelOnSelected=()=>{var e=this.props.selectedMessages.getSelected();l.default.openModal(d.createElement(_.default,{onLabelUpdateComplete:this.props.onCancel,modelsToUpdate:e}))},this.onDeleteSelected=()=>{var{chat:e,selectedMessages:t,toastPosition:a}=this.props,i=t.getSelected(),r=i.every(e=>e.canRevoke());e&&l.default.openModal(d.createElement(f.default,{chat:e,msgList:i.map(S.unproxy),deletePrompt:!0,revokePrompt:r&&!this.props.disableRevoke,toastPosition:a,onCancel:this.props.onCancel}))},this.onForwardSelected=()=>{var e=this.props.selectedMessages.getSelected();!this.props.noSortOnForward&&this.props.chat&&(e=this.props.chat.sortMsgs(e));var t=e.length,a=()=>{this.props.onCancel()},i=(0,n.default)(e,e=>e.canForward());i.length?t!==i.length?l.default.openModal(d.createElement(c.default,{title:b.default.t(446),onOK:()=>{l.default.openModal(d.createElement(p.default,{msgs:i,pushTransition:"none",popTransition:"none",onForward:a}),{transition:"modal-flow"})},okText:b.default.t(620),onCancel:()=>l.default.closeModal(),cancelText:b.default.t(1497)},b.default.t(445))):l.default.openModal(d.createElement(p.default,{msgs:e,pushTransition:"none",popTransition:"none",onForward:a}),{transition:"modal-flow"}):l.default.openModal(d.createElement(c.default,{title:b.default.t(606),onOK:()=>l.default.closeModal(),okText:b.default.t(1649)},b.default.t(603,{_plural:t})))}}componentDidMount(){this.props.selectedMessages.getSelected().forEach(e=>{this.props.listeners.add(e,"change:star",()=>{this.forceUpdate()})}),this.props.listeners.add(this.props.selectedMessages,"all",()=>{this.forceUpdate()}),this.props.listeners.add(j.default,"change:star",this.onStarChanged)}render(){var e,t,a,i=this.props.selectedMessages.getSelected(),r=i.length,s=g.default.supportsFeature(g.default.F.ENC_DOC)||i.every(e=>e.type!==u.default.MSG_TYPE.DOCUMENT),n=i.every(e=>e.canForward()),l=i.every(e=>e.canStar()),c=i.every(e=>e.mediaData),f=i.every(e=>!e.asRevoked),h=d.createElement(O,{disabled:!r||!s||!n,name:"forward",onClick:this.onForwardSelected,title:b.default.t(625,{_plural:r})}),p=d.createElement(O,{name:"delete",disabled:!r,title:b.default.t(494,{_plural:r}),onClick:this.onDeleteSelected});r&&i.every(e=>e.star)?(e=this.onUnstarSelected,t="unstar-btn",a=b.default.t(1337,{_plural:r})):(e=this.onStarSelected,t="star-btn",a=b.default.t(1259,{_plural:r}));var v,_=d.createElement(O,{name:t,disabled:!r||!l,title:a,onClick:e}),E=(0,m.canEditLabelAssociation)()&&d.createElement(O,{disabled:!r||!f,name:"label",onClick:this.addOrRemoveLabelOnSelected,title:b.default.t(785)});Modernizr.adownload&&this.props.downloadButton&&c&&(v=d.createElement(O,{name:"download",disabled:!r,title:b.default.t(1493),onClick:this.onDownloadSelected}));var j=(0,o.default)(y.default.multiControls,{[y.default.mediaGalleryTheme]:"mediaGallery"===this.props.theme});return d.createElement("div",{className:j},d.createElement(O,{name:"x",onClick:this.props.onCancel}),d.createElement("span",{className:y.default.multiCount},b.default.t(1222,{count:r,_plural:r})),E,_,p,h,v)}}T.defaultProps={downloadButton:!0};var P=(0,v.default)(T);t.default=P;var O=({name:e,title:t,onClick:a,directional:i,disabled:r})=>d.createElement("button",{className:y.default.multiselectIcon,title:t,onClick:a,disabled:r?"disabled":void 0},d.createElement(C.default,{name:e,directional:i}))},cfcfdeifjb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={GROUP:"GROUP",PROFILE:"PROFILE"};t.default=i},cfddgjaade:function(e,t){e.exports={checkboxChatWrapper:"_2aA2V",checkboxChatControl:"_3wzID",labelSelection:"_3ISPx"}},cfeahhdfce:function(e,t){e.exports={video:"_1uN8i"}},cfegbbcefd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("dcdbbhicce")),l=i(a("dahbdjdajd"));class c extends s.Component{constructor(...e){super(...e),this.onClick=()=>{var{contact:e}=this.props;n.default.find(e.id).then(e=>o.default.openChatBottom(e))}}render(){var{contact:e,theme:t,selectable:a}=this.props,i=e.isMe?void 0:this.onClick;return s.createElement(l.default,{contact:e,theme:t,selectable:a,onClick:i})}}c.CONCERNS={contact:["id","isMe"]};var u=(0,d.default)(c,c.CONCERNS);t.default=u},cffajefeag:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=a("ddbdgibbbi"),n=i(a("bhbdiadfhj")),o=i(a("djfhifiigg")),d=i(a("jccfhaecf")),l=a("dcbdjheea");function c(){var e=(0,r.default)(["Incorrect Wid MsgKey: remote:"," p:",""]);return c=function(){return e},e}function u(){var e=(0,r.default)(["MsgKey case error: ",""]);return u=function(){return e},e}function f(){var e=(0,r.default)(["Incorrect Wid MsgKey: from:"," to:"," p:",""]);return f=function(){return e},e}function h(){var e=(0,r.default)(["No matching constructor MsgKey: ",""]);return h=function(){return e},e}function p(){var e=(0,r.default)(["Unclear constructor MsgKey: ",""]);return p=function(){return e},e}function g(){var e=(0,r.default)(["MsgKey error: id is already a MsgKey"]);return g=function(){return e},e}class m{constructor(e){var t=e;if(!t)throw new Error("MsgKey error: obj is null/undefined");t.id instanceof m&&(t=t.id,__LOG__(3)(g()));var a,i,r,o,l,b,v,_=t.from&&t.to&&t.id,E=void 0!==t.fromMe&&t.remote&&t.id,j=(0,s.getMaybeMeUser)();if(!j)throw new Error("MsgKey error: me is undefined");if(_&&E)throw __LOG__(3)(p(),JSON.stringify(t)),new Error("MsgKey error: unclear which constructor to use");if(!_&&!E)throw __LOG__(3)(h(),JSON.stringify(t)),new Error("MsgKey error: don't have a matching constructor");if(_){if(({from:a,to:i,id:r,participant:o,selfDir:l}=t),!(a instanceof d.default)||!(i instanceof d.default)||o&&!(o instanceof d.default))throw __LOG__(3)(f(),String(a),String(i),String(o)),new Error("MsgKey error: something is not a wid");l=d.default.equals(a,i)?l:void 0,d.default.equals(a,i)&&d.default.equals(a,j)?(b="out"===l,v=j):d.default.equals(a,j)?(b=!0,v=i):d.default.equals(i,j)?(b=!1,v=a):d.default.equals(a,i)&&(d.default.isGroup(a)||d.default.isBroadcast(a))?(b=!0,v=a):__LOG__(3)(u(),[a,i,r,j].join()),void 0!==b&&(this.fromMe=b),v&&(this.remote=v),r&&(this.id=r)}else if(E){if(({fromMe:b,remote:v,id:r,participant:o}=t),!(v instanceof d.default)||o&&!(o instanceof d.default))throw __LOG__(3)(c(),String(v),String(o)),new Error("MsgKey error: something is not a wid");d.default.equals(j,v)&&(l=b?"out":"in"),void 0!==b&&(this.fromMe=b),v&&(this.remote=v),r&&(this.id=r)}var y=[this.fromMe,this.remote,this.id];void 0!==l&&(this.self=l,y.push(this.self)),(n.default.supportsFeature(n.default.F.KEY_PARTICIPANT)||n.default.supportsFeature(n.default.F.MD_BACKEND))&&void 0!==o&&(this.participant=o,y.push(this.participant)),this._serialized=y.join("_")}toString(){return this._serialized}clone(){return new m({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})}equals(e){return e instanceof m&&this.toString()===e.toString()}static fromString(e){var{fromMe:t,remote:a,id:i,participant:r}=(0,o.default)(e);return new m({fromMe:t,remote:(0,l.createWid)(a),id:i,participant:r?(0,l.createWid)(r):void 0})}}t.default=m},cffccdfbea:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("hgigjbgie")),o=i(a("cicaceaid")),d=i(a("bdjjabfecc")),l=a("bficeagfg");class c extends s.PureComponent{constructor(e){super(e),this._handleReadMoreClick=()=>{var{text:e}=this.props,t=n.default.SUBSEQUENT_PAGE_SIZE;this.setState(a=>{var i=a.textLimit+n.default.SUBSEQUENT_PAGE_SIZE;return{textLimit:u(e,i,t)?i:1/0}})};var{text:t,textLimit:a}=e;this.state={textLimit:u(t,a,a)?a:1/0}}render(){return s.createElement(s.Fragment,null,this.props.children(this.state),this.state.textLimit!==1/0?s.createElement("span",{className:o.default.read_more,role:"button",onClick:this._handleReadMoreClick}," "+d.default.t(1135)):null)}}function u(e,t,a){return(0,l.numCodepoints)(e)-t>a*n.default.OVERFLOWING_PAGE_THRESHOLD}t.default=c},cfffidafid:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=function(e,t){var a=e.target.files||e.dataTransfer&&e.dataTransfer.files,i=a?Array.from(a):[];if(t){var o=("string"==typeof t?[t]:t).map(e=>new RegExp(e));i=i.filter(e=>o.some(t=>e.type.match(t)))}if(i.length)return Promise.resolve(i);var d=e.dataTransfer;if(d&&d.getData("text/uri-list"))return n.urlToFile(d.getData("text/uri-list")).then(e=>[(0,s.createFile)([e],"",{type:e.type})]);if(d&&d.getData("text/html")){var l=(new DOMParser).parseFromString(d.getData("text/html"),"text/html");if(l.createNodeIterator(l.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(d.getData("text/plain")){var c=new r.MediaDragDropError("dropped html has text nodes: ".concat(d.getData("text/plain")));return Promise.reject(c)}}else{var u=l.getElementsByTagName("img");if(u.length)return n.urlToFile(u[0].src).then(e=>[(0,s.createFile)([e],"",{type:e.type})])}}return Promise.resolve([])};var r=i(a("cajijabhgb")),s=a("cgffhfegce"),n=i(a("dgjacfgggf"))},cffhhhgcfa:function(e,t){e.exports={spam:"_1Q5Gk",text:"_3vbdy",controls:"_25Yba",button:"_3U3dv"}},cfgafiffdb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfiaijfhc")),s=i(a("djegeegcbf")),n=i(a("chhifjcdie")),o=i(a("cadaffihj")),d=i(a("ccdccbedad")),l=i(a("bhccfhjdga")),c={ArrowLeft:n.default.EMOJI_LEFT,ArrowRight:n.default.EMOJI_RIGHT,Enter:n.default.EMOJI_ENTER,Tab:n.default.EMOJI_TAB};class u extends r.default{constructor(...e){super(...e),this.hooks={[o.default.CHANGE](e,{refInput:t}){""===t.textContent&&this.handle(n.default.EMOJI_INACTIVE)}},this.handlers={onKeyDown(e,t){8!==e.keyCode&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout(()=>{delete this._lastSyncKeyDownWasRepeat},0));var a=c[e.key];return!!a&&this.handle(a,[e,t])},onSelect(e,t){if(this.ctx.isComposing)return!1;if(this._lastSyncKeyDownWasRepeat)return!1;var a=window.getSelection();if(!a.modify)return!1;var i=f(t,a);return i?(i=i.slice(1),this.handle(n.default.EMOJI_SEARCH,[i]),!1):this.handle(n.default.EMOJI_INACTIVE)}}}handleSelect(e){this.ctx.forceFocus(),f(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(n.default.EMOJI_INACTIVE))}}function f(e,t,a=!1){var i=null,r=null,n="",o=0,c=null;return(0,d.default)(e,t,(e,t,a)=>{if("@"===e||" "===e&&" "===r)return!0;if(":"===r)if(" "===i);else{if(s.default.isEmoji(e))return c=n,!0;if(/\W/.test(e))return c=a.slice(t+1)+n,!0}return 0===t&&(n=a+n),i=r,r=e,(o+=1)>=50||void 0}),!c&&o<50&&":"===r&&(c=n),a&&c&&c.length&&(0,l.default)(t,c.length),c}t.default=u},cfgbbcgjec:function(e,t){e.exports={docState:"WtawS",spinner:"_2gvgu"}},cfghebjhih:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("gfebgebbi")),o=i(a("eicdedgie")),d=i(a("didfdhbecg")),l=a("ccbcihdfhg");class c extends s.PureComponent{constructor(...e){super(...e),this.state={date:void 0,visible:!0}}updateDateMarkerText(e){this.setState({date:e})}setVisibility(e){this.setState({visible:e})}render(){var e;return this.state.date&&this.state.visible&&(e=s.createElement("div",{className:o.default.sticky},s.createElement(l.SystemBubble,{theme:"sticky"},s.createElement(n.default,{direction:"auto",text:this.state.date})))),s.createElement(d.default,{transitionName:"slide-down-date"},e)}}t.default=c},cfghjdjcgg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bhdigchjba")),d=r(a("dgdcjccfdi")),l=r(a("didfdhbecg"));class c extends n.Component{constructor(...e){super(...e),this.onToggle=e=>{e&&e.stopPropagation(),this.props.onChange()}}render(){var e,t;this.props.checked?(t=this.props.radio?"checkbox-round-radio-checked":"checkbox-round-checked",e="checked"):(e="unchecked",t=this.props.hover?"checkbox-round-unchecked":"checkbox-round-passive");var a=(0,s.default)(o.default.roundIcon,{[o.default.unchecked]:!this.props.checked&&this.props.hover&&!this.props.systemUncheckedColor,[o.default.passive]:!this.props.checked&&!this.props.hover&&!this.props.systemUncheckedColor,[o.default.uncheckedSystemColor]:!this.props.checked&&this.props.systemUncheckedColor});return n.createElement(l.default,{className:o.default.container,transitionName:"pop"},n.createElement("div",{className:a,key:e,onClick:this.onToggle},n.createElement(d.default,{name:t})))}}var u=c;t.default=u},cfhchagia:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({wallpaperColor:e,showDoodle:t}){var a,{theme:i}=n.useContext(c.default);a=l.default.wallpapersV2?t:e===o.default.DEFAULT_CHAT_WALLPAPER;if(a&&(0,u.colorExistsInTheme)(e,i)){var r={opacity:(0,u.getDoodleOpacity)(e,i)},f=(0,u.getDoodleAssetName)(e,i),h={};return h[f]=!0,n.createElement("div",(0,s.default)({className:d.default.tile},h,{style:r}))}return null};var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("bddjhedfaa")),l=r(a("bfgbdiffgd")),c=r(a("dighddcfg")),u=a("deieafdcg")},cfhdefdegg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.consolidate=S,t.webMediaTypeToWamMediaType=function(e){switch(e){case"VIDEO":return 3;case"IMAGE":return 2;case"AUDIO":return 4;case"STICKER":return 16;case"DOCUMENT":return 8;case"PRODUCT":return 18;default:throw new Error("web media type is invalid: ".concat(e))}},t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=a("djfeeacgad"),o=i(a("hgigjbgie")),d=i(a("daiahejada")),l=a("bdaiigehjc"),c=i(a("bihjffdjjj")),u=a("ccfjbcbbga"),f=a("bccggdcfj"),h=(i(a("bdcchebfge")),i(a("dcdjgccech"))),p=i(a("iidebdecj")),g=a("dajfjhbgj");function m(){var e=(0,s.default)(["Assertion failed!"]);return m=function(){return e},e}function b(){var e=(0,s.default)(["Assertion failed!"]);return b=function(){return e},e}function v(){var e=(0,s.default)(["Assertion failed!"]);return v=function(){return e},e}function _(){var e=(0,s.default)(["type: ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["Assertion failed!"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["Assertion failed!"]);return j=function(){return e},e}function y(){var e=(0,s.default)(["Assertion failed!"]);return y=function(){return e},e}function S(e,t){var a=e.contentInfo,i=!1,r=function(e){switch(e){case u.OUTWARD_TYPES.IMAGE:case u.OUTWARD_TYPES.PRODUCT:return u.TYPE.IMAGE;case u.OUTWARD_TYPES.VIDEO:return u.TYPE.VIDEO;case u.OUTWARD_TYPES.STICKER:return u.TYPE.STICKER;case u.OUTWARD_TYPES.AUDIO:case u.OUTWARD_TYPES.PTT:return u.TYPE.AUDIO;case u.OUTWARD_TYPES.DOCUMENT:default:return}}(t.type,t.subtype);r&&!e.type&&(e.type=r,i=!0);var{downloadStage:s,uploadStage:n}=t;s&&s!==e.downloadStage&&(e.downloadStage=s,i=!0),n&&n!==e.uploadStage&&(e.uploadStage=n,i=!0),t.resolvedPreview&&!a.preview&&(t.resolvedPreview.retain(),a.preview=t.resolvedPreview,i=!0),null!=t.progressiveStage&&t.progressiveStage!==e.progressiveStage&&(e.progressiveStage=t.progressiveStage,i=!0);var o=t.mediaBlob;o&&!o.isBlobEqual(e.mediaBlob)&&(e.mediaBlob&&e.clearBlob(),o.retain(),e.mediaBlob=o,e.size=o.size(),i=!0),null!=t.size&&(null==e.size||t.size<e.size)&&(e.size=t.size,i=!0),t.filehash&&!e.filehash&&(e.filehash=t.filehash,i=!0),t.parsedVcards&&t.parsedVcards!==e.parsedVcards&&(e.parsedVcards=t.parsedVcards,i=!0);for(var d=e.contentFields(),l=0;l<d.length;l++){var c=d[l];switch(c){case"preview":t.preview&&!a._preview&&(e.runProcessIfNotRunBefore("preview",P,t.preview),a._preview=t.preview,i=!0);break;case"fullWidth":case"fullHeight":case"aspectRatio":var f=t[c];null!=f&&0!==f&&a[c]!==f&&(a[c]=f,i=!0);break;case"animationDuration":case"singleLoopDuration":var h=t[c];null!=h&&h!==a[c]&&(a[c]=h,i=!0);break;default:var p=t[c];void 0!==p&&void 0===a[c]&&(a[c]=p,i=!0)}}return null!=a.aspectRatio&&0!==a.aspectRatio||(null!=a.fullWidth&&0!==a.fullWidth&&null!=a.fullHeight&&0!==a.fullHeight?(a.aspectRatio=a.fullWidth/a.fullHeight,i=!0):a.preview&&e.runProcessIfNotRunBefore("aspectRatio",O,a.preview)),i}function C(e,t,a){for(var i=0;i<a.length;i++){var r=a[i];e[r]=t[r]}}function M(e,t){return t.filehash?e.id.fromMe&&e.ack<o.default.ACK.SENT?(e.local||(__LOG__(4,!1,new Error)(m()),SEND_LOGS("media-fault: unsent media system message not local")),function(e){switch(e.uploadStage){case u.UPLOAD_STAGE.INIT:case u.UPLOAD_STAGE.PREPARING:return u.STAGE.PREPARING;case u.UPLOAD_STAGE.UPLOADING:return u.STAGE.UPLOADING;case u.UPLOAD_STAGE.NEED_UPLOAD:return u.STAGE.NEED_UPLOAD;case u.UPLOAD_STAGE.ERROR_MISSING:return u.STAGE.ERROR_MISSING;case u.UPLOAD_STAGE.ERROR_TOO_LARGE:return u.STAGE.ERROR_TOO_LARGE;case u.UPLOAD_STAGE.UPLOADED:return u.STAGE.SENDING}}(t)):T(t):u.STAGE.PREPARING}function T(e){switch(e.downloadStage){case u.DOWNLOAD_STAGE.INIT:return u.STAGE.INIT;case u.DOWNLOAD_STAGE.PREPARING:return u.STAGE.PREPARING;case u.DOWNLOAD_STAGE.REUPLOADING:return u.STAGE.REUPLOADING;case u.DOWNLOAD_STAGE.FETCHING:return u.STAGE.FETCHING;case u.DOWNLOAD_STAGE.PROCESSING:return u.STAGE.DECRYPTING;case u.DOWNLOAD_STAGE.NEED_POKE:return u.STAGE.NEED_POKE;case u.DOWNLOAD_STAGE.ERROR_MISSING:return u.STAGE.ERROR_MISSING;case u.DOWNLOAD_STAGE.ERROR_UNSUPPORTED:return u.STAGE.ERROR_UNSUPPORTED;case u.DOWNLOAD_STAGE.RESOLVED:return u.STAGE.RESOLVED;case u.DOWNLOAD_STAGE.PROGRESSIVE_READY:return u.STAGE.PROGRESSIVE_READY}}function P(e){return h.default.createFromBase64Jpeg(e).then(e=>(e.autorelease(),{resolvedPreview:e}))}function O(e){return(0,f.getImageWidthHeight)(e).then(({width:e,height:t})=>({aspectRatio:e/t}))}t.default=class{constructor(){this._msgs=[],this._notifyTimer=new n.ShiftTimer(()=>{!function(e){var t={};C(t,e,u.FIELDS.RAW),C(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());for(var a=e._msgs,i=a.length,r=0;r<i;r++){var[s,n]=a[r];if(!n){if(s.type!==o.default.MSG_TYPE.CIPHERTEXT){t.mediaStage=M(s,e);for(var d=0;d<u.MSG_SPECIFIC_FIELDS.length;d++){var l=u.MSG_SPECIFIC_FIELDS[d];t[l]=s[u.MEDIA_TO_MSG[l]]}}else{delete t.mediaStage;for(var c=0;c<u.MSG_SPECIFIC_FIELDS.length;c++)delete t[u.MSG_SPECIFIC_FIELDS[c]]}s.mediaData.set(t)}}for(var f=a.length-1;f>=0;f--)a[f][1]&&a.splice(f,1);var h=e._callOnConsolidate;!e._pendingChanges&&h&&(e._callOnConsolidate=null,h.forEach(e=>{e()}));e._saveMedia&&e._saveMedia(e)}(this),function(e){var t={};C(t,e,u.FIELDS.RAW),C(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());var a=T(e);e._stickers=e._stickers.filter(([e,t])=>!t),e._stickers.forEach(([e,i])=>{e.mediaData.set((0,r.default)((0,r.default)({},t),{},{mediaStage:a}))}),e._stickerPacks=e._stickerPacks.filter(([e,t])=>!t),e._stickerPacks.forEach(([e,i])=>{e.mediaData.set((0,r.default)((0,r.default)({},t),{},{mediaStage:a}))}),!e._pendingChanges&&e._callOnConsolidate&&(e._callOnConsolidate.forEach(e=>{e()}),e._callOnConsolidate=null);e._saveMedia&&e._saveMedia(e)}(this)}),this._callOnConsolidate=null,this._keyedProcesses=null,this._pendingChangesCount=0,this._saveMedia=null,this._stickers=[],this._stickerPacks=[],this.entries=new l.MediaEntryList,this.downloadStage=u.DOWNLOAD_STAGE.INIT,this.uploadStage=u.UPLOAD_STAGE.INIT,this.userUploadAttemptCount=0,this.userDownloadAttemptCount=0,this.downloadPromise=null,this.uploadPromise=null,this.mediaBlob=null,this.size=void 0,this.filehash=void 0,this.contentInfo={},this.progressiveStage=void 0,this.parsedVcards=null}consolidate(e){return!!S(this,e)&&(this.notifyMsgsAsync(),!0)}clearBlob(){var e=this.mediaBlob;e&&(this.mediaBlob=null,e.autorelease())}contentFields(){var e=this.type||u.TYPE.DOCUMENT;return u.FIELDS[e]}resolveWhenConsolidated(){return this._notifyTimer.ts||this._pendingChanges?new Promise(e=>{this._callOnConsolidate?this._callOnConsolidate.push(e):this._callOnConsolidate=[e]}):Promise.resolve()}notifyMsgsAsync(){this._notifyTimer.debounce(0)}addMsg(e){for(var t=this._msgs,a=0;a<t.length;a++){var[i,r]=t[a];i!==e||r||(__LOG__(4,!1,new Error)(y()),SEND_LOGS("redundant-media-msg"))}t.push([e,!1]),this.notifyMsgsAsync()}removeMsg(e){for(var t=this._msgs,a=!1,i=0;!a&&i<t.length;i++){var[r,s]=t[i];r!==e||s||(t[i][1]=!0,a=!0)}}hasAssociatedMsgsOrStickers(){for(var e=this._msgs,t=0;t<e.length;t++)if(!e[t][1])return!0;return this.hasAssociatedStickers()||this.hasAssociatedStickerPacks()}associatedMsgs(){for(var e=this._msgs,t=[],a=0;a<e.length;a++){var[i,r]=e[a];r||t.push(i)}return t}rmr(e){var t=this.associatedStickers();if(t.length>0)return(0,g.rmrSticker)(this.entries,this._stickers,t[0]).then(e=>e.status);var a=this.associatedStickerPacks();if(a.length>0)return(0,g.rmrStickerPack)(this.entries,this._stickerPacks,a[0]).then(e=>e.status);var[i]=this._msgs.find(([e,t])=>!t&&!e.isUnsentPhoneMsg())||[null];return i||(__LOG__(4,!1,new Error)(j()),SEND_LOGS("media-fault: rmr called on MediaObject with no msg")),i?(e.onMsgSelect(i),(0,p.default)(i).then(e=>{if(200===e.status){var t=i.uploadhash,a=e.isMD?this.entries.updateEntry({url:i.clientUrl,uploadHash:t,directPath:e.directPath}):this.entries.addEntry({url:e.url,mediaKey:e.mediaKey||i.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,uploadHash:t,type:i.mediaData.type,directPath:e.directPath});a||(__LOG__(4,!1,new Error)(E()),SEND_LOGS("media-fault: rmr entry can not be found")),null==a||a.markWhetherOnServer(!0)}return e.status})):Promise.reject(new Error("rmr called on MediaObject with no msg"))}msgProps(e){var t={};C(t,this,u.FIELDS.RAW),C(t,this.contentInfo,this.contentFields()),C(t,e,u.MSG_SPECIFIC_FIELDS),t.preview=this.contentInfo._preview;var a={};for(var i in t){var r=u.MEDIA_TO_MSG[i];r&&(a[r]=t[i])}return a}delete(){this._saveMedia=null,this.downloadPromise&&this.downloadPromise.cancel(),this.uploadPromise&&this.uploadPromise.control.cancel(),this.clearBlob()}runProcessIfNotRunBefore(e,t,a){var i=this._keyedProcesses;i||(i=this._keyedProcesses={}),i.hasOwnProperty(e)||(this._pendingChangesCount++,i[e]=Promise.resolve(a).then(t).then(e=>{this.consolidate(e)}).finally(()=>{this._pendingChangesCount--,0===this._pendingChangesCount&&this.notifyMsgsAsync()}))}getPendingProcess(e){return 0!==this._pendingChangesCount&&this._keyedProcesses&&this._keyedProcesses.hasOwnProperty(e)?this._keyedProcesses[e]:Promise.resolve()}videoStreamingInfo(e){if(this.type!==u.TYPE.VIDEO)return __LOG__(4,!1,new Error)(_(),String(this.type)),SEND_LOGS("media-fault: media streaming info request for non-video type"),null;var t=this.entries.getDownloadEntry();return t&&t.sidecar?Promise.all([(0,d.default)(c.default.VIDEO,t.mediaKey),t.url()]).then(([a,i])=>({cryptoKeys:(0,r.default)((0,r.default)({},a),{},{cipherKey:a.encKey,sidecar:t.sidecar}),streamData:{clientUrl:i,size:this.size,msgKey:e}})):null}addStickerPack(e){for(var t=this._stickerPacks,a=0;a<t.length;a++){var[i,r]=t[a];i!==e||r||(__LOG__(4,!1,new Error)(v()),SEND_LOGS("redundant-sticker-pack-add"))}t.push([e,!1]),this.notifyMsgsAsync()}addSticker(e){for(var t=this._stickers,a=0;a<t.length;a++){var[i,r]=t[a];i!==e||r||(__LOG__(4,!1,new Error)(b()),SEND_LOGS("redundant-sticker-add"))}t.push([e,!1]),this.notifyMsgsAsync()}removeSticker(e){for(var t=this._stickers,a=!1,i=0;!a&&i<t.length;i++){var[r,s]=t[i];r!==e||s||(t[i][1]=!0,a=!0)}}removeStickerPack(e){for(var t=this._stickerPacks,a=!1,i=0;!a&&i<t.length;i++){var[r,s]=t[i];r!==e||s||(t[i][1]=!0,a=!0)}}hasAssociatedStickers(){return this._stickers.some(([e,t])=>!t)}hasAssociatedStickerPacks(){return this._stickerPacks.some(([e,t])=>!t)}associatedStickers(){return this._stickers.reduce((e,[t,a])=>a?e:e.concat(t),[])}associatedStickerPacks(){return this._stickerPacks.reduce((e,[t,a])=>a?e:e.concat(t),[])}toJSON(){return{mediaBlob:this.mediaBlob,size:this.size,filehash:this.filehash,type:this.type,contentInfo:this.contentInfo,downloadStage:this.downloadStage,uploadStage:this.uploadStage}}}},cfhiefcgad:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgggdceabd")),s=a("bebbiadjb"),n=i(a("djgdheeehd"));class o extends n.default{constructor(e,t){super(new r.default(s.initialize,s.IdbMetaInfoTable),{primaryIndex:s.metaInfoPrimaryIndex,dateIndex:s.metaInfoDateIndex,sizeIndex:s.metaInfoSizeIndex,maxSize:e,dispose:t})}}t.default=o},cficggdeda:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("dhggdfijcg")),l=a("edagdaii"),c=r(a("deeafjfccb")),u=r(a("bdcchebfge")),f=r(a("dcdbbhicce")),h=r(a("icacibbhd")),p=r(a("dcgeaagjda")),g=r(a("bcbjfabfcc"));class m extends n.PureComponent{constructor(...e){super(...e),this._stopPropagation=e=>{e.stopPropagation()},this._handleDownloadMedia=()=>this.props.msg.downloadMedia(!1,u.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}componentDidMount(){this.props.msg.downloadMedia(!1,u.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}render(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,a=t?n.createElement("div",{className:p.default.author},n.createElement(o.default,{msg:e.unsafe(),contact:e.senderObj})):null,i=this.props.quotedMsg?n.createElement("div",{className:p.default.quote},this.props.quotedMsg):null,r=(0,s.default)(p.default.bubble,{[p.default.hasAuthor]:t,[p.default.isFirst]:this.props.position===l.MsgPosition.FRONT||this.props.position===l.MsgPosition.SINGLE,[p.default.isTransparent]:!e.quotedMsg&&!e.ctwaContext});return n.createElement("div",{className:r,onClick:this._stopPropagation},a,i,n.createElement(d.default,{msg:e.unsafe(),wrapperClass:p.default.ctwaContext}),n.createElement("div",{className:p.default.body},n.createElement(g.default,{mediaData:this.props.mediaData,msg:e},n.createElement(h.default,{mediaData:this.props.mediaData,theme:"conversation",isNewMsg:e.isNewMsg,downloadMedia:this._handleDownloadMedia,forwardRef:this.props.forwardRef,animateOnView:this.props.animateOnView})),n.createElement("div",{className:p.default.meta},n.createElement(c.default,{msg:e}))))}}m.CONCERNS={msg:["isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg","ctwaContext"]};var b=(0,f.default)(m,m.CONCERNS);t.default=b},cfiefabjeg:function(e,t){e.exports={container:"_3dHYI"}},cfijifijje:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("cadjcdbgha")),l=r(a("ccbgfecegc")),c=r(a("bbfjdcedab")),u=r(a("hgigjbgie")),f=r(a("jeicidbjg")),h=a("bgihjbde"),p=i(a("cajijabhgb")),g=a("ddbdgibbbi"),m=r(a("ibdhiicje")),b=r(a("jheedhagg")),v=r(a("bdjjabfecc")),_=r(a("ebddggeaib")),E=r(a("dcfeafjaed")),j=r(a("ecfbbhgaja")),y=a("dgbddfjdhi"),S=r(a("edfbdbajd")),C=a("bijebbjggf"),M=a("bdheiggeaf"),T=i(a("bjhgigfbec")),P=a("dgdhcdgffe"),O=r(a("cfidecfjad"));function N(){var e=(0,s.default)(["chatAction:sendRevokeMsgs fail"]);return N=function(){return e},e}function I(){var e=(0,s.default)(["chatAction:sendDeleteMsgs dropped"]);return I=function(){return e},e}function A(){var e=(0,s.default)(["chatAction:sendUnstarMsgs dropped"]);return A=function(){return e},e}function w(){var e=(0,s.default)(["chatAction:sendStarMsgs dropped"]);return w=function(){return e},e}function R(){var e=(0,s.default)(["DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:",""]);return R=function(){return e},e}function D(e){switch(e){case 1:return v.default.t(656);case 8:return v.default.t(658);case 24:return v.default.t(655);case 168:return v.default.t(657);default:return __LOG__(2)(R(),e),v.default.t(654)}}class L extends n.PureComponent{constructor(...e){super(...e),this.onAttachProduct=({product:e,onSend:t})=>{l.default.openModal(n.createElement(S.default,{product:e,onSend:t}),{transition:"modal-flow",uim:this.props.uim})},this.onProductImageViewer=(e,t)=>{l.default.openModalMedia(n.createElement(j.default,{activeProductImage:e.activeProductImage,productImageCollection:e.productImageCollection,getZoomNode:e.getZoomNode,product:e.product,sessionId:t}),{transition:"media-viewer",uim:this.props.uim})},this.openGroupV4InviteRequestFlow=(e,t,a,i)=>{l.default.openModal(n.createElement(m.default,{participantNeedInvite:e,groupGid:t,subject:a,groupDesc:i}))},this.onToggleMute=(e,t)=>{if(t){var a=v.default.t(948,{name:e.title()});l.default.openModal(n.createElement(E.default,{title:a,mute:e.mute,onMute:t=>{e.pendingAction++,e.mute.mute(t,!0).finally(()=>{e.pendingAction--})}}),{transition:"modal",uim:this.props.uim})}else e.pendingAction++,e.mute.unmute(!0).finally(()=>{e.pendingAction--})},this.onToggleMuteAll=(e,t)=>{t?l.default.openModal(n.createElement(E.default,{mute:e,title:v.default.t(1321),onMute:(t,a)=>{e.mute(t),l.default.openToast(n.createElement(T.default,{msg:D(a),id:(0,T.genId)()}))},muteAll:!0}),{transition:"modal",uim:this.props.uim}):l.default.openModal(n.createElement(c.default,{onOK:()=>{e.unmute(),l.default.closeModal(),l.default.openToast(n.createElement(T.default,{msg:v.default.t(662),id:(0,T.genId)()}))},okText:v.default.t(57),onCancel:()=>l.default.closeModal(),cancelText:v.default.t(1497)},v.default.t(461)))},this.onDeleteOrExit=e=>{l.default.openModal(n.createElement(f.default,{chat:e,onDeleteOrExit:t=>{e.pendingAction++,t.finally(()=>{e.pendingAction--})}}),{transition:"modal",uim:this.props.uim})},this.onPin=(e,t)=>{e.pendingAction++,(0,M.setPin)(e,t).catch(()=>{}).finally(()=>{e.pendingAction--})},this.onClear=e=>{l.default.openModal(n.createElement(d.default,{chat:e}),{transition:"modal",uim:this.props.uim})},this.onArchive=(e,t)=>{e.pendingAction++,(0,C.setArchive)(e,t).catch(()=>{}).finally(()=>{e.pendingAction--})},this.onMarkUnread=(e,t)=>{e.pendingAction++,(0,P.markUnread)(e,t).finally(()=>{e.pendingAction--})},this.onSendStarMsgs=(e,t,a,i="LEFT")=>{if(!t)return Promise.reject(new p.ActionError);if(t.some(e=>!e.id))return Promise.reject(new p.ActionError);var r=a||(0,o.genId)(),s=t.length,d={count:s,_plural:s},c=new o.ActionType(v.default.t(123,d)),u=e.sendStarMsgs(t,!0).then(()=>new o.ActionType(v.default.t(122,d),v.default.t(178),this.onSendUnstarMsgs.bind(this,e,t,r,i))).catchType(h.ServerStatusCodeError,t=>t.status>=400?e.isEphemeralSettingOn()?new o.ActionType(v.default.t(120,d)):new o.ActionType(v.default.t(121,d)):void 0).catch(()=>(__LOG__(3)(w()),new o.ActionType(v.default.t(121,d),v.default.t(174),this.onSendStarMsgs.bind(this,e,t,r,i))));return l.default.openToast(n.createElement(o.ActionToast,{id:r,toastPosition:i,initialAction:c,pendingAction:u})),u},this.onSendUnstarMsgs=(e,t,a,i="LEFT")=>{if(!t)return Promise.reject(new p.ActionError);if(t.some(e=>!e.id))return Promise.reject(new p.ActionError);var r=a||(0,o.genId)(),s=t.length,d={count:s,_plural:s},c=new o.ActionType(v.default.t(129,d)),u=e.sendStarMsgs(t,!1).then(()=>new o.ActionType(v.default.t(127,d),v.default.t(178),this.onSendStarMsgs.bind(this,e,t,r,i))).catchType(h.ServerStatusCodeError,t=>t.status>=400?e.isEphemeralSettingOn()?new o.ActionType(v.default.t(125,d)):new o.ActionType(v.default.t(126,d)):void 0).catch(()=>(__LOG__(3)(A()),new o.ActionType(v.default.t(126,d),v.default.t(174),this.onSendUnstarMsgs.bind(this,e,t,r,i))));return l.default.openToast(n.createElement(o.ActionToast,{id:r,toastPosition:i,initialAction:c,pendingAction:u})),u},this.onSendDeleteMsgs=(e,t,a,i,r="LEFT")=>{if(!t)return Promise.reject(new p.ActionError);if(t.some(e=>!e.id))return Promise.reject(new p.ActionError);var s=t.length,d=i||(0,o.genId)(),c={count:s,_plural:s},u=new o.ActionType(v.default.t(119,c)),f=e.sendDeleteMsgs(t,a).then(e=>{if(e===s)return new o.ActionType(v.default.t(118,c));var t=s-e;return c={count:t,_plural:t},new o.ActionType(v.default.t(117,c))}).catch(()=>(__LOG__(3)(I()),new o.ActionType(v.default.t(117,c),v.default.t(174),this.onSendDeleteMsgs.bind(this,e,t,!1,d,r))));return l.default.openToast(n.createElement(o.ActionToast,{id:d,toastPosition:r,initialAction:u,pendingAction:f})),f},this.onSendRevokeMsgs=(e,t,a,i,r="LEFT")=>{var s=i;if(!t)return Promise.reject(new p.ActionError);var[d,c]=t.reduce((e,t)=>{var[a,i]=[t.canRevoke(),t.type!==u.default.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t];return[e[0]||!a,e[1]||i]},[!1,null]);if(d)return Promise.reject(new p.ActionError);c&&this.handleGroupInviteMsgRevoke(e,c);var f=t.length;s=s||(0,o.genId)();var h={count:f,_plural:f},g=new o.ActionType(v.default.t(119,h)),m=e.sendRevokeMsgs(t,a).then(e=>{var t=e.filter(e=>e!==y.SendMsgResult.OK).length;if(t>0)throw new Error("".concat(t," / ").concat(e.length," dropped"));return new o.ActionType(v.default.t(118,h))}).catch(()=>(__LOG__(3)(N()),e.isEphemeralSettingOn()?new o.ActionType(v.default.t(116,h)):new o.ActionType(v.default.t(117,h))));return l.default.openToast(n.createElement(o.ActionToast,{id:s,toastPosition:r,initialAction:g,pendingAction:m})),m},this.handleGroupInviteMsgRevoke=(e,t)=>{var a=t.inviteGrp,i=(0,g.getMaybeMeUser)().toString();O.default.revokeGroupV4Invite([t.to.toString()],a,i)}}componentDidMount(){this.props.listeners.add(l.default,"mute_all",this.onToggleMuteAll),this.props.listeners.add(l.default,"mute_chat",this.onToggleMute),this.props.listeners.add(l.default,"delete_or_exit_chat",this.onDeleteOrExit),this.props.listeners.add(l.default,"archive_chat",this.onArchive),this.props.listeners.add(l.default,"clear_chat_msgs",this.onClear),this.props.listeners.add(l.default,"mark_chat_unread",this.onMarkUnread),this.props.listeners.add(l.default,"pin_chat",this.onPin),this.props.listeners.add(l.default,"send_star_msgs",this.onSendStarMsgs),this.props.listeners.add(l.default,"send_unstar_msgs",this.onSendUnstarMsgs),this.props.listeners.add(l.default,"send_delete_msgs",this.onSendDeleteMsgs),this.props.listeners.add(l.default,"send_revoke_msgs",this.onSendRevokeMsgs),this.props.listeners.add(l.default,"product_image_viewer_modal",this.onProductImageViewer),this.props.listeners.add(l.default,"attach_product",this.onAttachProduct),this.props.listeners.add(l.default,"open_group_v4_invite_request_flow",this.openGroupV4InviteRequestFlow)}render(){return null}}var k=(0,b.default)((0,_.default)(L));t.default=k},cfjbaecadg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({mediaKey:e,plaintext:t,type:a}){return new Promise((i,r)=>{if(e.slice(0,10),__LOG__(2)(v()),!a)throw new u.MediaEncryptionError('encryptMedia: missing "type"');if(!e)throw new u.MediaEncryptionError('encryptMedia: missing "mediaKey"');var _=new p.default.WebcCryptoMedia({webcCryptoType:p.default.WEBC_CRYPTO_TYPE_CODE.ENCRYPT,webcCryptoLibrary:p.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO});(0,c.default)(a,e).then(({iv:e,encKey:i,macKey:r})=>(0,s.aesCbcEncrypt)(i,t,e).then(i=>{var s=i.slice(e.byteLength);return new f.default(r).sign(i,10).then(e=>{var c=Promise.resolve();if(a===h.default.VIDEO||a===h.default.AUDIO){var u=(0,l.default)(i,e);c=(0,d.default)(u,r)}var f=Promise.resolve();if(a===h.default.STICKER){var{firstFrameLength:p}=(0,g.default)(t);if(null!=p){var m=(0,l.default)(i,e);f=(0,o.default)(p,m,r)}}var b=(0,l.default)(s,e);return Promise.props({ciphertextHmac:b,hash:(0,n.default)(b),sidecar:c,firstFrameSidecar:f})})})).then(e=>{_.webcCryptoFileSize=e.ciphertextHmac.byteLength,_.markWebcCryptoElapsedT(),_.commit(),__LOG__(2)(b()),i(e)}).catch(e=>{if(__LOG__(3)(m()),e instanceof u.MediaEncryptionError)throw e;throw new u.MediaEncryptionError("encryption error: ".concat(String(e),"; stack: ").concat(e.stack))}).catch(r)})};var r=i(a("dfadhaifh")),s=a("eaiigfgagg"),n=i(a("dfeejhfchi")),o=i(a("bcdhbefeei")),d=i(a("cggdahefjh")),l=i(a("cdfccifhg")),c=i(a("daiahejada")),u=a("cajijabhgb"),f=i(a("bbejegbieb")),h=i(a("bihjffdjjj")),p=i(a("bdcchebfge")),g=i(a("dbjchhfjhj"));function m(){var e=(0,r.default)(["encryptMedia: error"]);return m=function(){return e},e}function b(){var e=(0,r.default)(["encryptMedia: success"]);return b=function(){return e},e}function v(){var e=(0,r.default)(["encryptMedia: start"]);return v=function(){return e},e}},cfjfcfhchg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=0){var{index:a}=e,[i]=e,r=a+i.length-1,s=[a,a,r,r,e];if(t){var n=e[t];s[1]=a+i.indexOf(n),s[2]=s[1]+n.length-1}return s}},cfjfgadghf:function(e,t){e.exports={avatar:"_1l12d",avatarDefault:"_15OLJ",avatarImage:"_3t3gU",isLoaded:"rlUm6",avatarSquare:"_35pCA",avatarBorder:"_3VHJW",status_v3:"_1nSCj",statusV3:"_1nSCj",wrapper:"_30bk4",badge:"_2WzP6",badgeIcon:"UeADR"}},cfjhbghahe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendCallOffer=function(e){return(0,i.sendCallOfferBridge)(e)},t.sendCallSignalingMsg=function(e){return(0,i.sendCallSignalingMsgBridge)(e)},t.sendCallEnd=function(e,t){return(0,i.sendCallEndBridge)(e,t)},t.sendEncRekey=function(e){return(0,i.sendEncRekeyBridge)(e)},t.queryCall=function(e,t){return(0,i.sendQueryCallBridge)(e,t)},t.prepareRetryReceipt=function(e){return(0,i.prepareRetryReceiptBridge)(e)};var i=a("cjdehcabei")},cfjijjdfca:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("effbcehec")),o=i(a("chggbcfheb")),d=({children:e})=>s.createElement("div",{"data-a8n":n.default.key("tooltip"),className:o.default.tooltip},e);t.default=d},cfjjhfcjhj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("ecagbdjcba")),l=r(a("bagefjifjg")),c=r(a("cfadcbbiie")),u=r(a("ccbgfecegc")),f=(r(a("hgigjbgie")),r(a("dhggdfijcg"))),h=r(a("dfhddecjbi")),p=r(a("bdjjabfecc")),g=r(a("ebddggeaib")),m=r(a("dcjigehfeb")),b=r(a("ebibaajhjh")),v=i(a("cfbhddjcif")),_=r(a("cbehejfaji")),E=r(a("deeafjfccb")),j=r(a("bdcchebfge")),y=a("bghjhaheia"),S=i(a("deehhjcifg")),C=r(a("ediaiijfe")),M=r(a("cjfibjfdc")),T=r(a("dcdbbhicce")),P=a("cjfegjecaj"),O=r(a("dgdcjccfdi")),N=r(a("eebiehgif")),I=r(a("bfiaaegafb")),A=r(a("edbaidcaf")),w=r(a("bjahdhiige")),R="PREVIEW",D="FLOATER";class L extends n.PureComponent{constructor(e){super(e),this.setRefThumb=e=>{this.refThumb=e},this.showMediaMissing=()=>{u.default.openModal(n.createElement(b.default,{msg:this.props.msg.unsafe()}))},this.downloadMedia=()=>{this.props.msg.downloadMedia(!0,j.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},this.cancelDownload=()=>{this.props.msg.cancelDownload()},this.cancelUpload=()=>{this.props.msg.cancelUpload()},this.resumeUpload=()=>{this.props.msg.resumeUpload()},this.resumeRemoteUpload=()=>{this.props.msg.resumeRemoteUpload()},this.downloadUnsupportedToDesktop=e=>{e&&e.stopPropagation(),u.default.openModal(n.createElement(_.default,{msg:(0,P.unproxy)(this.props.msg.unsafe())}))},this.launchMediaViewer=e=>{if(e&&e.stopPropagation(),this.props.theme===y.THEMES.ALBUM){var t=this.props.zoomMsg||this.props.msg.unsafe(),a=new Set((this.props.albumMsgs||[]).map(e=>e.id.toString()));u.default.mediaViewerModal({msg:(0,P.unproxy)(t),highlightedMsgIds:a})}else u.default.mediaViewerModal({msg:(0,P.unproxy)(this.props.msg.unsafe())})},this.launchVideoFloater=e=>{e&&e.stopPropagation();var t=this.refThumb?this.refThumb.getBoundingClientRect():null;C.default.openPiP((0,P.unproxy)(this.props.msg.unsafe()),0,t)},this.setPreviewMode=()=>{this.state.mode!==R&&this.setState({mode:R})},this.setFloaterMode=()=>{this.state.mode!==D&&this.setState({mode:D})};var t=C.default.isOpened((0,P.unproxy)(e.msg.unsafe()))?D:R;this.state={mode:t}}componentDidMount(){this.props.listeners.add(C.default,"".concat(this.props.msg.id.toString(),"_pip_did_open"),this.setFloaterMode),this.props.listeners.add(C.default,"".concat(this.props.msg.id.toString(),"_pip_did_close"),this.setPreviewMode)}render(){var{msg:e,mediaData:t,theme:a,overlayContent:i}=this.props,r=null,u=null;switch(t.mediaStage){case m.default.STAGE.RESOLVED:case m.default.STAGE.INIT:r=n.createElement(v.Play,null),u=this.launchMediaViewer;break;case m.default.STAGE.NEED_POKE:r=n.createElement(v.Download,{filesize:t.size}),u=this.downloadMedia;break;case m.default.STAGE.UPLOADING:r=n.createElement(v.PendingCancel,null),u=this.cancelUpload;break;case m.default.STAGE.FETCHING:r=n.createElement(v.PendingCancel,null),u=this.cancelDownload;break;case m.default.STAGE.NEED_UPLOAD:r=n.createElement(v.Upload,{filesize:t.size}),u=this.resumeUpload;break;case m.default.STAGE.REMOTE_NEED_UPLOAD:r=n.createElement(v.Upload,{filesize:t.size}),u=this.resumeRemoteUpload;break;case m.default.STAGE.ERROR_MISSING:u=this.showMediaMissing;break;case m.default.STAGE.ERROR_UNSUPPORTED:e.isUnsentMedia||(r=n.createElement(v.Download,{filesize:t.size}),u=this.downloadUnsupportedToDesktop);break;case m.default.STAGE.SENDING:e.isFailed||(r=n.createElement(v.Pending,null));break;default:r=n.createElement(v.Pending,null)}var g,b=parseInt(t.duration,10)?c.default.durationStr(t.duration):null,_=b?n.createElement("span",{className:w.default.duration},n.createElement("div",{className:w.default.icon},n.createElement(O.default,{name:"msg-video"})),b):null,j=t.preview?A.default.thumbAsBackgroundImage(t.preview.url()):void 0,C=n.createElement("div",{className:w.default.thumbBody,style:j}),T=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,P=T?n.createElement("div",{className:w.default.author},n.createElement(o.default,{msg:e.unsafe(),contact:e.senderObj})):null,L=e.showForwarded()&&this.props.theme!==y.THEMES.ALBUM,x=L?n.createElement(h.default,{msg:e.unsafe(),className:w.default.forwardedIndicator}):null,G=n.createElement(I.default,null),U=e.caption?n.createElement("div",{className:w.default.caption},n.createElement(l.default,{msg:e.unsafe(),trusted:this.props.trusted,spacer:!(e.isFromTemplate&&e.footer)})):null,F=(0,s.default)(w.default.bubble,{[w.default.nonAlbumBubble]:!a||a!==y.THEMES.ALBUM}),B=(0,s.default)(F,{[w.default.hasCaption]:U,[w.default.hasAuthor]:T,[w.default.isHover]:this.props.hover,[w.default.forwarded]:L,[w.default.isPSA]:e.isPSA,[w.default.ctwaContainerWidth]:null!=e.ctwaContext});switch(t.mediaStage){case m.default.STAGE.INIT:case m.default.STAGE.RESOLVED:g=n.createElement("div",{className:(0,s.default)(w.default.pipBtn,{[w.default.isHover]:!!this.props.hover})},n.createElement(S.default,{onClick:e=>{e&&e.stopPropagation(),this.launchVideoFloater()},theme:S.PIP_BUTTON_THEME.PREVIEW}));break;default:g=null}var V,H=this.props.quotedMsg?n.createElement("div",{className:w.default.quote},this.props.quotedMsg):null;switch(this.state.mode){case R:V=n.createElement(n.Fragment,null,g,r);break;case D:V=n.createElement(M.default,{icon:n.createElement(O.default,{name:"video-pip-large"})},p.default.t(1090))}var W,K=(0,s.default)(w.default.thumb,{[w.default.inAlbum]:a===y.THEMES.ALBUM});null==i&&(W=n.createElement("div",{className:w.default.meta},n.createElement(E.default,{msg:e})));var Y=n.createElement("div",{className:B},P,x,H,n.createElement(f.default,{msg:e.unsafe(),wrapperClass:w.default.ctwaContext}),n.createElement("div",{ref:this.setRefThumb,className:(0,s.default)(K,{[w.default.cursorPointer]:this.state.mode===R,[w.default.overlay]:i,[w.default.ctwaThumbWidth]:null!=e.ctwaContext}),onClick:u},null==i?V:null,C,G,null==i?_:null),U,n.createElement(N.default,{dir:e.dir,footer:e.footer,isFromTemplate:e.isFromTemplate,msg:e.unsafe(),rtl:e.rtl,type:e.type}),W);return U?n.createElement(d.default,{contact:e.senderObj,msg:e.unsafe(),onClick:k},Y):(null!=i&&(Y=n.createElement("div",{className:w.default.overlayAlbumText},Y,i)),n.createElement("div",{onClick:k},Y))}}function k(e){e.stopPropagation()}L.CONCERNS={msg:["ack","caption","dir","footer","gifAttribution","isFromTemplate","id","isGroupMsg","isPSA","isSentByMe","isUnsentMedia","rtl","senderObj","type","type","isFailed","ctwaContext"],mediaData:["aspectRatio","preview","duration","mediaStage","size"]};var x=(0,g.default)((0,T.default)(L,L.CONCERNS));t.default=x},cgachccie:function(e,t){e.exports={icon:"_4qJgs",bizInfo:"_1SmIm",iconE2E:"PtQC4",iconSupportGroup:"YpQZm",iconMiss:"dBsLu"}},cgahbebecg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"chbjhajdfc",7)).then(e=>e.default),"CatalogManagementFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(782),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},cgahdjdehg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dhcegagahg")),d=r(a("dgdcjccfdi"));class l extends n.PureComponent{render(){return n.createElement("div",{className:(0,s.default)(o.default.closeBtn,{[o.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},n.createElement(d.default,{name:"video-x"}))}}t.default=l},cgajbaciee:function(e,t){e.exports={section:"_20xFh",control:"_3I7QC",label:"rajte"}},cgajeaebeb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.checkAndRepair=function(e,t){var a=new n.default.WebcMediaAnalyzed;return(i={type:"prep",file:e,asGif:t},new Promise((e,t)=>{__LOG__(2)(l()),s=r||new o.default,r=void 0,s.onmessage=a=>{try{a.data&&"log"===a.data.type?__LOG__(2)(d(),a.data.msg):e(a.data)}catch(e){t(e)}},s.onerror=e=>{t("Milan.onerror = ".concat(e&&e.message?e.message:e))},s.postMessage(i)}).finally(()=>{s&&(s.terminate(),r=new o.default)})).then(({type:e,result:t,error:a,filename:i,file:r})=>{switch(e){case"result":return __LOG__(2)(p()),t;case"parsingError":return __LOG__(1)(h(),r,i,String(a)),r&&(__LOG__(4,!1,new Error)(f(),String(a)),SEND_LOGS("media-parsing-error")),void __LOG__(2)(u(),String(a))}}).catch(e=>{__LOG__(4,!1,new Error)(c(),String(e)),SEND_LOGS("media-detection-error")}).finally(t=>{if(a){var i=void 0;if(e.name){var r=e.name.split(".");r.length>1&&(i=r[r.length-1])}a.set({webcMediaSupported:!!t,webcMediaExtensions:i}),a.markWebcMediaAnalyzeT(),a.commit()}});var i,s};var r,s=i(a("dfadhaifh")),n=i(a("bdcchebfge")),o=i(a("eafdefgjic"));function d(){var e=(0,s.default)(["(via Milan) ",""]);return d=function(){return e},e}function l(){var e=(0,s.default)(["MediaAnalyzer:sendMessageToWorker"]);return l=function(){return e},e}function c(){var e=(0,s.default)(["MediaAnalyzer:checkAndRepair got error! ",""]);return c=function(){return e},e}function u(){var e=(0,s.default)(["MediaAnalyzer:checkAndRepair rejected file (",")"]);return u=function(){return e},e}function f(){var e=(0,s.default)(["MediaAnalyzer:checkAndRepair got parsing error! ",""]);return f=function(){return e},e}function h(){var e=(0,s.default)(["trouble parsing file "," (fossil ",") ",""]);return h=function(){return e},e}function p(){var e=(0,s.default)(["MediaAnalyzer:checkAndRepair approved file"]);return p=function(){return e},e}},cgbdcdhgig:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.markPlayed=function(e){return function(e){u(e)?(0,d.default)(e).then(()=>{e.ack=s.default.ACK.PLAYED}).catchType(n.WebdDrop,()=>{}):__LOG__(2)(c())}((0,l.unproxy)(e))},t.canMarkPlayed=function(e){return u((0,l.unproxy)(e))};var r=i(a("dfadhaifh")),s=i(a("hgigjbgie")),n=a("bgihjbde"),o=i(a("bhbdiadfhj")),d=i(a("ccffgjicjj")),l=a("cjfegjecaj");function c(){var e=(0,r.default)(["Msg:msg should not call sendPlayed"]);return c=function(){return e},e}function u(e){return!e.isSentByMe&&(!(e.ack>=s.default.ACK.PLAYED)&&("ptt"===e.type||"video"===e.type&&!e.isGif&&o.default.supportsFeature(o.default.F.VIDEO_PLAYED_STATUS)))}},cgbigfaejj:function(e,t){e.exports={clickable:"_3WeA2",body:"fWatW",main:"pA7HB",mainEllipsify:"_2jV60",side:"_28qy7"}},cgdbgfjefd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement(o.default,{title:e.title,onOK:()=>{},okText:e.okText,okDisabled:!0,onCancel:()=>n.default.closeModal()},s.createElement("div",{className:l.default.container},s.createElement(d.default,{error:e.error})))};var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("ecffbdieca")),l=i(a("ceiedfaadc"))},cgddafdgie:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.addAndSendMsgToChat=function(e,t,i){return function(e,t,i){var n=Promise.resolve(t).then(t=>(0,s.storeMessages)([t],e.id).then(()=>{var e=a("biecbbiiee").default.add(t)[0];if(e)return e.waitForPrep().then(()=>e);throw new r.ModelCreateError("Msg",t)})),o=e.addQueue.enqueue(n).then(t=>e.msgs.add(t)[0]),l=i?o.then(i).then(()=>o):o,c=d(e,l);return[o,c]}((0,o.unproxy)(e),t,i)},t.sendMsgToChat=function(e,t){return d((0,o.unproxy)(e),t)};var r=i(a("cajijabhgb")),s=a("ecdfgaagba"),n=a("bdgehigfig"),o=(a("dgbddfjdhi"),a("cjfegjecaj"));function d(e,t){return e.sendQueue.enqueue(t).then(e=>(0,n.sendMsgRecord)(e))}},cgddiaaege:function(e,t){e.exports={status:"_3ohot",failed:"_3WTtt",processing:"_1TzFo",waiting:"yAPyX",success:"_33PxA"}},cgdegjdhfe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i;function r(e,t){var a=t;for(i||(i=function(){for(var e=new Uint32Array(256),t=0,a=0,i=0;t<256;a=++t){for(i=0;i<8;++i)a=1&a?a>>>1^3988292384:a>>>1;e[t]=a}return e}());e.size();)a=i[255&(a^e.readUint8())]^a>>>8;return~a>>>0}t.default=(e,t=4294967295)=>e.peek(r,t)},cgdeicdhag:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MSG_HEIGHT=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("ecagbdjcba")),l=r(a("bagefjifjg")),c=r(a("cfadcbbiie")),u=r(a("ccbgfecegc")),f=r(a("hhcjfgifh")),h=r(a("bhbdiadfhj")),p=r(a("bdjjabfecc")),g=r(a("ebddggeaib")),m=r(a("eedjceied")),b=r(a("bahgegbhg")),v=r(a("ccbgehdigj")),_=r(a("cjafajdgce")),E=r(a("deeafjfccb")),j=a("cicjibbhdb"),y=r(a("dcdbbhicce")),S=r(a("dgdcjccfdi"));t.MSG_HEIGHT=220;class C extends n.Component{constructor(e){super(e),this.openLiveLocationDrawer=()=>{var{chat:e,sender:t}=this.props.msg;u.default.liveLocationDrawer(e,t)},this.openExpiredLocationDrawer=()=>{u.default.expiredLocationDrawer(this.props.msg.unsafe())},this.stopSharing=()=>{var{chat:e}=this.props.msg;u.default.openModal(n.createElement(v.default,{chat:e}))},this.onMapLoad=()=>{this.setState({mapLoaded:!0})},this.state={mapLoaded:!1}}getExpiration(){var{msg:{t:e,shareDuration:t}}=this.props;return null==t?e:e+t}isExpired(){return c.default.globalUnixTime()>=this.getExpiration()}render(){var{msg:e,trusted:t,displayAuthor:a,quotedMsg:i}=this.props;if(h.default.supportsFeature(h.default.F.LIVE_LOCATIONS)){var r=a&&!e.isSentByMe&&e.isGroupMsg?n.createElement("div",{className:m.default.author},n.createElement(o.default,{msg:e.unsafe(),contact:e.senderObj})):null,u=i?n.createElement("div",{className:m.default.quote},i):null,g=this.isExpired(),v=g&&void 0!==e.finalLat&&void 0!==e.finalLng,y=e.lat,C=e.lng,M=g?void 0:this.openLiveLocationDrawer;h.default.supportsFeature(h.default.F.LIVE_LOCATIONS_FINAL)&&(M||(M=this.openExpiredLocationDrawer),v&&(y=e.finalLat,C=e.finalLng));var T,P,O,N,I=n.createElement("div",{className:m.default.thumb,onClick:M,style:{height:150}},n.createElement("div",{className:m.default.map},n.createElement(_.default,{lat:y,lng:C,width:270,height:150,className:m.default.thumbBody,linkify:!1,showMarker:!1,onLoad:this.onMapLoad})),n.createElement("div",{className:(0,s.default)(m.default.avatar,{[m.default.hidden]:!this.state.mapLoaded})},n.createElement(f.default,{id:e.sender,size:40,border:!0})),n.createElement("div",{className:m.default.overlay})),A=this.getExpiration(),w=g?p.default.t(803):p.default.t(809,{time:c.default.timestampStr(A),_plural:c.default.timestampHour(A)}),R=n.createElement("div",{className:m.default.status,onClick:M},n.createElement("span",{className:m.default.statusIcon},n.createElement(S.default,{name:(0,j.liveLocationIcon)(!g),display:"inline"})),n.createElement("span",{className:m.default.statusText},w)),D=e.comment?n.createElement("div",{className:m.default.caption},n.createElement(l.default,{msg:e.unsafe(),trusted:t})):null,L=n.createElement("div",{className:m.default.meta},n.createElement(E.default,{msg:e}));if(!g)e.isSentByMe?(P=this.stopSharing,O=m.default.stopLocation,N=p.default.t(826)):(P=this.openLiveLocationDrawer,O=m.default.viewLocation,N=p.default.t(833)),T=n.createElement("div",{className:m.default.actionButton,onClick:P},n.createElement("span",{className:O},N));return n.createElement("div",{className:(0,s.default)({[m.default.expired]:g,[m.default.hasCaption]:!!e.comment})},n.createElement(d.default,{className:(0,s.default)(m.default.container,{[m.default.clickable]:!!M}),contact:e.senderObj,msg:e.unsafe()},r,u,I,R,D,L),T)}return n.createElement(b.default,{msg:e,displayAuthor:a,quotedMsg:i})}}C.CONCERNS={msg:["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]};var M=(0,g.default)((0,y.default)(C,C.CONCERNS));t.default=M},cgdgbjcccb:function(e,t){e.exports={annotation:"_1KAbn",tooltip:"_1FdNm"}},cgdhdgchja:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("eaaagccfda")),n=r(a("hhegggegb")),o=a("djfeeacgad"),d=i(a("ddhijeejag")),l=r(a("ccdjfhedcf")),c=r(a("ccbgfecegc")),u=r(a("hgigjbgie")),f=r(a("dahagdijgh")),h=r(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),g=a("cdhbdacigj"),m=a("bgihjbde"),b=i(a("cajijabhgb")),v=a("bgheieccaj"),_=r(a("dbfjeecgih")),E=r(a("bbaacgghch")),j=r(a("ddajbaceej")),y=r(a("dacfecidja")),S=r(a("jheedhagg")),C=r(a("dhfbfehaef")),M=r(a("bdjjabfecc")),T=r(a("fiijdaaid")),P=r(a("ebddggeaib")),O=r(a("dddagdhijg")),N=r(a("dhccahhefj")),I=r(a("dcaibchbg")),A=r(a("ecdebjcgfa")),w=a("bficeagfg");class R extends d.Component{constructor(e){super(e),this.flatListController=new _.default,this.state={searchText:"",searching:!1,resultsUnavailable:!1},this.setSearch=e=>{this.search=e},this.selection=new I.default([],e=>e.id.toString()),this.pending=!1,this._batchRenderState={},this._handleScroll=e=>{this.shouldFTSSearch(e)&&(this.fts(),this.pending=!0)},this.handleScroll=(0,n.default)(this._handleScroll,100),this._debounceSetState=new o.ShiftTimer(()=>{this.setState(this._batchRenderState),this._batchRenderState={}}),this.batchSetState=(e,t=75)=>{Object.assign(this._batchRenderState,e),this._debounceSetState.debounce(t)},this.fts=(0,s.default)(()=>{this.pending=!1;var e=(this.state.searchText||"").trim();(0,w.numCodepoints)(e)<u.default.FTS_MIN_CHARS||(this._ftsPromise&&this._ftsPromise.cancel(),this._ftsPromise=Promise.resolve().then(()=>{this.isFTSSearching()||this.batchSetState({searching:!0})}).then(()=>this.ftsMsgs.search({chat:this.props.chat,count:this.getSearchCount(),searchTerm:e})).checkpoint(this.props.rejectOnUnmount()).then(t=>{t&&!t.canceled&&e===this.state.searchText.trim()&&this.batchSetState({searching:!1,resultsUnavailable:!1})}).catchType(b.Unmount,()=>{}).catch(e=>{this.pending||this.batchSetState({searching:!1,resultsUnavailable:e instanceof m.E404})}))},u.default.FTS_TYPING_DELAY),this.fullTextSearch=e=>{var t=e.trim();(0,w.numCodepoints)(t)>=u.default.FTS_MIN_CHARS?(this.fts(),this.pending=!0,this.state.searching||this.batchSetState({searching:!0})):(this.fts.cancel(),this.ftsMsgs.resetSearch(),this.ftsMsgs.delete(),this._ftsPromise&&this._ftsPromise.cancel(),this.pending=!1,this.state.searching&&this.batchSetState({searching:!1,resultsUnavailable:!1}))},this.shouldFTSSearch=e=>!(!this.ftsMsgs.hasMoreMsgs||this.pending||this.state.searching||this.ftsMsgs.searchPromise||(0,w.numCodepoints)(this.state.searchText||"")<u.default.FTS_MIN_CHARS)&&e.scrollTop+u.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight,this.isFTSSearching=()=>{var e=this._batchRenderState;return"searching"in e?e.searching:this.state.searching},this.onSearch=e=>{e?e!==this.state.searchText&&(this.fullTextSearch(e),this.setState({searchText:e}),this.batchSetState({searchText:e,resultsUnavailable:!1})):this.onStopSearch()},this.onStopSearch=()=>{this.fts.cancel(),this.ftsMsgs.resetSearch(),this.ftsMsgs.delete(),this._ftsPromise&&this._ftsPromise.cancel(),this.pending=!1,this.setState({searchText:"",searching:!1})},this.onFocusList=e=>{e.repeat||this.refMsglist&&(this.search&&!this.search.cursorIsAtEnd()||(e.preventDefault(),e.stopPropagation(),E.default.shouldIndicateFocus(),this.refMsglist&&this.refMsglist.focusFirst()))},this.onOpenFirst=e=>{e.preventDefault();var t=this.ftsMsgs.head();if(t){var a=t.chat,i=a.getSearchContext(t);c.default.focusChatTextInput(a),c.default.openChatAt(a,i)}},this.onFocusSearch=()=>{E.default.shouldIndicateFocus(),j.default.focus(this.search)},this.onClose=()=>{this.props.uim.uie.requestDismiss()},this.indicateFocus=()=>{E.default.maybeIndicateFocus(this.refInputHotkey)},this.onScroll=e=>{this.handleScroll(e.currentTarget)},this.getEmptyChatlistState=e=>{if(e.length)return null;var t=(this.state.searchText||"").trim();return(0,w.numCodepoints)(t)>=u.default.FTS_MIN_CHARS?this.state.searching?d.createElement(g.SearchingMessages,null):this.state.resultsUnavailable?d.createElement(g.SearchMessagesUnavailable,null):d.createElement(g.SearchMessages,null):(0,g.BeforeSearchMessages)(this.props.chat.title(),this.props.chat.isGroup)},this.setRefMsglist=e=>{this.refMsglist=e},this.setInputHotkey=e=>{this.refInputHotkey=e},this.ftsMsgs=new y.default(e.chat)}componentDidMount(){this.onFocusSearch(),this.props.listeners.add(this.ftsMsgs,"bulk_remove",()=>{this.forceUpdate()})}componentWillUnmount(){this.handleScroll.cancel(),this.fts.cancel(),this.ftsMsgs.delete(!0),this._ftsPromise&&this._ftsPromise.cancel(),this._debounceSetState.cancel()}getSearchCount(){return Math.round(window.innerHeight/v.DEFAULT_ITEM_HEIGHT)+1}render(){var e=this.ftsMsgs.toArray(),t=this.getEmptyChatlistState(e);if(null==t){var a=this.state.searchText?this.state.searchText.trim():null;t=d.createElement(O.default,{ref:this.setRefMsglist,flatListController:this.flatListController,isSearching:!!this.state.searchText,searchText:a,ftsResult:e,selection:this.selection,onFocusSearch:this.onFocusSearch})}var i={down:this.onFocusList},r=this.state.searching&&e.length?d.createElement("div",{className:l.default.searchSpinner},d.createElement(A.default,{stroke:6,size:24})):null;return d.createElement(f.default,{key:"search-modal"},d.createElement(p.default,{title:M.default.t(1199),type:p.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),d.createElement(C.default,{handlers:i,onFocus:this.indicateFocus,onRef:this.setInputHotkey,className:l.default.panelSearch},d.createElement(T.default,{ref:this.setSearch,type:"chat-msg-search",onSearch:this.onSearch,onEnter:this.onOpenFirst,placeholder:M.default.t(1193),loading:this.state.searching})),d.createElement(h.default,{flatListControllers:[this.flatListController],className:l.default.panelBody,onScroll:this.onScroll,id:"pane-side"},t,r))}}var D=(0,S.default)((0,P.default)((0,N.default)(R)));t.default=D},cgebccjfag:function(e,t,a){"use strict";function i(e,t){return e[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.getValueFromStylesProp=i,t.getIntFromStylesProp=function(e,t){return parseInt(i(e,t),10)},t.getFloatFromStylesProp=function(e,t){return parseFloat(i(e,t))}},cgeehhhabd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatQuotedMsg=function(e){var{MSG_TYPE:t}=r.default;switch(e.type){case t.DOCUMENT:return e.isVcardOverMmsDocument?l(e):(0,s.msgText)(e);case t.MULTI_VCARD:return d(e);default:return(0,s.msgText)(e)}},t.formatMultiVcardText=d,t.formatVcardOverMmsText=l;var r=i(a("hgigjbgie")),s=a("dgjddffcfg"),n=i(a("bdjjabfecc")),o=a("cjjdjbcgjh");function d(e){var t,a=null===(t=e.vcardList)||void 0===t?void 0:t.length;return a>0?n.default.t(939,{count:a,_plural:a}):n.default.t(938)}function l(e){var t,a;if(null===(t=e.mediaData)||void 0===t?void 0:t.parsedVcards){var{parsedVcards:i}=e.mediaData;return i.length>1?n.default.t(939,{count:i.length,_plural:i.length}):(0,o.vcardGetNameFromParsed)(i[0])||n.default.t(1524)}return null!=e.pageCount?n.default.t(939,{count:e.pageCount,_plural:e.pageCount}):(null===(a=e.mediaData)||void 0===a?void 0:a.filename)||n.default.t(1526)}},cgegcgfgjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("dbdfbgehgj")),d=r(a("ccbgfecegc")),l=r(a("gfebgebbi")),c=a("chhdedhgfe"),u=a("ddbdgibbbi"),f=a("jegbhjbde"),h=r(a("cbjfgebbdf")),p=r(a("jheedhagg")),g=r(a("cbedabhaa")),m=r(a("dcdbbhicce")),b=r(a("dgdcjccfdi")),v=r(a("jccfhaecf")),_=r(a("djbfhebjhe"));function E(){var e=(0,s.default)(["wa:groupNotification:unknown message subtype: ",""]);return E=function(){return e},e}function j(){var e=(0,s.default)(["wa:groupNotification:unknown message subtype: ",""]);return j=function(){return e},e}class y extends n.PureComponent{stopEvent(e){e.stopPropagation(),e.preventDefault()}openInfoDrawer(){return e=>{this.stopEvent(e),d.default.chatInfoDrawer(this.props.msg.chat)}}openGroupInviteLinkDrawer(){return e=>{this.stopEvent(e);var t=this.props.msg.chat,i=a("ecigjabbeb").default;d.default.openDrawerRight(n.createElement(i,{chat:t,groupMetadata:t.groupMetadata,onBack:()=>d.default.closeDrawerRight()}),"slide-left",this.props.uim)}}openExpandedGroupDesc(){return e=>{this.stopEvent(e);var t=this.props.msg.chat;d.default.chatInfoDrawer(t,!0)}}openChat(e){return t=>{this.stopEvent(t),o.default.find(e).then(e=>{d.default.openChatFromUnread(e).then(t=>{t&&d.default.focusChatTextInput(e)})})}}openEphemeralSetting(){return e=>{this.stopEvent(e);var t=this.props.msg.chat;d.default.ephemeralDrawer(t)}}getFormattedText(e){return n.createElement(l.default,{direction:"auto",text:e})}getEphemeralDuration(){var e,t=null===(e=this.props.msg.templateParams)||void 0===e?void 0:e[0];return t&&parseInt(t,10)||0}isMe(e){return v.default.equals(e,(0,u.getMaybeMeUser)())}_renderGroupNotificationL10n(e,t,a,i){var r=t?(0,f.getFormattedName)(t,!this.props.clickable):null;switch(e){case"add":return this.isMe(t)?n.createElement(g.default,{id:1584}):n.createElement(g.default,{id:1583,params:{name:r}});case"remove":return this.isMe(t)?n.createElement(g.default,{id:1596}):n.createElement(g.default,{id:1595,params:{name:r}});case"leave":return this.isMe(t)?n.createElement(g.default,{id:1592}):n.createElement(g.default,{id:1591,params:{name:r}});case"picture":return"remove"===i?this.isMe(t)?n.createElement(g.default,{id:1701}):n.createElement(g.default,{id:1700,params:{name:r}}):this.isMe(t)?n.createElement(g.default,{id:1699}):n.createElement(g.default,{id:1698,params:{name:r}});case"subject":var s=this.getFormattedText(i);return this.isMe(t)?n.createElement(g.default,{id:1614,params:{subject:s}}):null!=r?n.createElement(g.default,{id:1612,params:{subject:s,name:r}}):n.createElement(g.default,{id:1613,params:{subject:s}});case"modify":if(this.isMe(t)){var o=(0,_.default)(i);return n.createElement(g.default,{id:1586,params:{new_number:o,name:r}})}return n.createElement(g.default,{id:1585,params:{name:r}});default:__LOG__(2)(j(),e)}}_renderGp2L10n(e,t,a,i,r,s){var o,d,l=t?(0,f.getFormattedName)(t,!this.props.clickable):null,u=r?r[0]:void 0,h=u?(0,f.getFormattedName)(u,!this.props.clickable):null,p=(0,f.getFormattedNames)(r,!this.props.clickable);switch(e){case"add":return t?this.isMe(t)?n.createElement(g.default,{id:1605,params:{participants:p}}):this.isMe(u)?null!=l?n.createElement(g.default,{id:1598,params:{name:l}}):n.createElement(g.default,{id:1602}):null!=l?n.createElement(g.default,{id:1597,params:{participants:p,name:l}}):n.createElement(g.default,{id:1601,params:{participants:p}}):this.isMe(u)?n.createElement(g.default,{id:1584}):n.createElement(g.default,{id:1583,params:{name:h}});case"remove":return t?v.default.equals(t,u)?n.createElement(g.default,{id:1596}):this.isMe(t)?n.createElement(g.default,{id:1606,params:{participants:p}}):this.isMe(u)?null!=l?n.createElement(g.default,{id:1600,params:{name:l}}):n.createElement(g.default,{id:1604}):null!=l?n.createElement(g.default,{id:1599,params:{participants:p,name:l}}):n.createElement(g.default,{id:1603,params:{participants:p}}):this.isMe(u)?n.createElement(g.default,{id:1596}):n.createElement(g.default,{id:1595,params:{name:h}});case"leave":return this.isMe(u)?n.createElement(g.default,{id:1592}):n.createElement(g.default,{id:1591,params:{name:p}});case"picture":return"remove"===i?this.isMe(t)?n.createElement(g.default,{id:1701}):n.createElement(g.default,{id:1700,params:{name:l}}):this.isMe(t)?n.createElement(g.default,{id:1699}):n.createElement(g.default,{id:1698,params:{name:l}});case"subject":var m=this.getFormattedText(i);return this.isMe(t)?n.createElement(g.default,{id:1614,params:{subject:m}}):null!=l?n.createElement(g.default,{id:1612,params:{name:l,subject:m}}):n.createElement(g.default,{id:1613,params:{subject:m}});case"modify":var b=(0,_.default)(t),j=(0,_.default)(u);return b===a?n.createElement(g.default,{id:1586,params:{name:a,new_number:j}}):n.createElement(g.default,{id:1585,params:{name:a}});case"create":return this.isMe(t)?i?n.createElement(g.default,{id:1558,params:{subject:this.getFormattedText(i)}}):n.createElement(g.default,{id:1559}):i?null!=l?n.createElement(g.default,{id:1555,params:{subject:this.getFormattedText(i),name:l}}):n.createElement(g.default,{id:1557,params:{subject:this.getFormattedText(i)}}):null!=l?n.createElement(g.default,{id:1556,params:{name:l}}):n.createElement(g.default,{id:1554});case"delete":return n.createElement(g.default,{id:1570});case"promote":var y=r.length;return 1===y&&this.isMe(u)?n.createElement(g.default,{id:1594}):n.createElement(g.default,{id:1593,params:{count:y,participants:p},plural:y});case"demote":var S=r.length;return 1===S&&this.isMe(u)?n.createElement(g.default,{id:1588}):n.createElement(g.default,{id:1587,params:{count:S,participants:p},plural:S});case"invite":return this.isMe(u)?n.createElement(g.default,{id:1590}):n.createElement(g.default,{id:1589,params:{name:h}});case"revoke_invite":return this.isMe(t)?n.createElement(g.default,{id:1578}):n.createElement(g.default,{id:1577,params:{name:l}});case"description":return this.isMe(t)?n.createElement(g.default,{id:1568}):null!=l?n.createElement(g.default,{id:1564,params:{name:l}}):n.createElement(g.default,{id:1566});case"announce":return"on"===i?this.isMe(t)?n.createElement(g.default,{id:1553}):n.createElement(g.default,{id:1552,params:{name:l}}):this.isMe(t)?n.createElement(g.default,{id:1551}):n.createElement(g.default,{id:1550,params:{name:l}});case"restrict":return"on"===i?this.isMe(t)?n.createElement(g.default,{id:1610}):n.createElement(g.default,{id:1609,params:{name:l}}):this.isMe(t)?n.createElement(g.default,{id:1608}):n.createElement(g.default,{id:1607,params:{name:l}});case"no_frequently_forwarded":return"on"===i?this.isMe(t)?n.createElement(g.default,{id:1582}):n.createElement(g.default,{id:1581,params:{name:l}}):this.isMe(t)?n.createElement(g.default,{id:1580}):n.createElement(g.default,{id:1579,params:{name:l}});case"announce_msg_bounce":return n.createElement(g.default,{id:1549});case"v4_add_invite_sent":return n.createElement(g.default,{id:1358,params:{participants:p,count:r.length}});case"v4_add_invite_join":return n.createElement(g.default,{id:1357,params:{participants:p,count:r.length}});case"ephemeral":var C=this.getEphemeralDuration();if(!t)return n.createElement(c.EphemeralL10n,{type:c.EphemeralStringType.SettingChangeByUnknown,numSeconds:C});var M=null===(o=s.groupMetadata)||void 0===o||null===(d=o.participants)||void 0===d?void 0:d.iAmAdmin();return this.isMe(t)?M?n.createElement(c.EphemeralL10n,{type:c.EphemeralStringType.SettingChangeByYouAsAdmin,numSeconds:C}):n.createElement(c.EphemeralL10n,{type:c.EphemeralStringType.SettingChangeByYou,numSeconds:C}):M?n.createElement(c.EphemeralL10n,{type:c.EphemeralStringType.SettingChangeByOthersAsAdmin,numSeconds:C,name:l}):n.createElement(c.EphemeralL10n,{type:c.EphemeralStringType.SettingChangeByOthers,numSeconds:C,name:l});default:__LOG__(2)(E(),e)}}_renderIcon(e,t){if("gp2"===e){if("announce"===t)return n.createElement("div",{className:h.default.icon},n.createElement(b.default,{name:"megaphone"}));if("ephemeral"===t&&this.props.clickable)return n.createElement("div",{className:h.default.icon},n.createElement(b.default,{name:"ephemeral"}))}}_getClickHandler(e,t){var a,i;if(this.props.clickable)switch(t){case"picture":case"subject":return this.openInfoDrawer();case"revoke_invite":return this.openGroupInviteLinkDrawer();case"description":return this.openExpandedGroupDesc();case"ephemeral":var{chat:r}=this.props.msg;if((null===(a=r.groupMetadata)||void 0===a||null===(i=a.participants)||void 0===i?void 0:i.iAmAdmin())&&this.getEphemeralDuration()>0)return this.openEphemeralSetting()}}render(){var{msg:e}=this.props,{type:t,subtype:a,author:i,body:r,recipients:s,chat:o,templateParams:d}=e,l=e.displayName();if("group_notification"!==t&&"gp2"!==t)return null;var c="gp2"===t?this._renderGp2L10n(a,i,l,r,s,o,d):this._renderGroupNotificationL10n(a,i,l,r);if(!c)return null;var u=this._getClickHandler(t,a);return n.createElement("div",{role:u?"button":void 0,className:h.default.notification,onClick:u},this._renderIcon(t,a),c)}}y.CONCERNS={msg:["type","subtype","author","body","recipients","chat","templateParams"]};var S=(0,p.default)((0,m.default)(y,y.CONCERNS));t.default=S},cgejbjhjej:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FETCH_STATE",{enumerable:!0,get:function(){return d.FETCH_STATE}}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("ccjgiajgj")),n=a("dhjffabgfb"),o=i(a("cfidecfjad")),d=a("dhjffabgfb");class l extends n.StickerCollection{constructor(e){super(),this._parseStickersRes=e=>{if(200!==e.status||!e.data)throw new Error("sticker pack stickers query error");return e.data.map((e,t)=>(0,r.default)((0,r.default)({},(0,s.default)(e,["directPath","mimetype","mediaKey","filehash","width","height"])),{},{index:t,id:e.filehash,clientUrl:e.url,uploadhash:e.encFilehash,mediaKeyTimestamp:0}))},this.stickerPackId=e;var t,a=l._cache[this.stickerPackId];if(a)return a;var i=this;Object.defineProperty(this,"fetchState",{get:()=>t,set(e){t!==e&&(t=e,i.trigger("change:fetchState",e))}})}fetch(e){return e&&this.fetchState!==n.FETCH_STATE.PENDING&&delete this._fetchPromise,this._fetchPromise?this._fetchPromise:(this.fetchState=n.FETCH_STATE.PENDING,a("cdaedfafjc").default.isPlaceholderId(this.stickerPackId)?(this._fetchPromise=new Promise(()=>{}),this._fetchPromise):(this._fetchPromise=o.default.queryStickersInStickerPack(this.stickerPackId).then(this._parseStickersRes).then(e=>{var t=Math.max(this.length||e.length);this._resetRange(0,t,e),this.fetchState=n.FETCH_STATE.SUCCESS}).catch(()=>{this.fetchState=n.FETCH_STATE.ERROR}),this._fetchPromise))}_resetRange(e,t,a){this._forEachInRange(e,t,(t,i)=>{var r=a[i-e];t?r?t.id===r.id?t.set(r):(this.remove(t),this.add(r)):this.remove(t):r&&this.add(r)})}_forEachInRange(e,t,a){for(var i=e;i<t;i++){a(this.at(i),i)}}}t.default=l,l._cache={},l.comparator=(e,t)=>e.index<t.index?-1:e.index>t.index?1:0},cgejchjdhj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoViewIfNeeded=function(e,t=!0,a){if(e.scrollIntoViewIfNeeded&&(0,s.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);var i=o(a||e.parentNode),r=window.getComputedStyle(i,null),n=parseInt(r.getPropertyValue("border-top-width"),10),d=e.offsetTop-i.offsetTop<i.scrollTop,l=e.offsetTop-i.offsetTop+e.clientHeight-n>i.scrollTop+i.clientHeight;(d||l)&&t&&(i.scrollTop=e.offsetTop-i.offsetTop-i.clientHeight/2-n+e.clientHeight/2);!d&&!l||t||e.scrollIntoView(d&&!l);return!(d||l)},t.scrollIntoView=function(e,t=!0,a){var i=o(a||e.parentNode),r=window.getComputedStyle(i,null),s=parseInt(r.getPropertyValue("border-top-width"),10),n=e.offsetTop-i.offsetTop<i.scrollTop,d=e.offsetTop-i.offsetTop+e.clientHeight-s>i.scrollTop+i.clientHeight;t?i.scrollTop=e.offsetTop-i.offsetTop-i.clientHeight/2-s+e.clientHeight/2:e.scrollIntoView(n&&!d);return!(n||d)},t.scrollAt=function(e,t,a={}){var i=o(t||e.offsetParent),r=a.pos||"center",s=null!=a.duration&&0!==a.duration?a.duration:1e3,d=a.offset||0;switch(r){case"top":return i.scrollTop=e.offsetTop+d,Promise.resolve();case"bottom":return i.scrollTop=e.offsetTop+e.clientHeight-i.clientHeight,Promise.resolve();case"center":return a.animate?((0,n.default)(e,"stop"),(0,n.default)(i,"stop"),(0,n.default)(e,"scroll",{duration:s,container:i,offset:(e.clientHeight-i.clientHeight)/2,easing:a.easing})):(i.scrollTop=e.offsetTop+e.clientHeight/2-i.clientHeight/2,Promise.resolve());case"offset":return a.animate?((0,n.default)(e,"stop"),(0,n.default)(i,"stop"),(0,n.default)(e,"scroll",{duration:s,container:i,offset:-d,easing:a.easing})):(i.scrollTop=e.offsetTop-d,Promise.resolve())}return Promise.resolve()},t.sanitizeNoticeText=function(e){return r.default.sanitize(e,{ALLOWED_TAGS:["b","i","a","#text"],ALLOWED_ATTR:["href"],KEEP_CONTENT:!1})},t.sanitizeNoticeSVG=function(e){return r.default.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0}})};var r=i(a("hjjehgcfj")),s=a("hjbbdjjdf"),n=i(a("bcifhbgija"));function o(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}},cgfidiajgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Sticker=void 0;var s=r(a("dfadhaifh")),n=r(a("fhfbcdaib")),o=i(a("dcaifjegcg")),d=i(a("cjahggceac")),l=r(a("dcjigehfeb")),c=a("ccfjbcbbga"),u=r(a("bdcchebfge")),f=a("dibegjcfci");a("dgbddfjdhi");function h(){var e=(0,s.default)(["id: ",", error: ",""]);return h=function(){return e},e}var p=(0,n.default)(()=>new m({id:"placeholder",isPlaceholder:!0}));class g extends o.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.mediaData=(0,o.session)(),this.mediaObject=(0,o.prop)(),this.clientUrl=(0,o.prop)(),this.directPath=(0,o.prop)(),this.filehash=(0,o.prop)(),this.height=(0,o.prop)(),this.index=(0,o.prop)(),this.mediaKey=(0,o.prop)(),this.mediaKeyTimestamp=(0,o.prop)(),this.mimetype=(0,o.prop)(),this.size=(0,o.prop)(),this.type=(0,o.prop)(c.OUTWARD_TYPES.STICKER),this.uploadhash=(0,o.prop)(),this.width=(0,o.prop)(),this.isPlaceholder=(0,o.prop)()}initialize(){super.initialize(),this.addChild("mediaData",new l.default),this.isPlaceholder||d.registerSticker(this)}downloadMedia(){return d.downloadStickerOrStickerPackIcon(this,"STICKER").catch(e=>{__LOG__(4,!1,new Error)(h(),this.id,String(e.stack||e)),SEND_LOGS("sticker-panel:sticker download failed")})}sendToChat(e,t){a("jdigiabic").default.enqueue([this]),this.mediaData&&this.mediaData.mediaBlob&&this.mediaData.mediaBlob.retain();var{ctwaContextLinkData:i,ctwaContext:r}=e.getComposeContents(),s={quotedMsg:e.composeQuotedMsg,ctwaContext:(0,f.prepareCtwaContextSend)(i,r)};return e.composeQuotedMsg=null,(0,d.prepSticker)(this).sendToChat(e,s).then(e=>{var a,i=new u.default.StickerSend({stickerSendOrigin:t.stickerSendOrigin,stickerIsAnimated:Boolean(null===(a=this.mediaData)||void 0===a?void 0:a.isAnimated)});return null!=t.stickerIsFirstParty&&(i.stickerIsFirstParty=t.stickerIsFirstParty),i.commit(),e})}delete(){super.delete(),d.deregisterSticker(this)}}t.Sticker=g,g.Proxy="sticker",g.getPlaceholder=p;var m=(0,o.defineModel)(g);m.getPlaceholder=p;var b=m;t.default=b},cggabbgadb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bbfjdcedab")),l=a("cabeijgaif"),c=a("bacfccchhf"),u=r(a("bbbdigbec")),f=r(a("bdjjabfecc")),h=r(a("ebddggeaib")),p=r(a("dcjigehfeb")),g=i(a("cfbhddjcif")),m=r(a("bdcchebfge")),b=r(a("dfgeejdaib")),v=r(a("cbbhghigbd")),_=r(a("dgdcjccfdi"));class E extends n.Component{constructor(...e){super(...e),this.setRefGif=e=>{this._gifRef=e},this.getGifProvider=()=>{switch(this.props.msg.gifAttribution){case l.VideoMessageAttribution.GIPHY:return c.GIPHY;case l.VideoMessageAttribution.TENOR:return c.TENOR;default:return""}},this.handleClick=e=>{switch(e.stopPropagation(),this.props.msg.mediaData.mediaStage){case p.default.STAGE.NEED_POKE:this.props.msg.downloadMedia(!0,m.default.WEBC_RMR_REASON_CODE.MSG_CLICK);break;case p.default.STAGE.FETCHING:this.props.msg.cancelDownload();break;case p.default.STAGE.UPLOADING:this.props.msg.cancelUpload();break;case p.default.STAGE.ERROR_MISSING:o.default.openModal(n.createElement(d.default,{title:f.default.t(927),onOK:()=>o.default.closeModal(),okText:f.default.t(1649)},f.default.t(926)))}},this.onUnstarMsg=()=>{var{msg:e}=this.props;b.default.remove(e)}}get gifRef(){return this._gifRef}animateGif(){this.props.listeners.uiIdle(()=>{this._gifRef&&this._gifRef.setShouldAnimate(!0)})}componentDidMount(){var e=this.props.msg;this.props.listeners.add(e,"change:mediaData.mediaStage",()=>{this.forceUpdate()}),this.props.listeners.uiIdle(()=>{e.downloadMedia(!1,m.default.WEBC_RMR_REASON_CODE.MSG_RENDER)}),this.animateGif()}componentDidUpdate(){this.animateGif()}render(){var e=this.props.msg,t=e.mediaData,a=new c.GifInfo(void 0,t.renderableUrl,void 0,void 0,void 0,Math.round(t.aspectRatio*c.TARGET_GIF_HEIGHT),this.getGifProvider(),!1);if(t.mediaStage===p.default.STAGE.RESOLVED)return n.createElement(u.default,{key:e.filehash,ref:this.setRefGif,gif:a,onSend:this.props.onSend,isStarred:!0,onUnstarMsg:this.onUnstarMsg});if(t.preview){var i,r=t.preview.url();switch(t.mediaStage){case p.default.STAGE.ERROR_MISSING:break;case p.default.STAGE.NEED_POKE:i=n.createElement(g.Download,null);break;case p.default.STAGE.FETCHING:case p.default.STAGE.UPLOADING:i=n.createElement(g.PendingCancel,null);break;default:i=n.createElement(g.Pending,null)}var o=(0,s.default)(v.default.thumb,{[v.default.blur]:t.mediaStage===p.default.STAGE.ERROR_MISSING}),d=n.createElement("div",{className:o,style:{backgroundImage:"url(".concat(r,")"),height:"".concat(c.TARGET_GIF_HEIGHT,"px")}});return n.createElement("div",{className:v.default.container,style:{flexBasis:a.widthStr},key:e.filehash},n.createElement("div",{className:v.default.wrapper,style:{width:a.widthStr},onClick:this.handleClick},n.createElement("div",{className:v.default.innerWrapper,style:{paddingBottom:a.ratioStr}},i,d)),n.createElement("button",{className:v.default.starIcon,onClick:this.onUnstarMsg},n.createElement(_.default,{name:"star"})))}return null}}var j=(0,h.default)(E);t.default=j},cggdahefjh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e instanceof ArrayBuffer?e.byteLength:e.buffer.byteLength,i=new n.default(t),o=Math.ceil((a-16)/65536),d=(0,r.default)(o,t=>{var a=65536*t,r=e.slice(a,a+16+65536);return i.sign(r,10)});return Promise.all(d).then(e=>(0,s.default)(...e))},t.HMAC_LENGTH=t.IV_LENGTH=void 0;var r=i(a("dfacahcafg")),s=i(a("cdfccifhg")),n=i(a("bbejegbieb"));t.IV_LENGTH=16;t.HMAC_LENGTH=10},cgggdceabd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bbicgeccjj"));class s extends r.default{constructor(e,t){super(),this._initialize=e,this._table=t}doGet(e){return this._initialize().then(()=>this._table.get(e))}doQueryByIndex(e,t){return this._initialize().then(()=>this._table.all({limit:t.limit,index:[e]}))}doGetAll(){return this._initialize().then(()=>this._table.all())}doPut(e,t){return this._initialize().then(()=>this._table.createOrReplace(t)).then(()=>t)}doDel(e){return this._initialize().then(()=>this._table.remove(e))}doCount(){return this._initialize().then(()=>this._table.count())}doClear(){return this._initialize().then(()=>this._table.clear())}doOpen(){return this._initialize()}doClose(){return Promise.resolve()}}t.default=s},cghbidagdd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=r(a("bbdejhhae")),d=r(a("eagefjjebh")),l=r(a("dcdbbhicce")),c=r(a("bdbbgbbcgj")),u=parseInt(d.default["-blur-radius"],10);function f(e){var t,{blurRadius:a=u,height:i,mediaData:r,width:l}=e,f=(0,n.useRef)(),h=null===(t=r.preview)||void 0===t?void 0:t.url(),[p]=(0,c.default)(h);(0,n.useEffect)(()=>{var e=f.current;if(null!=e&&null!=p){var t=e.getContext("2d"),r=document.createElement("canvas");r.width=l,r.height=i;var s,n,d,c,u=r.getContext("2d");if("landscape"===(l>i?"landscape":"portrait")){var h=Math.max(p.naturalWidth,l)/Math.min(p.naturalWidth,l);d=p.naturalWidth*h,c=i,n=0,s=-(d-l)/2}else{var g=Math.max(p.naturalHeight,i)/Math.min(p.naturalHeight,i);c=p.naturalHeight*g,d=l,s=0,n=-(c-i)/2}u.drawImage(p,s,n,d,c);var m=u.getImageData(0,0,l,i);(0,o.default)(m.data,l,i,a),t.putImageData(m,0,0)}},[a,p,l,i]);var g={height:i,width:l};return n.createElement("div",{className:d.default.container,style:g},n.createElement("canvas",(0,s.default)({ref:f},g)))}f.CONCERNS={mediaData:["preview","aspectRatio"]};var h=(0,l.default)(f,f.CONCERNS,void 0,!0);t.default=h},cghjdidgij:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,s.useMemo)(()=>{var a=()=>{};switch(e){case o.STAGE.RESOLVED:case o.STAGE.PROGRESSIVE_READY:return{handleClick:a,stateIcon:null};case o.STAGE.FETCHING:return{handleClick:a=e=>{l(e),t.cancelDownload()},stateIcon:s.createElement(n.PendingCancel,{outgoingMsg:t.isSentByMe})};case o.STAGE.NEED_POKE:return{handleClick:a=e=>{l(e),t.downloadMedia(!0,d.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},stateIcon:s.createElement(n.Download,{onClick:a})};case o.STAGE.UPLOADING:return{handleClick:a=e=>{l(e),t.cancelUpload()},stateIcon:s.createElement(n.PendingCancel,{outgoingMsg:t.isSentByMe})};case o.STAGE.NEED_UPLOAD:return{handleClick:a=e=>{l(e),t.resumeUpload()},stateIcon:s.createElement(n.Upload,null)};case o.STAGE.REMOTE_NEED_UPLOAD:return{handleClick:a=e=>{l(e),t.resumeRemoteUpload()},stateIcon:s.createElement(n.Upload,null)};case o.STAGE.ERROR_MISSING:return{handleClick:a,stateIcon:null};case o.STAGE.ERROR_UNSUPPORTED:return{handleClick:a,stateIcon:s.createElement(n.Download,{onClick:a})};case o.STAGE.SENDING:return{handleClick:a,stateIcon:t.isFailed?null:s.createElement(n.Pending,{outgoingMsg:t.isSentByMe})};case o.STAGE.ERROR_TOO_LARGE:case o.STAGE.INIT:case o.STAGE.PREPARING:case o.STAGE.REMOTE_UPLOADING:case o.STAGE.REUPLOADING:default:return{handleClick:a,stateIcon:s.createElement(n.Pending,{outgoingMsg:t.isSentByMe})}}},[e,t])};var s=r(a("ddhijeejag")),n=a("dccghhaddh"),o=a("ccfjbcbbga"),d=i(a("bdcchebfge"));function l(e){e.stopPropagation(),e.preventDefault()}},cgjbifjfcd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bfhbedhfbj")),d=a("cdeehfbaib"),l=r(a("dbdfbgehgj")),c=r(a("fhgchaefa")),u=r(a("ccbgfecegc")),f=r(a("bbfjdcedab")),h=r(a("hgigjbgie")),p=r(a("dhigahgdjb")),g=r(a("baijfhbiei")),m=r(a("gfebgebbi")),b=a("djaiggcdb"),v=a("dgjddffcfg"),_=r(a("daddbefiff")),E=r(a("hehfdhhai")),j=r(a("cgegcgfgjh")),y=r(a("bdjjabfecc")),S=r(a("cgachccie")),C=r(a("dcdbbhicce")),M=a("cjfegjecaj"),T=r(a("dgdcjccfdi")),P=r(a("jccfhaecf")),O=r(a("djbfhebjhe")),N=a("dcbdjheea");class I extends n.PureComponent{constructor(...e){super(...e),this._ref=n.createRef()}handleKeyActivation(){var e;null===(e=this._ref.current)||void 0===e||e.click()}render(){var e,t,a,i,r=this.props.msg;switch(r.type){case h.default.MSG_TYPE.NOTIFICATION:t=r.body;break;case h.default.MSG_TYPE.GP2:case h.default.MSG_TYPE.GROUP_NOTIFICATION:return n.createElement(j.default,{msg:r,clickable:!0});case h.default.MSG_TYPE.BROADCAST_NOTIFICATION:return n.createElement(o.default,{msg:r,clickable:!0});case h.default.MSG_TYPE.E2E_NOTIFICATION:var C=(0,M.unproxy)(r);t=(0,v.formatE2ENotification)(C);var I=r.subtype,A=r.body?(0,N.createWid)(r.body):null,w=r.id.remote;i=()=>{!function(e,t,a,i){u.default.openModal(n.createElement(g.default,{e2eSubtype:e,jid:t,chatId:a,msg:i}))}(I,A,w,r)};var R=C.chat.isSupportGroup();e=n.createElement("div",{className:(0,s.default)({[S.default.iconE2E]:!R,[S.default.iconSupportGroup]:R})},n.createElement(T.default,{name:R?"info":"lock-small"}));break;case h.default.MSG_TYPE.CALL_LOG:var D="miss_video"===r.subtype||"miss_group_video"===r.subtype;e=n.createElement("div",{className:S.default.icon},D?n.createElement(T.default,{name:"miss_video",className:S.default.iconMiss}):n.createElement(T.default,{name:"miss",className:S.default.iconMiss})),t=(0,v.formatCallLog)((0,M.unproxy)(r.unsafe()),!0);break;case h.default.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===r.subtype){var L=r.templateParams[0],k=r.templateParams[1],x=p.default.get(L),G=x&&x.isMyContact?x.formattedName:(0,O.default)(L),U=P.default.equals(r.chat.id,L);t=U?y.default.t(394,{name:G}):y.default.t(392,{name:G}),U&&(i=()=>function(e,t){(0,d.onChangeNumberNotificationClick)(e,t)}(k,L))}else if(t=(0,E.default)((0,M.unproxy)(r.unsafe())),a=(0,_.default)((0,M.unproxy)(r.unsafe()))){var F=(0,v.notificationTemplateFAQ)(r.subtype);i=()=>{!function(e,t){var a;a=n.createElement(c.default,{onClick:e=>{e.preventDefault(),u.default.closeModal("none"),setTimeout(()=>(0,b.openExternalLink)(t),10)}},y.default.t(794));var i=n.createElement(f.default,{onOK:()=>u.default.closeModal(),okText:y.default.t(1649)},e," ",a);u.default.openModal(i)}(a,F)}}r.isBizNotification&&(e=n.createElement("div",{className:S.default.bizInfo},n.createElement(T.default,{name:"info-filled"})));break;case h.default.MSG_TYPE.PROTOCOL:if("ephemeral_setting"===r.subtype){var B,V=r.from,H=r.id.remote,W=l.default.gadd(H),K=null!==(B=r.ephemeralDuration)&&void 0!==B?B:0;t=(0,v.formatEphemeralSetting)(K,V,H),K>0&&(i=()=>{!function(e){u.default.ephemeralDrawer(e)}(W)})}}var Y=n.createElement("span",null,e,n.createElement(m.default,{direction:y.default.isRTL()?"rtl":"ltr",text:t}));return i?n.createElement("div",{role:"button",ref:this._ref,onClick:i},Y):n.createElement("span",null,Y)}}I.CONCERNS={contact:["id","isEnterprise","isContactBlocked","verifiedLevel","verifiedName"],msg:["id","body","chat","from","type","subtype","isBizNotification","templateParams","ephemeralDuration"]};var A=(0,C.default)(I,I.CONCERNS);t.default=class extends A{handleKeyActivation(){return this.getComponent().handleKeyActivation()}}},chbeahhfcj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListType=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("dghfbecefg")),d=i(a("ccbgfecegc")),l=i(a("ccfcjccjbg")),c=i(a("eadihadfde")),u=i(a("dahagdijgh")),f=i(a("bjheffjbgd")),h=r(a("bjjhgjdbhd")),p=i(a("dbfjeecgih")),g=i(a("bbaacgghch")),m=i(a("ddajbaceej")),b=r(a("dgjfidhijd")),v=i(a("ebfjgifffc")),_=i(a("dcaidjffbj")),E=i(a("cdgfgedieg")),j=i(a("dceicchccd")),y=i(a("bjfejcfdjh")),S=i(a("dcaibchbg")),C={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL",PRODUCT_SELECT_MODAL:"PRODUCT_SELECT_MODAL"};t.ListType=C;class M extends s.Component{constructor(...e){super(...e),this.state={searchText:""},this._setRefSearch=e=>{this._refSearch=e},this._setRefList=e=>{this._refList=e},this.active=new S.default([],e=>e.id),this.selections=new j.default([],e=>e.id.toString()),this.flatListController=new p.default,this._setSearchText=e=>{this.setState({searchText:e})},this.onFocusList=e=>{e&&(e.preventDefault(),e.stopPropagation()),this._refList&&m.default.focus(this._refList)},this.onScroll=e=>{this._refList instanceof E.default&&this._refList.updateForScrollEvent&&this._refList.updateForScrollEvent(e)},this.indicateSearchFocus=()=>{var e;this.active.unset(),null===(e=this._refSearch)||void 0===e||e.getComponent().indicateFocus()},this.onLeaveList=()=>{g.default.shouldIndicateFocus(),m.default.focus(this._refSearch)},this.handleEnter=()=>{var e;null===(e=this._refList)||void 0===e||e.toggleFirst(!1)},this.handleForward=()=>{var{onConfirm:e,listType:t}=this.props,a=this.selections.getSelected();t===C.CONTACT_SELECT_MODAL||t===C.PARTICIPANT_MANAGE_MODAL||t===C.PRODUCT_SELECT_MODAL?e(a):Promise.map(a,e=>e instanceof l.default?n.default.find(e.id):e).then(t=>{e(t)})},this.handleSelectionChanged=(e,t)=>{var a;null===(a=this._refSearch)||void 0===a||a.select();var{onSelectionChanged:i}=this.props;null!=i&&i(e,t,this.selections.getSelected())},this.onSelectedListDelete=(e,t)=>{this.selections.setVal(t,!1)},this.onCancel=this.props.onCancel?this.props.onCancel:()=>d.default.closeModal()}componentDidMount(){m.default.focus(this._refSearch)}_renderList(){switch(this.props.listType){case C.CHAT_SELECT_MODAL:var e=this.props.getInitialItems,t=this.selections;return s.createElement(v.default,{ref:this._setRefList,msgType:this.props.msgType,excludeChat:this.props.excludeChat,excludeBroadcast:this.props.excludeBroadcast,getInitialItems:e,searchText:this.state.searchText,active:this.active,selections:t,maxChats:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,hasFrequentlyForwarded:this.props.hasFrequentlyForwarded,flatListController:this.flatListController,showEphemeralIcon:this.props.showEphemeralIcon});case C.PARTICIPANT_MANAGE_MODAL:case C.CONTACT_SELECT_MODAL:var a=this.props.getInitialItems,i=this.selections;return s.createElement(_.default,{ref:this._setRefList,useAllContacts:this.props.useAllContacts,getInitialItems:a,searchText:this.state.searchText,active:this.active,selections:i,maxContacts:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,customSecondaryText:this.props.customSecondaryText,filter:this.props.filter,allowBlockedContacts:this.props.allowBlockedContacts,flatListController:this.flatListController});case C.PRODUCT_SELECT_MODAL:var r=this.selections;return s.createElement(E.default,{ref:this._setRefList,flatListController:this.flatListController,active:this.active,selections:r,onSelectionChanged:this.handleSelectionChanged,onProductsLoaded:this.props.onDataLoaded});default:throw new Error("Invalid list type: ".concat(this.props.listType))}}render(){var{listType:e,useShortName:t,singleSelectionFooterType:a,multipleSelectionFooterType:i}=this.props,r=!!this.props.getInitialItems&&0!==this.props.getInitialItems().length,n=e===C.PARTICIPANT_MANAGE_MODAL?s.createElement(c.default,{selections:this.selections,useShortName:t,onDelete:this.onSelectedListDelete,isDisabled:this.props.isDisabled}):null;return s.createElement(b.default,{type:b.TowerModalType},s.createElement(u.default,{key:"chat-modal"},s.createElement(h.default,{title:this.props.title,type:h.DRAWER_HEADER_TYPE.POPUP,onCancel:this.onCancel}),s.createElement(y.default,{searchRef:this._setRefSearch,setSearchText:this._setSearchText,onDown:this.onFocusList,onEnter:this.handleEnter,onFocus:this.indicateSearchFocus,enabled:this.props.enableSearchBox}),this.props.customHeader,n,s.createElement(f.default,{flatListControllers:[this.flatListController],onScroll:this.onScroll},this._renderList()),s.createElement(o.default,{singleSelectionType:a,multipleSelectionType:i,selections:this.selections,onForward:this.handleForward,startActive:r})))}}t.default=M},chbibiabba:function(e,t,a){e.exports=a.p+"img/rooms-dark_88f4fbf81adf3532145c6eb491776f06.jpg"},chbijbggjc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AVDeviceType=void 0;t.AVDeviceType={AudioInput:0,AudioOutput:1,Video:2,NotIdentified:3}},chbjajaddg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgcgbfbffj")),s=a("bgihjbde"),n=i(a("bhbdiadfhj")),o=i(a("cbcbdjdah")),d=i(a("biecbbiiee"));class l extends r.default{constructor(...e){super(...e),this.syncPromise=null,this.isSynced=!1}onResume(){this.isSynced=!1,this.sync(this.parent)}sync(e){return n.default.supportsFeature(n.default.F.INDEX_RECEIVED_VCARD)?this.isSynced?Promise.resolve():(this.syncPromise||(this.syncPromise=d.default.queryVcard(e.id).then(e=>this.add(e)).catchType(s.E499,()=>{}).catch(()=>{}).finally(()=>{this.isSynced=!0,this.syncPromise=null})),this.syncPromise):(this.isSynced=!0,Promise.resolve())}}t.default=l,l.model=o.default,l.resumeOnAvailable=!0},chcfcabada:function(e,t){e.exports={msg:"U7SeD",hover:"xZswV",current:"d3gGY",active:"_3ocLm",focusAnimation:"_1EhBd",focusAnimationKeyframes:"_9_Vg1"}},chcgcbaffe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.AudioPlayerFrame=O,t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=a("djciiabagi"),l=a("bheedafjh"),c=r(a("ebicahbfai")),u=r(a("cfadcbbiie")),f=r(a("ccbgfecegc")),h=r(a("hgigjbgie")),p=a("dccghhaddh"),g=r(a("bdjjabfecc")),m=r(a("ebddggeaib")),b=r(a("chihecbaj")),v=r(a("dagdiahdfi")),_=r(a("cahfddcdga")),E=a("dgchiaaffj"),j=r(a("dfgdfbgbhc")),y=r(a("dgdcjccfdi")),S=r(a("diffaiehid"));function C(){var e=(0,s.default)(["PTTPlayer:maybePlayNextPTT (last message) error: ",""]);return C=function(){return e},e}function M(){var e=(0,s.default)(["PTTPlayer:maybePlayNextPTT (with next message) error: ",""]);return M=function(){return e},e}function T(){var e=(0,s.default)(["PTTPlayer:onPttPlayback error: ",""]);return T=function(){return e},e}class P extends o.PureComponent{constructor(e){super(e),this.setRefAudio=e=>{this.refAudio=(0,d.findDOMNode)(e)},this.onPlayClick=()=>{var e=this.refAudio;e&&(this.props.playing?e.pause():e.play())},this.handleKeyActivation=()=>{this.onPlayClick()},this.onPttPlayback=e=>{if(this.props.currMsgId===e){this.setState({sequentialPlayback:!0,progress:0}),this.trackCursorRef&&this.trackCursorRef.current&&(this.startingScrollPos=this.trackCursorRef.current.getBoundingClientRect().top);var t=this.refAudio;t&&(this.delayPttPromise=this.delayPtt(h.default.PTT_PLAYBACK_DELAY).cancellable().then(()=>{t.currentTime=0,t.play()}).catch(e=>{__LOG__(3)(T(),e)}).finally(()=>{this.delayPttPromise=null}))}},this.delayPtt=e=>new Promise(t=>this.props.setInterval(t,e)),this.onNewPttRecording=()=>{var e=this.refAudio;e&&(this.props.playing&&e.pause(),this.delayPttPromise&&this.delayPttPromise.cancel())},this.onPlaying=()=>{var{currMsgId:e}=this.props;e&&f.default.pttPlaying(e),this.props.onPlayingUpdate(!0)},this.onPause=()=>{this.props.onPlayingUpdate(!1)},this.onEnded=()=>{var e=this.refAudio;e&&(e.currentTime=0,e.load(),this.maybePlayNextPTT())},this.onTimeUpdate=()=>{var e=this.refAudio;if(e){var t=0;Number.isFinite(e.duration)&&(t=Math.round(100*Math.min(1,e.currentTime/e.duration)),this.props.onTimeUpdate(e.currentTime)),this.setState({progress:t})}},this.onDrag=e=>{var t=this.refAudio;if(t){var a=parseInt(e.currentTarget.value,10);null==a||isNaN(a)||(this.setState({progress:a}),t.duration&&(t.currentTime=t.duration/100*a))}},this.onPlayerError=()=>{},this.onOtherPttPlaying=e=>{this.props.currMsgId!==e&&this.delayPttPromise&&this.delayPttPromise.cancel()},this.renderAudioTag=e=>o.createElement(c.default,{ref:this.setRefAudio,url:e,preload:"auto",onError:this.onPlayerError,autoPlay:this.props.autoPlay}),this.state={progress:0,playedBefore:e.played,sequentialPlayback:!1},this.trackCursorRef=o.createRef()}componentDidMount(){var e=(0,_.default)(this.refAudio,"this.refAudio");this.props.listeners.add(e,"playing",this.onPlaying),this.props.listeners.add(e,"pause",this.onPause),this.props.listeners.add(e,"ended",this.onEnded),this.props.listeners.add(e,"timeupdate",this.onTimeUpdate),this.props.listeners.add(e,"durationchange",this.onTimeUpdate),this.props.listeners.add(e,"progress",this.onTimeUpdate),this.props.listeners.add(f.default,"pttRecording",this.onNewPttRecording),this.props.listeners.add(f.default,"sequential_playback_ptt",this.onPttPlayback),this.props.listeners.add(f.default,"pttPlaying",this.onOtherPttPlaying)}isValidPlaybackSequence(e){return e.type===h.default.MSG_TYPE.PTT&&!(e.isSentByMe&&!this.props.outgoingMsg&&!this.state.playedBefore)}maybePlayNextPTT(){var e=this.state.sequentialPlayback;if(this.props.getSequentialMsg&&this.props.currMsgId){var t=this.props.getSequentialMsg(this.props.currMsgId);t&&this.isValidPlaybackSequence(t)?this.delayPttPromise=this.delayPtt(h.default.PTT_PLAYBACK_DELAY).cancellable().then(()=>{v.default.getGlobalSounds()&&(0,E.playMidPttTone)();var e=this.trackCursorRef&&this.trackCursorRef.current&&this.trackCursorRef.current.getBoundingClientRect().top;null!=e&&this.startingScrollPos===e&&f.default.scrollToPtt(t),f.default.autoplayPTT(t.id)}).catch(e=>{__LOG__(3)(M(),e)}).finally(()=>{this.delayPttPromise=null}):this.state.sequentialPlayback&&(this.delayPttPromise=this.delayPtt(h.default.PTT_PLAYBACK_DELAY).cancellable().then(()=>{v.default.getGlobalSounds()&&(0,E.playEndPttTone)(),this.delayPttPromise=null}).catch(e=>{__LOG__(3)(C(),e)}).finally(()=>{this.delayPttPromise=null}),e=!1),this.setState({playedBefore:!0,sequentialPlayback:e})}}render(){var e=this.props.playing?"audio-pause":"audio-play",t={width:this.state.progress-this.state.progress/100*3+"%"},a=null!=this.props.duration&&0!==this.props.duration?o.createElement("div",{className:j.default.metadata},u.default.durationStr(this.props.duration)):null,i=o.createElement("button",{className:j.default.button,onClick:this.onPlayClick},o.createElement(y.default,{name:e})),r=(0,_.default)(this.props.mediaData,"this.props.mediaData"),s=(0,_.default)(this.props.downloadMedia,"this.props.downloadMedia"),n=o.createElement(b.default,{mediaData:r,placeholderRenderer:()=>this.renderAudioTag(""),downloadMedia:s},this.renderAudioTag);return o.createElement(O,{button:i,played:this.props.played,outgoingMsg:this.props.outgoingMsg,displayType:this.props.displayType},a,o.createElement("div",{className:j.default.trackContainer,ref:this.trackCursorRef},o.createElement("span",{className:j.default.progress,style:t}),o.createElement("input",{dir:"ltr",type:"range",className:j.default.track,value:this.state.progress,onChange:this.onDrag,min:"0",max:"100"}),n))}}function O(e){var t,a=e.spinner&&null==e.button?o.createElement("button",{className:j.default.button,onClick:e.action},o.createElement("div",{className:j.default.spinner},e.canCancel?o.createElement(p.PendingCancel,{outgoingMsg:e.outgoingMsg}):o.createElement(p.Pending,{outgoingMsg:e.outgoingMsg}))):null,i=e.icon&&null==e.button&&!e.spinner?o.createElement("button",{className:j.default.button,onClick:e.action},e.icon):null,r=null!=e.fileSize&&0!==e.fileSize?o.createElement("div",{className:j.default.metadata},g.default.filesize(e.fileSize)):null,s=null!==(t=e.children)&&void 0!==t?t:o.createElement("input",{className:j.default.track,dir:"ltr",disabled:"disabled",max:100,min:0,type:"range",value:0}),d=(0,n.default)(j.default.audio,{[j.default.audioIn]:!e.outgoingMsg,[j.default.audioOut]:e.outgoingMsg,[j.default.played]:e.played,[j.default.isGallery]:e.displayType===h.default.DISP_TYPE.STARRED_MSGS||e.displayType===h.default.DISP_TYPE.GALLERY});return o.createElement("div",{className:d},o.createElement("div",{className:j.default.controls},e.button,a,i),o.createElement("div",{className:j.default.body},o.createElement(l.InvisibleLabel,null,g.default.t(12)),s,r))}var N=(0,S.default)((0,m.default)(P));t.default=class extends N{handleKeyActivation(){return this.getComponent().handleKeyActivation()}}},chdfefgec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("eabehhacha")),o=a("cgejchjdhj"),d=i(a("bbaacgghch")),l=i(a("ddajbaceej")),c=i(a("dhfbfehaef")),u=i(a("cajagfhdgb")),f=i(a("ebddggeaib")),h=i(a("dcdbbhicce")),p=a("cjfegjecaj"),g=i(a("dfjcfdigb")),m=a("hjbbdjjdf");class b extends s.Component{constructor(e){super(e),this.onActiveChange=(e,t)=>{if("focus"===e){var a=this._refHotKeys;l.default.focus(a),t&&a&&(0,o.scrollIntoViewIfNeeded)(a)}this.setState({active:!!e})},this.onClick=e=>{if((0,m.isFunction)(this.props.onClick)){var t=(0,p.unproxy)(this.props.msg),a=t.chat,i=a.getSearchContext(t);i.msg=t,this.props.onClick(e,a,i)}},this.onEnter=e=>{e.preventDefault(),e.stopPropagation(),d.default.shouldIndicateFocus(),this.onClick(e)},this.indicateFocus=()=>{var e;null===(e=this._refCell)||void 0===e||e.indicateFocus()},this.contextEnabled=()=>!1,this._setRefCell=e=>{this._refCell=e},this._setRefHotKeys=e=>{this._refHotKeys=e};var{msg:t,active:a}=e;this.state={active:!!a&&a.value===t}}componentDidMount(){this.props.active&&this.props.listeners.add(this.props.active,this.props.msg.id.toString(),this.onActiveChange)}render(){var{msg:e,author:t}=this.props,a=s.createElement(g.default,{msg:e}),i=s.createElement(u.default,{msg:e.safe(),msgType:"Search",author:t,searchQuery:this.props.searchText?[this.props.searchText]:[]}),r={enter:this.onEnter};return s.createElement(c.default,{handlers:r,onFocus:this.indicateFocus,onRef:this._setRefHotKeys},s.createElement(n.default,{ref:this._setRefCell,contextEnabled:this.contextEnabled,theme:"chat-search",active:!!this.state.active,primaryDetail:a,secondary:i,primary:void 0,onClick:this.onClick}))}}b.CONCERNS={msg:["id","chat","isSentByMe","senderObj","rtl","dir","type"]};var v=(0,f.default)((0,h.default)(b,b.CONCERNS));t.default=v},chfbdgegdf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("beddbdijab")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bgeffbghdh",7)).then(e=>e.default),"StatusV3Flow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},chffigdgba:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bebajedcaf")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("ecfgahegjj")),l=r(a("bhbcdbjdeg")),c=r(a("bjiceahcdj")),u=r(a("dgdcjccfdi")),f="SMALL",h="MEDIUM",p="LARGE",g="NONE";function m(e){switch(e){case f:return 49;case h:return 100;case p:return 200;case g:return;default:return e}}class b extends o.PureComponent{constructor(...e){super(...e),this.state={isLoaded:!1},this.onLoad=()=>{this.setState({isLoaded:!0})}}render(){var e,{size:t,fallbackSVG:a,className:i,loader:r,wrapOptions:f={},transition:h,roundContainer:p=!0,imgProps:g}=this.props,{src:b,alt:v,crossOrigin:_,draggable:E}=g,{centerWrapperChild:j,wrapperClassName:y}=f,{isLoaded:S}=this.state,C=(0,n.default)(c.default.avatarImage,{[c.default.isLoaded]:S,[c.default.transition]:h}),M={height:m(t),width:m(t)};r&&!S&&(e=o.createElement(d.default,null));var T=o.createElement(l.default,{src:b,className:C,onLoad:this.onLoad,alt:v,crossOrigin:_,draggable:E}),P=(0,s.default)(f)?T:o.createElement("div",{className:(0,n.default)(y,c.default.avatarWrapper,c.default.avatarImageWrapper,{[c.default.centerChild]:j,[c.default.isLoaded]:S})},T),O=""!==b?o.createElement(o.Fragment,null,e,P):null;return o.createElement("div",{className:(0,n.default)(c.default.avatar,i,{[c.default.roundBorder]:p}),style:M},O,o.createElement("div",{className:(0,n.default)(y,c.default.avatarWrapper,c.default.avatarSvgWrapper,{[c.default.centerChild]:j,[c.default.transition]:h})},o.createElement(u.default,{name:a})))}}t.default=b,b.defaultProps={size:f,loader:!1}},chfhagefja:function(e,t){e.exports={preview:"eC0Wi",bubbleIn:"ZAxR6",bubbleOut:"_2c9CH",isCompose:"_2vPWp",noThumbContainer:"_3qEFi",noThumbIcon:"_3odny",media:"_8Fk4h",title:"_1mGYX",description:"_5Iyvs",source:"_3CdO_",body:"_3zmNG"}},chfjcdfeig:function(e,t){e.exports={drawerHeader:"_3Ceb0",drawerTitle:"_1DmXq",drawerTitleBody:"_2qOtp",side:"ZA4zk",drawerTitleAction:"_1K7Z6",multiMediaGallery:"_3J0ww",drawerHeaderSmall:"_3tpsN",drawerHeaderOffset:"ItuW3",drawerHeaderPopup:"_3544I",btnCloseDrawer:"hYtwT",paneListControls:"Vzymz",labels:"_1co-_"}},chfjcfcide:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return i.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return i.HttpNetworkError}}),Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return i.HttpInvalidResponseError}}),Object.defineProperty(t,"MmsDownloadFilehashMismatchError",{enumerable:!0,get:function(){return i.MmsDownloadFilehashMismatchError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return i.HttpStatusCodeError}}),Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return r.NoMediaHostsError}}),t.MMSThrottleError=t.MMSForbiddenError=t.MMSUnauthorizedError=t.MediaInvalidError=t.MediaTooLargeError=t.MediaNotFoundError=void 0;var i=a("fdghiidhc"),r=a("dgeaihgdfh");class s extends i.HttpStatusCodeError{constructor(e,t){super(404,e,t),this.name="MediaNotFoundError"}}t.MediaNotFoundError=s;class n extends i.HttpStatusCodeError{constructor(e,t){super(413,e,t),this.name="MediaTooLargeError"}}t.MediaTooLargeError=n;class o extends i.HttpStatusCodeError{constructor(e,t){super(415,e,t),this.name="MediaInvalidError"}}t.MediaInvalidError=o;class d extends i.HttpStatusCodeError{constructor(e,t){super(401,e,t),this.name="MMSUnauthorizedError"}}t.MMSUnauthorizedError=d;class l extends i.HttpStatusCodeError{constructor(e,t){super(403,e,t),this.name="MMSForbiddenError"}}t.MMSForbiddenError=l;class c extends i.HttpStatusCodeError{constructor(e,t){super(507,e,t),this.name="MMSThrottleError"}}t.MMSThrottleError=c},chgfegiddc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.hasPending=function(){if(!v.default.connected)return!1;var e=a("bjddibdgjb").default,t=R.default.some(e=>e.ack===_.default.ACK.CLOCK&&e.local&&e.isSentByMe),i=p.default.some(e=>!!e.composeContents.text);return t||i||e()},t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("echehdcaii")),o=r(a("ceffhbhahb")),d=a("djfeeacgad"),l=r(a("dgdjiicfdg")),c=i(a("ddhijeejag")),u=r(a("cfijifijje")),f=r(a("djheacfeif")),h=r(a("djbghdgcj")),p=r(a("dbdfbgehgj")),g=r(a("bhdcfacaaf")),m=r(a("ccbgfecegc")),b=r(a("bbfjdcedab")),v=r(a("bjigbaghc")),_=r(a("hgigjbgie")),E=r(a("bcagcbehg")),j=i(a("bijcijfdif")),y=a("cbffafiad"),S=r(a("ihgefacbb")),C=a("ddbdgibbbi"),M=r(a("hjieaedbd")),T=r(a("bhbdiadfhj")),P=r(a("diagafacic")),O=r(a("bfbfcgieid")),N=r(a("bdjjabfecc")),I=r(a("ebddggeaib")),A=r(a("ciecdeibcj")),w=r(a("bdcchebfge")),R=r(a("biecbbiiee")),D=r(a("dbgbceihf")),L=r(a("bjjabihhjf")),k=r(a("bcjicebbgg")),x=r(a("dhccahhefj")),G=a("hfifjaejc"),U=r(a("bgidiahdfc")),F=r(a("ebicdfeje")),B=r(a("dcdiaahjj")),V=r(a("iejgdeded")),H=r(a("dgjfacgbhc")),W=r(a("djgcjhfdec")),K=r(a("bcjcbbafcj")),Y=r(a("cgjdibiahi")),q=r(a("cdeahgaaii")),z=r(a("edbaidcaf")),Q=r(a("ghcjgacii")),J=r(a("ebbjcigbjj")),X=r(a("bgeajihhc")),Z=r(a("djbjbichdf")),$=r(a("gcbhjhjhg")),ee=r(a("bbaibbdgdj")),te=r(a("chiaeadhif"));function ae(){var e=(0,s.default)(["Low FPS Tracker: ","fps, ","s since page open."]);return ae=function(){return e},e}var ie=[[document,"mousemove"],[document,"scroll"],[document,"keydown"],[window,"focus"],[window,"resize"]];function re(){window.history.pushState({},"",window.location.href)}class se extends c.PureComponent{constructor(e){super(e),this.state={drawerActive:!1,drawerAnimating:!1,isVoipInitialized:v.default.isVoipInitialized},this.idleMonitor=null,this.serverPropsQueryLoop=null,this.rightDrawerOut=!1,this._setRefContainer=e=>{this._refContainer=e},this._refChatlistPanel=c.createRef(),this._refConversation=c.createRef(),this.onBlurTimer=new d.ShiftTimer(()=>{if(document.activeElement===document.body){var{top:e}=q.default.Manager;e&&e.uie.requestFocus()}}),this.onBlur=()=>{this.onBlurTimer.debounce(10)},this.onRightDrawerIn=()=>{this.rightDrawerOut=!1,m.default.onPanesWillChange(3),this.setState({drawerActive:!0,drawerAnimating:!0},()=>{m.default.onPanesDidChange(3)}),this.animateConversationPanel()},this.onRightDrawerOut=()=>{this.rightDrawerOut=!0;var e={drawerActive:this.state.drawerActive,drawerAnimating:!0};this.animateConversationPanel()?(m.default.onPanesWillChange(2),e.drawerActive=!1,this.setState(e,m.default.onPanesDidChange.bind(m.default,2))):this.setState(e)},this.onRightDrawerAnimationComplete=()=>{var e={drawerActive:this.state.drawerActive,drawerAnimating:!1};this.state.drawerActive&&this.rightDrawerOut&&(e.drawerActive=!1),this.setState(e)},this.updateVoip=()=>{this.setState({isVoipInitialized:v.default.isVoipInitialized})},this.showTOS=()=>{switch(v.default.tos){case 1:case 2:m.default.openModal(c.createElement(W.default,null),{blockClose:!0});break;case 3:X.default.logout()}},this.showSmbTos=()=>{v.default.smbTos&&m.default.openModal(c.createElement(F.default,null),{blockClose:!0})},this.showUserNotice=()=>{T.default.supportsFeature(T.default.F.USER_NOTICE)&&D.default.noticeId&&!0===D.default.blocking&&m.default.openModal(c.createElement(Q.default,{notice:D.default}),{blockClose:!0})},this.showKeyboardShortcuts=e=>{for(var t,{target:a}=e,i=0;i<5;i++){if((t=a)&&t.getAttribute("contentEditable")||t instanceof HTMLInputElement)return;a=a.parentNode}m.default.openModal(c.createElement(Z.default,null)),e.preventDefault()},B.default.uiActive=!0,B.default.markAvailable();var{platform:t}=v.default;(0,U.default)((0,y.getEmojiTypeFromPlatform)(t)),h.default.setPlatform(t)}componentWillUnmount(){this.onBlurTimer.cancel(),O.default.menuBatchRenderWith(()=>{O.default.trigger("".concat(P.default.Event,":").concat(P.default.Events.LOGGED_OUT))}),z.default.canMuckHistory()&&window.history.back(),B.default.uiActive=!1,this.clearIdleMonitor(),this.clearServerPropsQueryLoop(),this.stopTrackingFPS&&this.stopTrackingFPS()}componentDidMount(){var{listeners:e}=this.props;if(O.default.menuBatchRenderWith(()=>{O.default.trigger("".concat(P.default.Event,":").concat(P.default.Events.LOGGED_IN))}),z.default.canMuckHistory()&&(window.history.pushState({},"",window.location.href),e.add(window,"popstate",re)),this.beginIdleMonitor(!0),this.beginServerPropsQueryLoop(),e.add(v.default,"change:isVoipInitialized",this.updateVoip),e.add(v.default,"change:tos",this.showTOS),this.showTOS(),v.default.isSMB&&(e.add(v.default,"change:smbTos",this.showSmbTos),this.showSmbTos()),e.add(D.default,"change:blocking change:noticeId",this.showUserNotice),this.showUserNotice(),K.default.isSafari&&!M.default&&(0,C.shouldShowNUX)(_.default.NUX.SAFARI_LIMITED_SUPPORT)&&(setTimeout(()=>{var e=N.default.t(1793,{chrome_homepage:_.default.BROWSER_LINK.CHROME,firefox_homepage:_.default.BROWSER_LINK.FIREFOX,opera_homepage:_.default.BROWSER_LINK.OPERA});m.default.openModal(c.createElement(b.default,{onOK:()=>m.default.closeModal(),okText:N.default.t(1059)},c.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},250),(0,C.setNUX)(_.default.NUX.SAFARI_LIMITED_SUPPORT,{views:1,maxViews:1})),this.stopTrackingFPS=S.default.whenLessThan(1,(e,t)=>{new w.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:(0,n.default)(t,0)}).commit(),__LOG__(2)(ae(),(0,n.default)(e,2),(0,n.default)(t,3)/1e3)}),$.default.supported){var t=navigator.serviceWorker;t&&t.controller&&te.default.request(t.controller,ee.default.PRELOAD_LAZY_LOADED_BUNDLES).catch(()=>{})}}beginIdleMonitor(e){var t=e?_.default.IDLE_TIMEOUT:0;this.idleMonitor=Promise.loop(()=>Promise.delay(t).addCancelControl().then(()=>{var e;B.default.markUnavailable(3e4);var a=new Promise(t=>{e=t});return ie.forEach(([t,a])=>{this.props.listeners.add(t,a,e)}),a.addCancelControl().finally(()=>{ie.forEach(([t,a])=>{this.props.listeners.remove(t,a,e)})}).then((function(){document.hasFocus()&&B.default.markAvailable(),t=_.default.IDLE_TIMEOUT}))})).finally(()=>{this.idleMonitor=null}).catchType(Promise.CancellationError,()=>{}).endWithControls("cancel")}clearIdleMonitor(){this.idleMonitor&&this.idleMonitor.control.cancel()}beginServerPropsQueryLoop(){this.serverPropsQueryLoop=f.default.setLocalTimeout(()=>{(0,G.queryServerProps)(),this.beginServerPropsQueryLoop()},(0,l.default)().add(1,"days").valueOf())}clearServerPropsQueryLoop(){f.default.clearTimeout(this.serverPropsQueryLoop)}animateConversationPanel(){var e,t,a,i,r=null===(e=this._refChatlistPanel)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getClientWidth();if(null==r)return!1;var s=null===(a=this._refContainer)||void 0===a?void 0:a.clientWidth;return null!=s&&(!!(null===(i=this._refConversation)||void 0===i?void 0:i.current)&&this._refConversation.current.animatePanel(s,r))}getVisibleDOMNodes(e){var t=e;return m.default.existsDrawerLeft(e=>{var a,i=null===(a=this._refChatlistPanel)||void 0===a?void 0:a.current;e&&i&&(t=t.filter(e=>!i.containsDOMNode(e)))}),m.default.existsDrawerMid(e=>{var a,i=null===(a=this._refConversation)||void 0===a?void 0:a.current;e&&i&&(t=t.filter(e=>!i.containsDOMNode(e)))}),t}render(){var e=(0,o.default)(A.default.app,{three:this.state.drawerActive,two:!this.state.drawerActive,"app-animating":this.state.drawerAnimating,[A.default.noAnimation]:!this.props.animate}),t=this.state.isVoipInitialized?c.createElement(J.default,null):null;return c.createElement(Y.default,{state:Y.default.State.INACTIVE,displayName:"Main"},c.createElement(H.default,{className:e,onBlur:this.onBlur,onRef:this._setRefContainer,onShowKeyboardShortcuts:this.showKeyboardShortcuts,getVisibleDOMNodes:this.getVisibleDOMNodes},c.createElement(L.default,null),c.createElement(u.default,null),c.createElement(k.default,null),c.createElement(V.default,null),t,void 0,c.createElement("div",{className:A.default.drawerManager},c.createElement("div",{className:(0,o.default)(A.default.pane,A.default.paneOne)},c.createElement(j.default,{direction:j.Dir.LEFT})),c.createElement("div",{className:(0,o.default)(A.default.pane,A.default.paneTwo)},c.createElement(j.default,{direction:j.Dir.MID})),c.createElement("div",{className:(0,o.default)(A.default.pane,A.default.paneThree)},c.createElement(j.default,{direction:j.Dir.RIGHT,onDrawerIn:this.onRightDrawerIn,onDrawerOut:this.onRightDrawerOut,onDrawerAnimationComplete:this.onRightDrawerAnimationComplete}))),c.createElement("div",{className:(0,o.default)(A.default.pane,A.default.paneOne)},c.createElement(g.default,{ref:this._refChatlistPanel})),c.createElement("div",{className:(0,o.default)(A.default.pane,A.default.paneTwo)},c.createElement(E.default,{animate:this.props.animate,ref:this._refConversation}))))}}var ne=(0,I.default)((0,x.default)(se));t.default=ne},chggbcfheb:function(e,t){e.exports={tooltip:"pOfaC","menu-tooltip":"zHjIN",menuTooltip:"zHjIN"}},chghgadcbg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("jccfhaecf"));class o extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)()}contact(){return a("dhigahgdjb").default.gadd(this.id)}getCollection(){return a("bgfcjjddjf").default}}o.Proxy="blocklist",o.idClass=n.default;var d=(0,s.defineModel)(o);t.default=d},chhcifaahi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.default.get(e),i=null==a?void 0:a.name;return!i||i===t};var r=i(a("dhigahgdjb"))},chhdedhgfe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getEphemeralExpirationTimestamp=function(e,t,a,i,r){if("ephemeral_setting"===i)return null;if(null==e||0===e)return null;if(r&&null!=t)return t+e;return a+e},t.isEphemeralDurationAllowed=function(e){return!(e<0)&&(0===e||c.default.getEphemeralMessagesAllowedValues().includes(e))},t.shouldUpdateEphemeralSetting=function(e){var{oldDuration:t,oldSettingTimestamp:a,newDuration:i,newSettingTimestamp:r,chatId:s}=e;return r>a||!(r<a)&&(t!==i&&!(0,o.getMaybeMeUser)().isLessThan(s))},t.getEphemeralSettingChangeByOthersString=function(e=0,t){return C(S.SettingChangeByOthers,e,t)},t.getEphemeralSettingChangeByYouString=function(e=0){return C(S.SettingChangeByYou,e)},t.getEphemeralSettingChangeByUnknownString=function(e=0){return C(S.SettingChangeByUnknown,e)},t.getEphemeralSettingChangeByOthersAsAdminString=function(e=0,t){return C(S.SettingChangeByOthersAsAdmin,e,t)},t.getEphemeralSettingChangeByYouAsAdminString=function(e=0){return C(S.SettingChangeByYouAsAdmin,e)},t.getEphemeralDurationString=function(e=0){return C(S.Duration,e)},t.getEphemeralOutOfSyncInfoString=function(e=0){return C(S.OutOfSyncInfo,e)},t.getEphemeralExplanationString=function(e=0){return C(S.Explanation,e)},t.EphemeralL10n=function(e){var{type:t,numSeconds:a=0,name:i}=e;if(a<0)return __LOG__(4,!1,new Error)(m(),t,a),SEND_LOGS("invalid-duration"),null;if(0===a)return function(e,t){return e===S.SettingChangeByOthers&&null!=t?n.createElement(l.default,{id:558,params:{name:t}}):e===S.SettingChangeByYou?n.createElement(l.default,{id:553}):e===S.SettingChangeByUnknown?n.createElement(l.default,{id:548}):e===S.SettingChangeByOthersAsAdmin&&null!=t?n.createElement(l.default,{id:558,params:{name:t}}):e===S.SettingChangeByYouAsAdmin?n.createElement(l.default,{id:553}):e===S.Duration?n.createElement(l.default,{id:589}):e===S.OutOfSyncInfo?n.createElement(l.default,{id:577}):(__LOG__(4,!1,new Error)(g(),e),SEND_LOGS("invalid-ephemeral-string-type"),null)}(t,i);if(a<=60)return function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?n.createElement(l.default,{id:562,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYou?n.createElement(l.default,{id:557,params:{number:t},plural:t}):e===S.SettingChangeByUnknown?n.createElement(l.default,{id:552,params:{number:t},plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?n.createElement(l.default,{id:571,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYouAsAdmin?n.createElement(l.default,{id:567,params:{number:t},plural:t}):e===S.Duration?n.createElement(l.default,{id:594,params:{number:t},plural:t}):e===S.OutOfSyncInfo?n.createElement(l.default,{id:581,params:{number:t},plural:t}):e===S.Explanation?n.createElement(l.default,{id:576,params:{number:t},plural:t}):(__LOG__(4,!1,new Error)(p(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),null)}(t,a,i);if(a<=3600){var r=Math.floor(a/60);return function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?n.createElement(l.default,{id:561,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYou?n.createElement(l.default,{id:556,params:{number:t},plural:t}):e===S.SettingChangeByUnknown?n.createElement(l.default,{id:551,params:{number:t},plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?n.createElement(l.default,{id:570,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYouAsAdmin?n.createElement(l.default,{id:566,params:{number:t},plural:t}):e===S.Duration?n.createElement(l.default,{id:593,params:{number:t},plural:t}):e===S.OutOfSyncInfo?n.createElement(l.default,{id:580,params:{number:t},plural:t}):e===S.Explanation?n.createElement(l.default,{id:575,params:{number:t},plural:t}):(__LOG__(4,!1,new Error)(h(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),null)}(t,r,i)}if(a<=86400){var s=Math.floor(a/60/60);return function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?n.createElement(l.default,{id:560,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYou?n.createElement(l.default,{id:555,params:{number:t},plural:t}):e===S.SettingChangeByUnknown?n.createElement(l.default,{id:550,params:{number:t},plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?n.createElement(l.default,{id:569,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYouAsAdmin?n.createElement(l.default,{id:565,params:{number:t},plural:t}):e===S.Duration?n.createElement(l.default,{id:592,params:{number:t},plural:t}):e===S.OutOfSyncInfo?n.createElement(l.default,{id:579,params:{number:t},plural:t}):e===S.Explanation?n.createElement(l.default,{id:574,params:{number:t},plural:t}):(__LOG__(4,!1,new Error)(f(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),null)}(t,s,i)}var o=Math.floor(a/24/60/60);return function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?n.createElement(l.default,{id:559,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYou?n.createElement(l.default,{id:554,params:{number:t},plural:t}):e===S.SettingChangeByUnknown?n.createElement(l.default,{id:549,params:{number:t},plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?n.createElement(l.default,{id:568,params:{name:a,number:t},plural:t}):e===S.SettingChangeByYouAsAdmin?n.createElement(l.default,{id:564,params:{number:t},plural:t}):e===S.Duration?n.createElement(l.default,{id:591,params:{number:t},plural:t}):e===S.OutOfSyncInfo?n.createElement(l.default,{id:578,params:{number:t},plural:t}):e===S.Explanation?n.createElement(l.default,{id:573,params:{number:t},plural:t}):(__LOG__(4,!1,new Error)(u(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),null)}(t,o,i)},t.EphemeralStringType=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("ddbdgibbbi"),d=r(a("bdjjabfecc")),l=r(a("cbedabhaa")),c=r(a("bfgbdiffgd"));function u(){var e=(0,s.default)(["getEphemeralOnDaysL10nComponent is given type "," and name ",""]);return u=function(){return e},e}function f(){var e=(0,s.default)(["getEphemeralOnHoursL10nComponent is given type "," and name ",""]);return f=function(){return e},e}function h(){var e=(0,s.default)(["getEphemeralOnMinutesL10nComponent is given type "," and name ",""]);return h=function(){return e},e}function p(){var e=(0,s.default)(["getEphemeralOnSecondsL10nComponent is given type "," and name ",""]);return p=function(){return e},e}function g(){var e=(0,s.default)(["getEphemeralOffL10nComponent is given invalid type ",""]);return g=function(){return e},e}function m(){var e=(0,s.default)(["getEphemeralL10nComponent "," is given invalid duration ",""]);return m=function(){return e},e}function b(){var e=(0,s.default)(["getEphemeralOnDaysString is given type "," and name ",""]);return b=function(){return e},e}function v(){var e=(0,s.default)(["getEphemeralOnHoursString is given type "," and name ",""]);return v=function(){return e},e}function _(){var e=(0,s.default)(["getEphemeralOnMinutesString is given type "," and name ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["getEphemeralOnSecondsString is given type "," and name ",""]);return E=function(){return e},e}function j(){var e=(0,s.default)(["getEphemeralOffString is given invalid type ",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["getEphemeralString "," is given invalid duration ",""]);return y=function(){return e},e}var S=a("bjgidhichc").Mirrored(["SettingChangeByOthers","SettingChangeByYou","SettingChangeByUnknown","SettingChangeByOthersAsAdmin","SettingChangeByYouAsAdmin","Duration","OutOfSyncInfo","Explanation"]);function C(e,t=0,a){return t<0?(__LOG__(4,!1,new Error)(y(),e,t),SEND_LOGS("invalid-duration"),""):0===t?function(e,t){return e===S.SettingChangeByOthers&&null!=t?d.default.t(558,{name:t}):e===S.SettingChangeByYou?d.default.t(553):e===S.SettingChangeByUnknown?d.default.t(548):e===S.SettingChangeByOthersAsAdmin&&null!=t?d.default.t(558,{name:t}):e===S.SettingChangeByYouAsAdmin?d.default.t(553):e===S.Duration?d.default.t(589):e===S.OutOfSyncInfo?d.default.t(577):(__LOG__(4,!1,new Error)(j(),e),SEND_LOGS("invalid-ephemeral-string-type"),"")}(e,a):t<=60?function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?d.default.t(562,{name:a,number:t,_plural:t}):e===S.SettingChangeByYou?d.default.t(557,{number:t,_plural:t}):e===S.SettingChangeByUnknown?d.default.t(552,{number:t,_plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?d.default.t(571,{name:a,number:t,_plural:t}):e===S.SettingChangeByYouAsAdmin?d.default.t(567,{number:t,_plural:t}):e===S.Duration?d.default.t(594,{number:t,_plural:t}):e===S.OutOfSyncInfo?d.default.t(581,{number:t,_plural:t}):e===S.Explanation?d.default.t(576,{number:t,_plural:t}):(__LOG__(4,!1,new Error)(E(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),"")}(e,t,a):t<=3600?function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?d.default.t(561,{name:a,number:t,_plural:t}):e===S.SettingChangeByYou?d.default.t(556,{number:t,_plural:t}):e===S.SettingChangeByUnknown?d.default.t(551,{number:t,_plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?d.default.t(570,{name:a,number:t,_plural:t}):e===S.SettingChangeByYouAsAdmin?d.default.t(566,{number:t,_plural:t}):e===S.Duration?d.default.t(593,{number:t,_plural:t}):e===S.OutOfSyncInfo?d.default.t(580,{number:t,_plural:t}):e===S.Explanation?d.default.t(575,{number:t,_plural:t}):(__LOG__(4,!1,new Error)(_(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),"")}(e,Math.floor(t/60),a):t<=86400?function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?d.default.t(560,{name:a,number:t,_plural:t}):e===S.SettingChangeByYou?d.default.t(555,{number:t,_plural:t}):e===S.SettingChangeByUnknown?d.default.t(550,{number:t,_plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?d.default.t(569,{name:a,number:t,_plural:t}):e===S.SettingChangeByYouAsAdmin?d.default.t(565,{number:t,_plural:t}):e===S.Duration?d.default.t(592,{number:t,_plural:t}):e===S.OutOfSyncInfo?d.default.t(579,{number:t,_plural:t}):e===S.Explanation?d.default.t(574,{number:t,_plural:t}):(__LOG__(4,!1,new Error)(v(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),"")}(e,Math.floor(t/60/60),a):function(e,t,a){return e===S.SettingChangeByOthers&&null!=a?d.default.t(559,{name:a,number:t,_plural:t}):e===S.SettingChangeByYou?d.default.t(554,{number:t,_plural:t}):e===S.SettingChangeByUnknown?d.default.t(549,{number:t,_plural:t}):e===S.SettingChangeByOthersAsAdmin&&null!=a?d.default.t(568,{name:a,number:t,_plural:t}):e===S.SettingChangeByYouAsAdmin?d.default.t(564,{number:t,_plural:t}):e===S.Duration?d.default.t(591,{number:t,_plural:t}):e===S.OutOfSyncInfo?d.default.t(578,{number:t,_plural:t}):e===S.Explanation?d.default.t(573,{number:t,_plural:t}):(__LOG__(4,!1,new Error)(b(),e,a),SEND_LOGS("invalid-ephemeral-string-type"),"")}(e,Math.floor(t/24/60/60),a)}t.EphemeralStringType=S},chhifjcdie:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(a("chgaccicf")).default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0});t.default=r},chhjhdffbh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.linkOrphanAck=function(){var e;if(r.default.supportsFeature(r.default.F.MD_BACKEND)){if(!e)return Promise.reject(new Error("linkOrphanReceipt: not supported for non MD"))}else e=Promise.reject("linkOrphanReceipt: not supported without model storage and md backend");return e};var r=i(a("bhbdiadfhj"))},chhjjadbfi:function(e,t){e.exports={msgUnread:"XFAMv",msgUnreadBody:"_14pZF"}},chieajfcec:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dagbcgeifg")),n=i(a("ddhijeejag")),o=r(a("dahagdijgh")),d=r(a("bjheffjbgd")),l=i(a("bjjhgjdbhd")),c=r(a("jheedhagg")),u=r(a("ecffbdieca"));class f extends n.PureComponent{constructor(...e){super(...e),this.onCancel=()=>{this.props.uim.uie.requestDismiss()}}render(){var e=this.props,{title:t,headerType:a,uim:i}=e,r=(0,s.default)(e,["title","headerType","uim"]);return n.createElement(o.default,null,n.createElement(l.default,{title:t,type:a,onCancel:this.onCancel}),n.createElement(d.default,null,n.createElement(u.default,r)))}}f.defaultProps={headerType:l.DRAWER_HEADER_TYPE.SMALL};var h=(0,c.default)(f);t.default=h},chihecbaj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("dhibedeibc"),o=i(a("eceibhbeff")),d=a("ccfjbcbbga"),l=i(a("ebefiffbbj")),c=i(a("dcdbbhicce"));class u extends s.Component{constructor(...e){super(...e),this.state={}}static getDerivedStateFromProps(e,t){var{renderProgressively:a}=e,{filehash:i,progressiveStage:r}=e.mediaData,s=t.stackedUrls||[],l=null!=r?(0,n.getProgressiveMediaCacheKey)(i,r):null;if(null!=l&&a){if(!e.renderProgressively)return null;if(l!==t.progressiveKey&&e.mediaData.mediaStage!==d.DOWNLOAD_STAGE.RESOLVED){if(!o.default.has(l))throw new Error("Progressive key (".concat(l,") is present but doesn't exist in mediaBlobCache"));t.url&&t.progressiveKey&&o.default.decreaseUsageCount(t.progressiveKey),o.default.increaseUsageCount(l);var c=o.default.getOrCreateURL(l);return{filehash:i,url:c,progressiveKey:l,stackedUrls:[...s,c]}}if(o.default.has(i)){var u=o.default.getOrCreateURL(i);return t.url===u?null:(o.default.increaseUsageCount(i),t.progressiveKey&&o.default.decreaseUsageCount(t.progressiveKey),{filehash:i,url:u,progressiveKey:l,stackedUrls:[...s,u]})}return null}if(i!==t.filehash){if(e.downloadMedia&&e.downloadMedia(),t.url&&t.filehash&&o.default.decreaseUsageCount(t.filehash),o.default.has(i)){var f=o.default.getOrCreateURL(i);return t.url===f?null:(o.default.increaseUsageCount(i),t.progressiveKey&&o.default.decreaseUsageCount(t.progressiveKey),{filehash:i,url:f,progressiveKey:l,stackedUrls:[...s,f]})}return{filehash:i}}if(o.default.has(i)){var h=o.default.getOrCreateURL(i);return t.url===h?null:(o.default.increaseUsageCount(i),t.progressiveKey&&o.default.decreaseUsageCount(t.progressiveKey),{filehash:i,url:h,progressiveKey:l,stackedUrls:[...s,h]})}return null}shouldComponentUpdate(e,t){return this.state.url!==t.url}componentWillUnmount(){this.state.url&&(this.props.mediaData.mediaStage===d.DOWNLOAD_STAGE.RESOLVED?o.default.decreaseUsageCount(this.state.filehash):this.state.progressiveKey&&o.default.decreaseUsageCount(this.state.progressiveKey))}render(){var{url:e,stackedUrls:t}=this.state,{renderProgressively:a}=this.props;return e?a?s.createElement("div",{className:l.default.container},s.createElement("div",{className:l.default.child},this.props.placeholderRenderer()),t.map(e=>s.createElement("div",{className:l.default.child,key:e},this.props.children(e)))):this.props.children(e):this.props.placeholderRenderer()}}u.CONCERNS={mediaData:["filehash","mediaStage","progressiveStage"]};var f=(0,c.default)(u,u.CONCERNS);t.default=f},chjacghehi:function(e,t){e.exports={orderPreview:"_3U0gR",meta:"_3pDbE",messageText:"_1xUAc"}},chjdbiidhd:function(e,t){e.exports={albumGridClass:"LEFWJ",albumTopLeft:"_3hvUq",albumTopRight:"_39tg8",albumBottomLeft:"_13PQb",albumBottomRight:"oByLh",numberText:"_2g59E"}},chjegajjid:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("dhgjbgdbhg"),n=a("bgihjbde"),o=r(a("ecjehifjdd")),d=r(a("cahfddcdga")),l=i(a("dcbbccfgab"));class c{static encrypt(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:encrypt");var t=l.get(),a=(0,s.encryptAndMac)((0,d.default)(t.encKey,"bundle.encKey"),(0,d.default)(t.macKey,"bundle.macKey"),e);return this._encryptQueue.enqueue(a)}static decrypt(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:decrypt");var t=l.get(),a=(0,s.macAndDecrypt)((0,d.default)(t.encKey,"bundle.encKey"),(0,d.default)(t.macKey,"bundle.macKey"),e);return this._decryptQueue.enqueue(a)}static dropAllBecauseLogout(){var e=new n.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)}}t.default=c,c._encryptQueue=new o.default,c._decryptQueue=new o.default},chjfbhjejb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();return(0,r.default)(t)};var r=i(a("bbehjhfdfe"))},chjfdffjhc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};t.default=i},chjjhigbaj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){var t;s.default.supportsFeature(s.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=n.default.sendSpamReport(e.id).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return t},t.sendNotSpam=function(e){var t;t=s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.resolve():n.default.sendConversationNotSpam(e.id).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return t.then(()=>(s.default.supportsFeature(s.default.F.MD_BACKEND),Promise.resolve()))};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},ciaceeihfd:function(e,t){e.exports={container:"_27Ht_"}},ciafdhcchg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("hgigjbgie")),{EMOJI:{CATEGORIES:n,ORDERED_CATEGORY_IDS:o}}=s.default,d=(0,r.default)((0,r.default)({RECENT:"RECENT"},n),{},{SEARCH_RESULT:"SEARCH_RESULT"}),l=d;t.default=l;var c=[{[d.RECENT]:d.RECENT,[d.SMILEYS_PEOPLE]:d.SMILEYS_PEOPLE,[d.ANIMALS_NATURE]:d.ANIMALS_NATURE,[d.FOOD_DRINK]:d.FOOD_DRINK,[d.ACTIVITY]:d.ACTIVITY,[d.TRAVEL_PLACES]:d.TRAVEL_PLACES,[d.OBJECTS]:d.OBJECTS,[d.SYMBOLS]:d.SYMBOLS,[d.FLAGS]:d.FLAGS}.RECENT,...o];t.ORDERED_TAB_SECTION_IDS=c},ciaibaaibf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("ddfeabiaci")),n=a("edcaccjfh"),o=i(a("ccdfaeabji")),d=a("cabeijgaif"),l=a("bbjghgfabf"),c=i(a("bgeajihhc"));function u(){var e=(0,r.default)(["LiveLocation:update without lat/lng"]);return u=function(){return e},e}function f(){var e=(0,r.default)(["LiveLocation:update with lat/lng"]);return f=function(){return e},e}function h(){var e=(0,r.default)(["bin-recv: response,location"]);return h=function(){return e},e}function p(){var e=(0,r.default)(["LiveLocation:response without lat/lng"]);return p=function(){return e},e}function g(){var e=(0,r.default)(["LiveLocation:response with lat/lng"]);return g=function(){return e},e}function m(){var e=(0,r.default)(["LiveLocation:response with no participants"]);return m=function(){return e},e}function b(){var e=(0,r.default)(["bin-recv: response,location"]);return b=function(){return e},e}var v={version:"15",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34},parseMsgStubProto:function(e,t){var a=l.WebMessageInfoStubType;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){var a=l.WebMessageInfoStubType;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(this.decodeJid):void 0,e.messageStubType){case a.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case a.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case a.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case a.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case a.VERIFIED_HIGH:t.subtype="verified_high";break;case a.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case a.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case a.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case a.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case a.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case a.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case a.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case a.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case a.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case a.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case a.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;default:t.templateParams=void 0}return t},subscribeLiveLocation:function(e,t){return new Promise((a,i)=>{var r=this.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);this.binSend("sendEphemeral",r,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var i=this.N.children(e),r={participants:[]};if(__LOG__(2)(b()),"response"===this.N.tag(e)&&"location"===this.N.attr("type",e)){var s=parseInt(this.N.attr("duration",e),10);if(r.duration=Number.isNaN(s)?void 0:s,!t||!Array.isArray(i))return t&&__LOG__(2)(m()),void a(r);for(var o=i.length,l=0;l<o;l++){var c=i[l],u=this.N.attr("jid",c),f=parseInt(this.N.attr("expiration",c),10),h=parseInt(this.N.attr("elapsed",c),10)||0,v=this.N.children(c);if("participant"===this.N.tag(c)&&u){var _={id:u,expiration:Number.isNaN(f)?void 0:f,elapsed:h};if(v){var E=(0,n.decodeProto)(d.MessageSpec,v).liveLocationMessage;E&&this.parseLiveLocationMessageProto(_,E)}_.lat&&_.lng?__LOG__(2)(g()):__LOG__(2)(p()),r.participants.push(_)}}a(r)}else a(r)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:["query,location",e,t].join(),metricName:"QUERY_LIVE_LOCATIONS"})})},unsubscribeLiveLocation:function(e){return new Promise((t,a)=>{var i=this.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);this.binSend("send",i,a,{clientCacheable:!0,onSend:this.wrap(t),onDrop:this.wrap(a)},{debugString:"action,location,unsubscribe,"+e,metricName:"LIVE_LOCATION"})})},queryActiveLiveLocation:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"location",kind:"participant",jid:e},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=this.N.children(e),i={participants:[]};if(__LOG__(2)(h()),"response"===this.N.tag(e)&&"location"===this.N.attr("type",e))if(Array.isArray(a)){for(var r=a.length,s=0;s<r;s++){var n=a[s],o=this.N.attr("jid",n),d=parseInt(this.N.attr("expiration",n),10);if("participant"===this.N.tag(n)&&o){var l={id:o,expiration:Number.isNaN(d)?void 0:d};i.participants.push(l)}}t(i)}else t(i);else t(i)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,location,participant,"+e,metricName:"QUERY_LIVE_LOCATIONS"})})},disableLiveLocation:function(e){return new Promise((t,a)=>{var i=this.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);this.binSend("send",i,a,{clientCacheable:!0,onSend:this.wrap(t),onDrop:this.wrap(a)},{debugString:"action,location,disable,"+e,metricName:"LIVE_LOCATION"})})},parseLocation:function(e){if("location"===this.N.tag(e)){var t=this.N.attr("type",e),a=this.N.attr("jid",e),i=this.N.attr("author",e),r=parseInt(this.N.attr("elapsed",e),10)||0,s=parseInt(this.N.attr("id",e),10)||0,o=this.N.children(e),l={type:t};switch(t){case"update":if(l.jid=a,l.elapsed=r,o){var c=(0,n.decodeProto)(d.MessageSpec,o).liveLocationMessage;c&&this.parseLiveLocationMessageProto(l,c)}l.type="update",l.lat&&l.lng?__LOG__(2)(f()):__LOG__(2)(u());break;case"disable":l.jid=i||a,l.chat=a,l.seq=s}return this.pruneUndefinedProps(l),this.dropIfConditionMet(["update"!==t&&"disable"!==t,!("update"!==t||a&&o),"disable"===t&&!a],l)}},binSend:function(e,t,a,i,r){var s=i.epochIneligible?a:e=>{this.epochRecv(),a(e)};return delete i.epochIneligible,this.BinaryProtocol.write(t).then(a=>{r.debugObj||(r.debugObj=t),r.metric=this.M[r.metricName],r.ackRequest=!1,i.data=a,i.binaryOpts=r,c.default[e](i)}).catch(s)}},_=(0,s.default)(v,o.default);t.default=_},ciaihgijjb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MediaStore=void 0;var r=i(a("dfadhaifh")),s=i(a("ffedgcdgj")),n=i(a("fhfbcdaib")),o=i(a("fheibeebe")),d=i(a("bcceihjgfi")),l=i(a("bhbdiadfhj")),c=i(a("bdcfcfbiaa")),u=i(a("fdbaacfc")),f=i(a("dgbehccfjg")),h=i(a("ccagafbad"));function p(){var e=(0,r.default)(["Failed to initialize media store! Falling back to dummy (no-op) storage. Error:\n",""]);return p=function(){return e},e}function g(){var e=(0,r.default)(["There was a security error attempting to open the media storage. This likely indicates a permissions error. Falling back to dummy (no-op) storage."],["There was a security error attempting to open the media storage. \\\nThis likely indicates a permissions error. Falling back to dummy \\\n(no-op) storage."]);return g=function(){return e},e}var m=Number.MAX_SAFE_INTEGER;class b{constructor(){this._getBackingStore=(0,n.default)((0,s.default)((function*(){try{var e=function(){if(l.default.supportsFeature(l.default.F.LRU_MEDIA_STORE)&&null!=u.default&&"caches"in self)return new f.default({name:"media_lru",maxSize:m,createArrayBufferStore:()=>new o.default("lru-media-array-buffer-cache")});if(l.default.supportsFeature(l.default.F.LRU_MEDIA_STORE)&&null!=u.default)return new f.default({name:"media_lru",maxSize:m,createArrayBufferStore:e=>new c.default(e)})}();if(null!=e)return yield e.open(),e}catch(e){"SecurityError"===e.name?__LOG__(3)(g()):(__LOG__(4,!0,new Error)(p(),(0,h.default)(e)),SEND_LOGS("Failed to initialize media store"))}return new d.default})))}get(e){var t=this;return(0,s.default)((function*(){return(yield t._getBackingStore()).get(e)}))()}queryByIndex(e,t){var a=this;return(0,s.default)((function*(){return(yield a._getBackingStore()).queryByIndex(e,t)}))()}getAll(){var e=this;return(0,s.default)((function*(){return(yield e._getBackingStore()).getAll()}))()}put(e,t){var a=this;return(0,s.default)((function*(){return(yield a._getBackingStore()).put(e,t)}))()}del(e){var t=this;return(0,s.default)((function*(){var a=yield t._getBackingStore();yield a.del(e)}))()}count(){var e=this;return(0,s.default)((function*(){return(yield e._getBackingStore()).count()}))()}clear(){var e=this;return(0,s.default)((function*(){var t=yield e._getBackingStore();yield t.clear()}))()}open(){var e=this;return(0,s.default)((function*(){var t=yield e._getBackingStore();yield t.open()}))()}close(){var e=this;return(0,s.default)((function*(){var t=yield e._getBackingStore();yield t.close()}))()}}t.MediaStore=b;var v=new b;t.default=v},cicaceaid:function(e,t){e.exports={read_more:"_2kMJX",readMore:"_2kMJX"}},cicdfhbegf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupAction=function(e,t,a){!function(e,t,a){var{action:i}=a;switch(a.action){case d.SUBJECT:var r={name:a.subject};return void e.contact.set(r);case d.ADD:case d.PROMOTE:case d.DEMOTE:var n=a.participants.map(e=>({id:e,isAdmin:"promote"===i}));return e.groupMetadata.participants.add(n,{merge:!0}),void("add"===i&&a.participants.forEach(t=>{s.default.trigger("group_participant_change_".concat(t.toString()),e.id)}));case d.REMOVE:var l=e.groupMetadata;return a.participants.forEach(e=>{l.participants.remove(e)}),void a.participants.forEach(t=>{s.default.trigger("group_participant_change_".concat(t.toString()),e.id)});case d.MODIFY:if(t&&a.participants&&a.participants.length>0){var c=a.participants[0],u=e.groupMetadata.participants.remove(t),f=!1,h=!1;u&&u.length&&u[0]&&(f=u[0].isAdmin,h=u[0].isSuperAdmin);var p={id:c,isAdmin:f,isSuperAdmin:h};e.groupMetadata.participants.add(p)}return;case d.INVITE_CODE:return void(a.code?e.groupMetadata.inviteCode=a.code:__LOG__(3)(o(),a.code,e.id.toString()));case d.DESC_ADD:return void e.groupMetadata.set({desc:a.desc,descId:a.descId,descTime:a.descTime,descOwner:t});case d.DESC_REMOVE:return void(e.groupMetadata.descId===a.descId&&e.groupMetadata.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0}));case d.RESTRICT:return void(e.groupMetadata.restrict=!!a.value);case d.ANNOUNCE:return void(e.groupMetadata.announce=!!a.value);case d.NO_FORWARD:return void(e.groupMetadata.noFrequentlyForwarded=!!a.value);case d.EPHEMERAL:e.groupMetadata.ephemeralDuration=a.duration}}((0,n.unproxy)(e),t,a)},t.GROUP_ACTIONS=void 0;var r=i(a("dfadhaifh")),s=i(a("djaadchjch")),n=a("cjfegjecaj");function o(){var e=(0,r.default)(["model:chat:handleGroupAction:invalid invite code: "," for ",""]);return o=function(){return e},e}var d=Object.freeze({SUBJECT:"subject",ADD:"add",PROMOTE:"promote",DEMOTE:"demote",REMOVE:"remove",MODIFY:"modify",INVITE_CODE:"invite",DESC_ADD:"desc_add",DESC_REMOVE:"desc_remove",RESTRICT:"restrict",ANNOUNCE:"announce",NO_FORWARD:"no_frequently_forwarded",EPHEMERAL:"ephemeral"});t.GROUP_ACTIONS=d},ciciefjgdd:function(e,t){e.exports={container:"_5k7sN",fullscreen:"d_ag6",youtubeContainer:"_1gQhH",blockYoutube:"_3o6Zk",videoControlsWrapper:"_2OZiA",strippedVideoControls:"_3Lxpi",opacityTransition:"_1m1vf",widgetsWrapper:"_3hHJb",dimmed:"_3Aq5S"}},cicjibbhdb:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=function(e){var t="live-location";e&&(t+="-active");var a=function(){switch(r.default.platform){case r.PLATFORMS.ANDROID:case r.PLATFORMS.SMBA:return"android";case r.PLATFORMS.IPHONE:case r.PLATFORMS.SMBI:case r.PLATFORMS.IPAD:case r.PLATFORMS.IPOD:return"iphone";case r.PLATFORMS.WP7:return"wp";default:return""}}();a&&(t+="-"+a);return t};var r=i(a("bjigbaghc"))},cidbhiefbi:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")).createContext(!1);t.default=r},ciddgidbcj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement(o.default,{name:d[e.sectionId]})},t.sectionIdToIcon=void 0;var s=r(a("ddhijeejag")),n=i(a("ciafdhcchg")),o=i(a("dgdcjccfdi")),d={[n.default.RECENT]:"panel-recent",[n.default.SMILEYS_PEOPLE]:"panel-emoji-people",[n.default.ANIMALS_NATURE]:"panel-emoji-nature",[n.default.FOOD_DRINK]:"panel-emoji-food",[n.default.ACTIVITY]:"panel-emoji-activity",[n.default.TRAVEL_PLACES]:"panel-emoji-travel",[n.default.OBJECTS]:"panel-emoji-objects",[n.default.SYMBOLS]:"panel-emoji-symbols",[n.default.FLAGS]:"panel-emoji-flags"};t.sectionIdToIcon=d},cieaaiahhf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("bjhaecbifc"),r=a("cajijabhgb");class s extends((0,i.customError)("MediaFileTooLarge",!0,r.MediaFileError)){constructor(e){super("File (".concat(e.type(),") size = ").concat(e.size())),this.opaqueData=e}}t.default=s},ciecdeibcj:function(e,t){e.exports={app:"_36Q2N","app-enter":"_8C8AD",appEnter:"_8C8AD",noAnimation:"_2SbG3",drawerManager:"_3Bog7",pane:"i5ly3",paneTwo:"_2l_Ww",paneThree:"_299go",paneOne:"_2NwAr"}},ciecgbcbhc:function(e,t){e.exports={actions:"_28ZHU",actionsBtn:"_2fS0O",noDivider:"_19umv"}},cifacjabhg:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=i(a("jagjbhcgf")),n=a("cddgfddjc");class o extends r.Component{render(){var{chat:e,onSelectMessages:t}=this.props;return r.createElement(s.default,{type:"dropdown_menu",key:"GroupMenuDropdown",flipOnRTL:!0,dirX:s.DirX.LEFT},(0,n.groupMenu)(e,t))}}t.default=o},cifgdghbhg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("jhiibdbh")),l=r(a("dbdfbgehgj")),c=r(a("ccbgfecegc")),u=r(a("gfebgebbi")),f=r(a("bhbdiadfhj")),h=r(a("bdjjabfecc")),p=r(a("dcdbbhicce")),g=r(a("djbfhebjhe"));function m(){var e=(0,s.default)(["Assertion failed!"]);return m=function(){return e},e}function b(e,t,a){var i;if(a){var r=l.default.get(a);i=r?r.formattedTitle:h.default.t(667)}return t?"".concat(e," · ").concat(h.default.t(1264)):i?"".concat(e," · ").concat(i):e}class v extends o.PureComponent{constructor(...e){super(...e),this.onClick=()=>{l.default.find(this.props.msg.sender).then(e=>{c.default.openChatFromUnread(e).then(t=>{t&&c.default.focusChatTextInput(e)})})}}render(){var{msg:e,chat:t,contact:a,disableClick:i,displaySelf:r,quotedRemoteJid:s,albumId:l}=this.props,c=t||e.chat;c||(__LOG__(4,!1,new Error)(m()),SEND_LOGS("author-with-no-chat"));var p,v=c?c.assignedColor(e.sender):1,_=i?null:this.onClick,E=(0,n.default)(d.default.author,"color-".concat(v),{[d.default.hoverable]:_});if(r)p=o.createElement(u.default,{text:b(h.default.t(1780),e.isStatusV3,s)});else if(a.name)p=[o.createElement(u.default,{text:b(a.name,e.isStatusV3,s),className:d.default.name,key:"author",onClick:_})];else if(p=[o.createElement("span",{className:d.default.number,role:_?"button":null,key:"".concat(e.id.toString(),"-number"),onClick:_},b((0,g.default)(a.id),e.isStatusV3,s))],!e.isStatusV3){var j,y="".concat(l||e.id.toString(),"-push-name");a.notifyName?j=a.notifyName:f.default.supportsFeature(f.default.F.CONTACT_HAS_PUSHNAME)&&(j=a.pushname),p.push(o.createElement(u.default,{className:d.default.screenName,key:y,onClick:_,direction:"auto",ellipsify:!0,text:j}))}return o.createElement("div",{className:E,role:this.props.role||""},p)}}v.CONCERNS={msg:["sender","chat","type","isLive","isStatusV3","id","quotedMsg"],contact:["id","name","notifyName","pushname"]};var _=(0,p.default)(v,v.CONCERNS);t.default=_},cifgfhieji:function(e,t){e.exports={result:"_2Hihv",selected:"_3czuM",slash:"_23EYd",shortcutPrefix:"GGnOa",shortcutSuffix:"_28Uwt",message:"_3SmHl"}},cifhabcfgj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SMILEYS_PEOPLE:["😀","😃","😄","😁","😆","😅","😂","🤣","☺️","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🤲","👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🤟","🤘","👌","🤏","👈","👉","👆","👇","☝️","✋","🤚","🖐️","🖖","👋","🤙","💪","🦾","🖕","✍️","🙏","🦶","🦵","🦿","💄","💋","👄","🦷","👅","👂","🦻","👃","👣","👁️","👀","🧠","🗣️","👤","👥","👶","👧","🧒","👦","👩","🧑","👨","👩‍🦱","🧑‍🦱","👨‍🦱","👩‍🦰","🧑‍🦰","👨‍🦰","👱‍♀️","👱‍♂️","👩‍🦳","🧑‍🦳","👨‍🦳","👩‍🦲","🧑‍🦲","👨‍🦲","🧔","👵","🧓","👴","👲","👳‍♀️","👳‍♂️","🧕","👮‍♀️","👮‍♂️","👷‍♀️","👷‍♂️","💂‍♀️","💂‍♂️","🕵️‍♀️","🕵️‍♂️","👩‍⚕️","🧑‍⚕️","👨‍⚕️","👩‍🌾","🧑‍🌾","👨‍🌾","👩‍🍳","🧑‍🍳","👨‍🍳","👩‍🎓","🧑‍🎓","👨‍🎓","👩‍🎤","🧑‍🎤","👨‍🎤","👩‍🏫","🧑‍🏫","👨‍🏫","👩‍🏭","🧑‍🏭","👨‍🏭","👩‍💻","🧑‍💻","👨‍💻","👩‍💼","🧑‍💼","👨‍💼","👩‍🔧","🧑‍🔧","👨‍🔧","👩‍🔬","🧑‍🔬","👨‍🔬","👩‍🎨","🧑‍🎨","👨‍🎨","👩‍🚒","🧑‍🚒","👨‍🚒","👩‍✈️","🧑‍✈️","👨‍✈️","👩‍🚀","🧑‍🚀","👨‍🚀","👩‍⚖️","🧑‍⚖️","👨‍⚖️","👰","🤵","👸","🤴","🦸‍♀️","🦸‍♂️","🦹‍♀️","🦹‍♂️","🤶","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🤱","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏","🧏‍♂️","🤦‍♀️","🤦‍♂️","🤷‍♀️","🤷‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖","🧖‍♂️","💅","🤳","💃","🕺","👯‍♀️","👯‍♂️","🕴️","👩‍🦽","🧑‍🦽","👨‍🦽","👩‍🦼","🧑‍🦼","👨‍🦼","🚶‍♀️","🚶","🚶‍♂️","👩‍🦯","🧑‍🦯","👨‍🦯","🧎‍♀️","🧎","🧎‍♂️","🏃‍♀️","🏃","🏃‍♂️","🧍‍♀️","🧍","🧍‍♂️","👫","👭","👬","👩‍❤️‍👨","👩‍❤️‍👩","👨‍❤️‍👨","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","🧶","🧵","🧥","🥼","🦺","👚","👕","👖","🩲","🩳","👔","👗","👙","👘","🥻","🩱","🥿","👠","👡","👢","👞","👟","🥾","🧦","🧤","🧣","🎩","🧢","👒","🎓","⛑️","👑","💍","👝","👛","👜","💼","🎒","🧳","👓","🕶️","🥽","🌂"],ANIMALS_NATURE:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🐛","🦋","🐌","🐞","🐜","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🐊","🐅","🐆","🦓","🦍","🦧","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩","🦮","🐕‍🦺","🐈","🐓","🦃","🦚","🦜","🦢","🦩","🕊️","🐇","🦝","🦨","🦡","🦦","🦥","🐁","🐀","🐿️","🦔","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🌱","🌿","☘️","🍀","🎍","🎋","🍃","🍂","🍁","🍄","🐚","🌾","💐","🌷","🌹","🥀","🌺","🌸","🌼","🌻","🌞","🌝","🌛","🌜","🌚","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌙","🌎","🌍","🌏","🪐","💫","⭐","🌟","✨","⚡","☄️","💥","🔥","🌪️","🌈","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","⛈️","🌩️","🌨️","❄️","☃️","⛄","🌬️","💨","💧","💦","☔","☂️","🌊","🌫️"],FOOD_DRINK:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🌽","🥕","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🥪","🥙","🧆","🌮","🌯","🥗","🥘","🥫","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🍯","🥛","🍼","☕","🍵","🧃","🥤","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽️","🥣","🥡","🥢","🧂"],ACTIVITY:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🥅","⛳","🪁","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️","⛹️","⛹️‍♂️","🤺","🤾‍♀️","🤾","🤾‍♂️","🏌️‍♀️","🏌️","🏌️‍♂️","🏇","🧘‍♀️","🧘","🧘‍♂️","🏄‍♀️","🏄","🏄‍♂️","🏊‍♀️","🏊","🏊‍♂️","🤽‍♀️","🤽","🤽‍♂️","🚣‍♀️","🚣","🚣‍♂️","🧗‍♀️","🧗","🧗‍♂️","🚵‍♀️","🚵","🚵‍♂️","🚴‍♀️","🚴","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],TRAVEL_PLACES:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🦯","🦽","🦼","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋","⛩️","🛤️","🛣️","🗾","🎑","🏞️","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙️","🌃","🌌","🌉","🌁"],OBJECTS:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🧰","🔧","🔨","⚒️","🛠️","⛏️","🔩","⚙️","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","⚱️","🏺","🔮","📿","🧿","💈","⚗️","🔭","🔬","🕳️","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪒","🧽","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🛌","🧸","🖼️","🛍️","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","🧧","✉️","📩","📨","📧","💌","📥","📤","📦","🏷️","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","🧾","📊","📈","📉","🗒️","🗓️","📆","📅","🗑️","📇","🗃️","🗳️","🗄️","📋","📁","📂","🗂️","🗞️","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🧷","🔗","📎","🖇️","📐","📏","🧮","📌","📍","✂️","🖊️","🖋️","✒️","🖌️","🖍️","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],SYMBOLS:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","♾️","💲","💱","™️","©️","®️","👁️‍🗨️","🔚","🔙","🔛","🔝","🔜","〰️","➰","➿","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","💬","💭","🗯️","♠️","♣️","♥️","♦️","🃏","🎴","🀄","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],FLAGS:["🏳️","🏴","🏴‍☠️","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🇺🇳","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇨🇻","🇧🇶","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇸🇿","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇰🇵","🇲🇰","🇲🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇻🇮","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🇺🇸","🏴󠁵󠁳󠁴󠁸󠁿","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]}},cigadgcjhc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ebddggeaib"));class o extends s.PureComponent{constructor(...e){super(...e),this._setRefInput=e=>{this._refInput=e},this._handleClick=e=>{e.stopPropagation()},this._handleChange=e=>{this.props.onChange(e)}}open(){this._refInput&&this._refInput.click()}render(){return s.createElement("input",{accept:this.props.mimes,ref:this._setRefInput,type:"file",multiple:!0,style:{display:"none"},onClick:this._handleClick,onChange:this._handleChange})}}var d=(0,n.default)(o);t.default=class extends d{open(){return this.getComponent().open()}}},ciggdfcagg:function(e,t){e.exports={container:"_1FXrP",icon:"_1asbg",iconHighlyForwarded:"_3bMi7",text:"_3TlZN"}},ciggibedij:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){var e;r.default.supportsFeature(r.default.F.MD_BACKEND)?e||(e=Promise.reject(new Error("Should not reach here"))):e=s.default.queryServerProps();return e};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},cighbcgfig:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("dbjacfjdhg")),d=r(a("ebfffgeaff")),l=a("ebjaejiaba"),c=r(a("eachhbdced")),u=r(a("ccbgfecegc")),f=r(a("cddfegbdha")),h=r(a("dfhahadejg")),p=r(a("bdcagghfei")),g=r(a("jheedhagg")),m=r(a("ccfehggbjf")),b=r(a("bdjjabfecc")),v=r(a("ebddggeaib")),_=a("cdfejjabfa"),E=r(a("ebibaajhjh")),j=r(a("dfgdeffjcd")),y=r(a("bdcchebfge")),S=r(a("biecbbiiee")),C=r(a("cahfddcdga")),M=r(a("dacjcbhhhd")),T=i(a("dcdiaahjj")),P=i(a("bjhgigfbec")),O=r(a("hicdbdjjg"));function N(){var e=(0,s.default)(["ChatActionListener:onAttachMediaDrawer fileOrigin is not specified, fallback to default"]);return N=function(){return e},e}class I extends n.Component{constructor(...e){super(...e),this.onChatInfoDrawer=(e,t)=>{u.default.openDrawerRight(n.createElement(m.default,{chat:e,key:"info-".concat(e.id.toString()),showFullGroupDescription:t}),"slide-left",this.props.uim)},this.onLiveLocationDrawer=(e,t)=>{e.liveLocation&&e.liveLocation.active||u.default.openDrawerRight(n.createElement(_.LiveLocationDrawerLoadable,{chat:e,openFrom:t,isFirstLevel:!0}),"slide-left",this.props.uim)},this.onExpiredLocationDrawer=e=>{u.default.openDrawerRight(n.createElement(_.ExpiredLocationDrawerLoadable,{msg:e}),"slide-left",this.props.uim)},this.onMsgInfoDrawer=e=>{T.default.displayInfo===T.StreamInfo.NORMAL?e.chat.kind===l.CHAT_KIND.CHAT?u.default.openDrawerRight(n.createElement(f.default,{msg:e}),"slide-left",this.props.uim):u.default.openDrawerRight(n.createElement(p.default,{msg:e}),"slide-left",this.props.uim):u.default.openToast(n.createElement(P.default,{msg:b.default.t(933),id:(0,P.genId)("msg_info_failed")}))},this.onAttachMediaDrawer=({chat:e,attachments:t,animationName:a,initCaption:i,onComplete:r,fileOrigin:s})=>{var l=()=>{var a=e.attachMediaContents;a&&t&&(s?a.processAttachments(t,s):(__LOG__(3)(N()),a.processAttachments(t,y.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)))};u.default.existsDrawerMid(t=>{if(t)l();else{e.attachMediaContents||e.setAttachMediaContents(new o.default({chatParticipantCount:e.getParticipantCount()}));var s=(0,C.default)(e.attachMediaContents,"chat.attachMediaContents");u.default.openDrawerMid(n.createElement(d.default,{chat:e,onComplete:r,initCaption:i,mediaCollection:s}),a||"slide-up",this.props.uim,{noFocus:!0,onEnterAnimationComplete:l})}})},this.onChatSearch=e=>{u.default.openDrawerRight(n.createElement(c.default,{chat:e}),"slide-left",this.props.uim)},this.onMediaViewer=e=>{var{msg:t,getZoomNode:a,currentTime:i,highlightedMsgIds:r}=e;S.default.get(t.id)?u.default.openModalMedia(n.createElement(j.default,{msg:t,startTime:i,getZoomNode:a,highlightedMsgIds:r}),{transition:"media-viewer",uim:this.props.uim}):u.default.openModal(n.createElement(E.default,{msg:t}))},this.onEphemeralDrawer=e=>{u.default.openDrawerRight(n.createElement(h.default,{chat:e,fromInfoFlow:!1}),"slide-left",this.props.uim)},this.onVoipStartGroupCall=(e,t)=>{var a=e.groupMetadata.participants.map(e=>e.contact.id),i=n.createElement(M.default,{isVideo:t,groupParticipants:a,onStartGroupCall:e=>O.default.groupCallStart(e,t)});u.default.openModal(i,{transition:"modal-flow"})}}componentDidMount(){var{listeners:e}=this.props;e.add(u.default,"chat_info_drawer",this.onChatInfoDrawer),e.add(u.default,"msg_info_drawer",this.onMsgInfoDrawer),e.add(u.default,"chat_search",this.onChatSearch),e.add(u.default,"attach_media_drawer",this.onAttachMediaDrawer),e.add(u.default,"live_location_drawer",this.onLiveLocationDrawer),e.add(u.default,"media_viewer_modal",this.onMediaViewer),e.add(u.default,"expired_location_drawer",this.onExpiredLocationDrawer),e.add(u.default,"ephemeral_drawer",this.onEphemeralDrawer),e.add(u.default,"voip_start_group_call",this.onVoipStartGroupCall)}render(){return null}}var A=(0,g.default)((0,v.default)(I));t.default=A},cihbhcbfj:function(e,t){e.exports={emojiSearch:"_2Or4s",searchBody:"_3Xw3f",positioningContainer:"_2Wm79",overlayContainer:"_2OFSn",resultsContainer:"_1GFtu",mediaCaption:"_3TuBX",emojiInput:"_2TG1M"}},cihffbbgjc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t,a){var i;s.default.supportsFeature(s.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=n.default.sendConversationPin(e,t,a).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e});return i};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},cihghiacbi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.hasBusinessNameVerificationChanged=function(){var e=Promise.resolve(!1);r.default.supportsFeature(r.default.F.MD_BACKEND)||(e=Promise.reject("hasBusinessNameVerificationChanged: not supported without md backend"));return e},t.getAllVerifiedNames=function(){var e=Promise.resolve([]);r.default.supportsFeature(r.default.F.MD_BACKEND)||(e=Promise.reject(new Error("getAllVerifiedNames: not supported without md backend")));return e},t.createOrUpdateVerifiedBusinessName=function(){var e;if(r.default.supportsFeature(r.default.F.MD_BACKEND)){if(!e)return Promise.reject(new Error("createOrUpdateVerifiedBusinessName: not supported for non MD"))}else e=Promise.reject("createOrUpdateVerifiedBusinessName: not supported without md backend");return e};var r=i(a("bhbdiadfhj"))},cihjfgjegj:function(e,t){e.exports={intro:"_27KDP",body:"_3tBOo",title:"_3BDr5",text:"_2cf_o",image:"_1eQ6b",textContainer:"_2jGan",mdImageWrapper:"_18sKN",mdImage:"ayFW-",secondary:"_1ER6A",divider:"_3wLtC",secondaryText:"_3OzgN",secondaryTextBody:"_1ktbZ",secondaryIcon:"F3YJ2"}},ciidaeaiaj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bhicbecjj")),o=i(a("ccbgfecegc")),d=i(a("gfebgebbi")),l=a("ddbdgibbbi"),c=i(a("bdjjabfecc")),u=a("habihjdae"),f=i(a("fjgaiebfh")),h=i(a("deeafjfccb")),p=i(a("chjacghehi")),g=i(a("cdhhibdghc")),m=i(a("biibicegh")),b=i(a("cjgdgbgbj")),v=i(a("dgfgceghic"));class _ extends s.PureComponent{constructor(...e){super(...e),this.openOrderView=e=>{e&&e.stopPropagation();var{msg:t}=this.props,{orderId:a,sellerJid:i,token:r}=t;if(null!=a&&null!=i&&null!=r){var n=(0,l.getMaybeMeUser)(),d=t.sender.equals(n),c=n.toString()===i,f=(new m.default).toString();c&&(0,u.logOrderMessageClick)(f,a),null!=t.orderId&&o.default.openDrawerRight(s.createElement(b.default,{orderId:a,token:r,userIsCartOwner:d,sellerJid:i,sessionId:f}),"slide-left")}}}render(){var{displayAuthor:e,msg:t}=this.props,a=s.createElement(d.default,{text:t.message,dirMismatch:t.rtl!==c.default.isRTL(),direction:t.dir,inferLinesDirection:!0}),i=s.createElement("div",{className:p.default.meta},s.createElement(h.default,{msg:t})),r=s.createElement(n.default,{items:[{label:c.default.t(1077),onClick:this.openOrderView}]});return s.createElement(v.default,{msg:t,displayAuthor:e,hideMeta:!0},s.createElement("div",{className:p.default.orderPreview},s.createElement(g.default,{msg:t.unsafe(),onClick:this.openOrderView})),s.createElement(f.default,{msg:t.unsafe(),"data-id":t.id,className:p.default.messageText},a,i),r)}}t.default=_},cijdifebhj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement(n.default,{primary:e.row.title,secondary:e.row.description,theme:"list-msg",onClick:e.onSelect,detail:s.createElement(o.default,{checked:e.selected,hover:!1,radio:!0,onChange:e.onSelect,systemUncheckedColor:!0})})};var s=r(a("ddhijeejag")),n=i(a("cefccdiabc")),o=i(a("cfghjdjcgg"))},cijgjjjjhf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bjiiedjejh",7)).then(e=>e.default),"AttachProductsFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(1249),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},cijhjbiigc:function(e,t){e.exports={image:"ZGnpf",default:"kF__I",container:"_1sv0R",hasBorder:"_3PdFH",square:"_1c3y-"}},cjabddhidj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgcgbfbffj")),n=r(a("ebjaejiaba")),o=r(a("dbdfbgehgj")),d=r(a("dfjfgdhbjj")),l=a("ddbdgibbbi"),c=r(a("djaadchjch")),u=i(a("bgeajihhc"));class f extends s.default{constructor(e,t){super(),this.stale=!1,this.add(e,{silent:!0}),this.contact=t,this.listenTo(c.default,"group_participant_change_".concat((0,l.getMaybeMeUser)().toString()),this.updateCommonGroups),this.listenTo(c.default,"group_participant_change_".concat(this.contact.toString()),this.updateCommonGroups),this.listenTo(u.default,"change:stream",()=>{u.default.stream===u.STREAM.DISCONNECTED&&(this.stale=!0)})}updateCommonGroups(e){var t=c.default.assertGet(e).participants,a=(0,l.getMaybeMeUser)();this.get(e)?t.get(this.contact)&&t.get(a)||this.remove(e):t.get(this.contact)&&t.get(a)&&this.add(o.default.assertGet(e))}}t.default=f,f.model=n.default,f.comparator=d.default},cjacebhafj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a;s.default.supportsFeature(s.default.F.MD_BACKEND)?a||(a=Promise.reject(new Error("Should not reach here"))):a=n.default.addOrRemoveLabels(e,t).then(e=>{if(200!==e.status)return Promise.reject(new r.ServerStatusCodeError(e.status))});return a};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},cjafajdgce:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("hgigjbgie")),l=r(a("jjhbchhce")),c=i(a("cajijabhgb")),u=r(a("djaiggcdb")),f=i(a("dgjacfgggf")),h=r(a("bhbcdbjdeg")),p=r(a("bdjjabfecc")),g=r(a("ebddggeaib")),m=r(a("jecdfjfjh")),b=a("igiffibee"),v=r(a("dhccahhefj")),_=r(a("dgdcjccfdi")),E=r(a("edbaidcaf"));class j extends o.PureComponent{constructor(e){super(e),this.updateImgSrcUrl=e=>{var t=e.height+50,a="color:red|"+e.lat+", "+e.lng,i=e.lat+", "+e.lng,r=e.width+"x"+t,n=l.default.currentRes===l.default.RES.HIGH?2:1,o=p.default.getLocale(),u=E.default.GSM_NAME,h=E.default.build(d.default.G_MAPS_IMG_URL,(0,s.default)({zoom:15,size:r,scale:n,language:o,client:u},e.showMarker?{markers:a}:{center:i}));this.lastURL!==h&&(this.lastURL=h,E.default.gsmURL(h,E.default.GSM_NUMS).checkpoint(e.rejectOnUnmount()).then(e=>{this.setState({imgSrcUrl:e,hiResAvail:f.isCached(e)})}).catchType(c.Unmount,()=>{}))},this.onImgLoaded=()=>{this.state.hiResAvail||this.setState({hiResAvail:!0}),this.props.onLoad&&this.props.onLoad()},this.state={imgSrcUrl:null,hiResAvail:!1},this.updateImgSrcUrl(e)}componentDidMount(){this.props.listeners.add(window,"dpichange",()=>this.updateImgSrcUrl(this.props))}componentDidUpdate(){this.updateImgSrcUrl(this.props)}render(){var{lat:e,lng:t,name:a,width:i,height:r,className:s,linkify:d}=this.props,l={pointerEvents:"none",width:i,height:this.state.hiResAvail?void 0:r},c=(0,n.default)(s,{[m.default.hidden]:!this.state.hiResAvail}),f=this.state.hiResAvail?null:o.createElement(_.default,{name:"map-placeholder",display:"inline"}),p=o.createElement(h.default,{src:this.state.imgSrcUrl||"",className:c,style:l,hasPrivacyChecks:!1,onLoad:this.onImgLoaded,noXHR:!0});return d?o.createElement(u.default,{href:(0,b.getMapUrl)(e,t,a),className:m.default.container},f,p):o.createElement("span",{className:m.default.container},f,p)}}j.defaultProps={linkify:!0,showMarker:!0};var y=(0,g.default)((0,v.default)(j));t.default=y},cjafhagbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){var t=Promise.resolve();s.default.supportsFeature(s.default.F.MD_BACKEND)||(t=n.default.msgCreateRecord(e).then(e=>200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e));return t};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},cjahggceac:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.canSendType=le,t.downloadMsg=function(e,t,a,i,r){var{mediaObject:s}=e;return s?s.getPendingProcess("fromDisk").then(()=>(t&&s.userDownloadAttemptCount++,T.downloadMedia({mimetype:e.mimetype,mediaObject:s,downloadEvenIfExpensive:a,mediaType:(0,S.msgToMediaType)({type:e.type,isGif:e.isGif,subtype:e.subtype}),rmrReason:i,rmrData:r,downloadOrigin:ce(e),isVcardOverMmsDocument:e.isVcardOverMmsDocument}).then(()=>{s.userDownloadAttemptCount=0}))):(__LOG__(4,!1,new Error)(se(),e.id.toString(),e.type),SEND_LOGS("media-fault: downloadMsg msg without mediaObject"),Promise.resolve())},t.cancelDownloadMsg=function(e){e.mediaObject?T.cancelDownloadMedia(e.mediaObject):e.mediaObject||(__LOG__(4,!1,new Error)(re(),e.id.toString(),e.type),SEND_LOGS("media-fault: cancelDownloadMsg msg without mediaObject"))},t.prepRawMedia=function(e,t){var a;__LOG__(1)(ie()),a=t.isPtt?y.OUTWARD_TYPES.PTT:t.asDocument?y.OUTWARD_TYPES.DOCUMENT:t.asGif?y.OUTWARD_TYPES.VIDEO:t.isAudio?y.OUTWARD_TYPES.AUDIO:y.OUTWARD_TYPES.UNKNOWN;var i=Promise.resolve(e).then(e=>(e.autoreleaseWhenPromiseCompletes(i),(0,I.default)(e,t)));return new de(a,i)},t.forwardMediaMsg=function(e,t,a=!1){__LOG__(1)(ae());var i=e.mediaObject;if(!i)return __LOG__(4,!1,new Error)(te(),e.id.toString(),e.type),SEND_LOGS("media-fault: forwardMediaMsg msg without mediaObject"),Promise.reject("non initialized media");var r=e.mediaData.toJSON();r.preview&&(r.preview=i.contentInfo._preview);r.mediaBlob&&r.mediaBlob.retain();var s=r.isGif?{isGif:!0}:{};r.type===y.OUTWARD_TYPES.PTT&&(r.type=y.OUTWARD_TYPES.AUDIO);var n={businessOwnerJid:e.businessOwnerJid,productId:e.productId,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount,title:e.title,description:e.description};return new de(r.type,Promise.resolve(r)).sendToChat(t,{forwardedFromWeb:!0,caption:r.type===y.OUTWARD_TYPES.DOCUMENT?e.caption:void 0,addEvenWhilePreparing:!0,placeholderProps:s,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:a,productMsgOptions:n}).then(t=>{var a;r.type===y.OUTWARD_TYPES.STICKER&&new M.default.StickerSend({stickerSendOrigin:M.default.STICKER_SEND_ORIGIN_TYPE.FORWARD,stickerIsAnimated:Boolean(null===(a=e.mediaData)||void 0===a?void 0:a.isAnimated)}).commit();return t})},t.cancelUploadMsg=function(e){e.mediaObject?(0,P.cancelUploadMedia)(e.mediaObject):(__LOG__(4,!1,new Error)(ee(),e.id.toString(),e.type),SEND_LOGS("media-fault: cancelUploadMsg msg without mediaObject"))},t.resumeUploadMsg=function(e){var{mediaObject:t}=e;if(!t)return __LOG__(4,!1,new Error)($(),e.id.toString(),e.type),SEND_LOGS("media-fault: resumeUploadMsg msg without mediaObject"),Promise.resolve();t.userUploadAttemptCount++;var a=(0,P.uploadMedia)({mimetype:e.mimetype,mediaObject:t,mediaType:(0,S.msgToMediaType)({type:e.type,isGif:e.isGif}),forwardedFromWeb:Boolean(e.forwardedFromWeb),uploadOrigin:ue(e.chat)}).then(({mediaEntry:a})=>{if(!a)throw new Error("upload failed: media entry was not created");t.userUploadAttemptCount=0;var i={clientUrl:a.mmsUrl,directPath:a.directPath,mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp,filehash:t.filehash,uploadhash:a.uploadHash,size:t.size,streamingSidecar:a.sidecar,firstFrameSidecar:a.firstFrameSidecar};return ve(e,i).then(()=>e)});return(0,R.sendMsgToChat)(e.chat,a).catch(()=>{e.ack=u.default.ACK.FAILED})},t.mediaMetadata=function(e){var t=e.mediaObject;if(!t)throw __LOG__(4,!1,new Error)(Z(),e.id.toString(),e.type),SEND_LOGS("media-fault: mediaMetadata msg without mediaObject"),new Error("msg.mediaMetadata with no mediaObject");var a=t.entries.getEntryByUploadHash(e.uploadhash);if(!a)throw __LOG__(4,!1,new Error)(X(),e.id.toString(),e.type),SEND_LOGS("media-fault: mediaMetadata no entry"),new Error("msg.mediaMetadata with entry mismatch");var i=e.mediaData;return{url:a.mmsUrl,directPath:a.directPath,encFilehash:a.uploadHash,mediaKey:a.mediaKey,mediaKeyTimestamp:a.mediaKeyTimestamp,filehash:e.filehash,type:i.type,mimetype:i.mimetype,filename:i.filename,duration:i.duration,width:i.fullWidth,height:i.fullHeight,firstFrameLength:i.firstFrameLength,isAnimated:i.isAnimated,thumbnailDirectPath:e.thumbnailDirectPath,thumbnailSha256:e.thumbnailSha256,thumbnailEncSha256:e.thumbnailEncSha256,thumbnailHeight:e.thumbnailHeight,thumbnailWidth:e.thumbnailWidth}},t.videoStreamingInfo=function(e){var t=e.mediaObject;return t?t.videoStreamingInfo(e.id.toString()):null},t.manuallySetMedia=function({msg:e,media:t,rmrReason:a}){var i=e.mediaObject;if(!i)return;N.default.createFromData(t,e.mimetype).then(t=>{T.manuallySetMedia({mimetype:e.mimetype,mediaObject:i,mediaBlob:t,mediaType:(0,S.msgToMediaType)({type:e.type,isGif:e.isGif}),rmrReason:a,downloadOrigin:ce(e)})})},t.clearMediaForChat=function(e){j.clearMediaForChat(e)},t.prepareMsg=function(e){var t=e.mediaObject;if(t)return t.resolveWhenConsolidated();var a=e.mediaData,i=a.preview;return!i||void 0!==a.aspectRatio||void 0!==a.fullWidth&&void 0!==a.fullHeight?Promise.resolve():(0,C.getImageWidthHeight)(i).then(({width:t,height:a})=>{e.mediaObject||e.mediaData.set({aspectRatio:t/a})})},t.registerMsgEarly=function(e,t){e.isUnsentPhoneMsg()&&(__LOG__(4,!1,new Error)(J(),e.id.toString(),e.type),SEND_LOGS("media-fault: registerMsgEarly msg without mediaObject"));for(var a={},i=0;i<y.MEDIA_MSG_PROPS.length;i++){var r=y.MEDIA_MSG_PROPS[i],s=t[r];a[r]=void 0!==s?s:e[r]}a.mimetype||a.type!==y.OUTWARD_TYPES.IMAGE||(t.mimetype=a.mimetype="image/jpeg");e.on(oe,fe),pe(e,a,M.default.WEBC_RMR_REASON_CODE.MSG_UPDATE);for(var n={},o=0;o<y.MSG_SPECIFIC_FIELDS.length;o++){var d=y.MSG_SPECIFIC_FIELDS[o];n[d]=a[y.MEDIA_TO_MSG[d]]}e.mediaData.set(n)},t.registerMsg=function(e){e.mimetype||e.type!==y.OUTWARD_TYPES.IMAGE||(e.mimetype="image/jpeg");e.mimetype||e.type!==y.OUTWARD_TYPES.STICKER||(e.mimetype="image/webp");e.on(oe,fe),he(e,M.default.WEBC_RMR_REASON_CODE.MSG_INIT)},t.deregisterMsg=function(e){e.off(null,fe);var t=e.mediaObject;t&&j.disassociateMediaFromMsg(t,e)},t.registerSticker=function(e){_e(e,e.mediaObject||function(e){if(!e.filehash)return __LOG__(4,!1,new Error)(V()),void SEND_LOGS("sticker-filehash-error");var t=j.getOrCreateMediaObject(e.filehash);return j.associateMediaWithSticker(t,e),t}(e),S.default.STICKER)},t.deregisterSticker=function(e){var{mediaObject:t}=e;t&&j.disassociateMediaFromSticker(t,e)},t.registerStickerPackIcon=function(e){_e(e,e.mediaObject||function(e){if(!e.filehash)return __LOG__(4,!1,new Error)(B()),void SEND_LOGS("sticker-pack-filehash-error");var t=j.getOrCreateMediaObject(e.filehash);return j.associateMediaWithStickerPack(t,e),t}(e),S.default.IMAGE)},t.deregisterStickerPackIcon=function(e){var{mediaObject:t}=e;t&&j.disassociateMediaFromStickerPack(t,e)},t.downloadStickerOrStickerPackIcon=function(e,t){if(e.isPlaceholder)return e.mediaData.mediaStage=_.default.STAGE.PREPARING,Promise.resolve();var a=e.mediaObject;if(!a)return Promise.reject(new Error("media-fault: downloadStickerOrStickerPackIcon sticker/stickerPack without mediaObject"));if(a.downloadStage===y.DOWNLOAD_STAGE.RESOLVED)return Promise.resolve();var i="STICKER"===t?M.default.WEBC_RMR_REASON_CODE.STICKER_PANEL_STICKER:M.default.WEBC_RMR_REASON_CODE.STICKER_PANEL_ICON;return a.getPendingProcess("fromDisk").then(()=>{if(!(e.clientUrl&&e.filehash&&e.mediaKey&&e.uploadhash))return f.default.rmr({mediaObject:a,signal:(new l.default).signal,rmrReason:i})}).then(()=>T.downloadMedia({mimetype:e.mimetype,mediaObject:e.mediaObject,downloadEvenIfExpensive:!0,mediaType:(0,S.msgToMediaType)({type:e.type,isGif:!1}),rmrReason:i,downloadOrigin:M.default.DOWNLOAD_ORIGIN_TYPE.STICKER_PICKER,shouldThrow:!0}))},t.prepSticker=function(e){__LOG__(1)(F());var t=e.mediaObject,a=e.mediaData.toJSON();if(a.fullWidth=125,a.fullHeight=125,!t)return __LOG__(4,!1,new Error)(U(),e.id),SEND_LOGS("media-fault: prepSticker sticker without mediaObject"),new de(a.type,Promise.reject("non initialized media"));return new de(a.type,Promise.resolve(a))},t.uploadProductImage=function(e,t){return(0,p.blobToArrayBuffer)(e.forceToBlob()).then(e=>b.default.unencryptedUpload({file:e,hash:t,signal:(new l.default).signal,type:S.default.PRODUCT_CATALOG_IMAGE,uploadOrigin:M.default.UPLOAD_ORIGIN_TYPE.PRODUCT_CATALOG})).then(e=>new URL(e.directPath,"https://mmg.whatsapp.net").toString())},t.MediaPrep=void 0;var s=r(a("ffedgcdgj")),n=r(a("cdfdfciehj")),o=r(a("dfadhaifh")),d=r(a("cgeeeeddea")),l=r(a("cgeedcdffb")),c=r(a("cfadcbbiie")),u=r(a("hgigjbgie")),f=r(a("dfiiijedcb")),h=i(a("cajijabhgb")),p=a("cgffhfegce"),g=a("ddbdgibbbi"),m=r(a("bhbdiadfhj")),b=r(a("decbdehic")),v=r(a("eceibhbeff")),_=r(a("dcjigehfeb")),E=r(a("cfhdefdegg")),j=i(a("biiigbhida")),y=a("ccfjbcbbga"),S=i(a("bihjffdjjj")),C=a("bccggdcfj"),M=r(a("bdcchebfge")),T=i(a("bjdchgaiie")),P=a("dgabcebcia"),O=r(a("cffajefeag")),N=r(a("dcdjgccech")),I=r(a("fhfcaggag")),A=r(a("ibfdghaig")),w=r(a("cfejjfjhca")),R=a("cgddafdgie"),D=a("dgbddfjdhi"),L=r(a("bfgbdiffgd")),k=a("cjfegjecaj"),x=a("dgeebjciej"),G=a("dffjhcaahi");function U(){var e=(0,o.default)(["id: ",""]);return U=function(){return e},e}function F(){var e=(0,o.default)(["Prepping sticker"]);return F=function(){return e},e}function B(){var e=(0,o.default)(["Unexpected sticker pack with no filehash"]);return B=function(){return e},e}function V(){var e=(0,o.default)(["Unexpected sticker with no filehash"]);return V=function(){return e},e}function H(){var e=(0,o.default)(["upload failed: thumbnail data incomplete\nDebug info:",""],["upload failed: thumbnail data incomplete\\nDebug info:",""]);return H=function(){return e},e}function W(){var e=(0,o.default)(["Assertion failed!"]);return W=function(){return e},e}function K(){var e=(0,o.default)(["Media:sendToChat error\nresult: ","\nuploadStage: ","\nuploadResultKind: ","\nerror: ",""],["Media:sendToChat error\\nresult: ","\\nuploadStage: ","\\nuploadResultKind: ","\\nerror: ",""]);return K=function(){return e},e}function Y(){var e=(0,o.default)(["Assertion failed!"]);return Y=function(){return e},e}function q(){var e=(0,o.default)(["Media:sendToChat chat ",""]);return q=function(){return e},e}function z(){var e=(0,o.default)(["media:msg "," "," filehash"]);return z=function(){return e},e}function Q(){var e=(0,o.default)(["id: "," type: ",""]);return Q=function(){return e},e}function J(){var e=(0,o.default)(["id: "," type: ",""]);return J=function(){return e},e}function X(){var e=(0,o.default)(["id: "," type: ",""]);return X=function(){return e},e}function Z(){var e=(0,o.default)(["id: "," type: ",""]);return Z=function(){return e},e}function $(){var e=(0,o.default)(["id: "," type: ",""]);return $=function(){return e},e}function ee(){var e=(0,o.default)(["id: "," type: ",""]);return ee=function(){return e},e}function te(){var e=(0,o.default)(["id: "," type: ",""]);return te=function(){return e},e}function ae(){var e=(0,o.default)(["Prepping media msg"]);return ae=function(){return e},e}function ie(){var e=(0,o.default)(["Prepping raw media"]);return ie=function(){return e},e}function re(){var e=(0,o.default)(["id: "," type: ",""]);return re=function(){return e},e}function se(){var e=(0,o.default)(["id: "," type: ",""]);return se=function(){return e},e}function ne(){var e=(0,o.default)(["Assertion failed!"]);return ne=function(){return e},e}var oe="change:phoneUploading change:ack ".concat(y.MEDIA_MSG_PROPS.map(e=>"change:".concat(e)).join(" "));class de{constructor(e,t){this._baseType=e,this._mediaData=new _.default({mediaStage:y.STAGE.PREPARING}),this._prepwork=t.then(e=>{if(this._mediaData.set(e),!e.filehash)return e.mediaBlob||(__LOG__(4,!1,new Error)(ne()),SEND_LOGS("media-fault: no hash or blob")),(0,x.getHash)(e.mediaBlob).then(e=>{this._mediaData.filehash=e})},e=>(this._mediaData.mediaStage=y.STAGE.ERROR_UNSUPPORTED,Promise.reject(e)))}sendToChat(e,t){return Promise.callSynchronously(be,null,this,e,t)}waitForPrep(){return this._prepwork.then(()=>{var e=this._mediaData;return le(e.type)?e:Promise.reject(new h.CapabilityUnsupported)})}}function le(e){switch(e){case y.OUTWARD_TYPES.IMAGE:return m.default.supportsFeature(m.default.F.ENC_IMAGE);case y.OUTWARD_TYPES.VIDEO:return m.default.supportsFeature(m.default.F.ENC_VIDEO);case y.OUTWARD_TYPES.PTT:case y.OUTWARD_TYPES.AUDIO:return m.default.supportsFeature(m.default.F.ENC_AUDIO);case y.OUTWARD_TYPES.DOCUMENT:return m.default.supportsFeature(m.default.F.ENC_DOC);default:return!0}}function ce(e){return e.asProduct?M.default.DOWNLOAD_ORIGIN_TYPE.PRODUCT_CATALOG:e.isStatusV3?M.default.DOWNLOAD_ORIGIN_TYPE.STATUS_USER:e.isGroupMsg?M.default.DOWNLOAD_ORIGIN_TYPE.CHAT_GROUP:M.default.DOWNLOAD_ORIGIN_TYPE.CHAT_PERSONAL}function ue(e){return e?(0,k.unproxy)(e).isGroup?M.default.UPLOAD_ORIGIN_TYPE.CHAT_GROUP:M.default.UPLOAD_ORIGIN_TYPE.CHAT_PERSONAL:M.default.UPLOAD_ORIGIN_TYPE.UNKNOWN}function fe(e){he(e,M.default.WEBC_RMR_REASON_CODE.MSG_UPDATE)}function he(e,t){if(e.isUnsentPhoneMsg()){e.mediaObject&&(__LOG__(4,!1,new Error)(Q(),e.id.toString(),e.type),SEND_LOGS("media-fault: consolidateMediaUpdate unsent message"));var a=ge(e);if(a.hasOwnProperty("preview")){var i=a.preview;delete a.preview,i&&N.default.createFromBase64Jpeg(i).then(t=>{e&&e.mediaData&&e.isUnsentPhoneMsg()&&(e.mediaData.preview=t)})}e.mediaData.set((0,n.default)((0,n.default)({},a),{},{mediaStage:e.phoneUploading?y.STAGE.REMOTE_UPLOADING:y.STAGE.REMOTE_NEED_UPLOAD}))}else pe(e,e,t)}function pe(e,t,a){var i=ge(t),r=e.mediaObject,s=t.filehash;if(r)s&&s!==r.filehash&&(__LOG__(2)(z(),e.id.toString(),r.filehash?"changed":"added"),j.disassociateMediaFromMsg(r,e),r=j.getOrCreateMediaObject(s),e.mediaObject=r,j.associateMediaWithMsg(r,e));else{r=s?j.getOrCreateMediaObject(s):new E.default;var n=e.mediaData;void 0!==n.aspectRatio&&(i.aspectRatio=n.aspectRatio),e.mediaObject=r,j.associateMediaWithMsg(r,e)}var o=!1,{clientUrl:d,mediaKey:l,mediaKeyTimestamp:c,uploadhash:u,type:f,streamingSidecar:h,firstFrameSidecar:p,directPath:g,scansSidecar:m,scanLengths:b}=t;if(d){var v,_=~S.MEDIA_TYPE_VALUES.indexOf(f)?f:null;(o=!r.entries.has(u))?l&&u&&_?v=r.entries.addEntry({url:d,mediaKey:l,mediaKeyTimestamp:c,uploadHash:u,type:_,sidecar:h,directPath:g,firstFrameSidecar:p,scansSidecar:m,scanLengths:b}):o=!1:l&&(v=r.entries.updateEntry({url:d,mediaKey:l,mediaKeyTimestamp:c,uploadHash:u,type:_,sidecar:h,directPath:g,firstFrameSidecar:p,scansSidecar:m,scanLengths:b})),v||(o=!1),o&&r.downloadStage===y.DOWNLOAD_STAGE.ERROR_MISSING&&(i.downloadStage=y.DOWNLOAD_STAGE.INIT)}if(r.consolidate(i)||r.notifyMsgsAsync(),o&&r.downloadStage===y.DOWNLOAD_STAGE.NEED_POKE){var C;try{C=(0,S.msgToMediaType)({type:e.type,isGif:e.isGif})}catch(a){if(!t.type)throw a;C=(0,S.msgToMediaType)({type:t.type,isGif:e.isGif})}T.downloadMedia({mimetype:t.mimetype,mediaObject:r,downloadEvenIfExpensive:!1,mediaType:C,rmrReason:a,downloadOrigin:ce(e)})}}function ge(e){var t={};return y.MAPPED_MSG_PROPS.forEach(a=>{var i=e[a],r=y.MSG_TO_MEDIA[a];t[r]=i}),t}function me(e,t){return"product"===t.type?M.default.DOWNLOAD_ORIGIN_TYPE.PRODUCT_CATALOG:(0,k.unproxy)(e).isGroup?M.default.DOWNLOAD_ORIGIN_TYPE.CHAT_GROUP:M.default.DOWNLOAD_ORIGIN_TYPE.CHAT_PERSONAL}function be(e,t,a){__LOG__(2)(q(),t.id.toString());var i,r,o=a.caption,l=a.quotedMsg?a.quotedMsg.msgContextInfo(t.id):{},f=(0,g.getMaybeMeUser)(),h=a.productMsgOptions||{};if(!t.isUser&&m.default.supportsFeature(m.default.F.MD_BACKEND),L.default.ephemeralMessages){t.isEphemeralSettingOn()&&(i=t.getEphemeralSetting());var p=t.getEphemeralSettingTimestamp();null!=p&&(r=p)}var b,_,E,I=(0,n.default)({t:c.default.globalUnixTime(),from:f,isNewMsg:!0,to:t.id,self:"out",type:e._baseType,ack:u.default.ACK.CLOCK,local:!0,id:new O.default({from:f,to:t.id,id:(0,w.default)(),participant:void 0,selfDir:"out"}),caption:o,quotedMsg:l.quotedMsg,quotedParticipant:l.quotedParticipant,quotedStanzaID:l.quotedStanzaID,quotedRemoteJid:l.quotedRemoteJid,mentionedJidList:a.mentionedJidList,isForwarded:a.isForwarded,forwardingScore:a.forwardingScore,multicast:a.multicast,forwardedFromWeb:a.forwardedFromWeb,ctwaContext:a.ctwaContext,ephemeralDuration:i,ephemeralSettingTimestamp:r},h),k=e.waitForPrep().then(e=>{var t=e.mediaBlob;return!t||t instanceof N.default?Promise.resolve(e):N.default.createFromData(t,t.type).then(t=>(e.mediaBlob=t,e))}).then(e=>{var i=e.filehash;i||(__LOG__(4,!1,new Error)(Y()),SEND_LOGS("media-fault: sendToChat filehash undefined"));var r=j.getOrCreateMediaObject(i),s=r.mediaBlob;if(s&&(s.retain(),e.mediaBlob&&e.mediaBlob.autorelease(),e.mediaBlob=s),e.mediaBlob&&(e.renderableUrl=e.mediaBlob.url()),r.consolidate(e.toJSON()),e.mediaBlob&&e.mediaBlob.autorelease(),(0,C.shouldUseMediaCache)((0,S.castToV4)(r.type))&&e.mediaBlob){var n=e.mediaBlob.formData();v.default.put(i,n)}T.downloadMedia({mimetype:e.mimetype,mediaObject:r,downloadEvenIfExpensive:!0,mediaType:(0,S.msgToMediaType)({type:e.type,isGif:e.isGif}),rmrReason:M.default.WEBC_RMR_REASON_CODE.SEND_TO_CHAT,downloadOrigin:me(t,I)});var d=r.msgProps(e);return d.caption=o,o||e.type!==y.OUTWARD_TYPES.DOCUMENT||(d.caption=e.filename),L.default.viewOnceWrite&&a.isViewOnce&&(d.isViewOnce=!0),d});function x(){return G.apply(this,arguments)}function G(){return(G=(0,s.default)((function*(e){b=e;var{mediaObject:a}=e;a||(__LOG__(4,!1,new Error)(W()),SEND_LOGS("media-fault: incorrect media object for created msg")),(0,d.default)(a,"msg is missing mediaObject");var i=(0,S.msgToMediaType)({type:e.type,isGif:e.isGif}),r=a.entries.getUploadEntry(),s=r?{key:r.mediaKey,timestamp:r.mediaKeyTimestamp}:(0,A.default)(),{mediaData:o}=e,{fullPreviewData:l,fullPreviewSize:c}=o,u=l&&Ee(i),f=l&&u?je(e,l,i,s):Promise.resolve(null),h=(0,P.uploadMedia)({mimetype:e.mimetype,mediaObject:a,mediaType:i,forwardedFromWeb:Boolean(e.forwardedFromWeb),uploadOrigin:ue(t),mediaKeyInfo:s}),[{kind:p,mediaEntry:g},m]=yield Promise.all([h,f]),v=null==m?void 0:m.uploadMediaResult.mediaEntry;if(_=p,!g)throw new Error("upload failed: media entry was not created");var E={};if(u){if(!(v&&m&&c))throw __LOG__(4,!1,new Error)(H(),JSON.stringify({thumbnailResultEntry:v,uploadThumbnailResult:m,fullPreviewSize:c})),SEND_LOGS("mms-thumbnail-data-incomplete"),new Error("upload failed: thumbnail data incomplete");E={thumbnailDirectPath:v.directPath,thumbnailSha256:m.filehash,thumbnailEncSha256:v.uploadHash,thumbnailHeight:c.height,thumbnailWidth:c.width}}return ve(b,(0,n.default)({clientUrl:g.mmsUrl,directPath:g.directPath,mediaKey:g.mediaKey,mediaKeyTimestamp:g.mediaKeyTimestamp,filehash:a.filehash,uploadhash:g.uploadHash,size:a.size,streamingSidecar:g.sidecar,firstFrameSidecar:g.firstFrameSidecar},E))}))).apply(this,arguments)}if(a.addEvenWhilePreparing){var U=a.placeholderProps||{};E=(0,R.addAndSendMsgToChat)(t,(0,n.default)((0,n.default)({},U),I),e=>(b=e,k.then(e=>ve(b,e)).then(()=>x(b))))[1]}else{var F=k.then(e=>{var t=a.useBasePropsType?I.type:e.type;return(0,n.default)((0,n.default)((0,n.default)({},I),e),{},{type:t})});E=(0,R.addAndSendMsgToChat)(t,F,x)[1]}return E.then(e=>({result:e,error:null})).catch(e=>({result:null,error:e})).then(({result:e,error:t})=>{var a,i;if(e===D.SendMsgResult.OK)return D.SendMsgResult.OK;var r=null===(a=b)||void 0===a||null===(i=a.mediaObject)||void 0===i?void 0:i.uploadStage;if(__LOG__(3)(K(),e,r,_,String(t)),b&&(b.ack=u.default.ACK.FAILED),_===P.UploadMediaResultKind.CANCELLATION)return D.SendMsgResult.ERROR_CANCELLED;switch(r){case y.UPLOAD_STAGE.NEED_UPLOAD:case y.UPLOAD_STAGE.ERROR_TOO_LARGE:return D.SendMsgResult.ERROR_UPLOAD;case y.UPLOAD_STAGE.ERROR_MISSING:return D.SendMsgResult.ERROR_EXPIRED}return _===P.UploadMediaResultKind.ERROR?D.SendMsgResult.ERROR_UPLOAD:null!=e?e:D.SendMsgResult.ERROR_UNKNOWN})}function ve(e,t){return(0,G.updateLocal)(e.id,t).then(()=>{e.set(t)})}function _e(e,t,a){var i,r,s=(i=e,r={},y.MAPPED_STICKER_PROPS.forEach(e=>{var t=i[e],a=y.MSG_TO_MEDIA[e];r[a]=t}),r);if(e.mediaData.set(s),t){e.mediaObject=t;var n=e.uploadhash;if(n&&!t.entries.has(n))t.entries.addEntry({url:e.clientUrl,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,uploadHash:n,type:a,directPath:e.directPath})&&t.downloadStage===y.DOWNLOAD_STAGE.ERROR_MISSING&&(s.downloadStage=y.DOWNLOAD_STAGE.INIT);t.consolidate(s)}}function Ee(e){return m.default.supportsFeature(m.default.F.UPLOAD_DOCUMENT_THUMB_MMS)&&e===S.default.DOCUMENT}function je(){return ye.apply(this,arguments)}function ye(){return(ye=(0,s.default)((function*(e,t,a,i){var{chat:r}=e,s=new E.default,n=yield(0,x.getHash)(t);return s.filehash=n,s.mediaBlob=t,(0,P.uploadMedia)({mimetype:"image/jpeg",mediaObject:s,mediaType:"thumbnail-document",forwardedFromWeb:Boolean(e.forwardedFromWeb),uploadOrigin:ue(r),mediaKeyInfo:i}).then(e=>({uploadMediaResult:e,filehash:n}))}))).apply(this,arguments)}t.MediaPrep=de},cjajfebfaj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dciiiaffba"));class s extends r.default{}t.default=s},cjbhjhdaeh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("daghjjjedc")),o=i(a("caaadefbib")),d=i(a("ebddggeaib"));class l extends s.Component{constructor(...e){super(...e),this.state={selected:this.props.selections.isSelected(this.props.model)||!!this.props.checked},this.onSelectChange=e=>{this.state.selected!==e&&this.setState({selected:e})}}componentDidMount(){this.props.listeners.add(this.props.selections,this.props.model.id.toString(),this.onSelectChange)}render(){var{children:e,disabled:t}=this.props;return s.createElement("div",{className:o.default.checkboxSelectableWrapper},s.createElement("div",{className:o.default.checkboxSelectableControl},s.createElement(n.default,{onChange:()=>{},checked:this.state.selected,disabled:t})),e)}}var c=(0,d.default)(l);t.default=c},cjbjcbajdj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cjiffdegaj")),d=r(a("dgdcjccfdi"));class l extends n.PureComponent{render(){return n.createElement("div",{className:(0,s.default)(o.default.button,{[o.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},this.props.isFullscreenMode?n.createElement(d.default,{name:"video-exit-fullscreen"}):n.createElement(d.default,{name:"video-fullscreen"}))}}t.default=l},cjbjidhbde:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgebcfedgb")),o=i(a("bdjjabfecc")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{constructor(...e){super(...e),this.pin=()=>{var{chat:e,onPinOrUnpin:t}=this.props;t(!e.pin)}}render(){var{chat:e,disabled:t}=this.props;return s.createElement(n.default,{a8n:"mi-pin",action:this.pin,key:"PinChat",disabled:t},null!=e.pin&&0!==e.pin?o.default.t(1329):o.default.t(1092))}}l.CONCERNS={chat:["pin"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},cjcabiggfd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cfjdfebffb")),n=r(a("fiaeffdce")),o=r(a("dhgeffcgbg")),d=r(a("ggaecchcd")),l=r(a("ceffhbhahb")),c=i(a("ddhijeejag")),u=r(a("djegeegcbf")),f=r(a("dicggaeied")),h=r(a("ciafdhcchg")),p=r(a("dhfbfehaef")),g=r(a("dbjhicjigf")),m=r(a("bdjjabfecc")),b=r(a("ecdffdifib")),v=r(a("bjfecgfdgj")),_=r(a("cbaiicibei")),E=i(a("ccaihiiddc")),j=r(a("didfdhbecg"));class y extends c.PureComponent{constructor(...e){super(...e),this._fastScroll=!1,this._scrollFromAnimation=!1,this._scrollFromFocus=!1,this._lastScrollTop=this.props.displayCache.scrollTop,this._lastSectionId=this.props.displayCache.sectionId,this.state={scrolledToTop:0===this.props.displayCache.scrollTop,searchText:this.props.defaultSearchText||"",showSearchInput:this.props.displayCache.showSearchInput},this._handleEmojiFocus=(e,t)=>{this._scrollFromFocus=!0,this._scrollFromFocusHandlerTimeoutID&&clearTimeout(this._scrollFromFocusHandlerTimeoutID),this._scrollFromFocusHandlerTimeoutID=setTimeout(()=>{this._scrollFromFocus=!1},200);var a=t.scrollTop,i=e.getBoundingClientRect().top-t.getBoundingClientRect().top+a,r=i-t.clientHeight+e.clientHeight+2,s=this.state.showSearchInput?i-E.TOTAL_SEARCH_HEIGHT:i-2;t.scrollTop=(0,d.default)(a,r,s)},this._handleListFocusAbove=()=>{this._focusSearchAndScrollToTop()},this._handleListScroll=e=>{var t=e-this._lastScrollTop;if(this._lastScrollTop=e,!this._scrollFromFocus&&!this._scrollFromAnimation&&!this._checkScrollTop()){var a=Math.abs(t);this._fastScroll=a>15;var i=t>=0?1:-1,r=0===e;e<E.TOTAL_SEARCH_HEIGHT?this.setState({scrolledToTop:r,showSearchInput:!0}):a<5||(this.state.showSearchInput?1===i&&this.setState({scrolledToTop:r,showSearchInput:!1}):-1===i&&this.setState({scrolledToTop:r,showSearchInput:!0}))}},this._handleListSection=e=>{this._scrollFromAnimation||(this._lastSectionId=e,this.props.onSection(e))},this._handleSearchResultsFocusAbove=()=>{this._focusSearchAndScrollToTop()},this._handleSearchChange=(e,t)=>{this.props.onChange&&this.props.onChange(e,t),this.setState({searchText:e})},this._handleSearchDownKey=()=>{if(this.state.searchText){if(!this._refSearchResults)return;this._refSearchResults.focusFirstVisibleEmoji()}else this._refScrollList&&this._refScrollList.focusFirstVisibleEmoji(E.TOTAL_SEARCH_HEIGHT)},this._handleSearchEnterKey=()=>{this.state.searchText&&this._refSearchResults&&this._refSearchResults.selectFirstVisibleEmoji()},this._handleShiftTabKey=e=>{if(e.preventDefault(),e.stopPropagation(),this._refSearchInput)return this._refSearchInput.hasFocus()?void this.props.onFocusPrev():this.focusSearchInput()},this._handleTabKey=e=>{if(e.preventDefault(),e.stopPropagation(),this._refSearchInput)return this._refSearchInput.hasFocus()?void this.props.onFocusNext():this.focusSearchInput()},this._setRefSearchInput=e=>{this._refSearchInput=e},this._setRefScrollList=e=>{this._refScrollList=e},this._setRefSearchResults=e=>{this._refSearchResults=e},this._getSectionListDataMemoized=(0,b.default)(({sectionIds:e})=>e.map(e=>({sectionId:e,emojis:"RECENT"===e?(0,s.default)(v.default.reduce((e,t)=>{var a=u.default.getSkinToneBase(t.id)||t.id;return null!=u.default.getGlyphIdFromUnicode(a)&&e.push(a),e},[])):u.default.getEmojiListInCategory(e)})),(e,t)=>e.sectionIds===t.sectionIds||(0,o.default)(e.sectionIds,t.sectionIds)),this._getSearchResultsDataMemoized=(0,b.default)(({searchText:e})=>[{sectionId:h.default.SEARCH_RESULT,emojis:(0,f.default)((0,n.default)(e))}])}componentWillUnmount(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,sectionId:this._lastSectionId,showSearchInput:this.state.showSearchInput})}focusSearchInput(e){if(!this._refSearchInput)return this._fastScroll=!0,void this.setState({showSearchInput:!0},()=>this.focusSearchInput(!0));this._refSearchInput.focus(e)}scrollToSection(e){return this._lastSectionId=e,new Promise(e=>{this._fastScroll=!0,this.setState({searchText:"",showSearchInput:!0},e)}).then(()=>{this._scrollFromAnimation=!0;var t=this._refScrollList?this._refScrollList.scrollToSection(e,0-E.TOTAL_SEARCH_HEIGHT):Promise.resolve();return t.finally(()=>{t===this._animationPromise&&(this._scrollFromAnimation=!1,this._checkScrollTop()||this.state.showSearchInput&&this.setState({scrolledToTop:0===this._lastScrollTop}))}),this._animationPromise=t,t})}_checkScrollTop(){var e=0===this._lastScrollTop;return e&&this.setState({scrolledToTop:e,showSearchInput:!0}),e}_focusSearchAndScrollToTop(){this._scrollFromFocus=!0,this._scrollFromFocusHandlerTimeoutID&&clearTimeout(this._scrollFromFocusHandlerTimeoutID),this._scrollFromFocusHandlerTimeoutID=setTimeout(()=>{this._scrollFromFocus=!1},200),this.focusSearchInput(),this._refScrollList&&this._refScrollList.scrollToTop()}_stopEvent(e){e.preventDefault(),e.stopPropagation()}render(){return c.createElement(p.default,{handlers:{tab:this._handleTabKey,"shift+tab":this._handleShiftTabKey}},c.createElement("div",{className:g.default.bodyContainer},this._renderSearchInput(),this._renderSearchResults(),c.createElement("div",{className:(0,l.default)(g.default.list,{[g.default.hidden]:!!this.state.searchText})},c.createElement(E.default,{data:this._getSectionListData(),width:this.props.width,initialScrollTop:this.props.displayCache.scrollTop,searchInputVisible:this.state.showSearchInput,focusAbove:this._handleListFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,onScroll:this._handleListScroll,onSection:this._handleListSection,ref:this._setRefScrollList,showTitles:!0}))))}_renderSearchInput(){var e=null;this.state.showSearchInput&&(e=c.createElement(_.default,{label:m.default.t(1196),onChange:this._handleSearchChange,onDownKey:this._handleSearchDownKey,onEnterKey:this._handleSearchEnterKey,ref:this._setRefSearchInput,shadow:!this.state.scrolledToTop,value:this.state.searchText||""}));var t=this._fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return c.createElement(j.default,{transitionName:t,className:g.default.search},e)}_renderSearchResults(){return this.state.searchText?c.createElement("div",{className:g.default.list},c.createElement(E.default,{data:this._getSearchResultsData(),width:this.props.width,initialScrollTop:0,searchInputVisible:!0,focusAbove:this._handleSearchResultsFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,ref:this._setRefSearchResults,showTitles:!1})):null}_getSectionListData(){return this._getSectionListDataMemoized({sectionIds:this.props.sectionIds})}_getSearchResultsData(){var e=(this.state.searchText||"").replace(/^\s+/,"");return this._getSearchResultsDataMemoized({searchText:e})}}t.default=y},cjcghajbag:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductCollection=t.PRODUCT_REVIEW_STATUS=void 0;var r=i(a("cgcgbfbffj")),s=i(a("idbcfjbae")),n={NO_REVIEW:"NO_REVIEW",PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED",OUTDATED:"OUTDATED"};t.PRODUCT_REVIEW_STATUS=n;class o extends r.default{getProductModels(e=[n.APPROVED]){var t=super.toArray();if(super.length<1)return t;var a=super.head();return a&&a.catalogWid?super.filter(t=>e.includes(t.reviewStatus)&&!t.old):t}add(e,t){var a=t?super.add(e,t):super.add(e);return this.sort(),a}}t.ProductCollection=o,o.model=s.default,o.comparator=function(e,t){return e.index-t.index};var d=o;t.default=d},cjcghdgaab:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("dgdjiicfdg")),n=a("ddbdgibbbi"),o=a("hjbbdjjdf"),d=i(a("bgeajihhc"));function l(){var e=(0,r.default)(["create group tag"]);return l=function(){return e},e}var c={createGroup:function(e,t,a,i,r,c,u){return new Promise((f,h)=>{var p=d.default.tag(),g=this.wrap(f);g.tag=p;var m=t.map(e=>["participant",{jid:e},void 0]);(0,o.isString)(a)&&(0,o.isString)(i)&&m.unshift(["description",{id:i},a]),r&&m.unshift(["locked",void 0,void 0]),c&&m.unshift(["announcement",void 0,void 0]),null!=u&&0!==u&&m.unshift(["ephemeral",{value:u.toString()},void 0]),__LOG__(2)(l());var b=["group",{id:p,type:"create",author:(0,n.getMaybeMeUser)(),subject:e},m],v=this.actionNode("set",[b]);this.binSend("send",v,h,{clientCacheable:!0,onSend:g,onDrop:this.wrap(h)},{debugString:"action,group,create",metricName:"GROUP",expires:(0,s.default)().unix()})})}};t.default=c},cjchbadddj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("djfeeacgad");t.default=class{constructor(e){this.ship=e=>{var t=this.bitmap;if(t){var a=Date.now();a>this.lastActiveInMS&&(this.bitmapLength=Math.min(64,Math.ceil(a/1e3-this.startTimeInSec)));var i={sessionId:this.sessionId,startTime:this.startTimeInSec,bitmap:t,bitmapLen:this.bitmapLength,sessionSeq:this.sequenceId,sessionCum:this.cumulativeBitsSet};(e||this.loggingCallback)(i),this.timer.cancel(),this.bitmap=null}},this.loggingCallback=e,this.timer=new i.ShiftTimer(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}_initSession(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=Math.floor(2147483648*Math.random()).toString(36)}_initArray(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;this.timer.debounceAndCap(64e3,64e3)}_doUpdate(e){var t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=64)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}update(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}shipAndEndSession(e){this.ship(e),this._initSession()}}},cjciachhej:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t){return function e(t,a){var{promises:i}=t;if(i.sendClear)return i.sendClear;var r=t.getLastMsgKeyForAction(),s=r?t.msgs.get(r):void 0,f=i.sendClear=(0,d.sendClear)(t,r,a),p=new o.ActionType(u.default.t(34)),g=f.then(()=>new o.ActionType(u.default.t(33))).catchType(c.ServerStatusCodeError,e=>{if(e.status>=400)return new o.ActionType(u.default.t(32))}).catch(()=>(__LOG__(3)(h()),new o.ActionType(u.default.t(32),u.default.t(174),()=>e(t,a))));return l.default.openToast(n.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:p,pendingAction:g})),f.then(e=>{e._duplicate||t.deleteMsgsBeforeMsgInclusive(s,a)}).catchType(c.ServerStatusCodeError,()=>{}).finally(()=>{i.sendClear=null})}((0,f.unproxy)(e),t)};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=a("dbbggghaed"),l=r(a("ccbgfecegc")),c=a("bgihjbde"),u=r(a("bdjjabfecc")),f=a("cjfegjecaj");function h(){var e=(0,s.default)(["models:chat:sendClear dropped"]);return h=function(){return e},e}},cjddiecjhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({encFilehash:e,directPath:t,hosts:a,operation:i,type:d}){if(!a.length)return{selectedHost:null,fallbackHost:null};var l,c,u,f,h=!1;if(i===o.DOWNLOAD){var p=a[0],g=t?t.match(/&_nc_hot=([0-9]+)/):null,m=parseInt(g&&g[1],10),b=isNaN(m)?null:Date.now()-m;null!=n.CAT_HOST_TIMESPAN&&n.CAT_HOST_TIMESPAN>0&&(d===s.default.STICKER||null!=b&&b<=n.CAT_HOST_TIMESPAN)?l=1:n.MMS_VCA_ENABLED&&null!=n.MAX_BUCKETS&&(l=(0,r.default)(e,n.MAX_BUCKETS)+100),null!=l&&(c=a[l]),null!=c&&c.supportsDownloadMediaType(d)?u=c:p.supportsDownloadMediaType(d)?u=p:h=!0}for(var v=0;v<a.length;v++){var _=a[v];if(_.isFallback()&&null==f&&(f=_,h)){u=_;break}if(i===o.UPLOAD?null==u&&_.supportsUploadMediaType(d)&&(u=_):null==u&&_.supportsDownloadMediaType(d)&&(u=_),null!=u&&null!=f)break}return{selectedHost:u,fallbackHost:f}},t.OPERATIONS=void 0;var r=i(a("bgaigbgdgj")),s=i(a("bihjffdjjj")),n=a("cefeabhhda"),o={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"};t.OPERATIONS=o},cjdeegaibc:function(e,t){e.exports={mentionsResult:"_1sxlk",selected:"_2fBWi",mediaCaption:"_26c7X",textContact:"_2zlCc",textPushname:"_24DLO",resultImage:"_17Ipr"}},cjdehcabei:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendCallOfferBridge=function(e){var t;r.default.supportsFeature(r.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=e.payload[2].find(e=>"enc"===e[0])?s.default.sendCallOffer(e):s.default.sendGroupCallOffer(e);return t},t.sendCallSignalingMsgBridge=function(e){var t;r.default.supportsFeature(r.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=s.default.sendCallSignalingMsg(e);return t},t.sendQueryCallBridge=function(e,t){var a;r.default.supportsFeature(r.default.F.MD_BACKEND)?a||(a=Promise.reject(new Error("Should not reach here"))):a=s.default.queryCall(e,t);return a},t.sendCallEndBridge=function(e,t){var a;r.default.supportsFeature(r.default.F.MD_BACKEND)?a||(a=Promise.reject(new Error("Should not reach here"))):a=s.default.sendCallEnd(e,t);return a},t.sendEncRekeyBridge=function(e){var t;r.default.supportsFeature(r.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=s.default.sendCallSignalingMsg(e);return t},t.prepareRetryReceiptBridge=function(e){var t;r.default.supportsFeature(r.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=Promise.resolve(e);return t};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},cjdgedgdgf:function(e,t){e.exports={item:"_1MZWu"}},cjecagehda:function(e,t,a){"use strict";function i(e,t,a){return t.reduce((t,r)=>(t.push(function(e,t,a){if(t.type){var{value:r}=t;switch(t.type){case"text":return e.onText(r,a);case"delimiter":return e.onDelimiter(r,a);default:throw new Error("Invalid node type")}}return e.onMutator(t.mutator,i(e,t.children,a),t.match[5],t.opts,a)}(e,r,a)),t),[])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return e.onRoot(i(e,t.children,a),a)}},cjedbbhjhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bgfcjjddjf")),s=i(a("ejiicdbii")),n=i(a("biaifggagf")),o=i(a("ejegihaeh")),d=i(a("dbdfbgehgj")),l=i(a("ebcagbhefg")),c=i(a("dhigahgdjb")),u=i(a("ccbihadedf")),f=i(a("dfbhcehadj")),h=i(a("djaadchjch")),p=i(a("bijffg")),g=i(a("cdcijfdgje")),m=i(a("biecbbiiee")),b=i(a("eigdejjai")),v=i(a("dagdiahdfi")),_=i(a("cjfjiidcae")),E=i(a("ebbjbbjjg")),j=i(a("dhefcajhhb")),y=i(a("bechejbabh")),S=i(a("bjfecgfdgj")),C=i(a("jdigiabic")),M=i(a("dfgeejdaib")),T=i(a("djfhiceeje")),P=i(a("difbicaihd")),O=i(a("gbbacfeci")),N=i(a("bgcdajbhif")),I=i(a("dhjffabgfb")),A=i(a("fagbfehid")),w=i(a("ifiehebcb")),R={Blocklist:r.default,BusinessProfile:s.default,Call:n.default,Catalog:o.default,Chat:d.default,ChatPreference:l.default,Contact:c.default,ConversionTuple:u.default,EmojiVariant:f.default,GroupMetadata:h.default,Label:p.default,LiveLocation:g.default,Msg:m.default,MsgInfo:b.default,Mute:v.default,Order:_.default,Presence:E.default,ProfilePicThumb:j.default,QuickReply:y.default,RecentEmoji:S.default,RecentSticker:C.default,StarredGifMsg:M.default,StarredMsg:T.default,StarredSticker:P.default,Status:O.default,StatusV3:N.default,Sticker:I.default,StickerPack:A.default,StickerSearch:w.default};t.default=R},cjeffdedac:function(e,t){e.exports={updateWrapper:"Rglyo",updateTitle:"_3vZbg",uploadButtons:"_1LWvj",buttonContainer:"_7-PgB",buttonIcon:"_1H1mk",outStatusPanel:"_3W62N",outDetail:"XTdur",seen:"_1rFct",timestamp:"_31Cl3",placeholderIcon:"_2VV9C",placeholderText:"_3begu",viewWrapper:"_3dENp",viewTitle:"_2MyeZ",viewUpdates:"_1t5me",statusImage:"_2McvD",iconSeen:"SvRea",seenCount:"Sgg91"}},cjegdbihch:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t,a,n){var o=e.match(s),d=o&&o[1];if(null==d)return null;var l=(0,r.phoneCC)(a),c="whatsapp"===t?"":(0,r.phoneCC)(t),u=n.map(e=>e.toLowerCase());return(0,i.findSuspiciousCharacters)(d,c,l,u)};var i=a("fjehahjbc"),r=a("biciedabid"),s=/^(?:https?:\/\/)?([^/?#]+)(?:[/?#]|$)/i},cjeibbeacf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cjfjihehdb")),o=i(a("daigbafceb")),d=i(a("cifgdghbhg")),l=i(a("ccbgfecegc")),c=(i(a("hgigjbgie")),i(a("dcjigehfeb"))),u=i(a("ebibaajhjh")),f=i(a("cbehejfaji")),h=i(a("bdcchebfge")),p=r(a("chcgcbaffe")),g=i(a("dcdbbhicce")),m=a("cjfegjecaj"),b=i(a("dgdcjccfdi"));class v extends s.PureComponent{constructor(e){super(e),this.showMediaMissing=()=>{l.default.openModal(s.createElement(u.default,{msg:this.props.msg.unsafe()}))},this.downloadMedia=()=>{this.props.msg.downloadMedia(!1,h.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},this._forceDownloadMedia=()=>{this.props.msg.downloadMedia(!0,h.default.WEBC_RMR_REASON_CODE.MSG_CLICK)},this.cancelDownload=()=>{this.props.msg.cancelDownload()},this.cancelUpload=()=>{this.props.msg.cancelUpload()},this.resumeUpload=()=>{this.props.msg.resumeUpload()},this.resumeRemoteUpload=()=>{this.props.msg.resumeRemoteUpload()},this.downloadUnsupportedToDesktop=e=>{e&&e.stopPropagation(),l.default.openModal(s.createElement(f.default,{msg:(0,m.unproxy)(this.props.msg.unsafe())}))},this.handleTimeUpdate=e=>{this.setState({currentTime:e})},this.handlePlayingUpdate=e=>{this.setState({autoPlay:!1,playing:e})},this.state={currentTime:0,playing:!1,autoPlay:!1}}componentDidMount(){this.downloadMedia()}render(){var e,t=this.props.msg,a=this.props.mediaData,i=this.state.playing?this.state.currentTime:a.duration;switch(a.mediaStage){case c.default.STAGE.RESOLVED:e=s.createElement(p.default,{mediaData:this.props.mediaData,downloadMedia:this.downloadMedia,duration:i,playing:this.state.playing,played:!0,autoPlay:!1,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:t.isSentByMe,displayType:this.props.displayType});break;case c.default.STAGE.NEED_POKE:e=s.createElement(p.AudioPlayerFrame,{icon:s.createElement(b.default,{name:"audio-download"}),outgoingMsg:t.isSentByMe,action:this._forceDownloadMedia});break;case c.default.STAGE.NEED_UPLOAD:e=s.createElement(p.AudioPlayerFrame,{icon:s.createElement(b.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeUpload});break;case c.default.STAGE.REMOTE_NEED_UPLOAD:e=s.createElement(p.AudioPlayerFrame,{icon:s.createElement(b.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeRemoteUpload});break;case c.default.STAGE.ERROR_MISSING:e=s.createElement(p.AudioPlayerFrame,{icon:s.createElement(b.default,{name:"audio-play",directional:!0}),outgoingMsg:t.isSentByMe,action:this.showMediaMissing});break;default:e=s.createElement(p.AudioPlayerFrame,{outgoingMsg:t.isSentByMe,spinner:!0})}var r=s.createElement("div",{className:n.default.icon},s.createElement(b.default,{name:"audio-file"})),l=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?s.createElement(d.default,{msg:t.unsafe(),contact:t.senderObj}):null;return s.createElement(o.default,{msg:t,quotedMsg:this.props.quotedMsg,author:l,player:e,avatar:r,displayType:this.props.displayType})}}v.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj"],mediaData:["duration","type","mediaStage","renderableUrl"]};var _=(0,g.default)(v,v.CONCERNS);t.default=_},cjfbdacifh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bcjcjgchcc"));class o extends s.Component{componentDidMount(){}render(){var{children:e}=this.props;return s.createElement("div",{className:n.default.container}," ",e," ")}}t.default=o},cjfeddifcd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=!1){if(0===e.length)return"";var a=e[0];if(1===e.length)return a;var i=e[e.length-1];if(2===e.length)return function(e,t,a=!1){return a?n.default.t(952,d(e,t)):s.createElement(o.default,{id:952,params:{A:e,B:t}})}(a,i,t);var r=e[1],l=e.slice(2,e.length-1);return function(e,t,a,i,r=!1){var l=[r?n.default.t(951,d(e,t)):s.createElement(o.default,{id:951,key:"listItem_firstItem",params:{A:e,B:t}})],c=a.reduce((e,t,a)=>[r?n.default.t(949,d(t,e)):s.createElement(o.default,{id:949,key:"listItem_".concat(a),params:{A:t,B:e}})],l);return r?n.default.t(949,d(c,i)):s.createElement(o.default,{id:950,params:{A:c,B:i}})}(a,r,l,i)};var s=r(a("ddhijeejag")),n=i(a("bdjjabfecc")),o=i(a("cbedabhaa"));function d(e,t){return{A:e,B:t}}},cjfgjjgdgj:function(e,t){e.exports={thumbsContainer:"_2XR24",scrollContainer:"_1cJMI",viewerThumbs:"wp7gk",thumbPadding:"_3cU-t"}},cjfhhbcfdh:function(e,t,a){e.exports=a.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},cjfibjfdc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.icon?s.createElement("div",{className:n.default.icon},e.icon):null;return s.createElement("div",{className:n.default.note},t,s.createElement("div",{className:n.default.noteBody},e.children))};var s=r(a("ddhijeejag")),n=i(a("dacghdhbgi"))},cjfjihehdb:function(e,t){e.exports={icon:"zffVH"}},cjfjiidcae:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OrderCollection=void 0;var r=i(a("cdfdfciehj")),s=i(a("cgcgbfbffj")),n=i(a("cchccghbgd")),o=a("dbhdgaebjb");class d extends s.default{constructor(e,t){super(),this.width=80,this.height=80,null!=e&&(this.width=e),null!=t&&(this.height=t)}findOrder(e,t,a){var i=this.get(e);return null!=i?Promise.resolve(i):this._queryOrder(e,t,a)}_queryOrder(e,t,a){return(0,o.queryOrder)(e,this.width,this.height,a).then(a=>{super.add((0,r.default)({id:e,fetchedFromServer:!0,sellerJid:t},a));var i=this.get(e);if(null!=i)return Promise.resolve(i)})}}t.OrderCollection=d,d.model=n.default,d.staleCollection=!0;var l=new d;t.default=l},cjgdgbgbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bbabiidfcj",7)).then(e=>e.default),"ProductDetailsFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(1106),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},cjggfjjegd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryMsgInfo=function(e){var t,{id:a}=e;d.default.supportsFeature(d.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=l.default.queryMsgInfo(a).then(e=>e.status>=400?(__LOG__(2)(c(),e.status),Promise.reject(new o.ServerStatusCodeError(e.status))):e);return t.then(t=>(0,r.default)((0,r.default)({},t),{},{id:a,isPTT:e.type===n.default.MSG_TYPE.PTT}))};var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("hgigjbgie")),o=a("bgihjbde"),d=i(a("bhbdiadfhj")),l=i(a("cfidecfjad"));function c(){var e=(0,s.default)(["model:MsgInfo:findQuery error ",""]);return c=function(){return e},e}},cjhdehdbba:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("hgigjbgie")),o=i(a("dbcdhigc")),d=i(a("chihecbaj")),l=i(a("dcdbbhicce"));class c extends s.PureComponent{constructor(...e){super(...e),this._renderImage=e=>s.createElement("div",{style:{backgroundImage:"url(".concat(e,")")},className:o.default.preview}),this._renderPreview=()=>{var{mediaData:e}=this.props;if(e.preview&&e.preview.url){var t=e.preview.url();if(t)return this._renderImage(t)}return null}}render(){var{mediaData:e}=this.props;return e.type===n.default.MSG_TYPE.IMAGE||e.type===n.default.MSG_TYPE.PRODUCT?s.createElement(d.default,{key:e.filehash,mediaData:e,placeholderRenderer:this._renderPreview,renderProgressively:!0},this._renderImage):this._renderPreview()}}c.CONCERNS={mediaData:["filehash","type","preview","mediaStage"]};var u=(0,l.default)(c,c.CONCERNS);t.default=u},cjhjibibig:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("djfcgeejhc")),o=a("ejiicdbii"),d=a("bechdajic"),l=i(a("eachhbdced")),c=i(a("ccbgfecegc")),u=i(a("bjigbaghc")),f=(i(a("hgigjbgie")),i(a("dcjeiegcig"))),h=i(a("hhcjfgifh")),p=i(a("cifacjabhg")),g=i(a("bggcajdfcf")),m=i(a("jheedhagg")),b=i(a("dcdefieidh")),v=i(a("ccfehggbjf")),_=i(a("bdjjabfecc")),E=i(a("ebddggeaib")),j=a("ecceajhjba"),y=a("cadfgefaja"),S=i(a("gjbhafcjg")),C=i(a("biibicegh")),M=i(a("cjgdgbgbj")),T=i(a("dhccahhefj")),P=i(a("bfgbdiffgd")),O=i(a("dcdbbhicce")),N=a("cjfegjecaj"),I=i(a("dgdcjccfdi")),A=i(a("diffaiehid")),w=i(a("cdeahgaaii")),R=i(a("bcagigidbd"));class D extends s.Component{constructor(){super(...arguments),this.isListeningForMove=!1,this.didDrag=!1,this._forceUpdate=()=>{this.forceUpdate()},this._updateVoipAvailability=()=>{this.setState({isVoipAvailable:u.default.isVoipInitialized})},this.setRef=e=>{this.ref=e,this.props.onRef(e)},this.onWindowFocus=()=>{},this.onMouseDown=()=>{},this.onDrag=()=>{this.didDrag=!0},this.onClickCapture=()=>{},this.onInfoPanel=()=>{var e=this.props.chat;!e.isPSA&&(e.isUser||e.isBroadcast||e.isGroup)&&c.default.openDrawerRight(s.createElement(v.default,{chat:(0,N.unproxy)(e),key:"info-".concat(e.id.toString())}),"slide-left",this.props.uim)},this.checkForDrawerMid=e=>{c.default.existsDrawerMid(t=>{t&&e.preventDefault()})},this.onChatSearch=e=>{e.preventDefault();var t=this.props.chat;c.default.existsDrawerMid(e=>{e||c.default.openDrawerRight(s.createElement(l.default,{chat:(0,N.unproxy)(t),key:"chat-search-".concat(t.id.toString())}),"slide-left",this.props.uim)})},this.onStartCall=e=>{var t=this.props.chat;this.props.chat.isUser?(void 0).checkIfCanStartCall({contact:t.contact,isVideo:e}):(void 0).checkIfCanStartCall({isGroup:!0,isVideo:e})},this.onProductCatalogClick=e=>{e.preventDefault();var t=(new C.default).toString(),a=this.props.chat.contact.id.toString();(0,j.logChatCatalogView)(a,t),c.default.openDrawerRight(s.createElement(M.default,{chat:this.props.chat,sessionId:t,catalogOwnerJid:a}),"slide-left",w.default.Manager.top)},this.state={newlyFocused:!1,isVoipAvailable:u.default.isVoipInitialized}}maybeAddProfileListeners(){this.props.chat.contact.businessProfile&&this.props.listeners.add(this.props.chat.contact.businessProfile,"change:profileOptions",this._forceUpdate),this.props.chat.contact.businessProfile&&this.props.listeners.add(this.props.chat.contact.businessProfile,"change:catalogStatus",this._forceUpdate)}componentDidMount(){this.props.listeners.add(this.props.chat.contact,"change:businessProfile",()=>{this.maybeAddProfileListeners(),this._forceUpdate()}),this.maybeAddProfileListeners(),this.props.listeners.add(u.default,"change:isVoipInitialized",this._updateVoipAvailability)}render(){var e,t,i,r,l,c=this.props.chat;if(c.isUser)r=s.createElement(f.default,{chat:c,contact:c.contact,onSelectMessages:this.props.onSelectMessages}),l=s.createElement(R.default,{contact:c.contact,presence:c.presence,chatstate:c.presence.chatstate,placeholder:_.default.t(429),location:"title"});else if(c.isBroadcast)r=s.createElement(n.default,{chat:(0,N.unproxy)(c),onSelectMessages:this.props.onSelectMessages}),l=null;else if(c.isGroup){r=s.createElement(p.default,{chat:(0,N.unproxy)(c),onSelectMessages:this.props.onSelectMessages});var u=c.groupMetadata&&c.groupMetadata.participants&&c.groupMetadata.participants.iAmAdmin()&&c.groupMetadata.announce?_.default.t(199):_.default.t(428);l=s.createElement(g.default,{chatstate:c.presence.chatstate,groupMetadata:c.groupMetadata,presence:c.presence,placeholder:u,location:"title"})}var m=a("bhbdiadfhj").default,v=m.supportsFeature(m.F.FTS_IN_CONV)?s.createElement(y.MenuBarItem,{a8nText:"search-button",icon:s.createElement(I.default,{name:"search-alt"}),title:_.default.t(1193),onClick:this.onChatSearch}):null;c.isPSA&&(l=null);var E=!P.default.newCommerceEntryPointEnabled||(null===(e=this.props.chat.contact.businessProfile)||void 0===e||null===(t=e.profileOptions)||void 0===t?void 0:t.commerceExperience)!==d.COMMERCE_EXPERIENCE_TYPES.CATALOG&&(null===(i=this.props.chat.contact.businessProfile)||void 0===i?void 0:i.catalogStatus)!==o.CATALOG_EXISTS?null:s.createElement(y.MenuBarItem,{a8nText:"product_catalog-button",icon:s.createElement(I.default,{name:"catalog-entrypoint"}),title:_.default.t(1098),onClick:this.onProductCatalogClick});return s.createElement("header",{ref:this.setRef,className:b.default.chatHeader,onClickCapture:this.onClickCapture,onMouseDown:this.onMouseDown},s.createElement("div",{className:b.default.chatAvatar,onClick:this.onInfoPanel,role:c.isPSA?null:"button"},s.createElement(h.default,{id:c.id,size:40,showEphemeralIcon:!0})),s.createElement("div",{className:b.default.chatBody,onClick:this.onInfoPanel,role:c.isPSA?null:"button"},s.createElement("div",{className:b.default.chatMain},s.createElement("div",{className:b.default.chatTitle},s.createElement(S.default,{chat:c,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0}))),l),s.createElement("div",{className:b.default.chatControls},s.createElement(y.MenuBar,{key:"conversation-header"},void 0,void 0,void 0,E,v,s.createElement(y.MenuBarItem,{a8nText:"conversation-menu",icon:s.createElement(I.default,{name:"menu"}),title:_.default.t(881),onClick:this.checkForDrawerMid},r))))}}D.CONCERNS={chat:["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact"]};var L=(0,m.default)((0,A.default)((0,E.default)((0,T.default)((0,O.default)(D,D.CONCERNS)))));t.default=L},cjiffdegaj:function(e,t){e.exports={button:"_2fx0j",fullscreen:"s7tQo"}},cjjdjbcgjh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.vcardGetDate=function(e){var t=e;return(0,d.default)([/-([^-]*)-([^-]*)-([^-]*)/,/([^-]*)-([^-]*)-([^-]*)/],a=>{var i=e.match(a);if(i){var r=!i[1].length||"1604"===i[1],s=r?"0000":i[1];return t=(0,u.default)("".concat(s,"-").concat(i[2],"-").concat(i[3])).format("l"),r&&(t=t.replace(/[.,-\/\s]*0000[.,-\/\s]*/,"")),!1}}),t},t.vcardGetOrganizationString=function(e){var t=e.ORG&&e.ORG[0],a=e.TITLE&&e.TITLE[0];if(t&&Array.isArray(t.value)&&t.value.length>0){var i=null;a&&a.value&&(i="".concat(a.value).trim());var[r,...s]=t.value;s.push(r);var n=s.map(e=>(0,p.isString)(e)?e.trim():"").filter(e=>e.length).join(f.default.t(546));return(i||"")+(i&&i.length&&n.length?" - ":"")+n}return""},t.vcardGetType=function(e){var t={jabber:f.default.t(1369),"skype-username":f.default.t(1374),skype:f.default.t(1374),msn:f.default.t(1371),aim:f.default.t(1359),yahoo:f.default.t(1377),icq:f.default.t(1367),"wa-biz-description":f.default.t(1361),"wa-biz-name":f.default.t(1362)},a=e.properties["X-ABLabel"]||t[e.type.toLowerCase()];if(a)return function(e){if(!e)return;return e.replace(/^_\$!<([^>]*)>!\$_$/,"$1").replace(/\\,/,",").replace(/\\;/,";").replace(/\\\\/,"\\")}(a);var i={TEL:[[["cell"],f.default.t(1363)],[["iphone"],f.default.t(1368)],[["main"],f.default.t(1370)],[["home","fax"],f.default.t(1366)],[["work","fax"],f.default.t(1376)],[["home"],f.default.t(1365)],[["work"],f.default.t(1375)],[["pager"],f.default.t(1373)],[[],f.default.t(1365)]],EMAIL:[[["home"],f.default.t(1365)],[["work"],f.default.t(1375)],[["internet"],f.default.t(1364)]],URL:[[["home"],f.default.t(1365)],[["work"],f.default.t(1375)]],ADR:[[["home"],f.default.t(1365)],[["work"],f.default.t(1375)]]};return a=e.type,(0,c.default)(i,t=>{if(t){var[i,r]=t;if(0===(0,o.default)(i,(0,n.default)(e.properties.type,e=>e.toLowerCase())).length)return a=r,!1}}),a},t.vcardWids=function(e){var t=[];e&&e.TEL&&e.TEL.forEach(e=>{e.properties&&e.properties.waid&&e.properties.waid.length>0&&(t=t.concat((0,n.default)(e.properties.waid,b.createUserWid)))});return t},t.parseVcard=T,t.vcardSerialize=function(e){return e.map((function(e){return e.line.replace(/(.{75,75})/g,"$1\n ").replace(/\n^-$/gm,"")})).join("\n")},t.vcardThumbnail=function(e){if(!e)return;var{PHOTO:t}=e;if(t&&t[0]&&g.default.isData(t[0].value))return t[0].value},t.vcardGetName=P,t.vcardGetNameFromParsed=function(e){var t=null,{FN:a,NICKNAME:i,TEL:r}=e;if(a&&a[0])t=a[0].value;else if(i&&i[0])t=i[0].value;else if(r&&r[0]){var s,n=r[0],o=null===(s=n.properties.waid)||void 0===s?void 0:s[0];t=o?(0,m.default)(o):n.value}return t},t.vcardFromContactModel=function(e){var t=M(e.formattedName),a="BEGIN:VCARD\nVERSION:3.0\nN:".concat(P(e),"\nFN:").concat(t,"\nTEL;type=CELL;waid=").concat(String(e.userid),":").concat((0,m.default)(e.userid),"\nEND:VCARD");return{displayName:t,vcard:a,isMultiVcard:!1}},t.getNameString=O,t.getNameStringFromNames=N,t.mergeVcards=function(e){if(0===e.length)throw new Error("No vcards provided");return 1===e.length?e[0]:{displayName:O(e),vcard:e.map(e=>e.vcard).join("\n"),isMultiVcard:!0}},t.parseMultiVcard=function(e){var t=e.match(/BEGIN:VCARD([\s\S]*?)END:VCARD/g);return t?t.map(e=>T(e)).filter(Boolean):[]},t.vcardIsBiz=function(e){return(e.SERVICE||[]).some(e=>"wa-biz-name"===e.type.toLowerCase()&&e.value)},t.Field=void 0;var r=i(a("dfadhaifh")),s=i(a("iidhbgeed")),n=i(a("dbafiicfja")),o=i(a("bhdddbafig")),d=i(a("bebifggehf")),l=i(a("ddbbigfbec")),c=i(a("eicihhaba")),u=i(a("dgdjiicfdg")),f=i(a("bdjjabfecc")),h=i(a("cahfddcdga")),p=a("hjbbdjjdf"),g=i(a("edbaidcaf")),m=i(a("djbfhebjhe")),b=a("dcbdjheea");function v(){var e=(0,r.default)(["vcard:parse failed because the vCard is not formatted as expected:\nHeader as expected? ","\nVersion as expected? ","\nFooter as expected? ","\nLines: ",""]);return v=function(){return e},e}var _=/X-([^;:]+)(?:;[^:]+)*:(.+)/,E={"X-ABLabel":[/X-ABLabel(?:;([^:]+))*:(.+)/,1],ADR:[/ADR(?:;([^:]+))*:;;(.*);(.*);(.*);(.*);(.*)/,5],"X-ABADR":[/X-ABADR(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.*)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1],TEL:[/TEL(?:;([^:]+))*:(.+)/,1]},j={N:[/N(?:;([^:]+))*:([^;]*);([^;]*);([^;]*);([^;]*);(.*)/,5],FN:[/FN(?:;([^:]+))*:(.*)/,1],NICKNAME:[/NICKNAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-FIRST-NAME":[/X-PHONETIC-FIRST-NAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-LAST-NAME":[/X-PHONETIC-LAST-NAME(?:;([^:]+))*:(.*)/,1],ORG:[/ORG(?:;([^:]+))*:([^;]*)(?:;(.*))*/,2],TITLE:[/TITLE(?:;([^:]+))*:(.*)/,1],TEL:[/TEL(?:;([^:]+))*:(.*)/,1],PHOTO:[/PHOTO(?:;([^:]+))*:(.*)/,1],BDAY:[/BDAY(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.+)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1]};class y{constructor(e,t,a,i){this.type=e,this.index=t,this.properties=a||{},this.value=i}}function S(e,t,a){e[t]||(e[t]=[]),e[t].push(a)}function C(e){var t={};return e?(e.split(";").forEach(e=>{var a=e.split(/=/);if(1===a.length){var i=a[0];S(t,i.toLowerCase(),!0)}else if(2===a.length){var[r,s]=a;S(t,r.toLowerCase(),s.toLowerCase())}}),t):t}function M(e){return e?e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,"):""}function T(e){var t=e.replace(/\r?\n|\r/g,"\n").replace(/\n^[ \t]/gm,"").split("\n").filter(e=>0!==e.trim().length),a={},i={};if(!(t.length<3)){var r=t[0].trim().toUpperCase(),s=t[1].trim().toUpperCase(),n=t[t.length-1].trim().toUpperCase(),o="VERSION:2.1"===s||"VERSION:3.0"===s||"VERSION:4.0"===s;if("BEGIN:VCARD"!==r||!o||"END:VCARD"!==n)return __LOG__(4,!1,new Error)(v(),String("BEGIN:VCARD"===r),String(o),String("END:VCARD"===n),t.length),void SEND_LOGS("vcard-fault");for(var d=2;d<t.length-1;d++){var u=t[d],f=u.match(/item(\d+)\.(.*)/),g=f?f[2]:u,m=(0,h.default)(g.match(/([^:;]*)[:;].*/),"field.match(/([^:;]*)[:;].*/)")[1],b=f?E:j,M=m,T=m,P=void 0,O=void 0;if(b[M]){var[N,I]=b[M],A=g.match(N);A&&(P=C(A[1]),O=1===I?O=A[2]:A.slice(2,2+I))}else{var w=g.match(_);w&&(T="SERVICE",M=w[1],O=w[2],P={})}if((Array.isArray(O)?O:[O]).some(e=>e&&(0,p.isString)(e)&&e.trim()))if(f){var R=f[1];i[R]?i[R].fields.push(new y(M,null,P,O)):i[R]={type:M,index:d,key:T,properties:P,value:O,fields:[]}}else S(a,T,new y(M,d,P,O))}return Object.keys(i).forEach(e=>{var{key:t,index:r,type:s,value:n,properties:o,fields:d}=i[e];d.forEach(e=>{o[e.type]=e.value}),S(a,t,new y(s,r,o,n))}),function(e){var t={};return(0,c.default)(e,(e,a)=>{t[a]=(0,l.default)(e,e=>e.index)}),t}(a)}}function P(e){var t=(0,s.default)(e.formattedName.split(e.formattedShortName)),a=t.length?t[0].trim():void 0,i=a?e.formattedShortName:e.formattedName;return"".concat(M(a),";").concat(M(i),";;;")}function O(e){return N(e.map(e=>e.displayName))}function N(e){var t=e.find(e=>!!e);return e.length?t?1===e.length?t:f.default.t(937,{contactName:t,count:e.length-1,_plural:e.length-1}):f.default.t(939,{count:e.length,_plural:e.length}):f.default.t(938)}t.Field=y},cjjefedaad:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"#️⃣":1,"":1,"*️⃣":2,"0️⃣":3,"":3,"1️⃣":4,"":4,"2️⃣":5,"":5,"3️⃣":6,"":6,"4️⃣":7,"":7,"5️⃣":8,"":8,"6️⃣":9,"":9,"7️⃣":10,"":10,"8️⃣":11,"":11,"9️⃣":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":69,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":93,"":94,"":95,"":96,"":97,"":100,"":109,"":110,"":116,"":117,"":118,"":121,"":127,"":130,"":131,"":133,"":154,"":155,"":156,"":158,"":160,"":166,"":177,"":190,"":191,"":192,"":195,"":197,"":198,"":199,"":200,"":202,"":206,"":208,"":211,"":212,"":213,"":216,"":217,"":219,"":220,"":221,"":222,"":224,"":225,"":226,"":227,"":228,"":230,"":232,"":233,"":235,"":237,"":238,"":287,"":297,"":310,"":318,"":320,"":354,"":358,"":366,"":435,"":479,"🇺🇲":479,"":497,"":498,"":499,"":500,"":502,"":504,"":505,"":506,"":507,"":508,"":509,"":510,"":512,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":522,"":537,"":543,"":562,"":563,"":565,"":566,"":567,"":568,"":569,"":572,"":574,"":575,"":576,"":577,"":579,"":580,"":583,"":584,"":588,"":593,"":594,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":607,"":608,"":609,"":612,"":613,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":630,"":632,"":633,"":638,"":639,"":640,"":641,"":642,"":643,"":649,"":650,"":651,"":652,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":671,"":672,"":674,"":675,"":676,"":677,"":678,"":679,"":681,"":682,"":685,"":686,"":687,"":691,"":692,"":693,"":694,"":696,"":700,"":701,"":702,"":703,"":710,"":728,"":747,"":754,"":756,"":829,"":831,"":832,"":834,"":835,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":844,"":845,"🇽🇪":851,"🇽🇸":852,"🇽🇼":853,"":878,"":879,"":882,"":883,"":885,"":889,"":890,"":891,"":892,"":893,"":897,"":898,"":902,"":904,"":905,"":906,"":909,"":910,"":911,"":912,"":913,"":914,"":915,"":917,"":918,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":931,"":934,"":940,"":946,"":948,"":954,"":960,"":966,"":972,"":978,"":984,"":990,"":996,"":1002,"":1008,"":1014,"":1015,"":1017,"":1018,"":1020,"":1021,"":1022,"":1025,"":1028,"":1029,"":1030,"":1031,"":1032,"":1035,"":1041,"":1047,"":1234,"":1439,"":1457,"":1475,"":1496,"":1514,"":1520,"":1538,"":1544,"":1550,"":1556,"":1574,"":1582,"":1583,"":1589,"":1590,"":1591,"":1592,"":1593,"":1611,"":1629,"":1635,"":1636,"":1642,"":1660,"":1678,"":1679,"":1680,"":1681,"":1683,"":1684,"":1685,"":1686,"":1687,"":1688,"":1689,"":1690,"":1693,"":1694,"":1695,"":1696,"":1697,"":1698,"":1699,"":1701,"":1703,"":1704,"":1705,"":1706,"":1708,"":1710,"":1711,"":1712,"":1723,"":1724,"":1732,"":1733,"":1734,"":1735,"":1736,"":1738,"":1739,"":1761,"":1768,"":1771,"":1772,"":1773,"":1774,"":1780,"":1782,"":1785,"":1788,"":1789,"":1790,"":1791,"":1793,"":1794,"":1797,"":1798,"":1799,"":1812,"":1815,"":1819,"":1820,"":1821,"":1822,"":1831,"":1832,"":1839,"":1842,"":1845,"":1849,"":1850,"":1851,"":1852,"":1853,"":1854,"":1870,"":1871,"":1872,"":1873,"":1874,"":1875,"":1876,"":1877,"":1878,"":1879,"":1880,"":1881,"":1975,"":1976,"":1977,"":1981,"":1982,"":1983,"":1984,"":1989,"":1990,"":1992,"":1993,"":1995,"":1998,"":1999,"":2e3,"":2002,"":2004,"":2006,"":2008,"":2009,"":2010,"":2012,"":2013,"":2014,"":2015,"":2017,"":2020,"":2022,"":2025,"":2028,"":2029,"":2030,"":2031,"":2035,"":2049,"":2067,"":2085,"":2124,"":2166,"":2172,"":2175,"":2176,"":2177,"":2179,"":2181,"":2184,"":2187,"":2189,"":2190,"":2191,"":2193,"":2195,"":2197,"":2198,"":2206,"":2225,"":2226,"":2228,"":2233,"":2234,"":2239,"":2277,"":2297,"":2298,"":2299,"":2300,"":2301,"":2302,"":2304}},cjjhigeega:function(e,t,a){"use strict";function i(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function r(e,t){for(var a=0;a<t.length;++a){var{serializers:r}=t[a];if(r)for(var s=0;s<r.length;++s){var[n,o]=r[s];if(i(e,n))return o}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=[],i=e.cloneNode(!0).firstChild;for(;i;){switch(i.nodeType){case s:var o=r(i,t);if(o){a.push(o(i));break}switch(i.tagName){case"P":case"BR":case"PRE":a.push("\n");break;case"DIV":i.firstChild&&3!==i.firstChild.nodeType||a.push("\n")}break;case n:a.push(i.nodeValue)}if(i.hasChildNodes())i=i.firstChild;else{for(;i&&!i.nextSibling;)if((i=i.parentNode)===e){i=null;break}i&&(i=i.nextSibling)}}return a.join("")};var s=1,n=3},cjjjfdegjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cleanJPEG=function(e){var t,a=new r.default(e),i=new r.default(e),V=new r.default,H=!1,W=!1,K=!1,Y=!1,q={version:257,densityUnits:0,xDensity:1,yDensity:1};if(255!==a.readUint8()||a.readUint8()!==_)throw new Error("SOI marker not at the start of the file.");i.advance(2);var z=void 0;for(;null!=z||a.size();){if(void 0===z){var Q=a.readUint8();if(255!==Q)throw new Error("0x".concat(Q.toString(16)," is not a marker prefix."));z=a.readUint8()}switch(z){case C:if(W)t=a.readUint16(),i.advance(t+2),a.advance(a.size()-i.size());else{if(t=a.readUint16(),"JFIF\0"!==a.readString(5))throw new Error("APP0 marker missing 'JFIF' magic bytes.");Y=!0,q.version=a.readUint16(),q.densityUnits=a.readUint8(),q.xDensity=a.readUint16(),q.yDensity=a.readUint16(),i.advance(t+2),a.advance(a.size()-i.size()),W=!0}break;case j:if(!K&&!Y)throw new Error("Missing magic bytes marker.");a.advance(a.readUint16()-2);for(var J=void 0,X=a.readUint8();a.size();){if(J=a.readUint8(),255===X&&!B.includes(J)){z=J;break}X=J}V.writeByteArray(i.readByteArray(i.size()-a.size()-2));continue;case M:if(t=a.readUint16(),!K&&"Exif\0\0"!==a.readString(6))throw new Error("APP1 marker missing 'EXIF' magic bytes.");K=!0,i.advance(t+2),a.advance(a.size()-i.size());break;case x:case F:if(!K&&!Y)throw new Error("Missing magic bytes marker.");t=a.readUint16(),i.advance(t+2),a.advance(a.size()-i.size());break;case E:if(!K&&!Y)throw new Error("Missing magic bytes marker.");H=!0,V.writeByteArray(i.readByteArray(2));break;case s:case n:case o:case d:case c:case u:case f:case h:case p:case g:case m:case b:case v:case y:case l:case S:if(!K&&!Y)throw new Error("Missing magic bytes marker.");t=a.readUint16(),V.writeByteArray(i.readByteArray(2+t)),a.advance(a.size()-i.size());break;case T:case P:case O:case N:case I:case A:case w:case R:case D:case L:case k:case G:case U:throw new Error("Received unexpected APP marker 0x".concat(z.toString(16)));default:throw new Error("Did not understand marker: 0x".concat(z.toString(16)))}if(z=void 0,H)break}if(!H)throw new Error("No EOI tag found.");var Z=function(e){var t=new r.default;return t.writeBytes(255,216,255,224,0,16,74,70,73,70,0),t.writeUint16(e.version),t.writeUint8(e.densityUnits),t.writeUint16(e.xDensity),t.writeUint16(e.yDensity),t.writeBytes(0,0),t.readByteArray()}(q);return new Blob([Z,V.readByteArray()],{type:"image/jpeg"})};var r=i(a("bfefjaegfe")),s=192,n=193,o=194,d=195,l=196,c=197,u=198,f=199,h=201,p=202,g=203,m=205,b=206,v=207,_=216,E=217,j=218,y=219,S=221,C=224,M=225,T=226,P=227,O=228,N=229,I=230,A=231,w=232,R=233,D=234,L=235,k=236,x=237,G=238,U=239,F=254,B=[0,208,209,210,211,212,213,214,215]},cjjjhbdicf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.resyncMessages=function(e){return d.default.resyncMessages(e).then(e=>{if(n.default.supportsFeature(n.default.F.MD_BACKEND)&&(!e.status||e.status<400)){var{data:t}=e,i=[],r=[];return t.forEach(e=>{a("dbdfbgehgj").default.get(e.id)?"clear"===e.type?i.push({id:e.id.toString(),t:e.t,unreadCount:e.unreadCount,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid,muteExpiration:e.muteExpiration,ephemeralDuration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp}):"delete"===e.type?r.push(e.id.toString()):i.push((0,s.default)((0,s.default)({},e),{},{id:e.id.toString()})):i.push((0,s.default)((0,s.default)({},e),{},{id:e.id.toString()}))}),(0,o.getStorage)().lock(["chat"],([e])=>e.bulkCreateOrMerge(i).then(()=>e.bulkRemove(r))).then(()=>e).catch(()=>{throw __LOG__(4,!0,new Error)(l()),SEND_LOGS("get storage or bulk update chats failedwhen re-sync messages"),new Error("get storage or bulk update chats failed")})}return e})};var r=i(a("dfadhaifh")),s=i(a("cdfdfciehj")),n=i(a("bhbdiadfhj")),o=a("ffjiicch"),d=i(a("cfidecfjad"));function l(){var e=(0,r.default)(["get storage or bulk update chats failed"]);return l=function(){return e},e}},daabecicc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i,n=1/0){return(0,s.default)(a,(0,r.default)(e,t,n),i)};var r=i(a("dfgcaedggj")),s=i(a("cjecagehda"))},daahcdbfj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OrderItemCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("djejededad"));class n extends r.default{}t.OrderItemCollection=n,n.model=s.default;var o=n;t.default=o},daaidbiabb:function(e,t){e.exports={wrapper:"ab9TY"}},dabefiefg:function(e,t){e.exports={actionButton:"_2UfxP",actionText:"_2uiLx",disabled:"bHM8I",buttonContainer:"_3NvEV",firstButton:"_1THRv",quickReply:"_2L1R2",callUrl:"wzpMn",icon:"_3-5Xw"}},dabjhbacff:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.formatToParts)(e.currency,e.amount1000);return n.createElement("div",{className:(0,s.default)(d.default.container,{[d.default.isQuoted]:e.isQuoted,[d.default.isQuotedInComposeBox]:e.isQuotedInComposeBox})},n.createElement("div",{className:(0,s.default)(d.default.thumb,{"bg-payments":!e.isQuoted})},n.createElement("div",{className:d.default.amount},n.createElement("span",{className:d.default.amountCurrency},t.symbol),n.createElement("span",{className:d.default.amountInteger},t.integer),n.createElement("span",{className:d.default.amountDecimal},t.decimal))))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("bjgiedaj"),d=r(a("cbehgfbgb"))},dacbiajefj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","©️","®️","‼️","⁉️","™️","ℹ️","↔️","↕️","↖️","↗️","↘️","↙️","↩️","↪️","⌚","⌛","⌨️","⏏️","⏩","⏪","⏫","⏬","⏭️","⏮️","⏯️","⏰","⏱️","⏲️","⏳","⏸️","⏹️","⏺️","Ⓜ️","▪️","▫️","▶️","◀️","◻️","◼️","◽","◾","☀️","☁️","☂️","☃️","☄️","☎️","☑️","☔","☕","☘️","☝🏻","☝🏼","☝🏽","☝🏾","☝🏿","☝️","☠️","☢️","☣️","☦️","☪️","☮️","☯️","☸️","☹️","☺️","♀️","♂️","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♟️","♠️","♣️","♥️","♦️","♨️","♻️","♾️","♿","⚒️","⚓","⚔️","⚕️","⚖️","⚗️","⚙️","⚛️","⚜️","⚠️","⚡","⚧️","⚪","⚫","⚰️","⚱️","⚽","⚾","⛄","⛅","⛈️","⛎","⛏️","⛑️","⛓️","⛔","⛩️","⛪","⛰️","⛱️","⛲","⛳","⛴️","⛵","⛷️","⛸️","⛹🏻‍♀️",["⛹🏻‍♂️","⛹🏻"],"⛹🏼‍♀️",["⛹🏼‍♂️","⛹🏼"],"⛹🏽‍♀️",["⛹🏽‍♂️","⛹🏽"],"⛹🏾‍♀️",["⛹🏾‍♂️","⛹🏾"],"⛹🏿‍♀️",["⛹🏿‍♂️","⛹🏿"],"⛹️","⛹️‍♀️","⛹️‍♂️","⛺","⛽","✂️","✅","✈️","✉️","✊","✊🏻","✊🏼","✊🏽","✊🏾","✊🏿","✋","✋🏻","✋🏼","✋🏽","✋🏾","✋🏿","✌🏻","✌🏼","✌🏽","✌🏾","✌🏿","✌️","✍🏻","✍🏼","✍🏽","✍🏾","✍🏿","✍️","✏️","✒️","✔️","✖️","✝️","✡️","✨","✳️","✴️","❄️","❇️","❌","❎","❓","❔","❕","❗","❣️","❤️","➕","➖","➗","➡️","➰","➿","⤴️","⤵️","⬅️","⬆️","⬇️","⬛","⬜","⭐","⭕","〰️","〽️","㊗️","㊙️","🀄","🃏","🅰️","🅱️","🅾️","🅿️","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🈁","🈂️","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷️","🈸","🈹","🈺","🉐","🉑","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌍","🌎","🌏","🌐","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌭","🌮","🌯","🌰","🌱","🌲","🌳","🌴","🌵","🌶️","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽️","🍾","🍿","🎀","🎁","🎂","🎃","🎄","🎅","🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎖️","🎗️","🎙️","🎚️","🎛️","🎞️","🎟️","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏃","🏃‍♀️","🏃‍♂️","🏃🏻‍♀️",["🏃🏻‍♂️","🏃🏻"],"🏃🏼‍♀️",["🏃🏼‍♂️","🏃🏼"],"🏃🏽‍♀️",["🏃🏽‍♂️","🏃🏽"],"🏃🏾‍♀️",["🏃🏾‍♂️","🏃🏾"],"🏃🏿‍♀️",["🏃🏿‍♂️","🏃🏿"],"🏄","🏄‍♀️","🏄‍♂️","🏄🏻‍♀️",["🏄🏻‍♂️","🏄🏻"],"🏄🏼‍♀️",["🏄🏼‍♂️","🏄🏼"],"🏄🏽‍♀️",["🏄🏽‍♂️","🏄🏽"],"🏄🏾‍♀️",["🏄🏾‍♂️","🏄🏾"],"🏄🏿‍♀️",["🏄🏿‍♂️","🏄🏿"],"🏅","🏆","🏇","🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿","🏈","🏉","🏊","🏊‍♀️","🏊‍♂️","🏊🏻‍♀️",["🏊🏻‍♂️","🏊🏻"],"🏊🏼‍♀️",["🏊🏼‍♂️","🏊🏼"],"🏊🏽‍♀️",["🏊🏽‍♂️","🏊🏽"],"🏊🏾‍♀️",["🏊🏾‍♂️","🏊🏾"],"🏊🏿‍♀️",["🏊🏿‍♂️","🏊🏿"],"🏋🏻‍♀️",["🏋🏻‍♂️","🏋🏻"],"🏋🏼‍♀️",["🏋🏼‍♂️","🏋🏼"],"🏋🏽‍♀️",["🏋🏽‍♂️","🏋🏽"],"🏋🏾‍♀️",["🏋🏾‍♂️","🏋🏾"],"🏋🏿‍♀️",["🏋🏿‍♂️","🏋🏿"],"🏋️‍♀️",["🏋️‍♂️","🏋️"],"🏌🏻‍♀️",["🏌🏻‍♂️","🏌🏻"],"🏌🏼‍♀️",["🏌🏼‍♂️","🏌🏼"],"🏌🏽‍♀️",["🏌🏽‍♂️","🏌🏽"],"🏌🏾‍♀️",["🏌🏾‍♂️","🏌🏾"],"🏌🏿‍♀️",["🏌🏿‍♂️","🏌🏿"],"🏌️","🏌️‍♀️","🏌️‍♂️","🏍️","🏎️","🏏","🏐","🏑","🏒","🏓","🏔️","🏕️","🏖️","🏗️","🏘️","🏙️","🏚️","🏛️","🏜️","🏝️","🏞️","🏟️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🏳️","🏳️‍⚧️","🏳️‍🌈","🏴","🏴‍☠️","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🏴󠁵󠁳󠁴󠁸󠁿","🏵️","🏷️","🏸","🏹","🏺","🏻","🏼","🏽","🏾","🏿","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐈‍⬛","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐕‍🦺","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐻‍❄️","🐼","🐽","🐾","🐿️","👀","👁️","👁️‍🗨️","👂","👂🏻","👂🏼","👂🏽","👂🏾","👂🏿","👃","👃🏻","👃🏼","👃🏽","👃🏾","👃🏿","👄","👅","👆","👆🏻","👆🏼","👆🏽","👆🏾","👆🏿","👇","👇🏻","👇🏼","👇🏽","👇🏾","👇🏿","👈","👈🏻","👈🏼","👈🏽","👈🏾","👈🏿","👉","👉🏻","👉🏼","👉🏽","👉🏾","👉🏿","👊","👊🏻","👊🏼","👊🏽","👊🏾","👊🏿","👋","👋🏻","👋🏼","👋🏽","👋🏾","👋🏿","👌","👌🏻","👌🏼","👌🏽","👌🏾","👌🏿","👍","👍🏻","👍🏼","👍🏽","👍🏾","👍🏿","👎","👎🏻","👎🏼","👎🏽","👎🏾","👎🏿","👏","👏🏻","👏🏼","👏🏽","👏🏾","👏🏿","👐","👐🏻","👐🏼","👐🏽","👐🏾","👐🏿","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👥","👦","👦🏻","👦🏼","👦🏽","👦🏾","👦🏿","👧","👧🏻","👧🏼","👧🏽","👧🏾","👧🏿","👨","👨‍⚕️","👨‍⚖️","👨‍✈️","👨‍❤️‍👨","👨‍❤️‍💋‍👨","👨‍🌾","👨‍🍳","👨‍🍼","👨‍🎓","👨‍🎤","👨‍🎨","👨‍🏫","👨‍🏭","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👨‍👨‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👧‍👧","👨‍👩‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👧‍👧","👨‍💻","👨‍💼","👨‍🔧","👨‍🔬","👨‍🚀","👨‍🚒","👨‍🦯","👨‍🦰","👨‍🦱","👨‍🦲","👨‍🦳","👨‍🦼","👨‍🦽","👨🏻","👨🏻‍⚕️","👨🏻‍⚖️","👨🏻‍✈️","👨🏻‍🌾","👨🏻‍🍳","👨🏻‍🍼","👨🏻‍🎓","👨🏻‍🎤","👨🏻‍🎨","👨🏻‍🏫","👨🏻‍🏭","👨🏻‍💻","👨🏻‍💼","👨🏻‍🔧","👨🏻‍🔬","👨🏻‍🚀","👨🏻‍🚒","👨🏻‍🦯","👨🏻‍🦰","👨🏻‍🦱","👨🏻‍🦲","👨🏻‍🦳","👨🏻‍🦼","👨🏻‍🦽","👨🏼","👨🏼‍⚕️","👨🏼‍⚖️","👨🏼‍✈️","👨🏼‍🌾","👨🏼‍🍳","👨🏼‍🍼","👨🏼‍🎓","👨🏼‍🎤","👨🏼‍🎨","👨🏼‍🏫","👨🏼‍🏭","👨🏼‍💻","👨🏼‍💼","👨🏼‍🔧","👨🏼‍🔬","👨🏼‍🚀","👨🏼‍🚒","👨🏼‍🤝‍👨🏻","👨🏼‍🦯","👨🏼‍🦰","👨🏼‍🦱","👨🏼‍🦲","👨🏼‍🦳","👨🏼‍🦼","👨🏼‍🦽","👨🏽","👨🏽‍⚕️","👨🏽‍⚖️","👨🏽‍✈️","👨🏽‍🌾","👨🏽‍🍳","👨🏽‍🍼","👨🏽‍🎓","👨🏽‍🎤","👨🏽‍🎨","👨🏽‍🏫","👨🏽‍🏭","👨🏽‍💻","👨🏽‍💼","👨🏽‍🔧","👨🏽‍🔬","👨🏽‍🚀","👨🏽‍🚒","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🦯","👨🏽‍🦰","👨🏽‍🦱","👨🏽‍🦲","👨🏽‍🦳","👨🏽‍🦼","👨🏽‍🦽","👨🏾","👨🏾‍⚕️","👨🏾‍⚖️","👨🏾‍✈️","👨🏾‍🌾","👨🏾‍🍳","👨🏾‍🍼","👨🏾‍🎓","👨🏾‍🎤","👨🏾‍🎨","👨🏾‍🏫","👨🏾‍🏭","👨🏾‍💻","👨🏾‍💼","👨🏾‍🔧","👨🏾‍🔬","👨🏾‍🚀","👨🏾‍🚒","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🦯","👨🏾‍🦰","👨🏾‍🦱","👨🏾‍🦲","👨🏾‍🦳","👨🏾‍🦼","👨🏾‍🦽","👨🏿","👨🏿‍⚕️","👨🏿‍⚖️","👨🏿‍✈️","👨🏿‍🌾","👨🏿‍🍳","👨🏿‍🍼","👨🏿‍🎓","👨🏿‍🎤","👨🏿‍🎨","👨🏿‍🏫","👨🏿‍🏭","👨🏿‍💻","👨🏿‍💼","👨🏿‍🔧","👨🏿‍🔬","👨🏿‍🚀","👨🏿‍🚒","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾","👨🏿‍🦯","👨🏿‍🦰","👨🏿‍🦱","👨🏿‍🦲","👨🏿‍🦳","👨🏿‍🦼","👨🏿‍🦽","👩","👩‍⚕️","👩‍⚖️","👩‍✈️","👩‍❤️‍👨","👩‍❤️‍👩","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍🌾","👩‍🍳","👩‍🍼","👩‍🎓","👩‍🎤","👩‍🎨","👩‍🏫","👩‍🏭","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👧‍👧","👩‍💻","👩‍💼","👩‍🔧","👩‍🔬","👩‍🚀","👩‍🚒","👩‍🦯","👩‍🦰","👩‍🦱","👩‍🦲","👩‍🦳","👩‍🦼","👩‍🦽","👩🏻","👩🏻‍⚕️","👩🏻‍⚖️","👩🏻‍✈️","👩🏻‍🌾","👩🏻‍🍳","👩🏻‍🍼","👩🏻‍🎓","👩🏻‍🎤","👩🏻‍🎨","👩🏻‍🏫","👩🏻‍🏭","👩🏻‍💻","👩🏻‍💼","👩🏻‍🔧","👩🏻‍🔬","👩🏻‍🚀","👩🏻‍🚒","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏻‍🦯","👩🏻‍🦰","👩🏻‍🦱","👩🏻‍🦲","👩🏻‍🦳","👩🏻‍🦼","👩🏻‍🦽","👩🏼","👩🏼‍⚕️","👩🏼‍⚖️","👩🏼‍✈️","👩🏼‍🌾","👩🏼‍🍳","👩🏼‍🍼","👩🏼‍🎓","👩🏼‍🎤","👩🏼‍🎨","👩🏼‍🏫","👩🏼‍🏭","👩🏼‍💻","👩🏼‍💼","👩🏼‍🔧","👩🏼‍🔬","👩🏼‍🚀","👩🏼‍🚒","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🦯","👩🏼‍🦰","👩🏼‍🦱","👩🏼‍🦲","👩🏼‍🦳","👩🏼‍🦼","👩🏼‍🦽","👩🏽","👩🏽‍⚕️","👩🏽‍⚖️","👩🏽‍✈️","👩🏽‍🌾","👩🏽‍🍳","👩🏽‍🍼","👩🏽‍🎓","👩🏽‍🎤","👩🏽‍🎨","👩🏽‍🏫","👩🏽‍🏭","👩🏽‍💻","👩🏽‍💼","👩🏽‍🔧","👩🏽‍🔬","👩🏽‍🚀","👩🏽‍🚒","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🦯","👩🏽‍🦰","👩🏽‍🦱","👩🏽‍🦲","👩🏽‍🦳","👩🏽‍🦼","👩🏽‍🦽","👩🏾","👩🏾‍⚕️","👩🏾‍⚖️","👩🏾‍✈️","👩🏾‍🌾","👩🏾‍🍳","👩🏾‍🍼","👩🏾‍🎓","👩🏾‍🎤","👩🏾‍🎨","👩🏾‍🏫","👩🏾‍🏭","👩🏾‍💻","👩🏾‍💼","👩🏾‍🔧","👩🏾‍🔬","👩🏾‍🚀","👩🏾‍🚒","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🦯","👩🏾‍🦰","👩🏾‍🦱","👩🏾‍🦲","👩🏾‍🦳","👩🏾‍🦼","👩🏾‍🦽","👩🏿","👩🏿‍⚕️","👩🏿‍⚖️","👩🏿‍✈️","👩🏿‍🌾","👩🏿‍🍳","👩🏿‍🍼","👩🏿‍🎓","👩🏿‍🎤","👩🏿‍🎨","👩🏿‍🏫","👩🏿‍🏭","👩🏿‍💻","👩🏿‍💼","👩🏿‍🔧","👩🏿‍🔬","👩🏿‍🚀","👩🏿‍🚒","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾","👩🏿‍🦯","👩🏿‍🦰","👩🏿‍🦱","👩🏿‍🦲","👩🏿‍🦳","👩🏿‍🦼","👩🏿‍🦽","👪","👫","👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👬","👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👭","👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👮‍♀️",["👮‍♂️","👮"],"👮🏻‍♀️",["👮🏻‍♂️","👮🏻"],"👮🏼‍♀️",["👮🏼‍♂️","👮🏼"],"👮🏽‍♀️",["👮🏽‍♂️","👮🏽"],"👮🏾‍♀️",["👮🏾‍♂️","👮🏾"],"👮🏿‍♀️",["👮🏿‍♂️","👮🏿"],["👯‍♀️","👯"],"👯‍♂️","👯🏻‍♀️","👯🏻‍♂️","👯🏼‍♀️","👯🏼‍♂️","👯🏽‍♀️","👯🏽‍♂️","👯🏾‍♀️","👯🏾‍♂️","👯🏿‍♀️","👯🏿‍♂️","👰","👰‍♀️","👰‍♂️","👰🏻","👰🏻‍♀️","👰🏻‍♂️","👰🏼","👰🏼‍♀️","👰🏼‍♂️","👰🏽","👰🏽‍♀️","👰🏽‍♂️","👰🏾","👰🏾‍♀️","👰🏾‍♂️","👰🏿","👰🏿‍♀️","👰🏿‍♂️","👱‍♀️",["👱‍♂️","👱"],"👱🏻‍♀️",["👱🏻‍♂️","👱🏻"],"👱🏼‍♀️",["👱🏼‍♂️","👱🏼"],"👱🏽‍♀️",["👱🏽‍♂️","👱🏽"],"👱🏾‍♀️",["👱🏾‍♂️","👱🏾"],"👱🏿‍♀️",["👱🏿‍♂️","👱🏿"],"👲","👲🏻","👲🏼","👲🏽","👲🏾","👲🏿","👳‍♀️",["👳‍♂️","👳"],"👳🏻‍♀️",["👳🏻‍♂️","👳🏻"],"👳🏼‍♀️",["👳🏼‍♂️","👳🏼"],"👳🏽‍♀️",["👳🏽‍♂️","👳🏽"],"👳🏾‍♀️",["👳🏾‍♂️","👳🏾"],"👳🏿‍♀️",["👳🏿‍♂️","👳🏿"],"👴","👴🏻","👴🏼","👴🏽","👴🏾","👴🏿","👵","👵🏻","👵🏼","👵🏽","👵🏾","👵🏿","👶","👶🏻","👶🏼","👶🏽","👶🏾","👶🏿","👷‍♀️",["👷‍♂️","👷"],"👷🏻‍♀️",["👷🏻‍♂️","👷🏻"],"👷🏼‍♀️",["👷🏼‍♂️","👷🏼"],"👷🏽‍♀️",["👷🏽‍♂️","👷🏽"],"👷🏾‍♀️",["👷🏾‍♂️","👷🏾"],"👷🏿‍♀️",["👷🏿‍♂️","👷🏿"],"👸","👸🏻","👸🏼","👸🏽","👸🏾","👸🏿","👹","👺","👻","👼","👼🏻","👼🏼","👼🏽","👼🏾","👼🏿","👽","👾","👿","💀",["💁‍♀️","💁"],"💁‍♂️",["💁🏻‍♀️","💁🏻"],"💁🏻‍♂️",["💁🏼‍♀️","💁🏼"],"💁🏼‍♂️",["💁🏽‍♀️","💁🏽"],"💁🏽‍♂️",["💁🏾‍♀️","💁🏾"],"💁🏾‍♂️",["💁🏿‍♀️","💁🏿"],"💁🏿‍♂️","💂‍♀️",["💂‍♂️","💂"],"💂🏻‍♀️",["💂🏻‍♂️","💂🏻"],"💂🏼‍♀️",["💂🏼‍♂️","💂🏼"],"💂🏽‍♀️",["💂🏽‍♂️","💂🏽"],"💂🏾‍♀️",["💂🏾‍♂️","💂🏾"],"💂🏿‍♀️",["💂🏿‍♂️","💂🏿"],"💃","💃🏻","💃🏼","💃🏽","💃🏾","💃🏿","💄","💅","💅🏻","💅🏼","💅🏽","💅🏾","💅🏿",["💆‍♀️","💆"],"💆‍♂️",["💆🏻‍♀️","💆🏻"],"💆🏻‍♂️",["💆🏼‍♀️","💆🏼"],"💆🏼‍♂️",["💆🏽‍♀️","💆🏽"],"💆🏽‍♂️",["💆🏾‍♀️","💆🏾"],"💆🏾‍♂️",["💆🏿‍♀️","💆🏿"],"💆🏿‍♂️",["💇‍♀️","💇"],"💇‍♂️",["💇🏻‍♀️","💇🏻"],"💇🏻‍♂️",["💇🏼‍♀️","💇🏼"],"💇🏼‍♂️",["💇🏽‍♀️","💇🏽"],"💇🏽‍♂️",["💇🏾‍♀️","💇🏾"],"💇🏾‍♂️",["💇🏿‍♀️","💇🏿"],"💇🏿‍♂️","💈","💉","💊","💋","💌","💍","💎","💏","💐","💑","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💪🏻","💪🏼","💪🏽","💪🏾","💪🏿","💫","💬","💭","💮","💯","💰","💱","💲","💳","💴","💵","💶","💷","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📬","📭","📮","📯","📰","📱","📲","📳","📴","📵","📶","📷","📸","📹","📺","📻","📼","📽️","📿","🔀","🔁","🔂","🔃","🔄","🔅","🔆","🔇","🔈","🔉","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔕","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔬","🔭","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕉️","🕊️","🕋","🕌","🕍","🕎","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧","🕯️","🕰️","🕳️","🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿","🕴️","🕵🏻‍♀️",["🕵🏻‍♂️","🕵🏻"],"🕵🏼‍♀️",["🕵🏼‍♂️","🕵🏼"],"🕵🏽‍♀️",["🕵🏽‍♂️","🕵🏽"],"🕵🏾‍♀️",["🕵🏾‍♂️","🕵🏾"],"🕵🏿‍♀️",["🕵🏿‍♂️","🕵🏿"],"🕵️‍♀️",["🕵️‍♂️","🕵️"],"🕶️","🕷️","🕸️","🕹️","🕺","🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿","🖇️","🖊️","🖋️","🖌️","🖍️","🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿","🖐️","🖕","🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿","🖖","🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿","🖤","🖥️","🖨️","🖱️","🖲️","🖼️","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","🗜️","🗝️","🗞️","🗡️","🗣️","🗨️","🗯️","🗳️","🗺️","🗻","🗼","🗽","🗾","🗿","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😯","😰","😱","😲","😳","😴","😵","😶","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄",["🙅‍♀️","🙅"],"🙅‍♂️",["🙅🏻‍♀️","🙅🏻"],"🙅🏻‍♂️",["🙅🏼‍♀️","🙅🏼"],"🙅🏼‍♂️",["🙅🏽‍♀️","🙅🏽"],"🙅🏽‍♂️",["🙅🏾‍♀️","🙅🏾"],"🙅🏾‍♂️",["🙅🏿‍♀️","🙅🏿"],"🙅🏿‍♂️",["🙆‍♀️","🙆"],"🙆‍♂️",["🙆🏻‍♀️","🙆🏻"],"🙆🏻‍♂️",["🙆🏼‍♀️","🙆🏼"],"🙆🏼‍♂️",["🙆🏽‍♀️","🙆🏽"],"🙆🏽‍♂️",["🙆🏾‍♀️","🙆🏾"],"🙆🏾‍♂️",["🙆🏿‍♀️","🙆🏿"],"🙆🏿‍♂️","🙇‍♀️",["🙇‍♂️","🙇"],"🙇🏻‍♀️",["🙇🏻‍♂️","🙇🏻"],"🙇🏼‍♀️",["🙇🏼‍♂️","🙇🏼"],"🙇🏽‍♀️",["🙇🏽‍♂️","🙇🏽"],"🙇🏾‍♀️",["🙇🏾‍♂️","🙇🏾"],"🙇🏿‍♀️",["🙇🏿‍♂️","🙇🏿"],"🙈","🙉","🙊",["🙋‍♀️","🙋"],"🙋‍♂️",["🙋🏻‍♀️","🙋🏻"],"🙋🏻‍♂️",["🙋🏼‍♀️","🙋🏼"],"🙋🏼‍♂️",["🙋🏽‍♀️","🙋🏽"],"🙋🏽‍♂️",["🙋🏾‍♀️","🙋🏾"],"🙋🏾‍♂️",["🙋🏿‍♀️","🙋🏿"],"🙋🏿‍♂️","🙌","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿",["🙍‍♀️","🙍"],"🙍‍♂️",["🙍🏻‍♀️","🙍🏻"],"🙍🏻‍♂️",["🙍🏼‍♀️","🙍🏼"],"🙍🏼‍♂️",["🙍🏽‍♀️","🙍🏽"],"🙍🏽‍♂️",["🙍🏾‍♀️","🙍🏾"],"🙍🏾‍♂️",["🙍🏿‍♀️","🙍🏿"],"🙍🏿‍♂️",["🙎‍♀️","🙎"],"🙎‍♂️",["🙎🏻‍♀️","🙎🏻"],"🙎🏻‍♂️",["🙎🏼‍♀️","🙎🏼"],"🙎🏼‍♂️",["🙎🏽‍♀️","🙎🏽"],"🙎🏽‍♂️",["🙎🏾‍♀️","🙎🏾"],"🙎🏾‍♂️",["🙎🏿‍♀️","🙎🏿"],"🙎🏿‍♂️","🙏","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚣‍♀️","🚣‍♂️","🚣🏻‍♀️",["🚣🏻‍♂️","🚣🏻"],"🚣🏼‍♀️",["🚣🏼‍♂️","🚣🏼"],"🚣🏽‍♀️",["🚣🏽‍♂️","🚣🏽"],"🚣🏾‍♀️",["🚣🏾‍♂️","🚣🏾"],"🚣🏿‍♀️",["🚣🏿‍♂️","🚣🏿"],"🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴","🚴‍♀️","🚴‍♂️","🚴🏻‍♀️",["🚴🏻‍♂️","🚴🏻"],"🚴🏼‍♀️",["🚴🏼‍♂️","🚴🏼"],"🚴🏽‍♀️",["🚴🏽‍♂️","🚴🏽"],"🚴🏾‍♀️",["🚴🏾‍♂️","🚴🏾"],"🚴🏿‍♀️",["🚴🏿‍♂️","🚴🏿"],"🚵","🚵‍♀️","🚵‍♂️","🚵🏻‍♀️",["🚵🏻‍♂️","🚵🏻"],"🚵🏼‍♀️",["🚵🏼‍♂️","🚵🏼"],"🚵🏽‍♀️",["🚵🏽‍♂️","🚵🏽"],"🚵🏾‍♀️",["🚵🏾‍♂️","🚵🏾"],"🚵🏿‍♀️",["🚵🏿‍♂️","🚵🏿"],"🚶","🚶‍♀️","🚶‍♂️","🚶🏻‍♀️",["🚶🏻‍♂️","🚶🏻"],"🚶🏼‍♀️",["🚶🏼‍♂️","🚶🏼"],"🚶🏽‍♀️",["🚶🏽‍♂️","🚶🏽"],"🚶🏾‍♀️",["🚶🏾‍♂️","🚶🏾"],"🚶🏿‍♀️",["🚶🏿‍♂️","🚶🏿"],"🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛁","🛂","🛃","🛄","🛅","🛋️","🛌","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛖","🛗","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🛻","🛼","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🤌","🤌🏻","🤌🏼","🤌🏽","🤌🏾","🤌🏿","🤍","🤎","🤏","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤙","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤚","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤛","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤜","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤝","🤝🏻","🤝🏼","🤝🏽","🤝🏾","🤝🏿","🤞","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤟","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤠","🤡","🤢","🤣","🤤","🤥","🤦‍♀️",["🤦‍♂️","🤦"],"🤦🏻‍♀️",["🤦🏻‍♂️","🤦🏻"],"🤦🏼‍♀️",["🤦🏼‍♂️","🤦🏼"],"🤦🏽‍♀️",["🤦🏽‍♂️","🤦🏽"],"🤦🏾‍♀️",["🤦🏾‍♂️","🤦🏾"],"🤦🏿‍♀️",["🤦🏿‍♂️","🤦🏿"],"🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤱","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤲","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤳","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤴","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤵","🤵‍♀️","🤵‍♂️","🤵🏻","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏼","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏽","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏾","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏿","🤵🏿‍♀️","🤵🏿‍♂️","🤶","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿",["🤷‍♀️","🤷"],"🤷‍♂️",["🤷🏻‍♀️","🤷🏻"],"🤷🏻‍♂️",["🤷🏼‍♀️","🤷🏼"],"🤷🏼‍♂️",["🤷🏽‍♀️","🤷🏽"],"🤷🏽‍♂️",["🤷🏾‍♀️","🤷🏾"],"🤷🏾‍♂️",["🤷🏿‍♀️","🤷🏿"],"🤷🏿‍♂️","🤸","🤸‍♀️","🤸‍♂️","🤸🏻‍♀️",["🤸🏻‍♂️","🤸🏻"],"🤸🏼‍♀️",["🤸🏼‍♂️","🤸🏼"],"🤸🏽‍♀️",["🤸🏽‍♂️","🤸🏽"],"🤸🏾‍♀️",["🤸🏾‍♂️","🤸🏾"],"🤸🏿‍♀️",["🤸🏿‍♂️","🤸🏿"],"🤹‍♀️",["🤹‍♂️","🤹"],"🤹🏻‍♀️",["🤹🏻‍♂️","🤹🏻"],"🤹🏼‍♀️",["🤹🏼‍♂️","🤹🏼"],"🤹🏽‍♀️",["🤹🏽‍♂️","🤹🏽"],"🤹🏾‍♀️",["🤹🏾‍♂️","🤹🏾"],"🤹🏿‍♀️",["🤹🏿‍♂️","🤹🏿"],"🤺","🤼","🤼‍♀️","🤼‍♂️","🤽","🤽‍♀️","🤽‍♂️","🤽🏻‍♀️",["🤽🏻‍♂️","🤽🏻"],"🤽🏼‍♀️",["🤽🏼‍♂️","🤽🏼"],"🤽🏽‍♀️",["🤽🏽‍♂️","🤽🏽"],"🤽🏾‍♀️",["🤽🏾‍♂️","🤽🏾"],"🤽🏿‍♀️",["🤽🏿‍♂️","🤽🏿"],"🤾","🤾‍♀️","🤾‍♂️",["🤾🏻‍♀️","🤾🏻"],"🤾🏻‍♂️",["🤾🏼‍♀️","🤾🏼"],"🤾🏼‍♂️",["🤾🏽‍♀️","🤾🏽"],"🤾🏽‍♂️",["🤾🏾‍♀️","🤾🏾"],"🤾🏾‍♂️",["🤾🏿‍♀️","🤾🏿"],"🤾🏿‍♂️","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥲","🥳","🥴","🥵","🥶","🥷","🥷🏻","🥷🏼","🥷🏽","🥷🏾","🥷🏿","🥸","🥺","🥻","🥼","🥽","🥾","🥿","🦀","🦁","🦂","🦃","🦄","🦅","🦆","🦇","🦈","🦉","🦊","🦋","🦌","🦍","🦎","🦏","🦐","🦑","🦒","🦓","🦔","🦕","🦖","🦗","🦘","🦙","🦚","🦛","🦜","🦝","🦞","🦟","🦠","🦡","🦢","🦣","🦤","🦥","🦦","🦧","🦨","🦩","🦪","🦫","🦬","🦭","🦮","🦯","🦴","🦵","🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿","🦶","🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿","🦷","🦸‍♀️","🦸‍♂️","🦸🏻‍♀️","🦸🏻‍♂️","🦸🏼‍♀️","🦸🏼‍♂️","🦸🏽‍♀️","🦸🏽‍♂️","🦸🏾‍♀️","🦸🏾‍♂️","🦸🏿‍♀️","🦸🏿‍♂️","🦹‍♀️","🦹‍♂️","🦹🏻‍♀️","🦹🏻‍♂️","🦹🏼‍♀️","🦹🏼‍♂️","🦹🏽‍♀️","🦹🏽‍♂️","🦹🏾‍♀️","🦹🏾‍♂️","🦹🏿‍♀️","🦹🏿‍♂️","🦺","🦻","🦻🏻","🦻🏼","🦻🏽","🦻🏾","🦻🏿","🦼","🦽","🦾","🦿","🧀","🧁","🧂","🧃","🧄","🧅","🧆","🧇","🧈","🧉","🧊","🧋","🧍","🧍‍♀️","🧍‍♂️","🧍🏻","🧍🏻‍♀️","🧍🏻‍♂️","🧍🏼","🧍🏼‍♀️","🧍🏼‍♂️","🧍🏽","🧍🏽‍♀️","🧍🏽‍♂️","🧍🏾","🧍🏾‍♀️","🧍🏾‍♂️","🧍🏿","🧍🏿‍♀️","🧍🏿‍♂️","🧎","🧎‍♀️","🧎‍♂️","🧎🏻","🧎🏻‍♀️","🧎🏻‍♂️","🧎🏼","🧎🏼‍♀️","🧎🏼‍♂️","🧎🏽","🧎🏽‍♀️","🧎🏽‍♂️","🧎🏾","🧎🏾‍♀️","🧎🏾‍♂️","🧎🏿","🧎🏿‍♀️","🧎🏿‍♂️","🧏","🧏‍♀️","🧏‍♂️","🧏🏻","🧏🏻‍♀️","🧏🏻‍♂️","🧏🏼","🧏🏼‍♀️","🧏🏼‍♂️","🧏🏽","🧏🏽‍♀️","🧏🏽‍♂️","🧏🏾","🧏🏾‍♀️","🧏🏾‍♂️","🧏🏿","🧏🏿‍♀️","🧏🏿‍♂️","🧐","🧑","🧑‍⚕️","🧑‍⚖️","🧑‍✈️","🧑‍🌾","🧑‍🍳","🧑‍🍼","🧑‍🎄","🧑‍🎓","🧑‍🎤","🧑‍🎨","🧑‍🏫","🧑‍🏭","🧑‍💻","🧑‍💼","🧑‍🔧","🧑‍🔬","🧑‍🚀","🧑‍🚒","🧑‍🤝‍🧑","🧑‍🦯","🧑‍🦰","🧑‍🦱","🧑‍🦲","🧑‍🦳","🧑‍🦼","🧑‍🦽","🧑🏻","🧑🏻‍⚕️","🧑🏻‍⚖️","🧑🏻‍✈️","🧑🏻‍🌾","🧑🏻‍🍳","🧑🏻‍🍼","🧑🏻‍🎄","🧑🏻‍🎓","🧑🏻‍🎤","🧑🏻‍🎨","🧑🏻‍🏫","🧑🏻‍🏭","🧑🏻‍💻","🧑🏻‍💼","🧑🏻‍🔧","🧑🏻‍🔬","🧑🏻‍🚀","🧑🏻‍🚒","🧑🏻‍🤝‍🧑🏻","🧑🏻‍🦯","🧑🏻‍🦰","🧑🏻‍🦱","🧑🏻‍🦲","🧑🏻‍🦳","🧑🏻‍🦼","🧑🏻‍🦽","🧑🏼","🧑🏼‍⚕️","🧑🏼‍⚖️","🧑🏼‍✈️","🧑🏼‍🌾","🧑🏼‍🍳","🧑🏼‍🍼","🧑🏼‍🎄","🧑🏼‍🎓","🧑🏼‍🎤","🧑🏼‍🎨","🧑🏼‍🏫","🧑🏼‍🏭","🧑🏼‍💻","🧑🏼‍💼","🧑🏼‍🔧","🧑🏼‍🔬","🧑🏼‍🚀","🧑🏼‍🚒","🧑🏼‍🤝‍🧑🏻","🧑🏼‍🤝‍🧑🏼","🧑🏼‍🦯","🧑🏼‍🦰","🧑🏼‍🦱","🧑🏼‍🦲","🧑🏼‍🦳","🧑🏼‍🦼","🧑🏼‍🦽","🧑🏽","🧑🏽‍⚕️","🧑🏽‍⚖️","🧑🏽‍✈️","🧑🏽‍🌾","🧑🏽‍🍳","🧑🏽‍🍼","🧑🏽‍🎄","🧑🏽‍🎓","🧑🏽‍🎤","🧑🏽‍🎨","🧑🏽‍🏫","🧑🏽‍🏭","🧑🏽‍💻","🧑🏽‍💼","🧑🏽‍🔧","🧑🏽‍🔬","🧑🏽‍🚀","🧑🏽‍🚒","🧑🏽‍🤝‍🧑🏻","🧑🏽‍🤝‍🧑🏼","🧑🏽‍🤝‍🧑🏽","🧑🏽‍🦯","🧑🏽‍🦰","🧑🏽‍🦱","🧑🏽‍🦲","🧑🏽‍🦳","🧑🏽‍🦼","🧑🏽‍🦽","🧑🏾","🧑🏾‍⚕️","🧑🏾‍⚖️","🧑🏾‍✈️","🧑🏾‍🌾","🧑🏾‍🍳","🧑🏾‍🍼","🧑🏾‍🎄","🧑🏾‍🎓","🧑🏾‍🎤","🧑🏾‍🎨","🧑🏾‍🏫","🧑🏾‍🏭","🧑🏾‍💻","🧑🏾‍💼","🧑🏾‍🔧","🧑🏾‍🔬","🧑🏾‍🚀","🧑🏾‍🚒","🧑🏾‍🤝‍🧑🏻","🧑🏾‍🤝‍🧑🏼","🧑🏾‍🤝‍🧑🏽","🧑🏾‍🤝‍🧑🏾","🧑🏾‍🦯","🧑🏾‍🦰","🧑🏾‍🦱","🧑🏾‍🦲","🧑🏾‍🦳","🧑🏾‍🦼","🧑🏾‍🦽","🧑🏿","🧑🏿‍⚕️","🧑🏿‍⚖️","🧑🏿‍✈️","🧑🏿‍🌾","🧑🏿‍🍳","🧑🏿‍🍼","🧑🏿‍🎄","🧑🏿‍🎓","🧑🏿‍🎤","🧑🏿‍🎨","🧑🏿‍🏫","🧑🏿‍🏭","🧑🏿‍💻","🧑🏿‍💼","🧑🏿‍🔧","🧑🏿‍🔬","🧑🏿‍🚀","🧑🏿‍🚒","🧑🏿‍🤝‍🧑🏻","🧑🏿‍🤝‍🧑🏼","🧑🏿‍🤝‍🧑🏽","🧑🏿‍🤝‍🧑🏾","🧑🏿‍🤝‍🧑🏿","🧑🏿‍🦯","🧑🏿‍🦰","🧑🏿‍🦱","🧑🏿‍🦲","🧑🏿‍🦳","🧑🏿‍🦼","🧑🏿‍🦽","🧒","🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿","🧓","🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿","🧔","🧔🏻","🧔🏼","🧔🏽","🧔🏾","🧔🏿","🧕","🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿","🧖","🧖‍♀️","🧖‍♂️","🧖🏻‍♀️",["🧖🏻‍♂️","🧖🏻"],"🧖🏼‍♀️",["🧖🏼‍♂️","🧖🏼"],"🧖🏽‍♀️",["🧖🏽‍♂️","🧖🏽"],"🧖🏾‍♀️",["🧖🏾‍♂️","🧖🏾"],"🧖🏿‍♀️",["🧖🏿‍♂️","🧖🏿"],"🧗","🧗‍♀️","🧗‍♂️",["🧗🏻‍♀️","🧗🏻"],"🧗🏻‍♂️",["🧗🏼‍♀️","🧗🏼"],"🧗🏼‍♂️",["🧗🏽‍♀️","🧗🏽"],"🧗🏽‍♂️",["🧗🏾‍♀️","🧗🏾"],"🧗🏾‍♂️",["🧗🏿‍♀️","🧗🏿"],"🧗🏿‍♂️","🧘","🧘‍♀️","🧘‍♂️",["🧘🏻‍♀️","🧘🏻"],"🧘🏻‍♂️",["🧘🏼‍♀️","🧘🏼"],"🧘🏼‍♂️",["🧘🏽‍♀️","🧘🏽"],"🧘🏽‍♂️",["🧘🏾‍♀️","🧘🏾"],"🧘🏾‍♂️",["🧘🏿‍♀️","🧘🏿"],"🧘🏿‍♂️",["🧙‍♀️","🧙"],"🧙‍♂️",["🧙🏻‍♀️","🧙🏻"],"🧙🏻‍♂️",["🧙🏼‍♀️","🧙🏼"],"🧙🏼‍♂️",["🧙🏽‍♀️","🧙🏽"],"🧙🏽‍♂️",["🧙🏾‍♀️","🧙🏾"],"🧙🏾‍♂️",["🧙🏿‍♀️","🧙🏿"],"🧙🏿‍♂️",["🧚‍♀️","🧚"],"🧚‍♂️",["🧚🏻‍♀️","🧚🏻"],"🧚🏻‍♂️",["🧚🏼‍♀️","🧚🏼"],"🧚🏼‍♂️",["🧚🏽‍♀️","🧚🏽"],"🧚🏽‍♂️",["🧚🏾‍♀️","🧚🏾"],"🧚🏾‍♂️",["🧚🏿‍♀️","🧚🏿"],"🧚🏿‍♂️",["🧛‍♀️","🧛"],"🧛‍♂️",["🧛🏻‍♀️","🧛🏻"],"🧛🏻‍♂️",["🧛🏼‍♀️","🧛🏼"],"🧛🏼‍♂️",["🧛🏽‍♀️","🧛🏽"],"🧛🏽‍♂️",["🧛🏾‍♀️","🧛🏾"],"🧛🏾‍♂️",["🧛🏿‍♀️","🧛🏿"],"🧛🏿‍♂️",["🧜‍♀️","🧜"],"🧜‍♂️",["🧜🏻‍♀️","🧜🏻"],"🧜🏻‍♂️",["🧜🏼‍♀️","🧜🏼"],"🧜🏼‍♂️",["🧜🏽‍♀️","🧜🏽"],"🧜🏽‍♂️",["🧜🏾‍♀️","🧜🏾"],"🧜🏾‍♂️",["🧜🏿‍♀️","🧜🏿"],"🧜🏿‍♂️","🧝‍♀️",["🧝‍♂️","🧝"],"🧝🏻‍♀️",["🧝🏻‍♂️","🧝🏻"],"🧝🏼‍♀️",["🧝🏼‍♂️","🧝🏼"],"🧝🏽‍♀️",["🧝🏽‍♂️","🧝🏽"],"🧝🏾‍♀️",["🧝🏾‍♂️","🧝🏾"],"🧝🏿‍♀️",["🧝🏿‍♂️","🧝🏿"],["🧞‍♀️","🧞"],"🧞‍♂️",["🧟‍♀️","🧟"],"🧟‍♂️","🧠","🧡","🧢","🧣","🧤","🧥","🧦","🧧","🧨","🧩","🧪","🧫","🧬","🧭","🧮","🧯","🧰","🧱","🧲","🧳","🧴","🧵","🧶","🧷","🧸","🧹","🧺","🧻","🧼","🧽","🧾","🧿","🩰","🩱","🩲","🩳","🩴","🩸","🩹","🩺","🪀","🪁","🪂","🪃","🪄","🪅","🪆","🪐","🪑","🪒","🪓","🪔","🪕","🪖","🪗","🪘","🪙","🪚","🪛","🪜","🪝","🪞","🪟","🪠","🪡","🪢","🪣","🪤","🪥","🪦","🪧","🪨","🪰","🪱","🪲","🪳","🪴","🪵","🪶","🫀","🫁","🫂","🫐","🫑","🫒","🫓","🫔","🫕","🫖"]},dacfecidja:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgcgbfbffj")),s=i(a("dbdfbgehgj")),n=a("bgihjbde"),o=i(a("bdcchebfge")),d=i(a("cbcbdjdah")),l=i(a("biecbbiiee"));class c extends r.default{constructor(e){super(),this.hasMoreMsgs=!0,this.resultPage=0,this.searchPromise=null,this.searchTerm=null,this.searchLabel=null,this.updateFtsAfterMsgLabelUpdate=()=>{if(this.currentLabelSearch){var e=this.filter(e=>!e.labels||!e.labels.includes(this.currentLabelSearch));this.remove(e,{silent:!0})}};var t=e?e.msgs:l.default;this.listenTo(t,"remove_msgs",e=>{this.remove(e,{silent:!0}).filter(e=>!!e).length&&this.trigger("bulk_remove")}),this.listenTo(s.default,"remove",e=>{var t=[];this.forEach(a=>{a.chat===e&&t.push(a)}),this.remove(t,{silent:!0}).filter(e=>!!e).length&&this.trigger("bulk_remove")})}delete(e){e&&this.stopListening(),super.delete()}resetSearch(){this.hasMoreMsgs=!0,this.resultPage=0,this.searchTerm=null,this.searchPromise&&this.searchPromise.cancel()}search({chat:e,count:t,filter:a={},searchTerm:i}){var r="".concat(i,"__").concat(a.label||a.kind||"");this.currentLabelSearch=a.label;var s=!1;this.searchTerm!==r?(this.searchTerm&&0===i.indexOf(this.searchTerm)?s=!0:(this.searchTerm=r,this.delete()),this.resultPage=0,this.hasMoreMsgs=!0):s=!0;var d,c=new o.default.UiAction({uiActionType:o.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:s});if(this.searchPromise){if(this.searchTerm===r)return this.searchPromise;this.searchPromise.cancel()}return d=e?e.fts(i,++this.resultPage,t):l.default.search(i,++this.resultPage,t,void 0,a),this.searchPromise=d.cancellable().then(e=>(e.eof&&(this.hasMoreMsgs=!1),this.searchTerm!==r&&this.delete(),this.searchTerm=r,e.messages&&this.add(e.messages.filter(e=>!e.asRevoked)),c.markUiActionT(),c.commit(),e)).catchTypes(n.WebdDrop,Promise.CancellationError,()=>{}).finally(()=>{this.searchPromise=null,this.trigger("searchPromise_update")}),this.trigger("searchPromise_update"),this.searchPromise}}t.default=c,c.model=d.default},dacghdhbgi:function(e,t){e.exports={note:"_1CgEg",icon:"_2eWih",noteBody:"M5gmK"}},dacicgjcai:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.removeCodeBlocks=t.isInsideCodeBlock=t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("fahgabfbb")),o=i(a("ceggedffg")),d=/```([\s\S]*?\S[\s\S]*?)```/g,l=(0,o.default)(d,1);class c extends l{static jsx(e,t,{selectable:a=!1}){return s.createElement(n.default,{selectable:a},e)}}t.default=c,c.nestable=!1,c.format=!1;t.isInsideCodeBlock=e=>{var t=e.split(d).pop();return/```/.test(t)};t.removeCodeBlocks=e=>e.replace(d," ")},dacjcbhhhd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bdeebiagii")),d=i(a("bdjjabfecc")),l=r(a("chbeahhfcj"));class c extends o.default{constructor(...e){super(...e),this.onStartGroupCall=e=>{this.props.onStartGroupCall(e.map(e=>e.id)),n.default.closeModal()},this.contactFilter=e=>!this.props.groupParticipants||!!this.props.groupParticipants.find(t=>t.equals(e.id)),this._pop=()=>{this.pop()}}componentDidMount(){this.push(s.createElement(l.default,{title:this.props.isVideo?d.default.t(723):d.default.t(724),filter:this.contactFilter,onCancel:this._pop,onConfirm:this.onStartGroupCall,listType:l.ListType.PARTICIPANT_MANAGE_MODAL,maxItems:8,allowBlockedContacts:!1}))}}t.default=c},daddaabfdj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setCollectionHandlers=function(e){e.setHandlers("msg_collection",{processMultipleMessages:({chatId:e,msgObjs:t,meta:a,chatMsgsCollection:i})=>n.default.processMultipleMessages(e,t,a,i),trigger({name:e,args:t}){n.default.trigger(e,t)},updateLastReceipt({wid:e,t:t}){n.default.updateLastReceipt(e,t)}}),e.setHandlers("contact_collection",{updatePushname({contactId:e,pushname:t}){var a=s.default.gadd(e);return a.pushname!==t&&(a.set({pushname:t}),!0)}}),e.setHandlers("chat_collection",{add:({things:e,options:t})=>r.default.add(e,t),trigger({name:e,args:t}){r.default.trigger(e,t)}}),e.setHandlers("status_v3_collection",{handleUpdate:({rawMsg:e,checksum:t,isMsgUpdate:a})=>o.default.handleUpdate(e,t,a)})};var r=i(a("dbdfbgehgj")),s=i(a("dhigahgdjb")),n=i(a("biecbbiiee")),o=i(a("bgcdajbhif"))},daddbefiff:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{id:t}=e;switch(e.subtype){case"non_verified_transition":return n.default.t(1645,{businessName:(0,s.default)(e)});case"unverified_transition":return n.default.t(1754,{businessName:(0,s.default)(e)});case"verified_transition":return n.default.t(1760,{businessName:(0,s.default)(e)});case"verified_low_unknown":return n.default.t(1758,{businessName:(0,s.default)(e)});case"verified_high":return n.default.t(1756,{businessName:(0,s.default)(e)});case"verified_initial_unknown":return n.default.t(1729,{businessName:e.displayName()});case"verified_initial_low":return n.default.t(1727);case"verified_initial_high":return n.default.t(1725);case"verified_transition_any_to_none":return n.default.t(1733);case"verified_transition_any_to_high":return n.default.t(1731);case"verified_transition_high_to_low":return n.default.t(1735,{businessName:(0,s.default)(e)});case"verified_transition_high_to_unknown":return n.default.t(1737,{businessName:(0,s.default)(e)});case"verified_transition_unknown_to_low":return n.default.t(1745);case"verified_transition_low_to_unknown":return n.default.t(1739,{businessName:(0,s.default)(e)});case"verified_transition_none_to_low":return n.default.t(1741,{businessName:(0,s.default)(e)});case"verified_transition_none_to_unknown":return n.default.t(1743,{businessName:e.displayName()});case"biz_verified_transition_top_to_bottom":return n.default.t(248,{businessName:(0,s.default)(e)});case"biz_verified_transition_bottom_to_top":return n.default.t(246,{businessName:(0,s.default)(e)});case"biz_intro_top":var a=(0,s.default)(e),i=o.default.isOfficialBizAccount(t.remote);return(0,r.default)(t.remote,a)?i?n.default.t(1056):n.default.t(229,{businessName:a}):i?n.default.t(1057):n.default.t(230,{businessName:a});case"biz_intro_bottom":return n.default.t(227,{businessName:(0,d.default)(t.remote)});case"biz_name_change":return n.default.t(234,{businessName:(0,s.default)(e)});case"biz_move_to_consumer_app":return n.default.t(232);case"biz_two_tier_migration_top":var l=(0,s.default)(e);return(0,r.default)(t.remote,l)?n.default.t(243,{businessName:l}):n.default.t(244,{businessName:l});case"biz_two_tier_migration_bottom":return n.default.t(241,{businessName:(0,d.default)(t.remote)});case"blue_msg_bsp_fb_to_bsp_premise":case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":case"blue_msg_bsp_premise_unverified":case"blue_msg_bsp_premise_verified":case"blue_msg_consumer_to_bsp_premise_unverified":case"blue_msg_self_fb_to_bsp_premise":case"blue_msg_self_fb_unverified_to_bsp_premise_verified":case"blue_msg_self_fb_verified_to_bsp_premise_unverified":case"blue_msg_self_premise_to_bsp_premise":case"blue_msg_unverified_to_bsp_premise_verified":case"blue_msg_verified_to_bsp_premise_unverified":return n.default.t(255,{businessName:(0,s.default)(e)});case"blue_msg_consumer_to_self_premise_unverified":return n.default.t(256);case"blue_msg_bsp_fb_to_self_fb":case"blue_msg_bsp_fb_unverified":case"blue_msg_bsp_fb_unverified_to_self_fb_verified":case"blue_msg_bsp_fb_verified":case"blue_msg_bsp_fb_verified_to_self_fb_unverified":case"blue_msg_consumer_to_bsp_fb_unverified":case"blue_msg_consumer_to_self_fb_unverified":case"blue_msg_self_fb_unverified":case"blue_msg_self_fb_verified":case"blue_msg_to_bsp_fb":case"blue_msg_to_self_fb":case"blue_msg_unverified_to_bsp_fb_verified":case"blue_msg_unverified_to_self_fb_verified":case"blue_msg_verified_to_bsp_fb_unverified":case"blue_msg_verified_to_self_fb_unverified":return n.default.t(257,{businessName:(0,s.default)(e)});case"blue_msg_self_premise_unverified":return n.default.t(258,{businessName:(0,s.default)(e)});case"blue_msg_self_premise_verified":var c=(0,s.default)(e);return(0,r.default)(t.remote,c)?n.default.t(259,{businessName:c}):n.default.t(260,{businessName:c});case"blue_msg_bsp_fb_verified_to_self_premise_unverified":case"blue_msg_bsp_premise_verified_to_self_premise_unverified":case"blue_msg_self_fb_verified_to_self_premise_unverified":case"blue_msg_verified_to_unverified":return n.default.t(263,{businessName:(0,s.default)(e)});case"blue_msg_bsp_fb_unverified_to_self_premise_verified":case"blue_msg_bsp_premise_unverified_to_self_premise_verified":case"blue_msg_self_fb_unverified_to_self_premise_verified":case"blue_msg_unverified_to_verified":var u=(0,s.default)(e);return(0,r.default)(t.remote,u)?n.default.t(261,{businessName:u}):n.default.t(262,{businessName:u});default:return""}};var r=i(a("chhcifaahi")),s=i(a("cbjgaedjgd")),n=i(a("bdjjabfecc")),o=i(a("jccfhaecf")),d=i(a("bcbdbebgci"))},dadiabfgjj:function(e){e.exports=JSON.parse("[65,26,32,26,73,1,11,1,5,1,6,23,24,31,32,449,451,7,21,2,16,5,14,1,130,4,6,2,4,4,5,1,7,1,2,3,4,1,2,20,21,83,84,140,147,166,167,38,40,49,55,-1,46,-1,2,-1,3,-1,3,-1,2,-56,64,-1,3,-1,2,-1,14,-48,82,-3,4,-101,116,-2,9,-2,12,-23,24,-30,57,-91,102,-58,67,-2,6,-3,4,-24,28,-1,10,-1,4,-1,6,-43,46,-119,167,55,56,1,2,4,12,4,5,3,10,10,12,29,30,2,3,8,10,2,4,22,23,7,8,1,4,4,7,4,10,2,4,2,3,1,9,1,5,2,3,3,7,12,14,7,8,2,7,1,2,6,10,2,4,22,23,7,8,2,3,2,3,2,6,3,27,4,5,1,8,10,12,3,4,1,13,1,2,9,10,3,4,22,23,7,8,2,3,5,8,4,12,1,2,2,5,1,16,2,6,11,19,1,9,2,3,8,10,2,4,22,23,7,8,2,3,5,8,2,3,1,7,2,4,2,12,1,5,2,3,3,7,18,29,1,2,6,9,3,4,4,7,2,3,1,2,2,5,2,5,3,6,12,16,2,3,2,5,3,4,3,6,1,7,1,15,13,27,3,4,8,9,3,4,23,24,16,19,1,4,4,23,3,8,2,6,10,25,2,3,11,12,3,4,23,24,10,11,5,8,8,9,3,4,2,11,2,9,1,2,2,6,10,11,2,17,2,3,8,9,3,4,41,43,4,9,3,4,3,4,2,6,14,18,26,28,2,3,18,21,24,25,9,10,1,3,7,15,3,9,8,14,10,12,3,15,48,49,2,14,7,15,13,50,2,3,1,3,2,3,1,3,1,7,4,5,7,8,3,4,1,2,1,3,2,3,4,5,2,11,1,3,5,6,1,10,10,12,4,36,24,26,27,28,1,2,1,6,10,11,36,54,1,6,1,3,5,54,8,9,6,7,13,50,45,49,1,7,1,3,2,4,25,27,4,7,16,20,13,14,2,4,6,7,15,16,40,41,1,6,1,3,377,378,4,6,7,8,1,2,4,6,41,42,4,6,33,34,4,6,7,8,1,2,4,6,15,16,57,58,4,6,67,72,29,32,16,32,86,88,6,9,639,640,26,31,89,96,13,14,4,18,18,21,2,11,18,32,13,14,3,18,52,54,1,8,8,9,2,13,7,8,1,4,10,48,10,16,89,96,5,7,34,35,1,6,70,80,31,35,4,6,3,7,2,3,6,19,40,42,5,16,44,48,26,32,11,48,23,25,2,5,56,57,1,10,1,2,2,10,6,19,10,16,10,16,14,100,48,49,1,6,1,2,5,6,9,13,27,36,9,14,32,36,2,4,1,4,56,57,1,3,3,4,1,4,2,10,48,56,2,7,15,18,60,67,43,45,11,22,1,14,1,8,4,5,6,7,3,11,192,256,278,280,6,8,38,40,6,8,8,9,1,2,1,2,1,2,31,33,53,54,7,8,1,4,3,4,7,10,4,6,6,10,13,18,3,4,7,24,1,1,-1,98,1,14,1,17,13,114,1,5,1,3,10,11,1,4,5,11,1,2,1,2,1,2,4,5,11,13,4,9,5,9,2,18,41,470,69,95,1,263,78,528,1,340,256,1024,47,48,47,48,133,139,4,7,2,14,38,39,1,6,1,3,56,63,2,17,23,32,7,8,7,8,7,8,7,8,7,8,7,8,7,8,7,557,3,28,9,13,2,3,5,7,5,9,86,92,3,4,90,91,4,9,43,44,94,95,43,96,45,48,48,64,28,31,50,65,12,16,47,48,119,123,99,101,31,32,6582,6656,20976,20992,1165,1232,317,320,28,48,47,64,30,32,80,82,6,48,102,103,49,110,11,12,3,4,4,5,25,27,1,9,8,16,52,64,68,78,12,36,13,14,38,46,25,36,2,13,30,36,48,49,2,6,2,3,17,18,11,15,7,8,25,26,41,47,2,4,2,13,3,4,8,9,1,3,10,12,32,33,51,52,1,4,2,4,5,7,1,2,1,25,17,19,8,19,6,8,6,8,6,15,7,8,7,8,54,64,117,118,2,3,4,7,10,16,11172,11184,23,27,49,2101,6766,6768,106,144,7,19,5,10,-1,2,-10,11,-532,534,-144,176,-13,14,-2,114,-143,177,26,32,26,37,89,92,6,8,6,8,6,8,3,38,12,13,26,27,19,20,2,3,15,17,14,48,123,128,1,2,1,5,45,48,9,86,2,67,45,176,29,32,49,96,36,45,30,35,38,48,30,31,37,41,14,56,158,160,10,16,36,40,36,40,40,48,52,63,1,145,311,320,22,32,8,160,-287,288,-225,228,-1,3,-5,9,-40,43,-4,5,-165,167,-82,89,-484,488,-8,18,-294,325,-199,210,-175,175,1,2,54,69,7,31,10,28,49,53,2,4,7,18,1,3,25,32,10,19,36,41,1,10,17,26,35,36,3,14,52,61,10,14,1,3,16,17,20,31,18,19,28,31,2,3,1,3,6,72,7,8,1,2,4,5,15,16,11,17,47,48,3,16,10,18,2,3,8,10,2,4,22,23,7,8,2,3,5,8,3,4,4,6,2,4,3,5,1,7,1,6,7,163,56,64,2,5,1,2,19,20,1,2,1,35,51,57,1,2,4,6,1,3,4,12,10,176,50,56,4,6,1,3,27,63,51,59,2,3,1,3,4,15,10,48,43,44,1,2,2,8,1,10,10,64,27,32,2,6,1,10,16,208,47,56,1,3,1,101,83,95,1,257,1,7,2,4,40,46,2,6,8,17,1,7,2,5,40,42,4,17,1,3,9,38,57,320,9,10,38,52,8,18,29,32,32,57,1,8,1,3,1,76,7,8,2,3,38,59,1,10,10,16,6,7,2,3,37,41,2,3,1,2,1,8,10,320,19,21,4,267,922,1024,111,112,5,16,196,2944,1071,5120,583,9216,569,576,31,32,10,14,2,98,30,37,1,11,48,55,15,25,10,11,7,8,21,26,19,707,91,192,69,80,47,67,13,77,2,32,6130,6144,755,10240,287,368,396,2704,107,112,13,16,9,16,10,12,1,3,1,4961,246,256,39,41,62,65,9,25,2,9,30,34,59,306,20,128,25,160,85,86,71,72,2,4,1,3,2,4,4,5,12,13,1,2,7,8,65,66,4,6,8,9,7,8,28,29,4,5,5,6,1,4,7,8,340,342,51,52,57,58,57,58,57,58,57,58,8,60,512,567,4,54,8,9,14,15,7,3451,-208,215,-109,116,-1445,1447,-270,542,31,32,58,64,61,118,29,42,44,48,9,16,2,3504,42711,42752,4149,4160,222,224,5762,5776,7473,10576,542,788480,65534,65536,65534]")},dadjidbecc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhigahgdjb")),o=i(a("gfebgebbi")),d=i(a("bdighhfebd")),l=i(a("bdjjabfecc")),c=i(a("dcdbbhicce")),u=a("cjfegjecaj"),f=i(a("dbehggadbi")),h=i(a("gbbacfeci")),p=i(a("jccfhaecf")),g=s.createElement("span",{className:f.default.statusLoading},l.default.t(471));class m extends s.PureComponent{render(){var{status:e}=this.props,t=s.createElement(o.default,{direction:"auto",ellipsify:!0,titlify:!0,text:e.status}),a=(0,u.unproxy)(e).stale?g:t;return s.createElement(d.default,{id:e.id,onComplex:()=>(h.default.find(e.id),void 0!==e.status?t:g),waitIdle:this.props.waitIdle},a)}}m.WEAK_CONCERNS={status:["id","stale","status"]};var b=(0,c.default)(m,void 0,m.WEAK_CONCERNS);class v extends s.PureComponent{constructor(e){super(e),this.state={status:h.default.get(e.id)}}componentDidMount(){if(!this.state.status){var e=n.default.gadd(this.props.id);this.setState({status:e.getStatus()})}}componentDidUpdate(e){if(!p.default.equals(this.props.id,e.id)){var t=n.default.gadd(this.props.id);this.setState({status:t.getStatus()})}}render(){var{status:e}=this.state;return e?s.createElement(b,{status:e,waitIdle:this.props.waitIdle}):g}}t.default=v},daeajheghh:function(e,t){e.exports={icon:"_3UHWP",text:"_1mF4N"}},daehjhdfgf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bbjddegdbc",7)).then(e=>e.default),"ProfileDrawer");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},daejhbgabi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dhhhjaejje"));class s extends r.default{}function n(e){return e.filter(e=>!!e).join("")}t.default=s,s.onDelimiter=()=>{},s.onMutator=(e,t)=>n(t),s.onRoot=e=>n(e),s.onText=e=>e},daejhdfjb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,n=r(a("dcaifjegcg")),o=i(a("dghjhchjic")),d=i(a("ccbgfecegc")),l=i(a("bjigbaghc")),c=i(a("bfgbdiffgd")),u=i(a("dgjhbfjjjj")),f=a("jgidicjf");class h extends n.default{constructor(...e){super(...e),this.id=(0,n.prop)(),this.peerJid=(0,n.prop)(),this.offerTime=(0,n.prop)(),this.isVideo=(0,n.prop)(!1),this.isGroup=(0,n.prop)(!1),this.groupCallParticipants=(0,n.prop)(),this.canHandleLocally=(0,n.prop)(!1),this.outgoing=(0,n.prop)(!1),this.webClientShouldHandle=(0,n.prop)(!1),this.participants=(0,n.collection)(o.default),this.callInfo=(0,n.prop)(),this._state=(0,n.prop)(),this._ringTimeout=(0,n.prop)()}getState(){return this._state}setState(e){var t,i=e;(t=this._state,i in g[t||"EMPTY"])&&(this.webClientShouldHandle||i===f.CALL_STATES.INCOMING_RING||(i=f.CALL_STATES.HANDLED_REMOTELY,s||(s=a("hicdbdjjg").default),s.callEndByHandledRemotely(this.id)),this._state=i,this.handleNotification())}handleNotification(){var e=this.getState();!l.default.tosShowCallNotification||!this.peerJid||(u.default.isVoiceCallEnabled()||c.default.webVoip)&&!this.isVideo||(u.default.isVideoCallEnabled()||c.default.webVoip)&&this.isVideo||(e===f.CALL_STATES.INCOMING_RING?d.default.alertCall(this.peerJid,this.id,this.isVideo,this.canHandleLocally):d.default.cancelCall(this.peerJid))}getCollection(){return a("biaifggagf").default}}h.Proxy="call";var p=(0,n.defineModel)(h);t.default=p;var g={EMPTY:{[f.CALL_STATES.INCOMING_RING]:!0,[f.CALL_STATES.OUTGOING_CALLING]:!0,[f.CALL_STATES.CONNECTING]:!0,[f.CALL_STATES.REJECTED]:!0,[f.CALL_STATES.HANDLED_REMOTELY]:!0,[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.FAILED]:!0},INCOMING_RING:{[f.CALL_STATES.HANDLED_REMOTELY]:!0,[f.CALL_STATES.CONNECTING]:!0,[f.CALL_STATES.ACTIVE]:!0,[f.CALL_STATES.REJECTED]:!0,[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[f.CALL_STATES.FAILED]:!0},OUTGOING_CALLING:{[f.CALL_STATES.OUTGOING_RING]:!0,[f.CALL_STATES.CONNECTING]:!0,[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.FAILED]:!0,[f.CALL_STATES.ACTIVE]:!0,[f.CALL_STATES.NOT_ANSWERED]:!0,[f.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0},OUTGOING_RING:{[f.CALL_STATES.CONNECTING]:!0,[f.CALL_STATES.ACTIVE]:!0,[f.CALL_STATES.REJECTED]:!0,[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.FAILED]:!0,[f.CALL_STATES.NOT_ANSWERED]:!0},CONNECTING:{[f.CALL_STATES.ACTIVE]:!0,[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[f.CALL_STATES.FAILED]:!0},CONNECTION_LOST:{[f.CALL_STATES.ACTIVE]:!0,[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.FAILED]:!0},ACTIVE:{[f.CALL_STATES.ENDED]:!0,[f.CALL_STATES.FAILED]:!0,[f.CALL_STATES.CONNECTION_LOST]:!0},HANDLED_REMOTELY:{},ENDED:{},REJECTED:{},REMOTE_CALL_IN_PROGRESS:{},FAILED:{},NOT_ANSWERED:{}}},dafaebjebb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement("div",{className:o.default.outerContainer,onClick:e.onClick},s.createElement("div",{className:o.default.innerContainer},s.createElement(n.default,{onChange:e.onClick,checked:e.checked})))};var s=r(a("ddhijeejag")),n=i(a("daghjjjedc")),o=i(a("dccabacfch"))},dafafigeih:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.mungePSAContact=function(e){if(Array.isArray(e)){var t=e.findIndex(e=>e&&s.default.isPSA(e.id)),a=e[t];t>-1&&a&&(a.name=r.default.t(1791),a.shortName=r.default.t(1791))}};var r=i(a("bdjjabfecc")),s=i(a("jccfhaecf"))},dafffcfhih:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bdjjabfecc")),o=r(a("fcejjgddj"));class d extends s.PureComponent{constructor(...e){super(...e),this._setRef=e=>{this._ref=e}}render(){var e,{column:t,carouselNumColumns:a,index:i,menuWidth:r}=this.props;e=null!=r&&0!==r?"".concat(Math.round(r/a),"px"):"".concat(100/a,"%");var d=n.default.isRTL()?-1:1;return s.createElement(o.default,{onRef:this._setRef,onClick:this.props.onClick,sectionId:i,selected:this.props.selected,theme:0!==i&&(t<=0||t>=a)?o.THEMES.CAROUSEL_END:o.THEMES.CAROUSEL,transform:"translateX(".concat(100*t*d,"%)"),width:e},this.props.children)}}t.default=d},dafibhiijf:function(e,t){e.exports={messageList:"tSmQ1",messageListSelectable:"jujkF"}},dagchhdede:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getAction=function(e){var{key:t,ctrlKey:a,metaKey:i,altKey:r,shiftKey:s}=e;if("Control"===t||"Meta"===t||"Alt"===t||"Shift"===t)return;return a&&i||a&&r?d[function(e,t){if(t&&("Tab"===e||"Enter"===e||"Backspace"===e||" "===e))return"Shift+".concat(e);return e}(t,s)]:void 0},t.getKey=function(e){var t=n(e);if(!t.length)return;var{key:a,nativeKey:i,nativeModifier:r}=t[0],s=i||a;return s?l(s,r):void 0},t.getWebKey=function(e){var t=n(e);if(!t.length)return;var{key:a,webKey:i}=t[0],r=i||a;return r||void 0},t.getAdditionalShortcuts=function(){var e={};return[...s.default.members()].forEach(t=>{var a=n(t);a.length<=1||a.slice(1).forEach(({key:a,nativeKey:i,nativeModifier:r})=>{var s=i||a;s&&(e[l(s,r)]=t)})}),e};var r=i(a("dbegcaehed")),s=i(a("caabaffghd"));function n(e){switch(e){case s.default.CONTACT_US:return[{key:"H"}];case s.default.DELETE_OR_EXIT_CHAT:return[{key:"Backspace"}];case s.default.GO_TO_NEXT_CHAT:return[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}];case s.default.GO_TO_PREV_CHAT:return[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}];case s.default.LOGOUT:return[];case s.default.OPEN_NEW_CHAT:return[{key:"n"}];case s.default.OPEN_NEW_GROUP:return[{key:"N"}];case s.default.OPEN_PROFILE:return[{key:"p"}];case s.default.OPEN_SETTINGS:return[{key:","}];case s.default.SEARCH:return[{webKey:"/",nativeKey:"f"}];case s.default.SEARCH_IN_CHAT:return[{key:"F"}];case s.default.TOGGLE_ARCHIVE:return[{key:"e"}];case s.default.TOGGLE_MUTE:return[{key:"M"}];case s.default.TOGGLE_UNREAD:return[{key:"U"}];case s.default.ZOOM_IN:return[{key:"+"},{key:"="}];case s.default.ZOOM_OUT:return[{key:"-"}];case s.default.ZOOM_RESET:return[{key:"0"}];default:return[]}}var o,d=(o={},[...s.default.members()].forEach(e=>{n(e).forEach(({key:t,webKey:a})=>{var i=a||t;i&&(o[i]=e)})}),o);function l(e,t="CmdOrCtrl"){var a="+"!==e?e:"Plus";return 1===a.length&&a.match(/[a-z]/i)?a.match(/[a-z]/)?"".concat(t,"+").concat((0,r.default)(a)):"Shift+".concat(t,"+").concat(a):"".concat(t,"+").concat((0,r.default)(a))}},dagdiahdfi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuteCollection=void 0;var s=r(a("dfadhaifh")),n=i(a("cgcgbfbffj")),o=r(a("bjigbaghc")),d=a("ddbdgibbbi"),l=i(a("dhadcigcaf"));function c(){var e=(0,s.default)(["models:mute:cache-save: globalMuteModel does not exist"]);return c=function(){return e},e}function u(){var e=(0,s.default)(["models:mute:cache-save: ",""]);return u=function(){return e},e}var f=!0,h=!0,p=!0,g=!1;class m extends n.default{initializeFromCache(e){this.add(e),this.setGlobalNotifications((0,d.getGlobalNotifications)()),this.setGlobalSounds((0,d.getGlobalSounds)()),this.setGlobalPreviews((0,d.getGlobalPreviews)()),this.setCollapseMuted((0,d.getCollapseMuted)())}saveToCache(){if(o.default.shouldSaveToCache()){var e=this.constructor.cachePolicy.id;__LOG__(2)(u(),String(e));var t=this.get(l.GLOBAL_MUTE);t?(0,d.setCollection)(e,t.toJSON()):__LOG__(3)(c())}}globalMute(){var e=this.get(l.GLOBAL_MUTE);return e||this.add({id:l.GLOBAL_MUTE})[0]}getGlobalSounds(){return f}setGlobalSounds(e){f=e,(0,d.setGlobalSounds)(e)}getGlobalNotifications(){return h}setGlobalNotifications(e){h=e,(0,d.setGlobalNotifications)(e)}getGlobalPreviews(){return p}setGlobalPreviews(e){p=e,(0,d.setGlobalPreviews)(e)}getCollapseMuted(){return g}setCollapseMuted(e){g=e,(0,d.setCollapseMuted)(e),this.trigger("change:collapseMuted",g)}handle(e){e.forEach(e=>{var t=a("dbdfbgehgj").default.get(e.id);t&&"mute"===e.type&&t.mute.setMute(e.muteExpiration)})}}t.MuteCollection=m,m.model=l.default,m.cachePolicy={id:"mute",policy:n.CACHE_POLICY.LOAD,delay:1e3};var b=new m;t.default=b},dageadjdbi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=(i(a("hgigjbgie")),i(a("bdjjabfecc"))),o=i(a("fjgaiebfh")),d=i(a("dcfiefajcb")),l=i(a("dgdcjccfdi")),c=i(a("dgfgceghic"));class u extends s.Component{render(){var{msg:e}=this.props,t=e.isSentByMe?n.default.t(1190):n.default.t(1188);return s.createElement(c.default,{msg:e},s.createElement(o.default,{msg:e.unsafe(),theme:"placeholder"},s.createElement("div",{className:d.default.icon},s.createElement(l.default,{name:"recalled"})),t))}}t.default=u},daghjjjedc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHECKBOX_THEME=void 0;var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("baedhcchje")),c=r(a("fbiiiagai")),u={PARTIAL:"PARTIAL"};t.CHECKBOX_THEME=u;var f=function(e){var{checked:t,id:a,onChange:i,theme:r,disabled:f}=e;function h(e){if(e.stopPropagation(),null!=a){var t=document.getElementById(a);null==t||t.focus()}i(e)}var p,g=t&&r===u.PARTIAL,m=(0,o.default)(l.default.checkmark,{[l.default.checkedCheckmark]:t&&r!==u.PARTIAL,[l.default.uncheckedCheckmark]:!t,[l.default.partialCheckMark]:g}),[b,v]=(0,c.default)(h,{checked:t,disabled:f,indeterminate:g});if(null==a)p=v;else{var{tabIndex:_}=v;p=(0,n.default)(v,["tabIndex"])}return d.createElement(d.Fragment,null,null!=a&&d.createElement("input",{className:l.default.a11yHidden,checked:t,indeterminate:!!g||void 0,onChange:h,type:"checkbox",id:a}),d.createElement("div",(0,s.default)({},p,{"aria-hidden":null!=a||void 0,className:(0,o.default)(l.default.checkboxContainer,{[l.default.containerDisabled]:f}),ref:b}),d.createElement("div",{className:(0,o.default)(l.default.checkbox,{[l.default.checkedCheckbox]:t,[l.default.disabled]:f})},d.createElement("div",{className:m}))))};t.default=f},dagjgcgfgc:function(e,t){e.exports={msg:"_1RAno",msgContinuation:"_2rBI0",msgSystem:"_3ASsl",sticky:"_2BF9-",message:"_1ij5F",hasTail:"_1zinb",messageBackground:"_2XJpe",tail:"_3N37N",tailHighlight:"_3_7Yk",messageTransparent:"_31W3v",tailOverrideHide:"_38uQs",messageSystem:"KpuSa",messageChat:"_2tbXF",messageCode:"_1v1c-",messageDebugNotification:"_2g1jG",messageE2ENotification:"_1N_HH",messageBizNotification:"_1C8gB",messagePlaceholder:"_1Dktp",msgGallery:"_2GO0z",messageAudio:"_36w0j",messageDocument:"_68obY",messageImage:"j9c-4",messageMultiVcard:"_2M4PY",messageProduct:"_3BV2U",messagePTT:"_2Irzd",messagePtt:"_2Irzd",messageSticker:"Ui24H",messageVcard:"_12-Tz",messageGif:"_9pOn1",messageLiveLocation:"_3Q3_X",messageLocation:"_1O3Eo",messageVideo:"_2tMVz",msgInfo:"_26IQ6",msgWithQuickAction:"_2FNAC",messageHidden:"_3N1CI",msgContainer:"_1cYV6",quickActionButton:"_1ubAk",msgPSA:"_3la0x",msgPsa:"_3la0x",messageVideoLinkPreview:"_1xDhR",placeholder:"_1-6X_",gridContainer:"_17u8-",author:"_1mbe6",forwarded:"_2xcUE",albumBubbleContainer:"_3dejV",forwardedIndicator:"_3kGIG",hasAuthor:"VDehy",authorForward:"vxAgX",groupStickerContainer:"Sd4Y0",singleGroupedStickerContainer:"_3Ujmg",groupStickerAuthor:"_1cmaz",transparent:"_1OtkT",hasBorderBox:"_7M8i6",hasUrlCallButtons:"_2Iger",stickerWrapperContainer:"BEXkE",highlightAnimation:"_23zJS",highlightAnimationDarkIn:"_1W1pe",highlightAnimationDark:"_1mgTh"}},dahaahdjfa:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.convertToTextWithoutSpecialEmojis=T,t.default=void 0;var s=r(a("dfadhaifh")),n=a("dibgccbbif"),o=a("dbejeibfid"),d=r(a("cfadcbbiie")),l=i(a("bjigbaghc")),c=a("cabeijgaif"),u=r(a("djegeegcbf")),f=r(a("bhbdiadfhj")),h=i(a("dbcedfihd")),p=r(a("cffajefeag")),g=r(a("bfgbdiffgd")),m=a("hjbbdjjdf"),b=r(a("edbaidcaf")),v=r(a("jccfhaecf")),_=a("dcbdjheea");function E(){var e=(0,s.default)(["parseGroupInviteMessageProto: not supported"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["parseRequestPaymentMessageProto: not supported"]);return j=function(){return e},e}function y(){var e=(0,s.default)(["parseSendPaymentMessageProto: not supported"]);return y=function(){return e},e}function S(){var e=(0,s.default)(["parseLiveLocationMessageProto: not supported"]);return S=function(){return e},e}function C(){var e=(0,s.default)(["parseContextInfoProto: payment not supported"]);return C=function(){return e},e}function M(){var e=(0,s.default)(["drop: not Message"]);return M=function(){return e},e}function T(e){return e?l.default.platform===l.PLATFORMS.ANDROID?e:u.default.convertToTextWithoutSpecialEmojis(e):e}var P={parseMsgProto:function(e,t,a,i,r,s){if(!e)return __LOG__(4,!1,new Error)(M()),SEND_LOGS("null-message"),t;var{conversation:n,imageMessage:o,contactMessage:d,locationMessage:l,liveLocationMessage:c,extendedTextMessage:u,documentMessage:h,audioMessage:p,videoMessage:b,stickerMessage:v,contactsArrayMessage:_,protocolMessage:E,sendPaymentMessage:j,requestPaymentMessage:y,productMessage:S,groupInviteMessage:C,viewOnceMessage:T,ephemeralMessage:P,templateMessage:O,templateButtonReplyMessage:N,orderMessage:I,listMessage:A,listResponseMessage:w}=e,R=void 0;return(0,m.isString)(n)&&this.parseConversationProto(t,n),C&&this.parseGroupInviteMessageProto(t,C),o&&(this.parseImageMessageProto(t,o),R=o.contextInfo),v&&(this.parseStickerMessageProto(t,v),R=v.contextInfo),d&&(this.parseContactMessageProto(t,d),R=d.contextInfo),_&&(this.parseContactsArrayMessageProto(t,_),R=_.contextInfo),l&&(this.parseLocationMessageProto(t,l),R=l.contextInfo),c&&(this.parseLiveLocationMessageProto(t,c,r),R=c.contextInfo),j&&(R=j&&j.noteMessage&&j.noteMessage.extendedTextMessage&&j.noteMessage.extendedTextMessage.contextInfo,this.parseSendPaymentMessageProto(t,j,i)),y&&(R=y&&y.noteMessage&&y.noteMessage.extendedTextMessage&&y.noteMessage.extendedTextMessage.contextInfo,this.parseRequestPaymentMessageProto(t,y,i)),u&&(this.parseExtendedTextMessageProto(t,u),R=u.contextInfo),h&&(this.parseDocumentMessageProto(t,h),R=h.contextInfo),p&&(this.parseAudioMessageProto(t,p),R=p.contextInfo),b&&(this.parseVideoMessageProto(t,b),R=b.contextInfo),E&&this.parseProtocolMessageProto(t,E,a),S&&(this.parseProductMessageProto(t,S),R=S.contextInfo),C&&this.parseGroupInviteMessageProto(t,C),I&&(this.parseOrderMessageProto(t,I),R=I.contextInfo),A&&this.parseListMessageProto(t,A),w&&(this.parseListResponseMessageProto(t,w),R=w.contextInfo),T&&this.parseViewOnceFutureProofMessageProto(t,T),P&&this.parseEphemeralFutureProofMessageProto(t,P),f.default.supportsFeature(f.default.F.MD_BACKEND),O&&(f.default.supportsFeature(f.default.F.MD_BACKEND)&&f.default.supportsFeature(f.default.F.MD_HSM)?O.hydratedTemplate?this.parseTemplateMessage(t,O.hydratedTemplate):this.parseTemplateMessage(t,O.fourRowTemplate):f.default.supportsFeature(f.default.F.RICH_HSM)&&this.parseTemplateMessage(t,O.hydratedFourRowTemplate)),N&&(this.parseTemplateButtonReplyMessage(t,N),R=N.contextInfo,t.type="template_button_reply"),R&&(this.parseContextInfoProto(t,R,s),R.externalAdReply&&g.default.ctwaContextRender&&this.parseCtwaContextProto(t,R.externalAdReply)),t},parseConversationProto:function(e,t){e.type="chat",e.body=T(t)},parseImageMessageProto:function(e,t){e.type="image",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.caption=T(t.caption),e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height||0,e.width=t.width||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:d.default.globalUnixTime(),e.body=this.decodeBytes(t.jpegThumbnail)||"",e.interactiveAnnotations=t.interactiveAnnotations,e.scanLengths=t.scanLengths,e.scansSidecar=t.scansSidecar,e.isViewOnce=!0===t.viewOnce},parseStickerMessageProto:function(e,t){e.type="sticker",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:d.default.globalUnixTime(),e.height=t.height||0,e.width=t.width||0,e.firstFrameLength=t.firstFrameLength,e.firstFrameSidecar=t.firstFrameSidecar,e.isAnimated=t.isAnimated},parseContactMessageProto:function(e,t){e.type="vcard",e.vcardFormattedName=t.displayName,e.body=t.vcard},parseContactsArrayMessageProto:function(e,t){var a=t.contacts;e.type="multi_vcard",e.vcardFormattedName=t.displayName,e.vcardList=Array.isArray(a)?a.map(e=>({displayName:e.displayName,vcard:e.vcard})):[]},parseLocationMessageProto:function(e,t){var a=t.name&&t.address?"".concat(t.name,"\n").concat(t.address):t.name||t.address||"";e.type="location",e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.loc=a,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.clientUrl=t.url},parseExtendedTextMessageProto:function(e,t){var a=t.matchedText||t.canonicalUrl||t.description||t.title;if(a){var i=b.default.hostname(t.canonicalUrl||""),r=b.default.hostname(t.matchedText||"");e.canonicalUrl=i===r||""===i?t.canonicalUrl:r}e.type="chat",e.subtype=a?"url":void 0,e.body=T(t.text||""),e.matchedText=t.matchedText,e.description=t.description,e.title=t.title,e.thumbnail=this.decodeBytes(t.jpegThumbnail)||"",e.richPreviewType=t.previewType,e.doNotPlayInline=t.doNotPlayInline,e.textColor=t.textArgb,e.backgroundColor=t.backgroundArgb;var s=c.ExtendedTextMessageFontType;if(null!=t.font)switch(t.font){case s.SANS_SERIF:case s.SERIF:case s.NORICAN_REGULAR:case s.BRYNDAN_WRITE:case s.BEBASNEUE_REGULAR:case s.OSWALD_HEAVY:e.font=t.font}},parseDocumentMessageProto:function(e,t){e.type="document",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.pageCount=t.pageCount||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:d.default.globalUnixTime(),e.filename=(0,o.cleanIncomingFilename)(t.fileName||t.title),e.caption=e.filename,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.isVcardOverMmsDocument=f.default.supportsFeature(f.default.F.VCARD_OVER_MMS)&&Boolean(t.contactVcard)&&e.size<=1024*g.default.vcardMaxSizeKb},parseAudioMessageProto:function(e,t){e.type=t.ptt?"ptt":"audio",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.duration="".concat(t.seconds||0),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:d.default.globalUnixTime(),e.streamingSidecar=t.streamingSidecar},parseVideoMessageProto:function(e,t){e.type="video",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height,e.width=t.width,e.duration="".concat(t.seconds||0),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:d.default.globalUnixTime(),e.caption=T(t.caption),e.body=this.decodeBytes(t.jpegThumbnail)||"",e.isGif=t.gifPlayback,e.gifAttribution=t.gifAttribution,e.streamingSidecar=t.streamingSidecar,e.interactiveAnnotations=t.interactiveAnnotations,e.isViewOnce=!0===t.viewOnce},parseContextInfoProto:function(e,t,a){var i=t.quotedMessage,r=t.mentionedJid;e.quotedMsg=i&&this.parseMsgProto(i,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&a&&__LOG__(2)(C()),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(r)?r.map(this.decodeJid):r,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration),null!=t.ephemeralSettingTimestamp&&(e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp)},parseCtwaContextProto:function(e,t){var a=h.findLink((null==t?void 0:t.sourceUrl)||"",!1,e.from);e.ctwaContext={sourceUrl:t.sourceUrl,description:t.body,title:null==t?void 0:t.title,thumbnail:t.thumbnail?this.decodeBytes(t.thumbnail):null,thumbnailUrl:t.thumbnailUrl,mediaType:t.mediaType,mediaUrl:t.mediaUrl,isSuspiciousLink:a&&a.suspiciousCharacters&&a.suspiciousCharacters.size>0}},_getMsgKey:function(e,t){if(!e)throw new Error("parseProtocolMessageProto: no message key is defined for protocol message");var{id:a}=e;if(!a)throw new Error("parseProtocolMessageProto: no message id is defined for protocol message");return f.default.supportsFeature(f.default.F.MD_BACKEND)?new p.default({id:a,fromMe:t.id.fromMe,remote:t.id.remote,participant:t.id.participant}):new p.default({id:a,fromMe:e.fromMe,remote:this.decodeJid(e.remoteJid),participant:this.decodeJid(e.participant)})},parseProtocolMessageProto:function(e,t,a){if("relay"===a||t.type===c.ProtocolMessageType.EPHEMERAL_SETTING){var{key:i,type:r}=t,s=null;if(e.type="protocol",null!=r)switch(r){case c.ProtocolMessageType.REVOKE:s=this._getMsgKey(i,e),e.protocolMessageKey=s,e.subtype="revoke";break;case c.ProtocolMessageType.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case c.ProtocolMessageType.EPHEMERAL_SYNC_RESPONSE:e.subtype="ephemeral_sync_response",e.ephemeralDuration=t.ephemeralExpiration,e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp;break;case c.ProtocolMessageType.HISTORY_SYNC_NOTIFICATION:e.subtype="history_sync_notification";var{historySyncNotification:n}=t;if(n){var o={directPath:n.directPath,encFilehash:this.decodeBytes(n.fileEncSha256),filehash:this.decodeBytes(n.fileSha256),mediaKey:this.decodeBytes(n.mediaKey),type:"md-msg-hist"};e.historySyncMetaData={historySyncNotification:t.historySyncNotification,downloadOptions:o}}break;case c.ProtocolMessageType.APP_STATE_SYNC_KEY_REQUEST:case c.ProtocolMessageType.APP_STATE_SYNC_KEY_SHARE:case c.ProtocolMessageType.MSG_FANOUT_BACKFILL_REQUEST:case c.ProtocolMessageType.INITIAL_SECURITY_NOTIFICATION_SETTING_SYNC:e.subtype="unknown"}}},decodeJid:function(e){return v.default.isWid(e)?(0,_.createWid)(e):e},decodeUrl:function(e){return e&&!e.includes("/u/")?e:void 0},decodeBytes:function(e){return e?(0,n.encodeB64)(e):void 0},parseTemplateMessage:function(e,t){var{documentMessage:a,imageMessage:i,locationMessage:r,videoMessage:s}=t;e.isFromTemplate=!0,a?this.parseDocumentMessageProto(e,a):i?this.parseImageMessageProto(e,i):r?this.parseLocationMessageProto(e,r):s?this.parseVideoMessageProto(e,s):(e.type="chat",t.hydratedContentText&&(e.body=T(t.hydratedContentText))),t.hydratedButtons&&this.parseButtons(e,t),t.hydratedContentText&&(e.caption=T(t.hydratedContentText)),t.hydratedFooterText&&(e.footer=T(t.hydratedFooterText)),t.hydratedTitleText&&(e.title=T(t.hydratedTitleText))},parseButtons:function(e,t){var{hydratedButtons:a}=t;a.length&&(e.hydratedButtons=a)},parseTemplateButtonReplyMessage:function(e,t){e.body=T(t.selectedDisplayText),e.selectedIndex=t.selectedIndex,e.selectedId=t.selectedId},parseProductMessageProto:function(e,t){var{product:a}=t;a&&(a.productImage&&this.parseImageMessageProto(e,a.productImage),e.type="product",e.businessOwnerJid=t.businessOwnerJid,e.contextInfo=t.contextInfo,e.productId=a.productId,e.currencyCode=a.currencyCode,e.priceAmount1000=a.priceAmount1000,e.retailerId=a.retailerId,e.url=a.url,e.productImageCount=a.productImageCount,e.title=a.title,e.description=a.description)},parseLiveLocationMessageProto:function(){__LOG__(2)(S())},parseSendPaymentMessageProto:function(){__LOG__(2)(y())},parseRequestPaymentMessageProto:function(){__LOG__(2)(j())},parseGroupInviteMessageProto:function(){__LOG__(2)(E())},parseOrderMessageProto:function(e,t){e.type="order",e.thumbnail=this.decodeBytes(t.thumbnail),e.message=t.message||"",e.orderId=t.orderId,e.itemCount=t.itemCount||0,e.status=t.status,e.surface=t.surface,e.sellerJid=t.sellerJid,e.orderTitle=t.orderTitle||"",e.token=t.token||"",e.body=""},parseListMessageProto:function(e,t){g.default.webListMessage&&t.listType===c.ListMessageListType.SINGLE_SELECT&&(e.type="list",e.list=t)},parseListResponseMessageProto:function(e,t){if(g.default.webListMessage&&t.listType===c.ListResponseMessageListType.SINGLE_SELECT){e.type="list_response",e.listResponse=t;var a=t.title||"";t.description&&(a+="\n"+t.description),e.body=T(a)}},parseViewOnceFutureProofMessageProto:function(e,t){g.default.viewOnceRead?this.parseMsgProto(t.message,e):(e.type="unknown",e.subtype="phone")},parseEphemeralFutureProofMessageProto:function(e,t){g.default.ephemeralMessages?this.parseMsgProto(t.message,e):(e.type="unknown",e.subtype="phone")}};t.default=P},dahaebgdhi:function(e,t){e.exports={action:"_2Z3sT"}},dahagdijgh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bcbfjdecaj")),d=r(a("chfiahddhi")),l=r(a("cbhdbefddd"));class c extends n.PureComponent{constructor(...e){super(...e),this.setDragAndDropRef=e=>{this.dragAndDropRef=e},this.onDragOver=e=>{this.dragAndDropRef&&this.dragAndDropRef.onDragOver(e)},this.onDragStart=e=>{this.dragAndDropRef&&this.dragAndDropRef.onDragStart(e)},this.onDragEnd=e=>{this.dragAndDropRef&&this.dragAndDropRef.onDragEnd(e)}}render(){var{children:e,onDrop:t,onDragChange:a,theme:i}=this.props,r=(0,s.default)(l.default.drawer,{[l.default.white]:"invite"===i||"products"===i||"labels"===i||"settings"===i||"archived"===i,[l.default.drawerCapture]:"capture"===i,[l.default.drawerEdit]:"edit"===i,[l.default.drawerMedia]:"media"===i,[l.default.drawerGallery]:"gallery"===i,[l.default.drawerCatalog]:"catalog"===i,[l.default.striped]:"striped"===i,[l.default.belowHeader]:"capture"===i||"media"===i,"drawer-verification":"verification"===i});return n.createElement(o.default,{className:r,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},t&&n.createElement(d.default,{ref:this.setDragAndDropRef,disableFromWithin:!0,onDragChange:a,onDrop:t}),e)}}t.default=c},dahbdjdajd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TextMention=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("dehfadfiij"),d=r(a("idgifdccc")),l=r(a("daabecicc")),c=a("cbhhehcjbb"),u=a("cdejbeiiha"),f=r(a("dcdbbhicce"));class h extends n.Component{render(){var{contact:e,onClick:t,theme:a,selectable:i}=this.props,r=e.displayName,f=e.id,h=(0,o.dir)(r)||"auto",p=!!a&&a.quoted,g=(0,l.default)(r,[[[d.default,{selectable:i}]]],u.JSXSerializer,void 0,1/0);return n.createElement(c.SelectableSpan,{"data-jid":f.toString(),"data-display":r,className:(0,s.default)("matched-mention",{"quoted-mention":p,"inactive-mention":!t||p}),onClick:t,plainText:"@".concat(r),selectable:i,selectAll:!0,appTextTemplate:"​".concat(f.toString(),"​")},n.createElement("span",{className:"at-symbol"},"@"),n.createElement("span",{dir:h},g))}}t.TextMention=h,h.CONCERNS={contact:["id","displayName"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},daiahejada:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,i=function(e){return(0,d.default)(e,{[l.default.AUDIO]:()=>"WhatsApp Audio Keys",[l.default.DOCUMENT]:()=>"WhatsApp Document Keys",[l.default.GIF]:()=>"WhatsApp Video Keys",[l.default.IMAGE]:()=>"WhatsApp Image Keys",[l.default.PPIC]:()=>{throw new Error("Cannot create media keys for profile pics")},[l.default.PRODUCT]:()=>"WhatsApp Image Keys",[l.default.PTT]:()=>"WhatsApp Audio Keys",[l.default.STICKER]:()=>"WhatsApp Image Keys",[l.default.VIDEO]:()=>"WhatsApp Video Keys",[l.default.THUMBNAIL_DOCUMENT]:()=>"WhatsApp Document Thumbnail Keys",[l.default.TEMPLATE]:()=>{throw new Error("Cannot create media keys for template")},[l.default.HISTORY_SYNC]:()=>"WhatsApp History Keys",[l.default.MD_APP_STATE]:()=>"WhatsApp App State Keys",[l.default.PRODUCT_CATALOG_IMAGE]:()=>{throw new Error("Cannot create media keys for product catalog image")}})}(e);try{a=(0,s.decodeB64)(t)}catch(e){}if(!t||!i||!a)throw new n.MediaEncryptionError("createKeys fail: !!mediakey: ".concat(!!t," info: ").concat(i," type: ").concat(e));return o.extractAndExpand(a,i,112).then(e=>{if(!e||e.byteLength<112)throw new n.MediaEncryptionError("computeMediaKeys: hkdf error");return{iv:e.slice(0,16),encKey:e.slice(16,48),macKey:e.slice(48,80),refKey:e.slice(80,112)}})};r(a("dfadhaifh"));var s=a("dibgccbbif"),n=i(a("cajijabhgb")),o=i(a("bbccjbfjfe")),d=r(a("gajjccach")),l=r(a("bihjffdjjj"))},daigbafceb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ijbeggadf")),d=r(a("hgigjbgie")),l=r(a("dhggdfijcg")),c=r(a("dfhddecjbi")),u=r(a("deeafjfccb")),f=e=>{var t=e.msg,a=(0,s.default)(o.default.bubble,{[o.default.bubbleIn]:!t.isSentByMe,[o.default.bubbleOut]:t.isSentByMe,[o.default.hasAuthor]:e.author,[o.default.hasQuote]:e.quotedMsg,[o.default.isGallery]:e.displayType===d.default.DISP_TYPE.STARRED_MSGS||e.displayType===d.default.DISP_TYPE.GALLERY,[o.default.isForwarded]:t.showForwarded()}),i=e.status?n.createElement("div",{className:o.default.status},e.status):null,r=null!=e.author?n.createElement("div",{className:o.default.author},e.author):null,f=t.showForwarded()?n.createElement(c.default,{msg:t.unsafe(),className:o.default.forwardedIndicator}):null,h=e.quotedMsg?n.createElement("div",{className:o.default.quote},e.quotedMsg):null;return n.createElement("div",{className:a},r,f,h,n.createElement(l.default,{msg:t.unsafe(),wrapperClass:o.default.ctwaContext}),n.createElement("div",{className:o.default.body},n.createElement("div",{className:o.default.player},e.player),n.createElement("div",{className:o.default.avatar},i,e.avatar)),n.createElement("div",{className:o.default.meta},n.createElement(u.default,{msg:t})))};t.default=f},dajfhbajch:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=a("djfeeacgad"),o=r(a("dgdjiicfdg")),d=i(a("ddhijeejag")),l=r(a("bgihchdbcg")),c=r(a("ccbgfecegc")),u=r(a("bjigbaghc")),f=r(a("hgigjbgie")),h=a("cgejchjdhj"),p=a("djaiggcdb"),g=a("facgccaif"),m=a("hcabbffbb"),b=r(a("bhbdiadfhj")),v=i(a("dciajcgfie")),_=r(a("bdjjabfecc")),E=r(a("ebddggeaib")),j=r(a("bdcchebfge")),y=r(a("dbgbceihf")),S=r(a("dcdbbhicce")),C=i(a("dcdiaahjj")),M=r(a("dgdcjccfdi")),T=r(a("dighddcfg")),P=r(a("bcjcbbafcj")),O=r(a("cbbhbjebii")),N=r(a("didfdhbecg")),I=r(a("bacbhehedf")),A=r(a("cfgcdfcfee")),w=r(a("bgeajihhc"));class R extends d.PureComponent{constructor(...e){super(...e),this.state={allowReconnect:!0},this.reconnect=()=>{var e=A.default.numSocketsAttempted+1;w.default.poke(),(0,I.default)(C.default,"change:displayInfo",()=>C.default.displayInfo===C.StreamInfo.NORMAL).then(()=>{new j.default.WebcManualWebsocketAttempt({webcManualWebsocketAttemptSuccessful:A.default.numSocketsAttempted===e}).commit()}),this.setState({allowReconnect:!1}),this._reconnectTimeoutTimer.onOrAfter(3e3)},this._reconnectTimeoutTimer=new n.ShiftTimer(()=>{this.setState({allowReconnect:!0})})}componentWillUnmount(){this._reconnectTimeoutTimer.cancel()}render(){var e,t;return this.state.allowReconnect?(e=d.createElement(d.Fragment,null,"".concat(_.default.t(850)," "),d.createElement(V,{action:this.reconnect},_.default.t(1136))),t=_.default.t(437)):(e=null,t=_.default.t(465)),d.createElement(G,{type:"computer",title:t,text:e})}}class D extends d.Component{constructor(...e){super(...e),this.state={takingTooLong:!1,didShowSubtitle:!1},this._timeoutTimer=new n.ShiftTimer(()=>{this.setState({takingTooLong:!0,didShowSubtitle:!0})}),this.onProgress=()=>{this._rerenderTimer.cancel(),this._timeoutTimer.onOrBefore(3e3),this.setState({takingTooLong:!1})},this._rerenderTimer=new n.ShiftTimer(()=>{this.forceUpdate()}),this.retry=()=>{w.default.poke(),this.onProgress()}}componentDidMount(){this.props.listeners.add(w.default,"change:state",this.onProgress),this.props.listeners.add(w.default,"change:retryTimestamp",this.onProgress),this._timeoutTimer.onOrBefore(3e3)}componentWillUnmount(){this._timeoutTimer.cancel(),this._rerenderTimer.cancel()}render(){var e,t;if(C.default.displayInfo===C.StreamInfo.OPENING)e=_.default.t(464);else{if(C.default.displayInfo!==C.StreamInfo.CONNECTING)return null;e=_.default.t(465)}if(this.state.takingTooLong){this._rerenderTimer.onOrAfter(1e3);var a=w.default.retryTimestamp-Date.now();if(a<1)a=_.default.t(1183),setTimeout(()=>{w.default.poke()},0);else if(a<6e4){var i=Math.ceil(a/1e3);a=_.default.t(1185,{number:i,_plural:i})}else a=_.default.t(1184,{duration:o.default.duration(a).humanize()});t=d.createElement(d.Fragment,null,a," ",d.createElement(V,{action:this.retry},_.default.t(1171)))}else t=this.state.didShowSubtitle?d.createElement("span",null,_.default.t(1183)):null;return d.createElement(G,{type:"computer",title:e,text:t})}}var L=(0,E.default)(D);class k extends d.PureComponent{constructor(e){super(e),this.onReload=()=>{O.default.restart()},this.onClickManualDownload=()=>{},this._showBatteryTimer=new n.ShiftTimer(()=>this.batteryUpdate(!1)),this.dismissLowBatteryWarning=()=>{var e=this.state.lowBatteryWarning;e>0&&this.setState({lowBatteryWarning:-e})},this._showNotifyTimer=new n.ShiftTimer(e=>{this.setState({showNotify:e})}),this.requestPermissions=()=>{c.default.openModal(d.createElement(v.default,{messaging:v.Messaging.NOTIFICATIONS,onConfirm:U,onCancel:F,type:v.default.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission(e=>{c.default.closeModal(),this.setState({notifyPermission:e})})},this._shouldShowBanner=()=>b.default.supportsFeature(b.default.F.USER_NOTICE)&&null!=y.default.noticeId&&null!=y.default.banner&&!1===y.default.blocking,this.handleNoticeBannerChange=()=>{this._shouldShowBanner()&&(this.state.bannerDisplayed||(new j.default.UserNotice({userNoticeId:y.default.noticeId,userNoticeContentVersion:y.default.policyVersion,userNoticeEvent:j.default.USER_NOTICE_EVENT.BANNER_APPEAR}).commit(),this.setState({bannerDisplayed:!0})))},this.handleNoticeIdChange=()=>{this.setState({bannerDisplayed:!1})};var t=u.default.battery<f.default.BATTERY_LOW_THRESHOLD_1?u.default.battery<f.default.BATTERY_LOW_THRESHOLD_2?2:1:0;this.state={lowBatteryWarning:u.default.plugged?0:t,notifyPermission:window.Notification&&window.Notification.permission,showNotify:!1,bannerDisplayed:!1};var a=()=>{this.batteryUpdate(!0)};e.listeners.add(u.default,"change:plugged",a),e.listeners.add(u.default,"change:battery",a),e.listeners.add(y.default,"change:noticeId",this.handleNoticeIdChange),e.listeners.add(y.default,"change:banner change:blocking",this.handleNoticeBannerChange)}componentWillUnmount(){this._showNotifyTimer.cancel(),this._showBatteryTimer.cancel()}batteryUpdate(e){var t=this.state.lowBatteryWarning;u.default.plugged||u.default.battery>f.default.BATTERY_LOW_THRESHOLD_1?0!==t&&this.setState({lowBatteryWarning:0}):u.default.battery<=f.default.BATTERY_LOW_THRESHOLD_2?-2!==t&&(e?this._showBatteryTimer.onOrBefore(f.default.BATTERY_DELAY):2!==t&&this.setState({lowBatteryWarning:2})):t>-1&&u.default.battery<=f.default.BATTERY_LOW_THRESHOLD_1&&(e?this._showBatteryTimer.onOrBefore(f.default.BATTERY_DELAY):1!==t&&this.setState({lowBatteryWarning:1}))}render(){var e,t=null,a=null;switch(b.default.supportsFeature(b.default.F.MD_BACKEND),C.default.displayInfo){case C.StreamInfo.OFFLINE:t=d.createElement(R,{key:"bbar"});break;case C.StreamInfo.OPENING:case C.StreamInfo.CONNECTING:t=d.createElement(L,{key:"bbar"});break;case C.StreamInfo.NORMAL:break;case C.StreamInfo.RESUMING:case C.StreamInfo.TIMEOUT:var i=d.createElement(d.Fragment,null,_.default.t(851)," ",d.createElement(V,{action:B},_.default.t(794)));t=d.createElement(G,{type:"phone",key:"bbar",title:_.default.t(1086),text:i})}if(!t&&this.state.lowBatteryWarning>0&&(t=d.createElement(G,{type:"battery",key:"bbar",title:_.default.t(1084),text:_.default.t(412),dismissable:!0,onDismiss:this.dismissLowBatteryWarning})),!t&&C.default.needsUpdate){var r=d.createElement(V,null,_.default.t(433));t=d.createElement(G,{type:"update",key:"bbar",title:_.default.t(1348),text:r,action:this.onReload})}if(t)this.state.showNotify&&this._showNotifyTimer.onOrBefore(0,!1);else if(this.state.showNotify){if(window.Notification&&this.state.notifyPermission===f.default.PERMISSION_DEFAULT){var s=d.createElement(V,null,_.default.t(545));t=d.createElement(G,{type:"notification",key:"bbar",title:_.default.t(640),text:s,action:this.requestPermissions})}}else this._showNotifyTimer.onOrBefore(f.default.NOTIFICATION_PROMPT_DELAY,!0);if((null===(e=y.default.banner)||void 0===e?void 0:e.text)&&this._shouldShowBanner()){var n,{iconDescription:o,text:c,iconSvg:u}=y.default.banner;u&&(n="light"===this.context.theme?u.light:u.dark),a=d.createElement(G,{type:"notice",key:"noticebbar",text:c,iconSvg:n,iconDescription:null!=o?o:""})}return d.createElement(N.default,{transitionName:"butterbar",className:l.default.container},d.createElement(d.Fragment,null,a,t))}}k.CONCERNS={stream:["displayInfo","needsUpdate"],notice:["noticeId","blocking","banner"]},k.contextType=T.default;var x=(0,E.default)((0,S.default)(k,k.CONCERNS));function G(e){var t=e.action||null,a=(0,s.default)(l.default.butterbar,{[l.default.action]:t,[l.default.computer]:"computer"===e.type,[l.default.phone]:"phone"===e.type,[l.default.notification]:"notification"===e.type,[l.default.battery]:"battery"===e.type,[l.default.update]:"update"===e.type,[l.default.notice]:"notice"===e.type&&!u.default.isSMB,[l.default.noticeSmb]:"notice"===e.type&&u.default.isSMB}),i={computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",battery:"alert-battery",update:"alert-update",notice:"alert-notice"},r=e.onDismiss?d.createElement("div",{className:l.default.controls},d.createElement(M.default,{name:"x",onClick:e.onDismiss})):null,n=e.title?d.createElement("div",{className:l.default.title},e.title):null,o=d.createElement(M.default,{name:i[e.type],ariaLabel:e.iconDescription}),c=e.iconSvg&&(0,h.sanitizeNoticeSVG)(e.iconSvg),f=c?d.createElement("span",{"aria-label":e.iconDescription,dangerouslySetInnerHTML:{__html:c}}):o,p="notice"===e.type?d.createElement(m.FlexRow,{className:l.default.noticeSvgWrapper,align:"center",justify:"center"},f):d.createElement(M.default,{name:i[e.type]});return d.createElement("div",{className:l.default.wrapper},d.createElement("div",{className:a,onClick:t},d.createElement("div",{className:l.default.icon},p),d.createElement("div",{className:l.default.body},n,e.text?"notice"===e.type?d.createElement("div",{dangerouslySetInnerHTML:{__html:(0,h.sanitizeNoticeText)(e.text)},className:l.default.text}):d.createElement("div",{className:l.default.text},e.text):null),r))}function U(){c.default.closeModal()}function F(){switch(P.default.browser){case f.default.BROWSER_TYPE.CHROME:return(0,p.openExternalLink)((0,g.getNotificationChromeFaqUrl)());case f.default.BROWSER_TYPE.FIREFOX:return(0,p.openExternalLink)((0,g.getNotificationFirefoxFaqUrl)());case f.default.BROWSER_TYPE.SAFARI:return(0,p.openExternalLink)((0,g.getNotificationSafariFaqUrl)());case f.default.BROWSER_TYPE.OPERA:return(0,p.openExternalLink)((0,g.getNotificationOperaFaqUrl)());case f.default.BROWSER_TYPE.EDGE:return(0,p.openExternalLink)((0,g.getNotificationEdgeFaqUrl)());default:return(0,p.openExternalLink)((0,g.getNotificationChromeFaqUrl)())}}function B(){(0,p.openExternalLink)((0,g.getCannotConnectFaqUrl)())}function V(e){return d.createElement("span",{className:l.default.actionLink},d.createElement("span",{className:l.default.actionText,onClick:e.action},e.children),d.createElement(M.default,{className:l.default.chevron,directional:!0,name:"chevron-right-text"}))}t.default=()=>d.createElement(x,{stream:C.default,notice:y.default})},dajfjhbgj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.rmrSticker=function(e,t,a){a||(__LOG__(4,!1,new Error)(c()),SEND_LOGS("media-fault: rmr called on MediaObject without sticker"));return n.default.mediaUpload("sticker",a.id).tap(a=>{var i=a.sticker;if(200===a.status&&i){t.forEach(([e,t])=>{t||(e.directPath===i.directPath&&(__LOG__(4,!1,new Error)(l()),SEND_LOGS("rmrSticker:same-direct-path-after-rmr")),e.clientUrl=i.url,e.filehash=i.filehash,e.width=i.width,e.height=i.height,e.mediaKey=i.mediaKey,e.mediaKeyTimestamp=0,e.directPath=i.directPath,e.uploadhash=i.encFilehash,i.mimetype&&(e.mimetype=i.mimetype))});var r=e.addEntry({url:i.url,mediaKey:i.mediaKey,mediaKeyTimestamp:0,uploadHash:i.encFilehash,type:s.default.STICKER,directPath:i.directPath});r&&r.markWhetherOnServer(!0)}})},t.rmrStickerPack=function(e,t,a){a||(__LOG__(4,!1,new Error)(d()),SEND_LOGS("media-fault: rmr called on MediaObject without stickerPack"));return n.default.mediaUpload("sticker-pack",a.id).tap(a=>{var i=a.stickerPack;if(200===a.status&&i){t.forEach(([e,t])=>{t||(e.directPath===i.directPath&&(__LOG__(4,!1,new Error)(o()),SEND_LOGS("rmrStickerPack:same-direct-path-after-rmr")),e.url=i.url,e.filehash=i.filehash,e.mediaKey=i.mediaKey,e.mediaKeyTimestamp=0,e.directPath=i.directPath,e.uploadhash=i.encFilehash,i.mimetype&&(e.mimetype=i.mimetype))});var r=e.addEntry({url:i.url,mediaKey:i.mediaKey,mediaKeyTimestamp:0,uploadHash:i.encFilehash,type:s.default.IMAGE,directPath:i.directPath});r&&r.markWhetherOnServer(!0)}})};var r=i(a("dfadhaifh")),s=i(a("bihjffdjjj")),n=i(a("cfidecfjad"));function o(){var e=(0,r.default)(["Assertion failed!"]);return o=function(){return e},e}function d(){var e=(0,r.default)(["Assertion failed!"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["Assertion failed!"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["Assertion failed!"]);return c=function(){return e},e}},dajheaeehj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=i(a("ddhijeejag"));t.default=(e,t)=>{var a,i;return i=a=class extends n.Component{render(){return n.createElement(e,(0,s.default)({},this.props,t))}},a.displayName="Wrapper(".concat(e.displayName||e.name,")"),i}},dajjecgida:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("bdjjabfecc")),l=r(a("dcdbbhicce")),c=r(a("dfcdhcfbed")),u=r(a("dgdcjccfdi")),f=o.default.MSG_TYPE;class h extends n.PureComponent{render(){var e,t,a,{msg:i}=this.props,r=i.ack,l=i.isMedia&&!i.caption&&!i.isViewOnce&&i.type!==f.AUDIO||i.type===f.LOCATION&&!i.loc&&!i.isLive;return r<o.default.ACK.SENT?(e="msg-time",t=d.default.t(9)):r===o.default.ACK.SENT?(e="msg-check",t=d.default.t(11)):r===o.default.ACK.RECEIVED?(e="msg-dblcheck",t=d.default.t(8)):(e="msg-dblcheck",t=d.default.t(10),a=c.default.ackBlue),n.createElement(u.default,{ariaLabel:" ".concat(t," "),name:e,className:(0,s.default)(a,{[c.default.light]:l})})}}h.CONCERNS={msg:["ack","isMedia","isViewOnce","caption","type","loc","isLive"]};var p=(0,l.default)(h,h.CONCERNS);t.default=p},dbaedajgf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("caegbedegd")),o=(0,i(a("ceggedffg")).default)(/^(\w*)\b/g);t.default=class extends o{static jsx(e,t,{selectable:a=!1}){return s.createElement(n.default,{selectable:a},e)}}},dbagfiiic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.parseBusinessProfile=t.CATALOG_EXISTS=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("dagbcgeifg")),o=a("defecifdhg"),d=a("bechdajic"),l=i(a("ejegihaeh")),c=i(a("dhigahgdjb"));function u(){var e=(0,s.default)(["Store:BusinessProfile:missing catalog"]);return u=function(){return e},e}t.CATALOG_EXISTS="catalog_exists";t.parseBusinessProfile=({profile:e,id:t})=>{var a;if(!e)return{id:t};var{business_hours:i,catalog_status:s,structured_address:f,profile_options:h}=e,p=(0,n.default)(e,["business_hours","catalog_status","structured_address","profile_options"]),g={};return i&&(g.businessHours=(({config:e})=>{var t={};return e.forEach(e=>{var{day_of_week:a,mode:i}=e;if(i===d.BUSINESS_HOUR_MODES.SPECIFIC_HOURS){var{open_time:r,close_time:s}=e;t[a]||(t[a]={mode:i,hours:[]}),null!=r&&null!=s&&t[a].hours&&t[a].hours.push([r,s])}else t[a]={mode:i}}),{config:t}})(i)),h&&(g.profileOptions={commerceExperience:h.commerce_experience}),(s&&"catalog_exists"===s||(null===(a=g.profileOptions)||void 0===a?void 0:a.commerceExperience)===d.COMMERCE_EXPERIENCE_TYPES.CATALOG)&&(g.catalogStatus=s,l.default.findCarouselCatalog(t).then(e=>{var a=Array.isArray(e)?e[0]:e;c.default.assertGet(t).businessCatalog=a}).catch(()=>__LOG__(3)(u()))),f&&(g.structuredAddress={streetAddress:f.street_address,cityId:f.city_id,localizedCityName:f.localized_city_name,zipCode:f.zip_code}),(0,r.default)((0,r.default)((0,r.default)((0,r.default)({},o.DEFAULTS),p),g),{},{id:t})}},dbbaabdabi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ConversionTupleExpiry=t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("bfefjaegfe")),o=r(a("djheacfeif")),d=i(a("dcaifjegcg")),l=r(a("cfadcbbiie")),c=r(a("jccfhaecf"));function u(){var e=(0,s.default)(["Invalid conversionTuple timer"]);return u=function(){return e},e}t.ConversionTupleExpiry=604800;class f extends d.default{constructor(...e){super(...e),this.id=(0,d.prop)(),this.conversionData=(0,d.prop)(),this.conversionSource=(0,d.prop)(),this.timestamp=(0,d.prop)(()=>l.default.globalUnixTime()),this.alarmId=(0,d.session)()}initialize(){super.initialize(),this.listenTo(this,"change:timestamp",this._setExpiryTimer),this._setExpiryTimer()}_setExpiryTimer(){var e=this.timestamp+604800;if(e<0)return __LOG__(3)(u()),void this.delete();this.alarmId=o.default.setLocalTimeout(()=>{this.delete()},1e3*e,this.alarmId)}_clearAlarm(){this.alarmId&&(o.default.clearTimeout(this.alarmId),this.alarmId=void 0)}elapsedSeconds(){return l.default.globalUnixTime()-this.timestamp}formatTuple(){var e={conversionDelaySeconds:this.elapsedSeconds()};return this.conversionData&&(e.conversionData=this.conversionData),this.conversionSource&&(e.conversionSource=this.conversionSource),e}toJSON(){var e=this.serialize(),t=e.conversionData;if(t instanceof ArrayBuffer){var a=new n.default(t);e.conversionData=a.readString(t.byteLength)}return e}delete(){super.delete(),this.getCollection().remove(this.id),this._clearAlarm()}getCollection(){return a("ccbihadedf").default}}f.Proxy="conversionTuple",f.idClass=c.default;var h=(0,d.defineModel)(f);t.default=h},dbbcbbihjf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={shouldAnimate:!0}},dbbehiiecb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("chdfefgec")),o=i(a("dcdbbhicce"));class d extends s.Component{render(){var{msg:e}=this.props;return s.createElement(n.default,{msg:e,chat:e.chat,author:this.props.contact.formattedShortName,searchText:this.props.searchText,onClick:this.props.onClick,active:this.props.active,key:e.id.toString()})}}d.CONCERNS={msg:["id","chat"],contact:["formattedShortName"]};var l=(0,o.default)(d,d.CONCERNS);t.default=l},dbbfeecced:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ceggedffg")),o=i(a("ijhhjedi")),d=(0,n.default)(/(^|\b|\s)(((#|t|T|d|D|p|P|s|S)([0-9]{3,16}))|([0-9a-fA-F]{8,40}))(?=$|\b)/g,2,(function(e){var[,t,,,,,a]=e;if(a&&(!l.test(a)||!c.test(a)))return null;t&&(e.index+=t.length,e[0]=e[0].slice(t.length));return e}));t.default=class extends d{static jsx(e,t,{selectable:a=!1}){var i=function([,,,,e,t,a]){if(a)return"".concat("https://internalfb.com/intern/bunny/?q=hash%20").concat(a.toLowerCase());switch(e){case"T":case"t":case"#":return"".concat("https://internalfb.com/intern/tasks/?t=").concat(t);case"D":case"d":return"".concat("https://internalfb.com/intern/diff/D").concat(t);case"P":case"p":return"".concat("https://internalfb.com/intern/paste/P").concat(t);case"S":case"s":return"".concat("https://internalfb.com/intern/sevmanager/view/s/").concat(t);default:return"".concat("https://internalfb.com/intern/").concat(e).concat(t)}}(t);return s.createElement(o.default,{href:i,selectable:a},e)}};var l=/[a-fA-F]/,c=/[0-9]/},dbbggghaed:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t,a){var i;i=s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.resolve({_duplicate:!1}):n.default.sendConversationClear(e.id,t,!a).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e});return i};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},dbbhhgjjbg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendTextMsgToChat=function(e,t,a={}){return function(e,t,a={}){var i=(t||"").trim(),{linkPreview:b,quotedMsg:v,mentionedJidList:_,quotedMsgAdminGroupJid:E,selectedId:j,selectedIndex:y,ctwaContext:S}=a;if(""===i)return Promise.resolve();(0,h.clearPresence)(e);var C=e.id,M=(0,d.getMaybeMeUser)(),T=void 0;l.default.supportsFeature(l.default.F.MD_BACKEND)||(T=void 0);var P,O=new f.default({from:M,to:C,id:(0,p.default)(),participant:T,selfDir:"out"});v?P=v.msgContextInfo(e.id):E&&(P={quotedRemoteJid:E});var N=(0,s.default)({id:O,body:i,type:"chat",subtype:b&&!(0,r.default)(b)?"url":null,t:n.default.globalUnixTime(),from:M,to:C,self:"out",local:!0,ack:o.default.ACK.CLOCK,urlText:e.urlText,urlNumber:e.urlNumber},b||{},P||{},{mentionedJidList:_},{ctwaContext:S});e.urlText&&(e.urlText=void 0);e.urlNumber&&(e.urlNumber=void 0);null!=y&&(N.type="template_button_reply",N.selectedId=j,N.selectedIndex=y);if(m.default.ephemeralMessages&&N.type!==o.default.MSG_TYPE.PROTOCOL){e.isEphemeralSettingOn()&&(N.ephemeralDuration=e.getEphemeralSetting());var I=e.getEphemeralSettingTimestamp();null!=I&&(N.ephemeralSettingTimestamp=I)}var A=new u.default(N);return(0,c.storeMessages)([N],e.id).then(()=>{var t=(0,g.sendMsgRecord)(A);return e.msgs.add(A),t})}((0,b.unproxy)(e),t,a)};var r=i(a("bebajedcaf")),s=i(a("ddfeabiaci")),n=i(a("cfadcbbiie")),o=i(a("hgigjbgie")),d=a("ddbdgibbbi"),l=i(a("bhbdiadfhj")),c=a("ecdfgaagba"),u=i(a("cbcbdjdah")),f=i(a("cffajefeag")),h=a("icbibjcg"),p=i(a("cfejjfjhca")),g=a("bdgehigfig"),m=(a("dgbddfjdhi"),i(a("bfgbdiffgd"))),b=a("cjfegjecaj")},dbbhijehii:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.ThemeOptions=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("dicggaeied")),l=r(a("cihbhcbfj")),c=r(a("bcjdeebege")),u=r(a("chhifjcdie")),f=a("dhegcfddhg"),h=r(a("bejgabcbdi")),p=r(a("chgaccicf")),g=r(a("bjfecgfdgj")),m=r(a("diffaiehid")),b=r(a("cgjdibiahi")),v=r(a("didfdhbecg")),_=(0,p.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null});t.ThemeOptions=_;var E={omitted:"",query:"",emojiList:null};class j extends n.Component{constructor(...e){super(...e),this.state=E,this.onEmoji=e=>{g.default.increment(e),this.props.plugin.handleSelect(e)},this.onSearch=e=>{var t=e?e.trim():e,a=this.state.omitted,{chat:i}=this.props;if(i&&i.isGroup&&t&&t.includes("@"))this.setState({emojiList:null,query:""});else if(!a||!t.startsWith(a))if(t.length<2){if(!this.state.emojiList)return;this.setState({emojiList:""===t?null:(0,d.default)(t),query:t})}else{var r=(0,d.default)(t);r.length?this.setState({omitted:null,emojiList:r,query:t}):this.setState({emojiList:null,query:t})}},this.onInactive=()=>{this.setState(E)},this.onEscape=()=>{this.setState({emojiList:null,query:"",omitted:this.state.query})},this.onKeyPress=e=>{e.preventDefault();var{chat:t}=this.props;t&&o.default.pasteChatTextInput(t,String.fromCharCode(e.charCode))},this.onKeyDown=e=>("Backspace"===e.key&&(e.preventDefault(),document.execCommand("delete"),this.props.plugin.ctx.focus()),!1),this.onEnter=e=>{if(!(0,h.default)(e)){var t=this.emojiSuggestionsPanel;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0}},this.onLeft=e=>{if(!(0,h.default)(e)){var t=this.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())}},this.onRight=e=>{if(!(0,h.default)(e)){var t=this.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())}},this.releaseFocus=()=>{this.props.plugin.ctx.focus()}}componentDidMount(){var e=this.props.plugin;e.registerHandler(this,u.default.EMOJI_SEARCH,this.onSearch),e.registerHandler(this,u.default.EMOJI_INACTIVE,this.onInactive),e.registerHandler(this,u.default.EMOJI_ENTER,this.onEnter),e.registerHandler(this,u.default.EMOJI_LEFT,this.onLeft),e.registerHandler(this,u.default.EMOJI_RIGHT,this.onRight),e.registerHandler(this,u.default.EMOJI_TAB,this.onEnter)}componentWillUnmount(){var e=this.props.plugin;e.unregisterHandler(this,u.default.EMOJI_SEARCH),e.unregisterHandler(this,u.default.EMOJI_INACTIVE),e.unregisterHandler(this,u.default.EMOJI_ENTER),e.unregisterHandler(this,u.default.EMOJI_LEFT),e.unregisterHandler(this,u.default.EMOJI_RIGHT),e.unregisterHandler(this,u.default.EMOJI_TAB)}renderTab(e){return n.createElement("div",{className:l.default.searchBody,key:"RECENT"},n.createElement(c.default,{ref:(0,f.GetRef)("emojiSuggestionsPanel",this),key:this.state.query,onEmoji:this.onEmoji,onFocusRelease:this.onInactive,onSkinTonePicker:this.props.onSkinTonePicker,emojiList:e}))}render(){var e=this.state.emojiList,t=e?n.createElement(b.default,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:this.onEscape,requestFocus:this.releaseFocus},n.createElement("div",{className:(0,s.default)(l.default.overlayContainer,{[l.default.mediaCaption]:this.props.theme===_.MEDIA_CAPTION,[l.default.emojiInput]:this.props.theme===_.EMOJI_INPUT})},n.createElement("div",{className:l.default.resultsContainer,"data-list-scroll-container":"false"},n.createElement("div",{className:l.default.emojiSearch,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown},this.renderTab(e))))):null;return n.createElement(v.default,{component:"div",className:l.default.positioningContainer,transitionName:"emoji-search-panel-slide-up"},t)}}var y=j;t.Component=y;var S=(0,m.default)(j);t.default=S},dbcacdfhae:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dejjbighbf")),o=i(a("cadjefbajf")),d=i(a("ccbgfecegc")),l=r(a("cajijabhgb")),c=r(a("dciajcgfie")),u=i(a("bdjjabfecc")),f=r(a("dcecgegjfc")),h=a("cadfgefaja"),p=i(a("dhccahhefj")),g=a("cjfegjecaj"),m=i(a("dgdcjccfdi"));class b extends s.PureComponent{constructor(...e){super(...e),this._handleClick=e=>{this._checkForDrawerMid(e)},this._handleDropdownCaptureClick=()=>{this._openCaptureFlow()}}_checkForDrawerMid(e){d.default.existsDrawerMid(t=>{t&&e.preventDefault()})}_openCaptureFlow(){var e=this.props.chat,t=f.start("camera");Promise.race([t,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(t=>{t&&d.default.openDrawerMid(s.createElement(o.default,{chat:(0,g.unproxy)(e),stream:t,onCaptureSent:()=>{this.props.onMenuComplete&&this.props.onMenuComplete(!0,!1)}}),"slide-up",this.context.uim,{noFocus:!0})}).catchType(l.Unmount,()=>{t.then(e=>f.stop(e)).catch(()=>{})}).catchType(l.GUM.NotAllowedError,()=>{d.default.openModal(s.createElement(c.default,{messaging:c.Messaging.CAMERA_FAIL,type:c.default.TYPE.GUIDE_UNBLOCK}))}).catchType(l.GUM.GUMError,()=>{d.default.openModal(s.createElement(c.default,{messaging:c.Messaging.CAMERA_MISSING,type:c.default.TYPE.GUIDE_NONE}))})}render(){return s.createElement(h.MenuBarItem,{a8nText:"conversation-clip",icon:s.createElement(m.default,{name:"clip"}),title:u.default.t(880),transitionName:"menu",onClick:this._handleClick},s.createElement(n.default,{chat:this.props.chat,onCaptureClick:this._handleDropdownCaptureClick,getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}))}}var v=(0,p.default)(b);t.default=v},dbcaichhbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=r(a("ecegjefcbc")),o=i(a("ieaejaeia")),d=a("cbhhehcjbb");class l extends s.Component{render(){var e,t=this.props.emojis,a=t?t.length:0;if(0===a)return null;switch(a){default:case 3:e=n.SIZE.MEDIUM;break;case 2:e=n.SIZE.LARGE;break;case 1:e=n.SIZE.XLARGE}var i=t.map((t,a)=>s.createElement(n.default,{animation:this.props.animation,size:e,emoji:t,key:t+a,selectable:!0}));return s.createElement(d.SelectableDiv,{selectable:!0,className:o.default.wrapper},i)}}t.default=l},dbcdhigc:function(e,t){e.exports={preview:"Y2pgK"}},dbcedfihd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findLinks=function(e,t=!1,a){if(!O.test(e))return[];P.lastIndex=0;var i,r=[];for(;i=N(e);){var s=A(i,t,a);s&&r.push(s)}return r},t.findLink=I,t.validateEmail=function(e){var t=I(e);return t&&t.url===e&&"mailto:"===t.scheme&&t.username&&!t.params&&!t.anchor?t:null};var r=i(a("dfadhaifh")),s=a("hjgjaddaj"),n=a("cjegdbihch"),o=i(a("bjigbaghc")),d=a("ddbdgibbbi"),l=a("hagbbjbah");function c(){var e=(0,r.default)(["text size: ",", error: ",""]);return c=function(){return e},e}var u=/^https?:\/\/$/gi,f="\\w|[^\\s\0-«»‘’“”]|%[0-9a-f][0-9a-f]",h="(?:".concat(f,")|(?:").concat(f,")(?:").concat(f,"|-)*(?:").concat(f,")"),p="(?!_)(?:(?:".concat(h,")\\.)+(?:").concat(l.TLD,")(?!\\.").concat(h,")"),g="(?:".concat(f,"|[^\\s%])"),m="/".concat(g,"*?"),b="[".concat("+@!.?,(\\[{<«‘“:","]*(?!").concat(g,"|#)"),v="\\?(?!".concat(b,")").concat(g,"*?"),_="#".concat(g,"*?"),E="\\b\\w[".concat("0-9a-z!#$%&'*+/=?^_`{|}~\\-","]*(?:\\.[").concat("0-9a-z!#$%&'*+/=?^_`{|}~\\-","]+)*"),j="(".concat("^|\\W\\.|[^/\\w.]|_",")(").concat("(?:http|https)://|mailto:",")?(").concat(E,"@)?(").concat(p,")(?:(?!").concat(h,")|(?=_))(?:(?=[^:/?#])|(").concat(":\\d{1,5}",")?(").concat(m,")?(").concat(v,")?(").concat(_,")?(?=").concat(b,"))"),y=6,S=7,C=8,M=new Map([[34,34],[41,40],[62,60],[93,91],[125,123],[187,171],[8217,8216],[8221,8220]]),T=new Map([[34,34],[40,41],[60,62],[91,93],[123,125],[171,187],[8216,8217],[8220,8221]]),P=new RegExp("".concat(j),"ig"),O=new RegExp("\\.(?:".concat(l.TLD,")"),"i");function N(e){try{return P.exec(e)}catch(t){return __LOG__(4,!1,new Error)(c(),e.length,String(t)),SEND_LOGS("linkify-regex-error"),null}}function I(e,t=!1,a){return P.lastIndex=0,A(N(e),t,a)}function A(e,t=!1,a){if(!e)return null;var i=e[1].length,r=e[0],l=e.index+i,{index:c}=e;if("_"===e[1]&&c-1&&/\S/.test(e.input[c-1]))return null;if(e[5]){var f=parseInt(e[5].slice(1),10);if("0"===e[5][1]||!(0<f&&f<65536))return null}var h=[C,S,y].find(t=>e&&e[t])||0;if(h){var p=[],g=e[h];"_"===g.slice(-1)&&"_"===r[l-1]&&(r=r.slice(0,-1),e[h]=g=g.slice(0,-1));for(var m=0,b=0,v=0;v<g.length;v++){var _=g.charCodeAt(v);_===b?0===(b=p.pop()||0)&&(m=v):T.has(_)?(0!==b&&p.push(b),b=T.get(_)):M.has(_)||0===b&&(m=v)}for(;0!==p.length;)p.pop();m!==g.length-1?(r=e.slice(2,h).filter(e=>e).join("")+g.slice(0,m+1),P.lastIndex=l+r.length):r=r.slice(i)}else r=r.slice(i);var E=r,j=e[2],O=Boolean(j&&j.match(u));if(t&&!O)return null;j?j=j.toLowerCase():(j=0===E.toLowerCase().indexOf("irc.")?"irc://":0===E.toLowerCase().indexOf("ftp.")?"ftp://":e[3]?"mailto:":"http://",E=j+E);var N=e[4],I=(0,d.getMaybeMeUser)();return{href:E,url:r,index:l,input:e.input,scheme:j,username:e[3],domain:N,port:e[5],path:e[y],params:e[S],anchor:e[C],isHttp:O,suspiciousCharacters:a&&I?(0,n.findSuspiciousCharacters)(N,(0,s.toJid)(a.user),(0,s.toJid)(I.user),o.default.allLanguages):void 0}}},dbcfhhdejc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnknownMsgText=function(e){return e.isSentByMe?r.default.t(1340):"phone"===e.subtype?r.default.t(1339):s.default.isElectron?r.default.t(1338):r.default.t(1341)},t.formatUnknownMsgNotification=function(e){return"phone"===e.subtype?r.default.t(1339):r.default.t(1341)};var r=i(a("bdjjabfecc")),s=i(a("bcjcbbafcj"))},dbdbehfcia:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"cggdjhhbaf",7)).then(e=>e.default),"StarredDrawer");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},dbdcaadggc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dgdjiicfdg")),n=i(a("ddhijeejag")),o=r(a("dbdfbgehgj")),d=r(a("ccbgfecegc")),l=r(a("bbfjdcedab")),c=r(a("hgigjbgie")),u=r(a("dhigahgdjb")),f=r(a("hhcjfgifh")),h=r(a("gfebgebbi")),p=a("cdhbdacigj"),g=a("bgihjbde"),m=i(a("cajijabhgb")),b=a("ddbdgibbbi"),v=r(a("fcfchiagj")),_=r(a("djaadchjch")),E=r(a("ccfbahfbeg")),j=r(a("chffigdgba")),y=r(a("bdjjabfecc")),S=a("dgjfidhijd"),C=r(a("jcacjdahc")),M=r(a("dhccahhefj")),T=r(a("dcdbbhicce")),P=r(a("dgdcjccfdi")),O=i(a("bjhgigfbec")),N=r(a("cfidecfjad")),I=a("dcbdjheea"),A=0,w=1,R=2;class D extends n.Component{constructor(...e){super(...e),this.state={state:A,status:void 0,groupMetadata:void 0,subject:void 0},this.onViewGroup=e=>{var t;e?t=e:this.state.groupMetadata&&(t=this.state.groupMetadata.id),t&&d.default.openChatFromUnread(o.default.assertGet(t)),d.default.closeModal()},this.revokeGrpV4Invite=()=>{var{msg:e}=this.props,{inviteGrp:t}=this.props.msg,a=o.default.assertGet((0,I.createWid)(t)).groupMetadata;d.default.openModal(n.createElement(l.default,{onOK:()=>{d.default.closeModal(),a.revokeGroupV4AddInvite([e.to.toString()]).then(()=>{d.default.openToast(n.createElement(O.default,{msg:y.default.t(1617),id:(0,O.genId)()}))})},okText:y.default.t(1710),onCancel:()=>d.default.closeModal(),cancelText:y.default.t(1497)},n.createElement(h.default,{text:y.default.t(726,{participant:e.chat.contact.formattedName})})))},this.onJoinGroup=()=>{var{inviteCode:e,inviteCodeExp:t,inviteGrp:a,from:i}=this.props.msg;N.default.acceptGroupV4Invite(a,i.toString(),e,String(t),(0,b.getMaybeMeUser)().toString()).then(e=>200===e.status?o.default.find((0,I.createWid)(a)):Promise.reject(e.status)).then(e=>{d.default.openChatFromUnread(e).then(t=>{t&&d.default.focusChatTextInput(e)}),d.default.closeModal()}).checkpoint(this.props.rejectOnUnmount()).catchType(m.Unmount,()=>{}).catch(e=>{this.setState({state:R,status:e})})},this.onCancel=()=>{d.default.closeModal()}}componentDidMount(){var{inviteCode:e,inviteCodeExp:t,inviteGrp:a,isSentByMe:i}=this.props.msg;if(i){var r=o.default.assertGet((0,I.createWid)(a));r.groupMetadata&&_.default.find(r.id).catchTypes(g.WebdDrop,m.ProtoVersionUndefined,()=>{}).finally(()=>{this.setState({status:200,groupMetadata:r.groupMetadata,subject:r.formattedTitle||r.name,state:w})})}else N.default.groupV4InviteRequestMetadataFind((0,b.getMaybeMeUser)().toString(),this.props.msg.from.toString(),e,String(t),a).then(e=>{if(null!=e.status&&e.status>=400)this.setState({status:e.status,state:R});else if(e.id){var t=new v.default({id:e.id,owner:e.owner,creation:e.creation,desc:e.desc,descId:e.descId,descOwner:e.descOwner,descTime:e.descTime,restrict:e.restrict,announce:e.announce,participants:e.participants});this.setState({status:200,groupMetadata:t,subject:e.subject,state:w})}else this.setState({status:e.status,state:R})}).catchType(m.Unmount,()=>{})}render(){var e,t,{msg:a}=this.props,{inviteGrp:i,inviteCodeExp:r,inviteCode:d,isGroupsV4InviteExpired:g,from:m,isSentByMe:v}=a,{state:_,status:M,groupMetadata:T,subject:O}=this.state,N={cancelText:y.default.t(677),onCancel:this.onCancel,onOK:void 0,okText:void 0};if(_===A)e=n.createElement(p.Loading,null);else if(_===w&&T){var R,D=T.participants,L=T.size||D.length,k=D.filter(e=>!!u.default.assertGet(e.id).name),x=T.desc?n.createElement("div",{className:E.default.metadataDesc},n.createElement(h.default,{text:T.desc})):null;R=k.length?n.createElement("div",{className:E.default.participantList},n.createElement("div",{className:E.default.participantsTitle},y.default.t(686,{count:L,_plural:L})," ","•"," ",y.default.t(679,{count:k.length,_plural:k.length})),n.createElement("div",{className:E.default.participantsContainer},k.map(e=>n.createElement("div",{key:e.id.toString(),className:E.default.participantWrapper},n.createElement(f.default,{id:e.id}),n.createElement(h.default,{className:E.default.participantText,text:e.contact.formattedName}))))):n.createElement("div",{className:E.default.emptyContentContainer},n.createElement("span",{className:E.default.participantsText},y.default.t(686,{count:L,_plural:L})),n.createElement("span",{className:E.default.contactsText}," ","•"," ",y.default.t(679,{count:k.length,_plural:k.length})));var G="w=".concat(encodeURIComponent((0,b.getMaybeMeUser)().toString()),"&g=").concat(encodeURIComponent(i),"&c=").concat(encodeURIComponent(d),"&e=").concat(encodeURIComponent(String(r)),"&a=").concat(encodeURIComponent(m.toString())),U="".concat(c.default.GROUP_V4_INVITE_ICON_URL,"?").concat(G);e=n.createElement("div",null,n.createElement("div",{className:E.default.metadataContainer},v?n.createElement(C.default,{size:82,wid:(0,I.createWid)(i)}):n.createElement(j.default,{fallbackSVG:"default-group",size:82,imgProps:{src:U}}),n.createElement("div",{className:E.default.metadataText},n.createElement(h.default,{className:E.default.metadataTitle,text:O}),x)),R);var F=o.default.get(T.id),B=!!F&&!F.isReadOnly;a.isSentByMe?(N.onOK=this.revokeGrpV4Invite,N.okText=y.default.t(1187)):B?(N.onOK=this.onViewGroup,N.okText=y.default.t(698)):g||(N.onOK=this.onJoinGroup,N.okText=y.default.t(683)),t=S.FlexModalType}else{var V;switch(M){case 401:V=y.default.t(672);break;case 404:V=y.default.t(673);break;case 410:V=y.default.t(674);break;case 419:V=y.default.t(675);break;default:V=y.default.t(676)}N.cancelText=y.default.t(1649),e=n.createElement("div",null,V)}var H,W,K,Y=_===w?n.createElement("div",{className:E.default.inviteExpiration},n.createElement(P.default,{name:"panel-recent",display:"inline",className:E.default.inviteExpirationIcon}),n.createElement("span",null,(H=parseInt(r,10),W=(0,s.default)(1e3*H).diff((0,s.default)()),K=Math.floor(W/36e5),W<=0?y.default.t(779):K<12?y.default.t(777,{time:(0,s.default)().local().format("LT")}):K<24?y.default.t(778,{number:1,_plural:1}):K<48?y.default.t(778,{number:2,_plural:2}):y.default.t(778,{number:3,_plural:3})))):null;return n.createElement(l.default,{cancelText:N.cancelText,onCancel:N.onCancel,onOK:N.onOK,okText:N.okText,type:t},e,Y)}}D.CONCERNS={msg:["id","to","inviteCode","inviteCodeExp","inviteGrp","isGroupsV4InviteExpired","from","chat","isSentByMe"]};var L=(0,T.default)((0,M.default)(D),D.CONCERNS);t.default=L},dbdfbgehgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChatCollection=void 0;var s=r(a("dfadhaifh")),n=r(a("bgeijhbbad")),o=r(a("jcfacighg")),d=r(a("iidhbgeed")),l=r(a("dbafiicfja")),c=r(a("bebajedcaf")),u=r(a("eaaagccfda")),f=i(a("cgcgbfbffj")),h=a("dfdebdgdei"),p=r(a("ebjaejiaba")),g=r(a("dfjfgdhbjj")),m=i(a("bjigbaghc")),b=r(a("hgigjbgie")),v=r(a("dhigahgdjb")),_=a("baccfdhebd"),E=a("bgihjbde"),j=a("bgabieacgg"),y=r(a("bihjahgcja")),S=a("ddbdgibbbi"),C=r(a("bijffg")),M=r(a("cffajefeag")),T=r(a("bechejbabh")),P=r(a("jdigiabic")),O=a("cjjjhbdicf"),N=a("dgacffdjd"),I=a("ebffbebefe"),A=r(a("difbicaihd")),w=r(a("fagbfehid")),R=a("dcjbdhhjge"),D=r(a("bacbhehedf")),L=r(a("jccfhaecf")),k=i(a("bgeajihhc"));function x(){var e=(0,s.default)(["ChatCollection:saveToCache save: ",""]);return x=function(){return e},e}function G(){var e=(0,s.default)(["ChatStore:resyncMessages resume dropped"]);return G=function(){return e},e}function U(){var e=(0,s.default)(["model:chat:resume error in processing checksum:",""]);return U=function(){return e},e}function F(){var e=(0,s.default)(["model:chat:resume error in processing reply:",""]);return F=function(){return e},e}function B(){var e=(0,s.default)(["model:chat:resume: deleted chat for ",""]);return B=function(){return e},e}function V(){var e=(0,s.default)(["model:chat:resume: cleared chat for ",""]);return V=function(){return e},e}function H(){var e=(0,s.default)(["ChatStore:resyncMessages resume success"]);return H=function(){return e},e}function W(){var e=(0,s.default)(["ChatStore:resyncMessages resume error ",""]);return W=function(){return e},e}function K(){var e=(0,s.default)(["ChatStore:resyncMessages"]);return K=function(){return e},e}class Y extends f.default{constructor(){super(),this.notSpam={},this.promises={sendUnstarAll:null},this._sortEnabled=!1,this.enableSortListener(),this.listenTo(k.default,"change:stream",()=>{k.default.stream===k.STREAM.RESUMING&&this.forEach(e=>{e.pendingMsgs=!1})}),this.listenToOnce(this,"sort",(0,u.default)(this.setIndexes,100))}enableSortListener(e){this._sortEnabled||(this.listenTo(this,"change:t change:pin change:shouldAppearInList",this.sort),e&&this.sort(),this._sortEnabled=!0)}disableSortListener(){this._sortEnabled&&(this.stopListening(null,null,this.sort),this._sortEnabled=!1)}setIndexes(){this.forEach((e,t)=>{e.initialIndex=t})}active(){var e=this.filter(e=>e.active)[0];return e||void 0}find(e){return super.find(e).then(e=>null==e?e:(0,_.createLocal)(e.id,{id:e.id.toString(),t:e.t,unreadCount:e.unreadCount,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:null!=e.changeNumberOldJid?e.changeNumberOldJid.toString():void 0,changeNumberNewJid:null!=e.changeNumberNewJid?e.changeNumberNewJid.toString():void 0,muteExpiration:e.muteExpiration}).then(()=>e))}_find(e){return Promise.resolve({id:e,createdLocally:!0})}_findQuery(e){var t=this,i={};return(0,j.find)(!!e.retry,i).then((function(e){if("preempted"===e)return Promise.reject("chats preempted");if(m.default.platform===m.PLATFORMS.IPHONE||m.default.platform===m.PLATFORMS.SMBI){var r=a("biecbbiiee").default;(0,c.default)(e)?r.trigger(b.default.COLLECTION_HAS_SYNCED):setTimeout(()=>{r.trigger(b.default.COLLECTION_HAS_SYNCED)},2500)}return t.trigger(b.default.COLLECTION_HAS_SYNCED,i),Promise.resolve(e)}))}sync(){this.findQuery({}).catchType(E.WebdDrop,()=>{});var e=a("biecbbiiee").default;return Promise.all([(0,D.default)(this,b.default.COLLECTION_HAS_SYNCED),e.hasSynced()])}getKeysForResyncMsgs(){return this.filter((function(e){return e.shouldAppearInList})).map((function(e){var t=e.getAckedPhoneProps(),a=e.lastReceivedKey;return a&&(t.id=a.id,t.fromMe=a.fromMe.toString(),t.participant=a.participant),t}))}resyncMessages(){__LOG__(2)(K());var e=this.getKeysForResyncMsgs();return(0,O.resyncMessages)(e).then(e=>{if(e.status>=400)return __LOG__(3)(W(),e.status),Promise.reject(new Error("ChatStore:resyncMessages resume error "+e.status));__LOG__(2)(H());try{this.disableSortListener(),e.data.forEach(e=>{if(e.disableUnreadAnchor=!1,e.firstUnreadKey=void 0,e.keys&&1===e.keys.length){var t=e.keys[0];e.firstUnreadKey=new M.default({id:t[0],fromMe:t[1],participant:t[2],remote:e.id})}if("delete"!==e.type&&!L.default.isPSA(e.id)){var a=v.default.get(e.id);if(a){if(e.name){var i={name:e.name};(0,R.updateLocal)(a.id,i).then(()=>{a.set(i)})}}else v.default.add({id:e.id,name:e.name})}var r=this.get(e.id);if(r)if("clear"===e.type){r.resetMediaMsgs();var s=[];r.msgs.forEach(e=>s.push(e)),r.msgChunks.length&&r.msgChunks.forEach(e=>{e.forEach(e=>s.push(e))}),r.set({t:e.t,unreadCount:e.unreadCount,createdLocally:!1,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,msgs:[],notSpam:e.notSpam,unreadMsgAnchor:void 0,disableUnreadAnchor:e.disableUnreadAnchor,pendingMsgs:e.pendingMsgs,pin:e.pin,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid,muteExpiration:e.muteExpiration,ephemeralDuration:e.ephemeralDuration,ephemeralSettingTimestamp:e.ephemeralSettingTimestamp}),s.forEach(e=>{e.delete()}),__LOG__(2)(V(),e.id)}else"delete"===e.type?(r.delete(),__LOG__(2)(B(),e.id)):r.set(e,{merge:!0});else this.add(e)}),this.enableSortListener(!0)}catch(e){__LOG__(3)(F(),String(e))}Promise.delay(100).then(()=>{e.checksum&&(0,N.resyncContacts)(e.checksum),e.statusChecksum&&a("bgcdajbhif").default.sync(e.statusChecksum),e.quickRepliesChecksum&&T.default.sync(e.quickRepliesChecksum),e.labelsChecksum&&C.default.sync(e.labelsChecksum),e.stickerPackChecksum&&w.default.sync(e.stickerPackChecksum),null!=e.recentStickersChecksum&&P.default.sync(e.recentStickersChecksum),null!=e.starredStickersChecksum&&A.default.sync(e.starredStickersChecksum)}).catch(e=>{__LOG__(3)(U(),String(e))})}).catchType(E.WebdDrop,(function(e){return __LOG__(3)(G()),Promise.reject(e)}))}unstarAllMessages(e,t){return(0,I.unstarAllMessages)(e,t)}forwardMessagesToChats(e,t){var i=a("dgjddffcfg"),r=Promise.map(e,e=>Promise.props({message:e,canForward:e.canForward()&&(null!=a("biecbbiiee").default.get(e.id)||e.isEphemeral)}));return Promise.map(t.filter(e=>e.canSend),e=>{var t;return t=e.isUser&&e.contact.isBlocked()?(0,h.unblockContact)(e.contact):Promise.resolve(!0),Promise.all([r,t]).spread(t=>{var a=(0,l.default)((0,d.default)(t,{canForward:!0}),"message"),i=(0,l.default)((0,d.default)(t,{canForward:!1}),"message");return Promise.props({chat:e,undelivered:e.forwardMessages(a,!0),canForward:a,cannotForward:i})})}).then(e=>{var t=(0,o.default)(e.map(({chat:e,undelivered:t,canForward:a,cannotForward:r})=>{var s=null;return(t.length||r.length)&&(s=i.formatForwardError({chat:e,undelivered:t,canForward:a,cannotForward:r})),s?{chat:e,reason:s}:null}));if(t.length)throw new y.default(t);return!0})}saveToCache(){if(m.default.shouldSaveToCache()){var{id:e}=Y.cachePolicy;__LOG__(2)(x(),String(e));var t=this.map((e,t)=>{var a=e.toJSON(),i=t<20?Math.min(e.unreadCount+20,50):Math.min(Math.max(3,e.unreadCount),20);return a.msgs=e.msgs?e.msgs.slice(-i).map(e=>(0,n.default)(e.toJSON(),e=>void 0!==e)):[],a});(0,S.setCollection)(e,t,!0)}}onResume(){var e=this.active();e&&e.presence.subscribe()}delete(){super.delete(),this.listenToOnce(this,"sort",(0,u.default)(this.setIndexes,100))}}t.ChatCollection=Y,Y.model=p.default,Y.comparator=g.default,Y.cachePolicy={id:"chat",policy:f.CACHE_POLICY.IMMEDIATE,trigger:"add sort remove reset change:id change:t change:unreadCount change:archive change:isReadOnly change:isAnnounceGrpRestrict change:modifyTag change:muteExpiration change:name change:notSpam change:pin change:changeNumberOldJid change:changeNumberNewJid change:lastReceivedKey change:msg:ack msgs:loadEarlier"};var q=new Y;t.default=q},dbefabiacb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getContactsToRemove=function(e){var t=[],i={};return e.forEach(e=>{e&&(i[e.id]=!0)}),r.default.forEach(e=>{var{id:r}=e;!(e.isUser||e.isGroup&&!a("dbdfbgehgj").default.get(r))||i[r.toString()]||e.isPSA||t.push(e)}),t};var r=i(a("dhigahgdjb"))},dbehedefbc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var r=i(a("djegeegcbf")),s=[""].concat(r.default.skinToneVariations);t.SKIN_TONE_VARIATIONS=s},dbehggadbi:function(e,t){e.exports={statusLoading:"_1rWBU"}},dbejeibfid:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cleanFilename=n,t.cleanIncomingFilename=function(e){if(!e)return e;var t=n(e);if(e!==t&&t){var a=t.split("."),i=a.length>=2&&a.pop();["bat","exe","cmd","com","lnk","pif","scr","vb","vbe","vbs","wsh","js","ps1","hta","sh","csh","msi","app","scpt","applescript","reg","vbe","wsf","sct"].includes(i)&&__LOG__(2,!0)(s(),i||"")}return t};var r=i(a("dfadhaifh"));function s(){var e=(0,r.default)(["cleanIncomingFilename:extension: ",""]);return s=function(){return e},e}function n(e){if(!e)return e;var t=e.replace(/[\u202a-\u202e\u2066-\u2069\u200E\u200F\u061C]/g,"�"),a=t.split(".");if(1===a.length)return t;for(var i=a.length-1;i>0;i--){var r=a[i].trim();if(r.length)return a.slice(0,i).join(".")+"."+r}return t}},dbficigadj:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.useRef();r.useEffect(()=>{a.current=e},[e]),r.useEffect(()=>{if(null!=t){var e=setInterval((function(){a.current&&a.current()}),t);return()=>clearInterval(e)}},[t])};var r=i(a("ddhijeejag"))},dbfiijcdie:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("cccehdaiaf"));function n(){var e=(0,r.default)(["Your browser does not support fullscreen API."]);return n=function(){return e},e}function o(){var e=(0,r.default)(["document object does not exist"]);return o=function(){return e},e}function d(){var e=(0,r.default)(["Your browser does not support fullscreen API."]);return d=function(){return e},e}function l(){var e=(0,r.default)(["document object does not exist"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["Your browser does not support fullscreen API."]);return c=function(){return e},e}function u(){var e=(0,r.default)(["document object does not exist"]);return u=function(){return e},e}function f(){var e=(0,r.default)(["Your browser does not support fullscreen API."]);return f=function(){return e},e}function h(){var e=(0,r.default)(["document object does not exist"]);return h=function(){return e},e}function p(){var e=(0,r.default)(["Your browser does not support fullscreen API."]);return p=function(){return e},e}function g(){var e=(0,r.default)(["document object does not exist"]);return g=function(){return e},e}function m(){var e=(0,r.default)(["Your browser does not support fullscreen API."]);return m=function(){return e},e}function b(){var e=(0,r.default)(["The element requesting fullscreen is null or undefined."]);return b=function(){return e},e}var v,_,E={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},j=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],y=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],S=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"];class C extends s.default{constructor(){super(),this.requestFullscreen=e=>{e?v?e[v[E.requestFullscreen]]():__LOG__(3)(m()):__LOG__(3)(b())},this._fullscreenChangeTrigger=e=>{this.trigger("fullscreen_change",e)},this._fullscreenErrorTrigger=e=>{this.trigger("fullscreen_error",e)},"object"==typeof window&&"object"==typeof window.document?("fullscreenEnabled"in(_=window.document)?v=Object.keys(E):j[E.fullscreenEnabled]in _?v=j:y[E.fullscreenEnabled]in _?v=y:S[E.fullscreenEnabled]in _&&(v=S),v?(_.addEventListener(v[E.fullscreenchange],this._fullscreenChangeTrigger),_.addEventListener(v[E.fullscreenerror],this._fullscreenErrorTrigger)):__LOG__(3)(p())):__LOG__(3)(g())}get exitFullscreen(){return _?v?_[v[E.exitFullscreen]].bind(_):(__LOG__(3)(f()),()=>{}):(__LOG__(3)(h()),()=>{})}get isFullscreenMode(){return _?v?!!_[v[E.fullscreenElement]]:(__LOG__(3)(c()),!1):(__LOG__(3)(u()),!1)}get fullscreenEnabled(){return _?v?Boolean(_[v[E.fullscreenEnabled]]):(__LOG__(3)(d()),!1):(__LOG__(3)(l()),!1)}get fullscreenElement(){if(_){if(v)return _[v[E.fullscreenElement]];__LOG__(3)(n())}else __LOG__(3)(o())}}var M=new C;t.default=M},dbfjecijha:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgLoadState=void 0;var s=r(a("dfadhaifh")),n=r(a("cgeeeeddea")),o=r(a("cgcgbfbffj")),d=i(a("dcaifjegcg")),l=r(a("cbcbdjdah"));function c(){var e=(0,s.default)(["Replacing cmc msgLoadState with one whose noEarlierMsgs is true.\n",""],["Replacing cmc msgLoadState with one whose noEarlierMsgs is true.\\n",""]);return c=function(){return e},e}function u(){var e=(0,s.default)(["noEarlierMsgs changed to true\n",""],["noEarlierMsgs changed to true\\n",""]);return u=function(){return e},e}class f extends d.default{constructor(...e){super(...e),this.noEarlierMsgs=(0,d.prop)(),this.isLoadingEarlierMsgs=(0,d.prop)(),this.isLoadingRecentMsgs=(0,d.prop)(),this.isLoadingAroundMsgs=(0,d.prop)(),this.contextLoaded=(0,d.prop)()}}f.Proxy="msgLoad";var h=(0,d.defineModel)(f);t.MsgLoadState=h;class p extends o.default{constructor(){super(),this.msgLoadState=new h({noEarlierMsgs:!1,isLoadingEarlierMsgs:!1,isLoadingRecentMsgs:!1,isLoadingAroundMsgs:!1,contextLoaded:!1}),this.listenTo(this,"add remove reset sort",this.triggerChangeLast),this.listenTo(this.msgLoadState,"change:noEarlierMsgs",(e,t)=>{if(t){var a=[(new Error).stack];__LOG__(2,!0)(u(),a.join("\n"))}})}delete(){this.stopListening(),super.delete(),this.msgLoadState.delete()}triggerChangeLast(e,t,a){var i=this.last();if(this._last!==i){this._last=i;var r=!1;t&&t.includes(e)&&a&&a.add&&!a.remove&&(r=!0),this.trigger("change:last",i,r)}}add(e,t){var i=super.add(e,t);return a("biecbbiiee").default.add(i,t).forEach(e=>{e&&this.isModel(e)&&(e.msgChunk=this)}),i&&this.trigger("bulk_add",i,t),i}remove(e,t={},a=!1){var i=super.remove(e,t),r=!!t&&t.silent,s=i.filter(e=>!!e);return s.length&&!r&&(this.trigger("remove_msgs",s,t),a||this.trigger("update_sort_time")),i}replace(e){e.msgLoadState.noEarlierMsgs&&__LOG__(2,!0)(c(),(new Error).stack),this.msgLoadState=e.msgLoadState,this.loadRecentPromise=e.loadRecentPromise,this.loadEarlierPromise=e.loadEarlierPromise,this.loadAroundPromise=e.loadAroundPromise;var t=e.getModelsArray();this.set(t,{silent:!0,merge:!1}),t.forEach(e=>{this.isModel(e)&&(e.msgChunk=this)}),this.trigger("bulk_add",t)}onMsgLoadStateChange(e){var t,a=()=>{e()},i=()=>{(0,n.default)(null!=t,"prevMsgLoadState cannot be null after bulk_add"),t.off("change",a);var i=this.msgLoadState;i.on("change",a),t=i,e()};(t=this.msgLoadState).on("change",a),this.on("bulk_add",i);var r=()=>{(0,n.default)(null!=t,"prevMsgLoadState cannot be null when unsubscribing"),this.off("bulk_add",i),t.off("change",a)};return()=>{var e=r;e&&(r=null,e())}}}t.default=p,p.model=l.default},dbfjeecgih:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{registerContainer(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}unregisterContainer(){delete this._containerAPI}triggerScroll(){this._listHandlers&&this._listHandlers.handleScroll()}triggerLayout(e){this._listHandlers&&this._listHandlers.handleLayout(e)}registerList(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}unregisterList(){delete this._listHandlers}getScrollFromStart(){if(this._containerAPI)return this._containerAPI.getScrollFromStart()}setScrollFromStart(e){this._containerAPI&&this._containerAPI.setScrollFromStart(e)}}},dbgeigbaja:function(e,t){e.exports={highRes:"_1JP65",wrapper:"_3UZaz",large:"_23Aiw",lowRes:"_2jP0y",medium:"_2l8OZ",xlarge:"_1r10j",animation:"_3AX5g",invisible:"_2zuWq",heartbeat:"R_W0J"}},dbgfcgihid:function(e,t,a){"use strict";(function(e){var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({msg:e,displayAuthor:t,displayType:a}){var i=null;e.type===l.default.MSG_TYPE.LIST||!e.isSentByMe&&e.subtype||(i=n.createElement("span",{className:g.default.action,role:"button",onClick:_},u.default.t(1342)));return n.createElement(h.default,{msg:e,displayAuthor:t},n.createElement(f.default,{iconName:"unknown",msg:e.unsafe()},(0,c.msgText)(e.unsafe())," ",i))};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dbhfachiij"),d=r(a("ccbgfecegc")),l=r(a("hgigjbgie")),c=a("dgjddffcfg"),u=r(a("bdjjabfecc")),f=r(a("bgdeabjbjd")),h=r(a("dgfgceghic")),p=i(a("bjhgigfbec")),g=r(a("iiaijgchh")),m=r(a("cbbhbjebii"));function b(){var e=(0,s.default)(["Got unsupported message but updater errored"]);return b=function(){return e},e}function v(){var e=(0,s.default)(["Got unsupported message but no newer release found"]);return v=function(){return e},e}function _(){if(e.mas||e.windowsStore)return m.default.manualDownload();d.default.openToast(n.createElement(p.default,{msg:u.default.t(1353),id:(0,p.genId)()})),m.default.update().then(e=>{e===o.DownloadState.UPDATE_NOT_AVAILABLE?(__LOG__(3)(v()),d.default.openToast(n.createElement(p.default,{msg:u.default.t(1050),id:(0,p.genId)()}))):e===o.DownloadState.UPDATE_DOWNLOADED?m.default.restart():__LOG__(3)(b())})}window.updater=m.default}).call(this,a("ddghcccjbh"))},dbgjiabiae:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TemplateButtonCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("bdcddabebc"));class n extends r.default{}t.TemplateButtonCollection=n,n.model=s.default,n.comparator=(e,t)=>e.id<t.id?-1:e.id>t.id?1:0;var o=n;t.default=o},dbhcghjhji:function(e,t){e.exports={tab:"_1E3sq",menu:"ug-ge",carousel:"_2QRuE",carouselEnd:"_1OxEz",selected:"_21RC3"}},dbhdgaebjb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryOrder=function(e,t,a,r){return(0,i.queryOrder)(e,t,a,r)};var i=a("bbcgaaied")},dbhhjaecch:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.bulkCreateOrUpdateContacts=function(){r.default.supportsFeature(r.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("bhbdiadfhj"))},dbibhcfcjc:function(e,t){e.exports={description:"_3c-5v",price:"cPulg",shareButton:"_1RJch",detailContainer:"VIV7l",catalogListItem:"_3HzoQ"}},dbifaefjhg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("cbjijeebhd")),l=r(a("dcdbbhicce")),c=r(a("dgdcjccfdi"));class u extends n.PureComponent{render(){var e,t,a=this.props.msg.ack;return a<o.default.ACK.SENT?e="status-time":a===o.default.ACK.SENT?e="status-check":a===o.default.ACK.RECEIVED?e="status-dblcheck":(e="status-dblcheck",t=d.default.ackBlue),n.createElement("div",{className:(0,s.default)(d.default.ack,t)},n.createElement(c.default,{name:e}))}}u.CONCERNS={msg:["ack"]};var f=(0,l.default)(u,u.CONCERNS);t.default=f},dbihbjdhgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GifPanel=void 0;var s=r(a("bebajedcaf")),n=r(a("hhegggegb")),o=r(a("ddfeabiaci")),d=i(a("ddhijeejag")),l=a("bdjbcfjgea"),c=i(a("cgejchjdhj")),u=a("bacfccchhf"),f=r(a("ddgejhgaf")),h=i(a("cfaeajeid")),p=r(a("bhbdiadfhj")),g=a("dhegcfddhg"),m=r(a("dhfbfehaef")),b=r(a("bfedhighcf")),v=r(a("hadcdcjij")),_=r(a("bdjjabfecc")),E=r(a("ebddggeaib")),j=r(a("bdcchebfge")),y=r(a("cahfddcdga")),S=r(a("cbaiicibei")),C=r(a("bcebgbcbbc")),M=r(a("didfdhbecg"));class T extends d.PureComponent{constructor(e){super(e),this.lastScrollTop=0,this.fastScroll=!1,this.lastClickTime=0,this._setGifPanelRef=e=>{this._gifPanelRef=e},this._sectionIds=h.ORDERED_TAB_SECTION_IDS,this.handleScroll=(0,n.default)(()=>{if(null==this.state.selectedSectionId&&this.state.searchText&&this.scrollContainer&&this._gifPanelRef)this._gifPanelRef.animateOnScroll(this.scrollContainer);else if(!(Date.now()-this.lastClickTime<l.SCROLL_CLICK_TIME_GAP)){var e={};if(this.state.isPreview&&(e.isPreview=!1),this.scrollContainer){var t=this.scrollContainer,a=t.scrollTop,i=a<=0;i!==this.state.scrolledToTop&&(e.scrolledToTop=i);var r=this.lastScrollTop-a,n=Math.abs(r)>l.INPUT_BAR_SCROLL_SENSITIVITY;this.fastScroll=Math.abs(r)>l.INPUT_BAR_SCROLL_FAST,r<0?this.state.showSearchInput&&(a>l.INPUT_HIDE_POINT&&n||this.lastScrollTop<l.INPUT_HIDE_POINT&&a>=l.INPUT_HIDE_POINT)&&(e.showSearchInput=!1):this.state.showSearchInput||(n||a<l.INPUT_SHOW_POINT)&&(e.showSearchInput=!0),this._gifPanelRef&&this._gifPanelRef.animateOnScroll(t),this.lastScrollTop=a,(0,s.default)(e)||this.setState(e)}}},l.SCROLL_THROTTLE_TIME),this.setRefSearchInput=e=>{this.searchInput=e},this.restoreFocus=e=>{this.focusSearchInput(e)},this.onRotateFocus=e=>{this.stopEvent(e),this.searchInputHasFocus()?this.props.onFocusRelease&&this.props.onFocusRelease():this.focusSearchInput()},this.stopEvent=e=>{e&&(e.preventDefault(),e.stopPropagation())},this.scrollGifIntoViewIfNeeded=e=>{this.scrollContainer&&e.offsetTop-this.scrollContainer.scrollTop<l.INPUT_BAR_TOTAL_HEIGHT&&c.scrollIntoView(e,!0,this.scrollContainer)},this.searchInputHasFocus=()=>!!this.searchInput&&this.searchInput.hasFocus(),this.focusSearchInput=e=>{if(!this.searchInput)return this.fastScroll=!0,void this.setState({showSearchInput:!0},()=>this.focusSearchInput(!0));this.searchInput.focus(e)},this.onGifSearchDown=e=>{this.stopEvent(e),this._gifPanelRef&&this._gifPanelRef.initSelection()},this.getSearchBox=()=>{var e=null;this.state.showSearchInput&&(e=d.createElement(S.default,{label:_.default.t(1197,{service:u.BRAND_NAMES[(0,u.gifProvider)()]}),onChange:this.onSearch,onDownKey:this.onGifSearchDown,ref:this.setRefSearchInput,shadow:!this.state.scrolledToTop,tabFocused:this.state.tabFocused,value:this.state.searchText||""}));var t=this.fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return d.createElement(M.default,{transitionName:t},e)},this.onSearch=(e,t)=>{this.stopEvent(t),null==this.state.searchText&&(this.scrollTopBeforeSearch=this.scrollContainer&&this.scrollContainer.scrollTop),this.props.onChange&&this.props.onChange(e,t),this.setState({searchText:e,tabFocused:!1})},this.preventBlur=e=>{this.stopEvent(e),this.restoreFocus()},this.handleParentContainerUp=e=>{var t,a=e&&e.nativeEvent.target,i=null===(t=this._gifPanelRef)||void 0===t?void 0:t.getStarredGifsRef(),r=a instanceof HTMLElement&&(null==i?void 0:i.isStarredGif(a)),s=a instanceof HTMLElement&&!!this._gifPanelRef&&this._gifPanelRef.contains(a);r?(this.focusSearchInput(),this.stopEvent(e)):s&&(null==i?void 0:i.hasGifs())?(this._gifPanelRef&&this._gifPanelRef.initSelection(!1),this.stopEvent(e)):s&&(this.focusSearchInput(),this.stopEvent(e))},this.handleDownArrow=e=>{var t,a=e&&e.nativeEvent.target,i=null===(t=this._gifPanelRef)||void 0===t?void 0:t.getStarredGifsRef();a instanceof HTMLElement&&(null==i?void 0:i.isStarredGif(a))?(this._gifPanelRef&&this._gifPanelRef.initSelection(!0),this.stopEvent(e)):a instanceof Node&&this._gifPanelRef&&this._gifPanelRef.contains(a)&&(this._gifPanelRef&&this._gifPanelRef.initSelection(!1),this.stopEvent(e))},this.handleTabKey=e=>{if(e.preventDefault(),e.stopPropagation(),this.searchInput)return this.searchInput.hasFocus()?void(this.props.onFocusNext&&this.props.onFocusNext()):this.focusSearchInput()},this.handleShiftTabKey=e=>{if(e.preventDefault(),e.stopPropagation(),this.searchInput)return this.searchInput.hasFocus()?void(this.props.onFocusPrev&&this.props.onFocusPrev()):this.focusSearchInput()},this.handleMenuTabClick=e=>{e===h.default.FAVORITES?this.setState({showSearchInput:!0,selectedSectionId:e,searchText:null,tabFocused:!0}):this.setState({showSearchInput:!0,selectedSectionId:e,searchText:e,tabFocused:!0})},this.renderGifTab=(e,t)=>d.createElement(C.default,{key:e,onClick:this.handleMenuTabClick,sectionId:e,selected:t});var t=(0,o.default)(this.props.displayCache||{},{scrollTop:0,showSearchInput:!0});p.default.supportsFeature(p.default.F.STARRED_GIFS)||(this._sectionIds=this._sectionIds.filter(e=>e!==h.default.FAVORITES)),this.state={isPreview:!t.scrollTop,scrolledToTop:0===t.scrollTop,searchText:this.props.defaultSearchText||null,searchResults:null,showSearchInput:t.showSearchInput,selectedSectionId:t.selectedSectionId||h.default.TRENDING,tabFocused:!1}}componentDidMount(){this.lastClickTime=Date.now();var e=this.props.displayCache&&this.props.displayCache.scrollTop;this.scrollContainer&&null!=e&&0!==e&&(this.scrollContainer.scrollTop=e),this.props.listeners.uiIdle(()=>{this.restoreFocus(),new j.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),this.setState({isPreview:!1})})}componentWillUnmount(){this.props.onDisplayCache({scrollTop:this.scrollContainer?this.scrollContainer.scrollTop:0,showSearchInput:this.state.showSearchInput,selectedSectionId:this.state.selectedSectionId}),this.handleScroll.cancel()}componentDidUpdate(e,t){if(t.searchText!==this.state.searchText){if(!this.scrollContainer)return;this.state.searchText?this.scrollContainer.scrollTop=0:null!=this.scrollTopBeforeSearch&&0!==this.scrollTopBeforeSearch&&(this.scrollContainer.scrollTop=this.scrollTopBeforeSearch)}}render(){var e=this.getSearchBox(),t=(this.state.searchText||"").replace(/^\s+/,"");return d.createElement(m.default,{handlers:{tab:this.handleTabKey,"shift+tab":this.handleShiftTabKey,up:this.handleParentContainerUp,down:this.handleDownArrow}},d.createElement(b.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderGifTab}),d.createElement("div",{className:v.default.gifPanel},d.createElement("div",{className:v.default.bodyContainer,onMouseDown:this.preventBlur},e,d.createElement("div",{className:v.default.panelBody,onScroll:this.handleScroll,ref:(0,g.GetRef)("scrollContainer",this)},d.createElement(f.default,{ref:this._setGifPanelRef,onGif:(0,y.default)(this.props.onGif,"this.props.onGif"),searchText:t,scrollGifIntoViewIfNeeded:this.scrollGifIntoViewIfNeeded,selectedSectionId:this.state.selectedSectionId})))))}}t.GifPanel=T;var P=(0,E.default)(T);t.default=class extends P{focusSearchInput(e){this.getComponent().focusSearchInput(e)}restoreFocus(e){this.getComponent().restoreFocus(e)}}},dbihfhidgd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.sectionId&&e.sectionId===n.default.FAVORITES)return s.createElement(d.default,{name:"panel-starred"});return s.createElement("span",{className:o.default.text},e.sectionTitle)};var s=r(a("ddhijeejag")),n=i(a("cfaeajeid")),o=i(a("cafbidhddf")),d=i(a("dgdcjccfdi"))},dbiiibeefc:function(e,t){e.exports={subheader:"_18Hcf",main:"GUP-t",closeBtn:"_3fDsY"}},dbjacfjdhg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("biheibdage")),n=i(a("cgcgbfbffj")),o=i(a("hgigjbgie")),d=r(a("cajijabhgb")),l=a("cgffhfegce"),c=i(a("bdjjabfecc")),u=i(a("gdjchhcha")),f=i(a("cieaaiahhf")),h=i(a("bfgbdiffgd")),p=i(a("dcaibchbg")),{IMAGE:g,VIDEO:m,DOCUMENT:b,AUDIO:v}=l.FILETYPE,{READY:_,ERROR:E,PROCESSING:j}=s.ATTACH_MEDIA_STATE,y=1;class S extends n.default{constructor({chatParticipantCount:e}){super(),this.errorMsgs=null,this.ignored=0,this.mediaPickerStatsLogger=new u.default,this.selection=new p.default([],e=>e.id,"prev"),this.mediaPickerStatsLogger.chatRecipients=e,this.listenTo(this.selection,"all",this._handleSelectionEvents.bind(this))}_handleSelectionEvents(e,t){"focus"!==t&&!1!==t||this.trigger("active-change")}removeSingleton(e,t){e&&(t||this.mediaPickerStatsLogger.logDelete(e.id),e.url&&window.URL.revokeObjectURL(e.url),e.original&&e.original.url&&window.URL.revokeObjectURL(e.original.url))}remove(e,t){var a=super.remove(e,t);return a.forEach(e=>this.removeSingleton(e,t)),this.selection.init(this.getPreviewableMedias(),!0),a}delete(){super.delete(),this.forEach(e=>this.removeSingleton(e)),this.selection.init(this.getPreviewableMedias(),!0)}reorder(e,t){return this.reorderMutate(e,t),this.selection.init(this.getPreviewableMedias(),!0),this.getPreviewableMedias()}replace(e,t){var a=this.get(e);if(a){var i=this.indexOf(a),r=a.caption;this.remove(a,{silent:!0}),a.delete();var n=new s.default({id:e,caption:r,file:this._normalizeAttachment(t)});return this.add(n,i?{at:i}:{}),n.processPromise}}getValidMedias(){return this.filter(e=>e.state===_||e.state===j)}getPreviewableMedias(){return this.filter(e=>e.previewable)}getActive(){return this.selection.getVal()}setActive(e){this.selection.setVal(e)}unsetActive(){this.selection.unset()}setNextAsActive(){var e=this.selection.list.length-1;return-1===this.selection.index||this.selection.index===e||this.selection.setNext(),this.selection.getVal()}setPrevAsActive(){return-1===this.selection.index||0===this.selection.index||this.selection.setPrev(),this.selection.getVal()}processAttachments(e,t){var a=this.getPreviewableMedias().length,i=e.length+a>o.default.MAX_FILES?Math.max(o.default.MAX_FILES-a,0):e.length,r=e.length-i;0===i?r&&this.trigger("max_upload_limit",r):this.ignore(r);var n=e.slice(0,i).map(e=>new s.default({id:y++,file:this._normalizeAttachment(e),fileOrigin:t}));this.add(n);var d=this.getActive();return this.unsetActive(),Promise.all(e).then(()=>{this._attemptToSetNextActiveFromAdded(n,d)}),Promise.map(n,e=>e.processPromise).then(()=>(n.forEach(e=>this._logMediaAdd(e,t)),this._attemptToSetNextActiveFromAdded(n,d)))}_attemptToSetNextActiveFromAdded(e,t){if(!this.getActive()&&!this.getModelsArray().some(e=>e.state===j&&!e.previewable)){var a=e.find(e=>e.previewable);a||(a=t),this.selection.init(this.getPreviewableMedias()),a&&this.setActive(a)}}_logMediaAdd(e,t){if(null!=t){var a=e.isGif?"gif":e.type;this.mediaPickerStatsLogger.logAdd(e.id,a,t)}}_normalizeAttachment(e){return Promise.resolve(e).then(e=>(e.filename||(e.filename=e.file.name),e.mimetype||(e.mimetype=e.file.type),e.type||(e.type=(0,l.typeFromMimetype)(e.file.type)),!e.type&&e.mimetype&&(e.type=(0,l.typeFromMimetype)(e.mimetype)),e))}ignore(e){e>0&&(this.ignored+=e)}uiProcessMsgs(){var e,t=[],a=0,i=0,r=0,s=0,n=0,l=0,u=0,p=0,_=0,y=0,S=0,C=!1,M=c.default.filesize(h.default.media),T=c.default.filesize(h.default.maxFileSize),P=c.default.filesize(1024*h.default.vcardMaxSizeKb);if(this.forEach(t=>{if(!t.uiProcessed&&(!e&&t.previewable&&(e=t),t.state!==j&&(t.uiProcessed=!0,t.state===E)))if(t.exception instanceof f.default)switch(t.getFileType()){case g:a+=1;break;case m:i+=1;break;case v:r+=1;break;case b:t.isVcardOverMmsDocument?n+=t.documentPageCount:s+=1}else if(t.exception instanceof d.MediaFileEmpty)switch(t.getFileType()){case g:l+=1;break;case m:u+=1;break;case v:p+=1;break;case b:t.isVcardOverMmsDocument?y+=t.documentPageCount:_+=1}else t.exception instanceof d.MediaFileFailedLoad?C=!0:S+=1}),a>0&&t.push(c.default.t(768,{number:a,_plural:a,maxSize:M})),i>0&&t.push(c.default.t(1384,{number:i,_plural:i,maxSize:M})),r>0&&t.push(c.default.t(219,{number:r,_plural:r,maxSize:M})),s>0&&t.push(c.default.t(517,{number:s,_plural:s,maxSize:T})),n>0&&t.push(c.default.t(475,{_plural:n,maxSize:P})),l>0&&t.push(c.default.t(760,{number:l,_plural:l})),u>0&&t.push(c.default.t(1382,{number:u,_plural:u})),p>0&&t.push(c.default.t(217,{number:p,_plural:p})),_>0&&t.push(c.default.t(516,{number:_,_plural:_})),y>0&&t.push(c.default.t(473,{number:y,_plural:y})),S>0&&t.push(c.default.t(614,{number:S,_plural:S})),C&&(t=[]).push(c.default.t(859)),t.length>1){t=[];var O=a+i+r+s,N=l+u+p+_,I=O+N+S;0===S?(0!==O&&t.push(c.default.t(615,{number:O,_plural:O,maxSize:T})),0!==N&&t.push(c.default.t(611,{number:N,_plural:N}))):t.push(c.default.t(613,{number:I,_plural:I}))}var A=t.join(" ");this.errorMsgs=A,this.ignore(this.getPreviewableMedias().length-o.default.MAX_FILES);var w=this.ignored;return this.ignored=0,w&&this.trigger("max_upload_limit",w),S>0&&this.trigger("files_not_supported"),{errorMsgs:A}}canSend(){return!this.getModelsArray().some(e=>e.state===j&&!e.previewable)}}t.default=S,S.model=s.default},dbjbdhhhea:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelItemParentType=void 0;var i=a("bjgidhichc").Mirrored(["Chat","Contact","Msg"]);t.LabelItemParentType=i},dbjchhfjhj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalAnimationDuration=c,t.default=function(e){var t=new Uint8Array(e);if(!m(t))return __LOG__(2)(l()),p;if(!b(t))return(0,r.default)((0,r.default)({},p),{},{emojis:g(t)});var a,i=0,s=44;for(;(0,n.default)(t.slice(s,s+4),h);){var o=s+20,d=t.slice(o,o+3);if(3!==d.length)return p;i+=u(d);var f=s+4,v=t.slice(f,f+4);if(4!==v.length)return p;s+=8+u(v),null==a&&(a=s)}var _=c(i),E=g(t);return{animationDuration:_,firstFrameLength:a,singleLoopDuration:i,emojis:E}},t.getCorrespondingEmojis=g,t.isExtendedFile=m,t.isAnimatedWebp=b,t.MAX_DURATION=t.MAX_LOOPS=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("bhacbjbjic"));function o(){var e=(0,s.default)(["Failed to parse emojis out of sticker, returning array."]);return o=function(){return e},e}function d(){var e=(0,s.default)(["JSON not found in sticker file"]);return d=function(){return e},e}function l(){var e=(0,s.default)(["Sticker file not extended format."]);return l=function(){return e},e}t.MAX_LOOPS=3;function c(e){if(0===e)return 0;var t=Math.min(Math.floor(5e3/e),3);return Math.max(t,1)*e}function u(e){return e.reduce((e,t,a)=>e+(t<<8*a),0)}t.MAX_DURATION=5e3;var f=new Uint8Array([86,80,56,88]),h=new Uint8Array([65,78,77,70]),p={animationDuration:0,singleLoopDuration:0,emojis:[]};function g(e){if(null==TextDecoder)return[];var t=String.fromCharCode(0),a=new TextDecoder,i=0;for(i+=12;i<e.byteLength;){var r=a.decode(e.slice(i,i+4)),s=u(e.slice(i+4,i+4+4));if(s%2!=0&&(s+=1),"EXIF"===r||"XMP"===r){for(var n=e.slice(i,e.byteLength),l=a.decode(n),c=void 0,f=void 0,h=l.length;h>0;--h)if(null==f&&"}"===l[h])f=h;else if(null!=f&&l[h]===t){c=h+1;break}if(null==c||null==f)return __LOG__(3)(d()),[];var p=l.substring(c,f+1);try{return JSON.parse(p).emojis}catch(e){return __LOG__(2)(o()),[]}}i+=8+s}return[]}function m(e){var t=e.slice(12,16);return(0,n.default)(t,f)}function b(e){var t=new Uint8Array(e);return m(t)&&0!=(2&t[20])}},dbjgghdhhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("jedabbcee")),s={queryStarredStickers:function(e=1,t=32){return new Promise((a,i)=>{var s=this.queryNode({type:"starred_stickers",page:e.toString(),count:t.toString()},void 0);this.binSend("sendEphemeral",s,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>(0,r.default)(e,this.N,"starred_stickers")).then(a,i)},a),onDrop:this.wrap(i)},{debugString:"query,starred_stickers",metricName:"QUERY_STARRED_STICKERS"})})}};t.default=s},dbjhicjigf:function(e,t){e.exports={bodyContainer:"_1Tbjx",list:"_1z6YY",search:"_1gal2",hidden:"Z3anF"}},dbjijgajai:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.base64DecodeRecursively=function e(t){var a=t[2];Array.isArray(a)&&a.forEach(t=>{t&&(t[2]instanceof ArrayBuffer||"string"==typeof t[2]?t[2]=(0,d.decodeB64ToJsArray)(t[2]):t[2]&&e(t))})},t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("ccjgiajgj")),n=a("edcaccjfh"),o=a("ecajcacdce"),d=a("dibgccbbif"),l=i(a("dhigahgdjb")),c=a("cabeijgaif"),u=a("ddbdgibbbi"),f=i(a("ebagcghdei")),h=a("cbjcbacfdh"),p=a("becjdjghgj");function g(){var e=(0,r.default)(["voip_signaling:enc node not present"]);return g=function(){return e},e}function m(){var e=(0,r.default)(["voip_signaling:invalid serializedMessage"]);return m=function(){return e},e}function b(){var e=(0,r.default)(["voip_signaling:invalid messageProto.call"]);return b=function(){return e},e}function v(){var e=(0,r.default)(["Error parsing voip signaling message"]);return v=function(){return e},e}var _={formatCallOffer:function(e,t,a){var i,r,s=a.payload,n={to:a.common.peer_jid,id:t,from:(0,u.getMaybeMeUser)().toString({legacy:!0})},d=s[2];return d.forEach((e,t)=>{switch(e[0]){case"enc":var n={call:{callKey:new Uint8Array(e[2])}},d={},l=s[1].retry_count;l&&(d.count=l);var u=["call",d,(0,p.cdataArrayBuffer)((0,o.encodeProto)(c.MessageSpec,n))];i=u,r=t;break;default:(0,p.arrayToB64Recursively)(a.payload,!0)}}),d.splice(r,1),d.push(i),s[2]=d,e.actionNode("relay",[["call",n,[s]]])},parseCallSignalingMsg:function(e){try{var t=l.default.get(e.from),a={peer_jid:e.from.toString({legacy:!0}),isContact:t&&t.isMyContact},i=["wrapper",{},e.data];switch(e.type){case"offer":var r=E("offer",i);a.peer_platform=e.platform,e.version&&e.version.length&&(a.peer_version=e.version.join(".")),this.parseCallOffer(r,a,!1);break;case"accept":var s=E("accept",i);a.type=h.TYPE.ACCEPT,a.call_id=f.default.attr("call-id",s)||"",a.peer_platform=e.platform,e.version&&e.version.length&&(a.peer_version=e.version.join("."));break;case"receipt":var n=e.data;switch(a.call_id=f.default.attr("call-id",n)||"",f.default.tag(n)){case"offer":a.type=h.TYPE.OFFER_RECEIPT;break;case"accept":a.type=h.TYPE.ACCEPT_RECEIPT;break;case"reject":default:return}break;case"terminate":var o=E("terminate",i);a.call_id=f.default.attr("call-id",o)||"",a.type=h.TYPE.TERMINATE;break;default:var d=function(e){var t=f.default.firstChild(e);if(!t)throw new Error("voip_signaling:Failed to get first child node");return t}(i);a.call_id=f.default.attr("call-id",d)}return a&&a.call_id&&this.createCommonHeader(a),a}catch(e){return void __LOG__(3)(v())}},parseCallOffer:function(e,t,a){if(t.type=h.TYPE.OFFER,t.call_id=f.default.attr("call-id",e)||"",a){var i=E("call",e),r=f.default.children(i);if(r instanceof ArrayBuffer){var s=(0,n.decodeProto)(c.MessageSpec,r);s.call&&s.call.callKey?this.receiveCallOfferKey(s.call.callKey,t):__LOG__(3)(b())}else __LOG__(3)(m())}else t.enc=this.parseRawE2EMaterial(e);var o=f.default.children(e,"video");t.video_count=Array.isArray(o)?o.length:void 0,t.isVideoCall=!!t.video_count,t.isGroupCall_DEPRECATED=!!t.group_info;var d=f.default.attr("t",e);d&&(t.t=d)},parseRawE2EMaterial:function(e){var t=f.default.child("enc",e);if(t)return(0,d.decodeB64ToJsArray)(f.default.dataStr(t));__LOG__(3)(g())},receiveCallOfferKey:function(e,t){t&&(t[2]=Array.prototype.slice.call(new Uint8Array(e)))},createCommonHeader(e){e.common=(0,s.default)(e,["type","call_id","peer_jid"])}};function E(e,t){var a=f.default.child(e,t);if(!a)throw new Error("voip_signaling:Failed to get child node ".concat(e));return a}t.default=_},dcaffhdhce:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("jheedhagg"));class l extends n.Component{componentDidMount(){var e=(0,s.default)((0,s.default)({},this.props.tooltip),{},{uim:this.props.uim});o.default.openTooltip(e,e=>{this.element=e})}componentWillUnmount(){o.default.closeTooltip(this.props.uim)}getElement(){return this.element}render(){return null}}var c=(0,d.default)(l);t.default=c},dcaibchbg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bebajedcaf")),s=i(a("cccehdaiaf"));class n extends s.default{constructor(e=[],t,a="next"){super(),this.list=e,this.index=-1,this.value=void 0,this.getter=t||(e=>e),this.deleteDir=a}init(e=[],t=!1){var a,i,s=t;if(this.list=e,this.value)if((0,r.default)(e))this.unset();else{if((a=e.indexOf(this.value))>-1){if(a===this.index)return;i=!0,s=!1}else if(!s||this.index<0)a=-1;else{var n="prev"===this.deleteDir?-1:0;a=this.index+n,a=Math.max(a,0),i=(a=Math.min(a,e.length-1))>-1}this.set(a,s,i)}}unset(){var e=this.value;this.value=void 0,this.index=-1,e&&this.trigger(this.getter(e),!1)}reset(e=!0){this.index<0||this.value&&this.trigger(this.getter(this.value),"focus",e)}set(e,t=!0,a=!0){if(this.list.length){var i=Math.min(Math.max(e,-1),this.list.length-1),r=this.value,s=i>-1?this.list[i]:void 0;s?(this.value=s,this.trigger(this.getter(s),t?"focus":"select")):a&&(this.value=void 0),a&&r&&r!==s&&this.trigger(this.getter(r),!1),this.index=i}}getVal(){return this.value}setVal(e,t=!0){var a=this.list.indexOf(e);a>-1?this.set(a,t):(this.unset(),this.value=e)}setFirst(e=!0){(0,r.default)(this.list)||this.set(0,e,!0)}setLast(e=!0){(0,r.default)(this.list)||this.set(this.list.length-1,e,!0)}setPrev(e=!0){(0,r.default)(this.list)||this.set(this.prev(),e,!0)}setNext(e=!0){(0,r.default)(this.list)||this.set(this.next(),e,!0)}prev(){return(0,r.default)(this.list)||-1===this.index?-1:this.index-1}next(){return(0,r.default)(this.list)?-1:Math.min(this.index+1,this.list.length-1)}}var o=n;t.default=o},dcaidjffbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cjbhjhdaeh")),o=i(a("ccbgfecegc")),d=i(a("dhigahgdjb")),l=a("cdhbdacigj"),c=r(a("bgheieccaj")),u=i(a("ddajbaceej")),f=a("dgjddffcfg"),h=i(a("bdjjabfecc")),p=i(a("cbbghihadb")),g=i(a("baabifghjg")),m=r(a("bjhgigfbec")),b=i(a("ffjhaheei")),v="SEC_CONTACTS",_="ROW_CONTACTS";class E extends s.Component{constructor(e){super(e),this.setList=e=>{this.list=e},this._handleRef=e=>{this._refHotKey=e},this._handleSelect=(e,t,a)=>{var{selections:i,maxContacts:r,active:n,onSelectionChanged:d}=this.props;t&&"number"==typeof r&&i.getSelected().length>=r?o.default.openToast(s.createElement(m.default,{id:(0,m.genId)(),msg:h.default.t(940,{count:r,_plural:r})})):(i.setVal(e,t,a),n.setVal(e,a),d&&d(e,t))},this._handleIndexChange=e=>{var t;null===(t=this.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},this._renderItem=e=>{switch(e.type){case v:return s.createElement(g.default,{header:h.default.t(1513)});case _:var{data:t}=e,{isDisabled:a,customSecondaryText:i}=this.props;return s.createElement(n.default,{key:t.id.toString(),model:t,selections:this.props.selections,checked:!!this.props.isSelected&&this.props.isSelected(t.id)},s.createElement(b.default,{contact:t,disabled:a&&a(t.id),onSelect:()=>this._onContactClick(t),customSecondaryText:i&&i(t.id),active:this.props.active,allowBlockedContacts:this.props.allowBlockedContacts}));default:throw new c.UnknownDataError(e)}},this.state={filteredData:E.calculateFilteredData(e)}}static getDerivedStateFromProps(e){return{filteredData:E.calculateFilteredData(e)}}static calculateFilteredData(e){return{contacts:E.calculateFilteredContacts(e)}}static calculateFilteredContacts(e){var{filter:t,useAllContacts:a,searchText:i}=e,r=a?d.default.toArray():d.default.getFilteredContacts();if(t&&(r=r.filter(e=>t(e))),!i)return r;var s=h.default.accentFold(i),n=(0,f.numberSearch)(s);return r.filter(e=>e.searchMatch(s,n))}componentDidMount(){this.props.active.init(this._flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(e=>this.props.selections.setVal(e,!0))}componentDidUpdate(e){this.props.searchText!==e.searchText&&this.props.active.init(this._flattenData(this.state.filteredData))}_flattenData(e){return e.contacts}_isEmpty(){return!this.state.filteredData.contacts.length}_getData(){var e=[],{contacts:t}=this.state.filteredData;return t.length&&(e.push({itemKey:v,type:v}),e.push(...t.map(e=>({itemKey:e.id.toString(),type:_,data:e})))),e}toggleFirst(e){if(this.state.filteredData.contacts.length){var t=this.state.filteredData.contacts[0],a=!this.props.selections.isSelected(t);this._handleSelect(t,a,e)}}focus(){this._refHotKey&&u.default.focus(this._refHotKey)}_clearActive(){this.props.active.unset()}_onContactClick(e){var{isDisabled:t}=this.props;if(!t||!t(e.id)){var a=this.props.selections.isSelected(e);this._handleSelect(e,!a,!1)}}_renderList(){return this._isEmpty()?this.props.searchText?s.createElement(l.Search,null):s.createElement(l.ListChats,null):s.createElement(c.default,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this._getData(),renderItem:this._renderItem})}render(){return s.createElement(p.default,{active:this.props.active,onLeave:this.props.onLeaveList,onRef:this._handleRef,onIndexChange:this._handleIndexChange},this._renderList())}}t.default=E},dcajjifiic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createDataLink=function(e){var t=document.createElement("a"),a=r.default.isBlob(e)||r.default.isData(e);return t.href=a?e:"",t};var r=i(a("edbaidcaf"))},dcbafbaejf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){return E((0,m.unproxy)(e))},t.sendNotSpam=function(e,t){return function e(t,a=!1,i=(0,o.genId)()){var{promises:r,notSpam:s}=t;if(s)return Promise.resolve();if(r.sendNotSpam)return r.sendNotSpam;var d=r.sendNotSpam=(0,g.sendNotSpam)(t);if(a){var u=new o.ActionType(h.default.t(113)),f=d.then(()=>new o.ActionType(h.default.t(115))).catchType(c.ServerStatusCodeError,()=>new o.ActionType(h.default.t(114))).catch(()=>(__LOG__(3)(v()),new o.ActionType(h.default.t(114),h.default.t(174),()=>e(t,a,i))));l.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:u,pendingAction:f}))}return d.then(()=>{t.set({notSpam:!0})}).finally(()=>{t.isTrusted(),r.sendNotSpam=null})}((0,m.unproxy)(e),t)},t.sendSpamBlockClear=function(e){return function(e){var{promises:t,isGroup:a,contact:i}=e;if(t.reportSpamBlockClear)return t.reportSpamBlockClear;if(a)return Promise.reject(new u.ActionError);var r=E(e);return t.reportSpamBlockClear=r.then(()=>(0,d.blockContact)(i)).then(()=>(0,p.sendClear)(e,!1)).catch(()=>{}).finally(()=>{t.reportSpamBlockClear=null}),t.reportSpamBlockClear}((0,m.unproxy)(e))},t.sendSpamExitClear=function(e){return function(e){var t,{promises:a,isGroup:i,isReadOnly:r,msgs:s}=e;if(a.reportSpamExitClear)return a.reportSpamExitClear;if(!i)return Promise.reject(new u.ActionError);var n=E(e);if(r)t=n;else{var o=(0,f.sendExitGroup)(e),d=(0,b.default)(s,"change:last",e=>e.isGroupLeave());t=Promise.all([n,o,d])}return a.reportSpamExitClear=t.then(()=>(0,p.sendClear)(e,!1)).catch(()=>{}).finally(()=>{a.reportSpamExitClear=null}),a.reportSpamExitClear}((0,m.unproxy)(e))};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=a("dfdebdgdei"),l=r(a("ccbgfecegc")),c=a("bgihjbde"),u=i(a("cajijabhgb")),f=a("bafdehfigc"),h=r(a("bdjjabfecc")),p=a("cjciachhej"),g=a("chjjhigbaj"),m=a("cjfegjecaj"),b=r(a("bacbhehedf"));function v(){var e=(0,s.default)(["models:chat:sendNotSpam dropped"]);return v=function(){return e},e}function _(){var e=(0,s.default)(["models:chat:sendSpamReport dropped"]);return _=function(){return e},e}function E(e,t=(0,o.genId)()){var{promises:a}=e;if(a.sendSpamReport)return a.sendSpamReport;var i=a.sendSpamReport=(0,g.sendSpamReport)(e),r=new o.ActionType(h.default.t(167)),s=i.then(()=>new o.ActionType(h.default.t(169))).catchType(c.ServerStatusCodeError,()=>new o.ActionType(h.default.t(168))).catch(()=>(__LOG__(3)(_()),new o.ActionType(h.default.t(168),h.default.t(174),()=>E(e,t))));return l.default.openToast(n.createElement(o.ActionToast,{id:t,initialAction:r,pendingAction:s})),i.finally(()=>{a.sendSpamReport=null})}},dccabacfch:function(e,t){e.exports={outerContainer:"_25R2g",innerContainer:"_2enI6"}},dccbehddaf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=(i(a("hgigjbgie")),i(a("bhbdiadfhj"))),o=i(a("bdjjabfecc")),d=i(a("fagcacbjb")),l=i(a("ddccfeeehi")),c=i(a("eagbefbhib")),u=i(a("dcdbbhicce"));class f extends s.Component{render(){var{msg:e,displayAuthor:t,displayType:a,quotedMsg:i}=this.props;if(!n.default.supportsFeature(n.default.F.PAYMENTS))return s.createElement(l.default,{msg:e,displayAuthor:t,displayType:a,quotedMsg:i});var r=!(!e.paymentNoteMsg||!e.paymentNoteMsg.body);if(!(e.paymentAmount1000&&e.paymentCurrency))return s.createElement(l.default,{msg:e,displayAuthor:t,displayType:a,quotedMsg:i});var u=s.createElement(d.default,{isSentByMe:e.isSentByMe,currency:e.paymentCurrency,amount1000:e.paymentAmount1000,receiverJid:e.paymentMessageReceiverJid,paymentStatus:e.paymentStatus,expiryTimestamp:e.paymentExpiryTimestamp,subtype:e.subtype,hasCaption:r,msg:e});switch(e.subtype){case"ciphertext":return s.createElement(l.default,{msg:e,displayAuthor:t,displayType:a,quotedMsg:i,paymentInfo:u,placeholderText:o.default.t(1661)});case"futureproof":return s.createElement(l.default,{msg:e,displayAuthor:t,displayType:a,quotedMsg:i,paymentInfo:u,placeholderText:o.default.t(1663)});case"send":case"request":return s.createElement(c.default,{msg:e,displayAuthor:t,displayType:a,quotedMsg:i,paymentInfo:u});default:return s.createElement(l.default,{msg:e,displayAuthor:t,displayType:a,quotedMsg:i})}}}f.CONCERNS={msg:["paymentAmount1000","paymentCurrency","id","isSentByMe","paymentNoteMsg","paymentStatus","paymentExpiryTimestamp","paymentMessageReceiverJid","subtype"]};var h=(0,u.default)(f,f.CONCERNS);t.default=h},dccdhbhehf:function(e,t){e.exports={spinner:"_3cryD"}},dccghhaddh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=t.PendingCancel=t.Pending=t.Download=t.DocState=void 0;var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=r(a("cfgbbcgjec")),d=r(a("ecdebjcgfa")),l=r(a("dgdcjccfdi")),c=({children:e,onClick:t})=>{var a=t?{onClick:t}:{};return n.createElement("div",(0,s.default)({className:o.default.docState},a),e)};t.DocState=c;t.Download=({onClick:e})=>n.createElement(c,{onClick:e||(()=>{})},n.createElement(l.default,{name:"audio-download"}));t.Pending=({outgoingMsg:e})=>n.createElement(c,null,n.createElement("div",{className:o.default.spinner},n.createElement(d.default,{stroke:3,size:32,outgoingMsg:e})));t.PendingCancel=({outgoingMsg:e})=>n.createElement(c,null,n.createElement("div",{className:o.default.spinner},n.createElement(d.default,{stroke:3,size:32,outgoingMsg:e})),n.createElement(l.default,{name:"audio-cancel-noborder"}));t.Upload=()=>n.createElement(c,null,n.createElement(l.default,{name:"audio-upload"}))},dcdbbhicce:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i){var r,n,d=(0,c.default)(e);t||a||(__LOG__(4,!1,new Error)(g()),SEND_LOGS("StateHOC wrapping class with no concerns, check ".concat(d)));var l=[];if(t)for(var f in t)l.push(new _(d,f,t[f],!0));if(a)for(var h in a)t&&t.hasOwnProperty(h)&&(__LOG__(4,!1,new Error)(p()),SEND_LOGS('Component has marked "'.concat(h,'" as both a normal and weak concern, check ').concat(d))),l.push(new _(d,h,a[h],!1));return n=r=class extends u.WrappedComponent{constructor(e){super(e),this.hasBroken=!1,this.rr=(e,t)=>{this.setState({[e.name]:new e.limitedAccessProxyClass(t)})};for(var t=this.state={},a=0;a<l.length;a++){var i=l[a],r=i.name,s=i.getModelAndValidate(this._getModelOrProxy(r));s?t[r]=i.attachConcern(s,this.rr):this.hasBroken=!0}}UNSAFE_componentWillReceiveProps(e){if(!this.hasBroken){for(var t=null,a=0;a<l.length;a++){var i=l[a],r=i.name,s=i.getModel(this._getModelOrProxy(r)),n=i.getModelAndValidate(this._getModelOrProxy(r,e));s!==n&&(i.detachConcern(s,this.rr),n?(t||(t={}),t[r]=i.attachConcern(n,this.rr)):this.hasBroken=!0)}t&&this.setState(t)}}componentWillUnmount(){if(!this.hasBroken)for(var e=0;e<l.length;e++){var t=l[e];t.detachConcern(t.getModel(this._getModelOrProxy(t.name)),this.rr)}}_getComponent(){return u._getComponent.call(this)}_getModelOrProxy(e,t=this.props){return t[e]}render(){var t={};return i?t.forwardRef=this.setComponent:t.ref=this.setComponent,this.hasBroken?null:o.createElement(e,(0,s.default)({},t,this.props,this.state))}},r.displayName="State(".concat(d,")"),n};var s=r(a("bacehaajgh")),n=r(a("dfadhaifh")),o=i(a("ddhijeejag")),d=a("jjbajibff"),l=r(a("dcaifjegcg")),c=r(a("cidfccdcfb")),u=a("dhegcfddhg"),f=a("ceidcegjgi"),h=i(a("dcdiaahjj"));function p(){var e=(0,n.default)(["Assertion failed!"]);return p=function(){return e},e}function g(){var e=(0,n.default)(["Assertion failed!"]);return g=function(){return e},e}function m(){var e=(0,n.default)([""," given invalid object for ",": ",""]);return m=function(){return e},e}function b(){var e=(0,n.default)([""," was not supplied the "," model with keys ","."]);return b=function(){return e},e}function v(){var e=(0,n.default)(['Unknown StateHOC concern type "','"']);return v=function(){return e},e}a("cjedbbhjhh");class _{constructor(e,t,a,i){this.componentName=e,this.name=t,this.isStrong=i,this.keys=a;var r=f.ProxyStates[t];r||(__LOG__(4,!1,new Error)(v(),t),SEND_LOGS("state-hoc-error")),this.proxyClass=r,this.limitedAccessProxyClass=function(e,t,a){for(var i={_ProxyState$ComponentName:{value:e},proxyBitMask:{value:(0,d.genBitMask)(t.prototype.mirrorMask,a)}},r=function(e){var t=a[e];i[t]={enumerable:!0,get(){return this._ProxyState$state.get(t)},set(e){this._ProxyState$state.set(t,e)}}},s=0;s<a.length;s++)r(s);function n(e){t.call(this,e)}return n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,n}(e,r,a)}getModel(e){return e instanceof this.proxyClass?e._ProxyState$state:e}getModelAndValidate(e){var t,a=e instanceof this.proxyClass?e._ProxyState$state:e;return a?a instanceof l.default?a:(__LOG__(4,!1,new Error)(m(),this.componentName,this.name,"string"==typeof(t=a)?t:t.toString?t.toString():"Invalid Object"),SEND_LOGS("state-hoc-error"),null):(h.default.mode===h.StreamMode.MAIN&&(__LOG__(4,!1,new Error)(b(),this.componentName,this.name,String(this.keys)),SEND_LOGS("state-hoc-error")),null)}attachConcern(e,t){e.incObservers(!this.isStrong);var a=new this.limitedAccessProxyClass(e);return e.mirror.addListener(t,a.proxyBitMask,this),a}detachConcern(e,t){e.decObservers(),e.mirror.removeListener(t)}}},dcdbiiejfc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendDelete=function(e){return function e(t){if(t.promises.sendDelete)return t.promises.sendDelete;var a,i=t.getLastMsgKeyForAction(),r=i?t.msgs.get(i):void 0,s=t.promises.sendDelete=(0,c.sendConversationDelete)(t.id,i,t.getLastMsgKeyForAction.bind(t)),f=t.kind;switch(f){case d.KIND.GROUP:a=u.default.t(75);break;case d.KIND.BROADCAST:a=u.default.t(27);break;case d.KIND.CHAT:a=u.default.t(37)}a=new o.ActionType(a);var p=s.then((function(e){if(200===e.status)switch(f){case d.KIND.GROUP:return new o.ActionType(u.default.t(74));case d.KIND.BROADCAST:return new o.ActionType(u.default.t(26));case d.KIND.CHAT:return new o.ActionType(u.default.t(36))}else if(e.status>=400)switch(f){case d.KIND.GROUP:return new o.ActionType(u.default.t(73));case d.KIND.BROADCAST:return new o.ActionType(u.default.t(25));case d.KIND.CHAT:return new o.ActionType(u.default.t(35))}})).catch((function(){var a;switch(__LOG__(3)(h()),f){case d.KIND.GROUP:a=u.default.t(73);break;case d.KIND.BROADCAST:a=u.default.t(25);break;case d.KIND.CHAT:a=u.default.t(35)}return new o.ActionType(a,u.default.t(174),()=>e(t))}));return l.default.openToast(n.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:a,pendingAction:p})),s.then((function(e){if(200===e.status&&!e._duplicate){var a=t.getLastMsgKeyForAction();i&&i.equals(a)||i===a?t.delete():t.deleteMsgsBeforeMsgInclusive(r)}})).finally(()=>{t.promises.sendDelete=null})}((0,f.unproxy)(e))};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=a("ebjaejiaba"),l=r(a("ccbgfecegc")),c=a("bjecicbiic"),u=r(a("bdjjabfecc")),f=a("cjfegjecaj");function h(){var e=(0,s.default)(["models:chat:sendDelete dropped"]);return h=function(){return e},e}},dcdefieidh:function(e,t){e.exports={chatControls:"VPvMz",chatAvatar:"_1vGIp",divider:"_2uLBO",betaTag:"_3D932",chatHeader:"_1UuMR",chatBody:"_2aNms",chatMain:"_2fKRJ",chatTitle:"YEe1t"}},dcdjgccech:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("dibgccbbif"),s=i(a("djifdhahhd")),n=a("cgffhfegce");class o extends s.default{constructor(...e){super(...e),this._b64=void 0,this._blob=void 0,this._url=void 0,this._mimetype=void 0,this._released=void 0}url(){return this.throwIfReleased("OpaqueData:url"),this._url?this._url:this._b64?this._url="data:image/jpeg;base64,".concat(this._b64):this._url=window.URL.createObjectURL(this._blob)}filepath(){throw new Error("OpaqueData:filepath can not be implemented on web")}wavFilepath(){throw new Error("OpaqueData:wavFilepath can not be implemented on web")}setWavFilepath(){throw new Error("OpaqueData:setWavFilepath can not be implemented on web")}validate(){return this._released?Promise.resolve(!1):this._blob?(0,n.validateBlob)(this._blob):Promise.resolve(!0)}size(){return this.throwIfReleased("OpaqueData:size"),this._blob?this._blob.size:(0,r.sizeWhenB64Decoded)(this._b64)}formData(){return this.throwIfReleased("OpaqueData:formData"),this.forceToBlob()}type(){return this.throwIfReleased("OpaqueData:type"),this._mimetype||"undefined"}forceToBlob(){this.throwIfReleased("OpaqueData:forceToBlob");var e=this._blob;if(e)return e;var t=this._b64;if(t){this._b64=void 0,this._url=void 0;var a=this._mimetype;return this._blob=new Blob([(0,r.decodeB64)(t)],a?{type:a}:void 0)}throw new Error("OpaqueData:forceToBlob no b64 or blob")}_releaseImpl(){this._mimetype=void 0,this._blob?(this._blob=void 0,this._url&&(window.URL.revokeObjectURL(this._url),this._url=void 0)):(this._b64=void 0,this._url=void 0)}isBlobEqual(e){return e?this._blob===e._blob:!this._blob}}t.default=o,o.createFromBase64Jpeg=e=>new Promise(t=>{var a=new o;return a._b64=e,a._mimetype="image/jpeg",t(a)}),o.createFromData=(e,t)=>new Promise(a=>{var i=new o;return i._blob=e instanceof Blob&&e.type===t?e:new Blob([e],{type:t}),i._mimetype=t,a(i)})},dcdjgcdhbj:function(e,t){e.exports={container:"_3qHJa",retryButton:"nfHYg"}},dcecgegjfc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e,t){if(!l.default)return __LOG__(2)(h()),Promise.reject(new d.GUM.GUMError);var a=0,i=!1;function r(){a&&clearTimeout(a),a=setTimeout(()=>{t?t():(!function(e){"camera"===e?o.default.openModal(n.createElement(c.default,{messaging:c.Messaging.CAMERA,type:c.default.TYPE.GUIDE_ALLOW})):o.default.openModal(n.createElement(c.default,{messaging:c.Messaging.MIC,type:c.default.TYPE.GUIDE_ALLOW}))}(e),i=!0)},1e3)}return(0,u.default)(({retry:t,failCount:a})=>new Promise((i,s)=>{r(),(0,l.default)(g[e][a]).then(i).catch(i=>{"NotReadableError"===i.name&&g[e][a+1]?t():s(i)})})).catch(e=>{var t=e&&e.name||e,a=d.GUM[t]||d.GUM.GUMError;return Promise.reject(new a)}).finally(()=>{i&&o.default.closeModal(),a&&clearTimeout(a)})},t.stop=function(e){if("function"==typeof e.stop)e.stop();else for(var t=e.getTracks(),a=0;a<t.length;a++)t[a].stop()},t.isSrcObjectInVideoElement=function(){void 0===p&&(p="srcObject"in document.createElement("video"));return p};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=a("cajijabhgb"),l=r(a("hjieaedbd")),c=i(a("dciajcgfie")),u=r(a("cbebifcdhb")),f=r(a("bfgbdiffgd"));function h(){var e=(0,s.default)(["MediaCapture:start() no ability to capture media"]);return h=function(){return e},e}var p,g={camera:[{video:{width:f.default.imageMaxEdge,height:f.default.imageMaxEdge}},{video:{width:Math.min(1280,f.default.imageMaxEdge),height:Math.min(720,f.default.imageMaxEdge)}},{video:!0}],microphone:[{audio:!0}]}},dceicchccd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eicihhaba")),s=i(a("bebajedcaf")),n=i(a("cccehdaiaf"));class o extends n.default{constructor(e,t){super(),this.list=e,this.selected=e.reduce((e,t,a)=>(e[a]=!1,e),{}),this.getter=t}init(e=[]){(0,s.default)(this.selected)||((0,s.default)(e)?this.unsetAll():(this.selected=e.reduce((e,t,a)=>{var i=this.list.indexOf(t);return e[a]=i>-1&&this.selected[i],e},{}),this.list=e))}unsetAll(){(0,r.default)(this.selected,(e,t)=>{e&&this.set(t,!1)})}reset(e=!0){(0,r.default)(this.selected,(t,a)=>{t&&this.trigger(this.getter(this.list[a]),!0,!0,e)})}set(e,t=!0,a=!0){if(this.list.length){var i=Math.min(Math.max(e,-1),this.list.length-1),r=i>-1?this.list[i]:void 0;r&&(this.selected[i]&&!t||!this.selected[i]&&t)&&(this.selected[i]=t,this.trigger(this.getter(r),t,a))}}setVal(e,t=!0,a=!0){var i=this.list.indexOf(e);-1===i&&(i=this.list.length,this.list.push(e),this.selected[i]=!1),this.set(i,t,a)}setFirst(e=!0){(0,s.default)(this.list)||this.set(0,!0,e)}setLast(e=!0){(0,s.default)(this.list)||this.set(this.list.length-1,!0,e)}getSelected(){return this.list.reduce((e,t,a)=>(this.selected[a]&&e.push(t),e),[])}isSelected(e){return!!this.selected[this.list.indexOf(e)]}}t.default=o},dcfaahbejd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.chat,i=e.msgContextInfo(a.id),f=(0,d.getMaybeMeUser)(),h=(0,r.default)((0,r.default)({type:"list_response",ack:n.default.ACK.CLOCK,from:f,id:new l.default({from:f,to:a.id,id:(0,c.default)(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:s.default.globalUnixTime(),to:a.id},i),{},{listResponse:{listType:o.ListResponseMessageListType.SINGLE_SELECT,title:t.title,description:t.description,singleSelectReply:{selectedRowId:t.rowId}},body:(t.title||"")+(t.description?"\n".concat(t.description):"")});return(0,u.addAndSendMsgToChat)(a,h)[1]};var r=i(a("cdfdfciehj")),s=i(a("cfadcbbiie")),n=i(a("hgigjbgie")),o=a("cabeijgaif"),d=a("ddbdgibbbi"),l=i(a("cffajefeag")),c=i(a("cfejjfjhca")),u=a("cgddafdgie");a("dgbddfjdhi")},dcfeafjaed:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("gfebgebbi")),l=a("ddbdgibbbi"),c=i(a("bdjjabfecc")),u=a("ddfcibecea"),f=i(a("ccdhaejgdh")),h=i(a("dcdbbhicce"));function p(){n.default.closeModal()}class g extends s.PureComponent{constructor(...e){super(...e),this.state={},this.onChange=({target:e})=>{e instanceof HTMLInputElement&&this.setState({mute:parseFloat(e.value)})},this.onMute=()=>{n.default.closeModal();var e=this.getMuteDuration();(0,l.setLastChatMuteDuration)(e),this.props.onMute((0,u.calculateMuteExpiration)(e),e)}}componentDidUpdate(){0!==this.props.mute.expiration&&p()}getMuteDuration(){return null!=this.state.mute&&0!==this.state.mute?this.state.mute:(0,l.getLastChatMuteDuration)()||(0,u.getDefaultMuteDuration)()}render(){var e=this.props.onCancel||p,t=this.getMuteDuration(),a=(0,u.getAllMuteDurations)().map(({label:e,duration:a})=>s.createElement("li",{key:"mute-"+a},s.createElement("label",{className:f.default.label},s.createElement("input",{type:"radio",name:"duration",className:f.default.input,value:a,checked:t===a,onChange:this.onChange}),e)));return s.createElement(o.default,{title:s.createElement(d.default,{text:this.props.title}),okText:c.default.t(1630),onOK:this.onMute,onCancel:e},s.createElement("form",null,s.createElement("ol",null,a)))}}g.CONCERNS={mute:["id","expiration"]};var m=(0,h.default)(g,g.CONCERNS);t.default=m},dcfedddiab:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dcaifjegcg"));class s extends r.default{constructor(...e){super(...e),this.isFocused=(0,r.session)(!0)}initialize(){super.initialize(),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}delete(){super.delete()}_onFocus(){this.isFocused=!0}_onBlur(){this.isFocused=!1}}s.Proxy="mainWindowState";var n=new((0,r.defineModel)(s));t.default=n},dcfieddiah:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEvent=function(e,t,a){var i={labelOperation:e};null!=t&&Object.assign(i,{labelCount:t});a&&Object.assign(i,{labelTarget:a});new r.default.LabelEvent(i).commit()};var r=i(a("bdcchebfge"))},dcfiefajcb:function(e,t){e.exports={icon:"_1qQEf"}},dcfifdidih:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cfgafiffdb")),s=i(a("dfdhhbaich")),n=i(a("dbbhijehii")),o=i(a("ecddiajibj")),d=i(a("igieaiddf")),l=i(a("bbdhigdced")),c=i(a("ifdgihhgf")),u=i(a("eicbjgeai")),f=i(a("cecdefhddc")),h=i(a("gchbeeadb")),p=i(a("dajheaeehj")),g=new o.default,m=new r.default;class b extends((0,d.default)([s.default,m,c.default,g,u.default,l.default])){}t.default=b,b.Suggestions=(0,p.default)(f.default,{plugin:g}),b.EmojiSuggestions=(0,p.default)(n.default,{plugin:m}),b.QuickRepliesSuggestions=(0,p.default)(h.default,{plugin:l.default})},dcgbijfbij:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bfefjaegfe"));t.default=class{constructor(){this.buf=new r.default}pushInt16(e){this.buf.writeUint16(e)}pushInt20(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}pushInt32(e){this.buf.writeUint32(e)}pushByte(e){this.buf.writeUint8(e)}pushBytes(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}pushUint8Array(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}pushString(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}toBuffer(){return this.buf.readBuffer()}}},dcgeaagjda:function(e,t){e.exports={hasAuthor:"_1-8Vo",quote:"_1p5s4",bubble:"_1Sikt",meta:"_2zab4",isTransparent:"_159mM",body:"_23kzp",author:"_2JswF",isFirst:"_2djfa",ctwaContext:"_22p-W"}},dcgiadjhaj:function(e,t){e.exports={fit:"_2eUNe",fitRelative:"_1XCgf",fitScaledown:"_3Z6h5",fitZoomin:"_2Yacq",nativeCover:"_1lSL0",nativeScaleDown:"_3Q_Pw"}},dchbafijaf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),l=r(a("bjjhgjdbhd")),c=i(a("dhfbfehaef")),u=i(a("bdjjabfecc")),f=r(a("dgjfidhijd")),h=i(a("ecbejhejff")),p=a("cjjdjbcgjh");t.default=e=>{var{vcard:t}=e;return s.createElement(f.default,{type:f.BoxModalType},s.createElement(o.default,{key:"vcard-modal"},s.createElement(l.default,{title:u.default.t(472),type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>n.default.closeModal()}),s.createElement(d.default,null,s.createElement(c.default,null,s.createElement(h.default,{parsedVcard:t,thumbnail:(0,p.vcardThumbnail)(t)})))))}},dchhjffcdj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.ProductThumbPlaceholder=f,t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("dhegcfddhg"),d=r(a("dcjigehfeb")),l=r(a("cbddggghff")),c=r(a("dcdbbhicce")),u=r(a("dgdcjccfdi"));function f({onClick:e,className:t}){return n.createElement("div",{className:(0,s.default)(t,l.default.mediaCanvas,l.default.placeholder),onClick:e},n.createElement(u.default,{name:"business-description"}))}class h extends n.Component{componentDidMount(){this.props.imgRef&&this.props.imgRef(this.img)}componentWillUnmount(){this.props.imgRef&&this.props.imgRef(null)}render(){var e,{mediaData:t,theme:a,active:i,onClick:r,badge:c}=this.props;e=t.mediaStage===d.default.STAGE.RESOLVED?n.createElement("div",{className:l.default.mediaCanvas,style:{backgroundImage:"url(".concat(t.renderableUrl,")")},onClick:r,ref:(0,o.GetRef)("img",this)}):t.mediaStage===d.default.STAGE.PREPARING?n.createElement(f,{className:this.props.className,onClick:this.props.onClick}):t.mediaStage===d.default.STAGE.ERROR_MISSING?null:n.createElement("div",{className:l.default.mediaCanvas});var u=(0,s.default)(this.props.className,{[l.default.canvasSecondRow]:"hideableSecondRow"===a,[l.default.canvasComponent]:"list"!==a,[l.default.list]:"list"===a,[l.default.viewerFlow]:"viewerFlow"===a,[l.default.active]:!0===i});if(this.props.large)return n.createElement("div",{className:l.default.canvasComponentLarge},e);var h=n.createElement("div",{className:u},c,n.createElement("div",{className:l.default.canvasBody}),e);return"list"===a?n.createElement("div",{className:l.default.listWrapper},h):h}}h.CONCERNS={mediaData:["mediaStage","mediaBlob","renderableUrl","preview"]};var p=(0,c.default)(h,h.CONCERNS);t.default=p},dchijdechh:function(e,t){e.exports={icon:"_2Q3SY",iconPinned:"_2SPs9",archived:"_3BF3m"}},dciajcgfie:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Messaging=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cagaiadjai")),d=r(a("ccbgfecegc")),l=r(a("bbfjdcedab")),c=r(a("hgigjbgie")),u=r(a("eccaijejjj")),f=r(a("bdjjabfecc")),h=r(a("cbedabhaa")),p=r(a("dgjfidhijd")),g=r(a("dgdcjccfdi")),m=r(a("bcjcbbafcj"));t.Messaging={NOTIFICATIONS:"NOTIFICATIONS",CAMERA_FAIL:"CAMERA_FAIL",CAMERA_MISSING:"CAMERA_MISSING",MIC_FAIL:"MIC_FAIL",MIC_MISSING:"MIC_MISSING",CAMERA:"CAMERA",MIC:"MIC"};var b={GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"},v="chrome_media_error",_="firefox_lock",E="opera_media";class j extends n.Component{render(){var{type:e,onCancel:t,onConfirm:a,messaging:i}=this.props,r=n.createElement(S,{messaging:i});if(e===b.GUIDE_ALLOW){var d;switch(m.default.browser){case c.default.BROWSER_TYPE.CHROME:case c.default.BROWSER_TYPE.FIREFOX:d=u.default.topLeft;break;case c.default.BROWSER_TYPE.EDGE:d=u.default.bottomCenter;break;default:d=u.default.topCenter}return n.createElement(p.default,{type:"guide"},n.createElement("div",{className:(0,s.default)(u.default.containerAllow,d)},n.createElement("div",{className:u.default.icon},n.createElement(g.default,{name:"back",directional:!0})),n.createElement("div",{className:u.default.title},n.createElement(y,{messaging:i})),n.createElement("div",{className:u.default.description},r),n.createElement("div",{className:u.default.controls},n.createElement(o.default,{onClick:a,type:"primary"},f.default.t(1059)))))}return n.createElement(l.default,{title:n.createElement(y,{messaging:i}),onOK:a,okText:f.default.t(1059),onCancel:t,cancelText:t?f.default.t(794):void 0},n.createElement("div",{className:u.default.description},r))}}function y(e){var{messaging:t}=e;switch(t){case"NOTIFICATIONS":return n.createElement(h.default,{id:751});case"CAMERA_FAIL":return n.createElement(h.default,{id:736});case"CAMERA_MISSING":return n.createElement(h.default,{id:735});case"MIC_MISSING":return n.createElement(h.default,{id:745});case"CAMERA":return n.createElement(h.default,{id:736});case"MIC_FAIL":case"MIC":return n.createElement(h.default,{id:747});default:throw new Error("Invalid messaging: ".concat(t))}}function S(e){var{messaging:t}=e,{browser:a}=m.default,i={[v]:n.createElement("span",{className:"chrome-media-icon"}),[_]:n.createElement("span",{className:"firefox-lock-icon"}),[E]:n.createElement("span",{className:"opera-media-icon"})};switch(t){case"NOTIFICATIONS":return"edge"===a?n.createElement(h.default,{id:749,params:i}):"firefox"===a?n.createElement(h.default,{id:750,params:i}):n.createElement(h.default,{id:748,params:i});case"CAMERA_FAIL":return"edge"===a?n.createElement(h.default,{id:730,params:i}):"firefox"===a?n.createElement(h.default,{id:731,params:i}):"safari"===a?n.createElement(h.default,{id:733,params:i}):"opera"===a?n.createElement(h.default,{id:732,params:i}):n.createElement(h.default,{id:729,params:i});case"CAMERA_MISSING":return n.createElement(h.default,{id:734,params:i});case"MIC_FAIL":return"edge"===a?n.createElement(h.default,{id:740,params:i}):"firefox"===a?n.createElement(h.default,{id:741,params:i}):"safari"===a?n.createElement(h.default,{id:743,params:i}):"opera"===a?n.createElement(h.default,{id:742,params:i}):n.createElement(h.default,{id:739,params:i});case"MIC_MISSING":return n.createElement(h.default,{id:744,params:i});case"CAMERA":return"edge"===a?n.createElement(h.default,{id:728,params:i}):n.createElement(h.default,{id:727,params:i});case"MIC":return"edge"===a?n.createElement(h.default,{id:738,params:i}):n.createElement(h.default,{id:737,params:i});default:throw new Error("Invalid messaging type: ".concat(t))}}t.default=j,j.TYPE=b,j.defaultProps={type:b.GUIDE_NONE,onConfirm:()=>d.default.closeModal()}},dcifcfjhgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,s.default)(o.default.chatSubtitle,{[o.default.chatSubtitleHeader]:"title"===e.location});return n.createElement("div",{className:t},n.createElement(d.default,{titlify:!0,className:o.default.chatSubtitleText,direction:"inherit",text:e.text}))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccjiahibgf")),d=r(a("gfebgebbi"))},dcifhcdhbe:function(e,t){e.exports={controls:"_2kvHM","progress-container":"pXEd-",progressContainer:"pXEd-",spinner:"BmhDA",btnMeta:"_1dZc-",button:"_3i3h7",icon:"_27A-X",cancel:"OtM7z",disabled:"_2ejvm",cursorPointer:"_1hS6C",play:"_394-A",iconMeta:"aEcx_"}},dciiiaffba:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ihfbhicij")),o=i(a("ejegihaeh")),d=i(a("cgahbebecg")),l=i(a("babdhfcgdb")),c=i(a("ccbgfecegc")),u=i(a("bbfjdcedab")),f=i(a("bjigbaghc")),h=i(a("hgigjbgie")),p=r(a("jagjbhcgf")),g=i(a("dgebcfedgb")),m=a("ddbdgibbbi"),b=a("eajdbbfgfg"),v=i(a("bdjjabfecc")),_=i(a("dhiafhdedd")),E=a("cbbdfhcegf"),j=i(a("bbcicibehe")),y=i(a("bdcchebfge")),S=i(a("biecbbiiee")),C=i(a("ggcdageid")),M=i(a("daehjhdfgf")),T=i(a("dhefcajhhb")),P=i(a("bfgbdiffgd")),O=i(a("dfbjgaaea")),N=i(a("dbdbehfcia")),I=i(a("djfhiceeje")),A=i(a("gbbacfeci")),w=i(a("bgeajihhc"));class R extends s.Component{constructor(){super(...arguments),this.onCreateGroup=()=>{c.default.openDrawerLeft(s.createElement(C.default,null)),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.NEW_GROUP)},this.onCreateMessengerRoom=()=>{(0,m.shouldShowNUX)(h.default.NUX.MESSENGER_ROOM_DIALOG_NEW)||(0,m.shouldShowNUX)(h.default.NUX.MESSENGER_ROOM_DIALOG_RETURNING)||(0,m.shouldShowNUX)(h.default.NUX.MESSENGER_ROOM_DIALOG_FROM_CHATLIST)?c.default.openModal(s.createElement(j.default,null)):(0,E.openMessengerRoomUrl)(),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.CREATE_A_ROOM)},this.onProfile=()=>{var e=(0,m.getMaybeMeUser)(),t=A.default.assertGet(e),a=T.default.assertGet(e);c.default.openDrawerLeft(s.createElement(M.default,{status:t,profilePicThumb:a,conn:f.default})),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.PROFILE)},this.onDisconnect=()=>{var e=S.default.some(e=>e.ack===h.default.ACK.CLOCK&&e.local&&e.isSentByMe);if((0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.LOG_OUT),!e)return w.default.logout();c.default.openModal(s.createElement(u.default,{title:v.default.t(449),onOK:()=>w.default.logout(),okText:v.default.t(868),onCancel:()=>c.default.closeModal(),cancelText:v.default.t(1497)},v.default.t(1258)))},this.onArchived=()=>{c.default.openDrawerLeft(s.createElement(n.default,null)),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.ARCHIVED)},this.onSettings=()=>{c.default.openDrawerLeft(s.createElement(O.default,null)),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.SETTINGS)},this.onStarred=()=>{c.default.openDrawerLeft(s.createElement(N.default,{starredMsgs:I.default})),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.STARRED)},this.onLabel=()=>{c.default.openDrawerLeft(s.createElement(_.default,null)),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.LABELS)},this.onCatalog=()=>{var e=(0,m.getMaybeMeUser)(),t=o.default.get(e);null==t?o.default.find(e).then(t=>{c.default.openDrawerLeft(s.createElement(d.default,{catalog:t,catalogId:e}))}).catch(()=>{c.default.openDrawerLeft(s.createElement(d.default,{catalogId:e}))}):(t.stale=!0,t.markProductCollectionOld(),c.default.openDrawerLeft(s.createElement(d.default,{catalog:t,catalogId:e}))),(0,l.default)(y.default.WEBC_MENU_ITEM_LABEL.CATALOG)},this.state={rememberMe:(0,m.getRememberMe)()}}render(){var e=s.createElement(g.default,{a8n:"mi-new-group menu-item",action:this.onCreateGroup},v.default.t(1629)),t=P.default.camelotWeb?s.createElement(g.default,{a8n:"mi-create-messenger-room menu-item",action:this.onCreateMessengerRoom},v.default.t(909)):null,a=s.createElement(g.default,{a8n:"mi-starred menu-item",action:this.onStarred},v.default.t(877)),i=(0,b.canEditLabelAssociation)()&&s.createElement(g.default,{a8n:"mi-setting menu-item",action:this.onLabel},v.default.t(792)),r=P.default.webCatalogManagement&&f.default.isSMB?s.createElement(g.default,{a8n:"mi-setting menu-item",action:this.onCatalog},v.default.t(782)):null,n=v.default.t(873);return s.createElement(p.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ChatlistHeader",dirX:p.DirX.LEFT},e,t,s.createElement(g.default,{a8n:"mi-profile-status menu-item",action:this.onProfile},n),r,P.default.enhancedArchive?null:s.createElement(g.default,{a8n:"mi-archived menu-item",action:this.onArchived},v.default.t(863)),a,i,s.createElement(g.default,{a8n:"mi-setting menu-item",action:this.onSettings},v.default.t(876)),s.createElement(g.default,{a8n:"mi-logout menu-item",action:this.onDisconnect},v.default.t(868)))}}t.default=R},dcjbdhhjge:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(){r.default.supportsFeature(r.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("bhbdiadfhj"))},dcjeiegcig:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("dfdebdgdei"),o=i(a("efebdigbb")),d=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),c=i(a("dhbeaehhef")),u=i(a("jagjbhcgf")),f=i(a("dgebcfedgb")),h=i(a("bdjjabfecc")),p=i(a("cbedabhaa")),g=i(a("ebddggeaib")),m=i(a("cbjdbjecfg")),b=i(a("gjbhafcjg")),v=i(a("cbjebbghea")),_=a("dcbafbaejf"),E=i(a("dcdbbhicce")),j=i(a("dcdiaahjj"));class y extends s.PureComponent{constructor(...e){super(...e),this._forceUpdate=()=>{this.forceUpdate()},this.reportSpam=()=>{(0,_.sendSpamReport)(this.props.chat),d.default.closeModal()},this.reportSpamBlock=()=>{var{chat:e,contact:t}=this.props;(0,_.sendSpamReport)(e),(0,n.blockContact)(t),d.default.closeModal()},this.reportSpamBlockClear=()=>{(0,_.sendSpamBlockClear)(this.props.chat),d.default.closeModal()},this.onReportSpam=()=>{d.default.openModal(s.createElement(v.default,{isBusiness:this.props.contact.isBusiness,isGroupChat:!1,onReport:this.reportSpam,onReportBlockClear:this.reportSpamBlockClear,onCancel:()=>d.default.closeModal()}))},this.blockContact=()=>{(0,n.blockContact)(this.props.contact),d.default.closeModal()},this.unblockContact=()=>{(0,n.unblockContact)(this.props.contact),d.default.closeModal()},this.onBlockContact=()=>{d.default.openModal(s.createElement(o.default,{contact:this.props.contact,onCancel:()=>d.default.closeModal(),onBlock:this.blockContact,onReportSpamBlock:this.reportSpamBlock}))},this.onUnblockContact=()=>{var e=s.createElement(b.default,{contact:this.props.contact});d.default.openModal(s.createElement(l.default,{okText:h.default.t(1325),onOK:this.unblockContact,cancelText:h.default.t(1497),onCancel:()=>d.default.closeModal()},s.createElement(p.default,{id:1326,params:{contact:e}})))}}componentDidMount(){this.props.listeners.add(j.default,"change:displayInfo",this._forceUpdate)}menus(){var{chat:e,contact:t,onSelectMessages:a}=this.props,i=[];return e.isPSA||i.push(s.createElement(f.default,{key:"info",a8n:"mi-contact",action:()=>d.default.chatInfoDrawer(e)},h.default.t(1508))),t.isBusiness&&i.push(s.createElement(f.default,{key:"report",a8n:"report",action:this.onReportSpam},h.default.t(1146)),s.createElement(f.default,{key:"block",a8n:"block",action:t.isBlocked()?this.onUnblockContact:this.onBlockContact},t.isBlocked()?h.default.t(1325):h.default.t(249))),i.push(s.createElement(f.default,{a8n:"mi-select-messages",key:"select",action:a},h.default.t(1717))),e.mute.canMute()&&i.push(s.createElement(m.default,{key:"mute",onMute:t=>d.default.muteChat(e,t),mute:e.mute})),i.push(s.createElement(f.default,{key:"clear",a8n:"mi-clear",action:()=>d.default.clearChatMsgs(e)},h.default.t(423))),i.push(s.createElement(c.default,{key:"delete",onDeleteOrExit:()=>d.default.deleteOrExitChat(e),chat:e})),i}render(){return this.props.toContextMenuManager?s.createElement("div",null,this.menus()):s.createElement(u.default,{type:"dropdown_menu",key:"ContactMenuDropdown",flipOnRTL:!0,dirX:"LEFT"},this.menus())}}y.CONCERNS={chat:["isPSA","mute"],contact:["id","isBusiness","name","isContactBlocked"]};var S=(0,g.default)((0,E.default)(y,y.CONCERNS));t.default=S},dcjhajfghf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=/\r\n/g;t.default=class{constructor(e){this.hasText=()=>this.hasType("text/plain"),this.hasType=e=>this.types.includes(e),this.data=e,this.types=e.types?Array.isArray(e.types)?e.types:Object.keys(e.types).map(t=>e.types[t]):[]}getItems(){if(this.data.items)return Array.prototype.slice.call(this.data.items);var e=this._getFileTypes();return this.types.map(t=>({type:t,data:this.data.getData(t),kind:e.includes(t)?"string":"file"}))}_getFileTypes(){return Array.prototype.slice.call(this.data.files).map(({type:e})=>e)}getText(e){return this._getText(e).then(e=>e?e.replace(i,"\n"):null)}_getText(e){var t=e||[];0===t.length&&t.push("text/plain");var a,{data:i}=this;if(i.getData)return t.some(e=>{if(i.getData(e))return a=i.getData(e),!0}),Promise.resolve(a);var r,s,n,o=(r=this.data.items,s=t,n=Array.from(r),s.reduce((e,t)=>{var a=n.find(e=>e.type===t);return a&&e.push(a),e},[]));return o.length?Promise.all(o.map(e=>new Promise(t=>e.getAsString(t)))).then(e=>e.find(e=>e.length)):Promise.resolve()}getFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).filter(({kind:e})=>"file"===e).map(e=>e.getAsFile()).filter(e=>!!e):Array.prototype.slice.call(this.data.files||[])}getData(e){return this.data.getData(e)}hasFiles(){return this.data.items?Array.prototype.slice.call(this.data.items).some(({kind:e})=>"file"===e):!!Array.prototype.slice.call(this.data.files||[]).length}}},dcjigehfeb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=i(a("dcaifjegcg")),o=a("dbejeibfid"),d=r(a("eceibhbeff")),l=a("ccfjbcbbga"),c=new Set([l.OUTWARD_TYPES.IMAGE,l.OUTWARD_TYPES.VIDEO]);class u extends n.default{constructor(...e){super(...e),this.type=(0,n.prop)(l.OUTWARD_TYPES.UNKNOWN),this.mmsUrl=(0,n.prop)(),this.directPath=(0,n.prop)(),this.mediaKey=(0,n.prop)(),this.mediaKeyTimestamp=(0,n.prop)(),this.uploadHash=(0,n.prop)(),this.mediaStage=(0,n.prop)(l.STAGE.INIT),this.size=(0,n.prop)(),this.filehash=(0,n.prop)(),this.mimetype=(0,n.prop)(),this.mediaBlob=(0,n.prop)(),this.renderableUrl=(0,n.prop)(),this.fullHeight=(0,n.prop)(),this.fullWidth=(0,n.prop)(),this.aspectRatio=(0,n.prop)(),this.rgbaBuffer=(0,n.prop)(),this.rgbaHeight=(0,n.prop)(),this.rgbaWidth=(0,n.prop)(),this.animationDuration=(0,n.prop)(0),this.animatedAsNewMsg=(0,n.prop)(!1),this.isAnimated=(0,n.prop)(),this.singleLoopDuration=(0,n.prop)(),this.firstFrameLength=(0,n.prop)(),this.firstFrameSidecar=(0,n.prop)(),this.emojis=(0,n.prop)(),this.progressiveStage=(0,n.prop)(),this.isViewOnce=(0,n.prop)(!1),this.preview=(0,n.prop)(),this.sidecar=(0,n.prop)(),this.duration=(0,n.prop)(),this.durationFloat=(0,n.prop)(),this.isGif=(0,n.prop)(),this.gifAttribution=(0,n.prop)(),this.streamable=(0,n.derived)(this._isStreamable,["isGif","isViewOnce","mediaStage","sidecar","type","_swStreamingSupported"]),this._swStreamingSupported=(0,n.prop)(!1),this._listeningToSwSupport=(0,n.prop)(!1),this.filename=(0,n.prop)(),this.pageCount=(0,n.prop)(),this.documentPreview=(0,n.prop)(),this.isVcardOverMmsDocument=(0,n.prop)(!1),this.parsedVcards=(0,n.prop)(),this.microThumbnail=(0,n.prop)(),this.fullPreviewSize=(0,n.prop)(),this.fullPreviewData=(0,n.prop)(),this.subtype=(0,n.prop)()}initialize(){super.initialize()}set(e,t,a){var i,r=a;return"string"==typeof e?i={[e]:t}:(i=e,r=t),i=function(e){var t=e.filename||e.caption;if(t&&e.type===f.TYPE.DOCUMENT)return t=(0,o.cleanFilename)(t),(0,s.default)((0,s.default)({},e),{},{filename:t,caption:t});return e}(i),super.set(i,r)}_isStreamable(){return this.isStreamable()}isStreamable(){return this.isStreamableType()&&this.listenToServiceWorkerSupport()&&!this.isViewOnce}_updateStreamingSupported(e){this._swStreamingSupported=e}listenToServiceWorkerSupport(){if(this._listeningToSwSupport)return this._swStreamingSupported;var e=a("gcbhjhjhg").default;return this.listenTo(e,"change:streamingSupported",this._updateStreamingSupported),this._swStreamingSupported=Boolean(e.streamingSupported),this._listeningToSwSupport=!0,this._swStreamingSupported}isStreamableType(){return this.type===l.OUTWARD_TYPES.VIDEO&&!this.isGif&&(this.mediaStage===l.STAGE.INIT||this.mediaStage===l.STAGE.FETCHING||this.mediaStage===l.STAGE.DECRYPTING||this.mediaStage===l.STAGE.RESOLVED)&&null!=this.fullWidth&&null!=this.fullHeight&&Boolean(this.sidecar&&this.sidecar.byteLength>0)}isDownloadable(){return!this.isViewOnce&&(null!=this.renderableUrl||d.default.has(this.filehash))}isViewOnceCompatible(){return c.has(this.type)}}u.Proxy="mediaData";var f=(0,n.defineModel)(u);f.TYPE=l.OUTWARD_TYPES,f.STAGE=l.STAGE;var h=f;t.default=h},ddacjbabei:function(e,t){e.exports={wrapper:"_1888i",button:"_3bfj9"}},ddajgjdcjb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.isComposing)return!1;var a=window.getSelection();return function(e,t,a){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;var i=c.backwardsEmojiTextsTrie,r=e.data||"";if(!(i=i.get(r)))return!1;if(!t.getRangeAt(0).collapsed)return!1;var u=r,f=null,h=null;if((0,d.default)(a,t,(e,t,a)=>((0,s.default)(i,"Trie ptr somehow not set"),!(i=i.get(e))||(i.hasChildren()?void(0===t&&(u=a+u)):(u=a.slice(t)+u,(h=(0,c.default)(u))&&(f=u),!0)))),!f)return!1;var p=a.serializeTextBeforeCursor();if((0,n.isInsideCodeBlock)(p))return!1;(0,l.default)(t,f.length-1),a.replaceSelection(h||"");var{refInput:g}=a,m=(0,o.default)(g,o.Direction.BACKWARD);if(!m)return!0;return m.dataset.replacedEmojiText=f,!0}(e,a,t)};var s=r(a("cgeeeeddea")),n=a("dacicgjcai"),o=i(a("cdahgajfeb")),d=r(a("ccdccbedad")),l=r(a("bhccfhjdga")),c=i(a("eajcbddhd"))},ddbbiecfhg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("bbfjdcedab")),l=i(a("dhigahgdjb")),c=i(a("bdeebiagii")),u=a("ddbdgibbbi"),f=i(a("bhbdiadfhj")),h=i(a("bdjjabfecc")),p=r(a("dbcedfihd")),g=i(a("dccdhbhehf")),m=i(a("cdahjdgdad")),b=i(a("ecdebjcgfa")),v=i(a("ccddejdgfb")),_=a("dcbdjheea");class E extends c.default{constructor(...e){super(...e),this._cancel=()=>{this._queryChatPromise&&this._queryChatPromise.cancel(),this._queryChatPromise=void 0,this.end()},this.error=()=>{this.push(s.createElement(d.default,{onOK:()=>this.end(),okText:h.default.t(1649)},h.default.t(934)))}}componentDidMount(){var e=!1,t=Promise.delay(250).cancellable().then(()=>{e=!0,this.push(s.createElement(d.default,{title:h.default.t(1263),onCancel:this._cancel,cancelText:h.default.t(1497)},s.createElement("div",{className:g.default.spinner},s.createElement(b.default,{stroke:6,size:24}))))}).catchType(Promise.CancellationError,()=>{}),a=Date.now();this._queryChatPromise=this.queryChat().cancellable().then(e=>n.default.find(e)).then(i=>{e||t.cancel();var r=Date.now()-a,s=e?Math.max(750-r,0):0;return this.openChat(i),Promise.delay(s).then(()=>{this.end(),this.props.onSuccess(i)})}).catchType(Promise.CancellationError,()=>{}).catch(e=>{t.cancel(),this.error(e)})}queryChat(){var{phone:e}=this.props,t=(0,_.createWid)(e.slice(1));return l.default.get(t)?Promise.resolve(t):(0,m.default)(e).then(e=>{if(e){var{biz:a,bizInfo:i}=e;return f.default.supportsFeature(f.default.F.QUERY_VNAME)&&a&&(0,v.default)(t,i),e.wid}return Promise.reject("Invalid number")})}openChat(e){var{msgText:t}=this.props,a=this.props.ctwaContextLinkData;if(a){var i=p.findLink(a.sourceUrl||"",!1,(0,u.getMaybeMeUser)());i&&i.suspiciousCharacters&&i.suspiciousCharacters.size>0&&(a=null)}a&&(t=a.icebreaker),e.active&&t?(o.default.pasteChatTextInput(e,t),a&&o.default.setChatCtwaContextLinkData(e,a)):(t&&e.setComposeContents({text:t}),o.default.openChatFromUnread(e).then(t=>{t&&(o.default.focusChatTextInput(e),a&&o.default.setChatCtwaContextLinkData(e,a))}))}}t.default=E,E.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},ddbcdaiche:function(e,t){e.exports={verified:"_2P6zx",psa:"_1mxvE",icon:"EBUoE",hasLabels:"_3es8f",labels:"_3cD3_"}},ddbeaiefad:function(e,t){e.exports={mediaViewerImg:"_3-gva",cursorZoomIn:"_3qrwJ"}},ddbeddiehf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bhheibic",7)).then(e=>e.default),"ForwardMessageFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(626,{_plural:1}),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},ddcbeeeahg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cdfjfcdgbi")),o=r(a("ecegjefcbc"));t.default=({emoji:e,selectable:t,size:a})=>"xlarge"===a?s.createElement(o.default,{emoji:e,size:o.SIZE.XLARGE,element:"span",selectable:t}):s.createElement(n.default,{emoji:e,selectable:t,size:a})},ddccdajfbb:function(e,t){e.exports={messageText:"zLEDC",composeBoxQuotedMsg:"_1Ezgw"}},ddccfeeehi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=(r(a("hgigjbgie")),r(a("gfebgebbi"))),d=a("gaifbabbj"),l=r(a("bdjjabfecc")),c=r(a("fjgaiebfh")),u=r(a("bgdeabjbjd")),f=r(a("bafgbijhfi")),h=r(a("dcdbbhicce")),p=r(a("dgfgceghic"));class g extends n.Component{render(){var e,t,a,i=this.props.msg,r=i.paymentNoteMsg&&i.paymentNoteMsg.body;if(r){var h=(i.isTrusted()?d.Configuration.TrustedConversation:d.Configuration.UntrustedConversation)({mentions:i.mentionMap(),links:i.getLinks()});e=n.createElement(c.default,{msg:i.unsafe()},n.createElement(o.default,{text:r,selectable:!0,formatters:h,dirMismatch:i.rtl!==l.default.isRTL(),direction:i.dir}))}if(this.props.quotedMsg){var g=(0,s.default)(f.default.quote,{[f.default.hasAuthor]:this.props.displayAuthor&&!i.isSentByMe&&i.isGroupMsg,[f.default.forwarded]:i.showForwarded()});t=n.createElement("div",{className:g},this.props.quotedMsg)}var m=l.default.t(1662);this.props.placeholderText&&(a="ciphertext",m=this.props.placeholderText);var b=(0,s.default)({[f.default.hasText]:e,[f.default.noText]:!e});return n.createElement(p.default,{msg:i,displayAuthor:this.props.displayAuthor},t,this.props.paymentInfo,n.createElement("div",{className:b},n.createElement(u.default,{hasCaption:!!e,iconName:a,msg:i.unsafe()},m)),e)}}g.CONCERNS={msg:["rtl","dir","isSentByMe","isGroupMsg","isPSA","senderObj","paymentNoteMsg"]};var m=(0,h.default)(g,g.CONCERNS);t.default=m},ddcdjgjjga:function(e,t){e.exports={hasText:"_3HlI7",noText:"_2vym4",quote:"_2Ehhh",forwarded:"_2T0MB",hasAuthor:"_5d8aE"}},ddcfhecgai:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LabelItemCollection=void 0;var r=i(a("ddgaeajhag")),s=i(a("cgcgbfbffj")),n=i(a("bhbdiadfhj")),o=i(a("eaejieeafc")),d=a("debfcgabcb");class l extends s.default{constructor(){super(),n.default.supportsFeature(n.default.F.MD_BACKEND)&&(this.listenTo(this,"add",this._handleAdd),this.listenTo(this,"remove",this._handleRemove))}_handleAdd(e){this._handleChange(e,!0)}_handleRemove(e){this._handleChange(e,!1)}_handleChange(e,t){var a=(0,d.getParentCollection)(e.parentType).get(e.parentId);if(a){var i=a.labels||[];t?i.includes(e.labelId)||(a.labels=[e.labelId].concat(i)):a.labels=(0,r.default)(i,e.labelId)}}}t.LabelItemCollection=l,l.model=o.default;var c=l;t.default=c},ddcghddad:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return p.apply(this,arguments)};var r=i(a("dfadhaifh")),s=i(a("ffedgcdgj")),n=i(a("dfeejhfchi")),o=a("chfjcfcide"),d=i(a("dgjijbgdai")),l=i(a("ccigcidgc"));function c(){var e=(0,r.default)(["mmsDownload: error ",""]);return c=function(){return e},e}function u(){var e=(0,r.default)(["mmsDownload: error "," ",""]);return u=function(){return e},e}function f(){var e=(0,r.default)(["mmsDownload: success"]);return f=function(){return e},e}function h(){var e=(0,r.default)(["mmsDownload: start"]);return h=function(){return e},e}function p(){return(p=(0,s.default)((function*(e){var{auth:t,directPath:a,encFilehash:i,hostname:r,type:s,signal:p,onProgress:g,onResponseText:m}=e,b=(0,l.default)({auth:t,directPath:a,encFilehash:i,hostname:r,type:s});__LOG__(2)(h());try{var v=yield(0,d.default)(b,{signal:p,onProgress:g,onResponseText:m});if(!v.ok)switch(v.status){case 401:throw new o.MMSUnauthorizedError("mmsDownload",{url:b});case 403:if((yield v.text()).includes("URL signature expired"))throw new o.MediaNotFoundError("mmsDownload",{url:b,status:v.status});throw new o.MMSForbiddenError("mmsDownload",{url:b});case 404:case 410:throw new o.MediaNotFoundError("mmsDownload",{url:b,status:v.status});case 507:throw new o.MMSThrottleError("mmsDownload",{url:b});default:throw new o.HttpStatusCodeError(v.status,"mmsDownload",{url:b})}var _=yield v.arrayBuffer();if((yield(0,n.default)(_))!==e.encFilehash)throw new o.MmsDownloadFilehashMismatchError({url:b});return __LOG__(2)(f()),_}catch(e){throw e instanceof o.MediaNotFoundError||e instanceof o.AbortError?__LOG__(2)(u(),e.name,e.message):__LOG__(3)(c(),String(e)),e}}))).apply(this,arguments)}},ddchghhebj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dgdjiicfdg")),n=i(a("ddhijeejag")),o=r(a("cfadcbbiie")),d=r(a("ccbgfecegc")),l=r(a("gfebgebbi")),c=r(a("ebddggeaib")),u=a("ccbcihdfhg");class f extends n.PureComponent{constructor(...e){super(...e),this.state={hidden:!1},this.rerender=()=>{this.forceUpdate()}}componentDidMount(){this.maybeRegMidnight()}componentDidUpdate(){this.maybeRegMidnight()}getTimestamp(){return this.props.timestamp}show(){this.state.hidden&&this.setState({hidden:!1})}hide(){this.state.hidden||this.setState({hidden:!0})}maybeRegMidnight(){this.props.listeners.remove(d.default,"midnight",this.rerender);var e=(0,s.default)().startOf("day").subtract(7,"day");this.props.timestamp>=e.unix()&&this.props.listeners.add(d.default,"midnight",this.rerender)}render(){var e,{isFocusable:t}=this.props,{hidden:a}=this.state;if(!a){var i=o.default.relativeDateStr(this.props.timestamp);e=n.createElement(l.default,{direction:"auto",text:i.toUpperCase()})}return n.createElement(u.SystemBubble,{hidden:a,isFocusable:t},e)}}var h=(0,c.default)(f);t.default=class extends h{getTimestamp(){return this.getComponent().getTimestamp()}show(){return this.getComponent().show()}hide(){return this.getComponent().hide()}}},ddcieaffha:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dchijdechh")),d=r(a("bdjjabfecc")),l=r(a("bfgbdiffgd")),c=r(a("dcdbbhicce")),u=r(a("dgdcjccfdi")),f=r(a("dhidhbafac")),h=r(a("didfdhbecg")),p=r(a("jccfhaecf"));class g extends n.PureComponent{constructor(...e){super(...e),this.state={chatId:null,shouldAnimate:!1}}static getDerivedStateFromProps(e,t){var a=e.chat.id;return{chatId:a,shouldAnimate:p.default.equals(t.chatId,a)}}showMuteIcon(){var{chat:e,mute:t,hideMuteIcon:a}=this.props;return l.default.enhancedArchive&&e.archive?!a:t.isMuted}render(){var{chat:e,unreadCount:t,capUnreadCount:a}=this.props,i=this.showMuteIcon()?n.createElement("div",{className:o.default.icon,key:"icon-muted","aria-label":d.default.t(13)},n.createElement(u.default,{name:"muted"})):null,r=null!=e.pin&&e.pin>0?n.createElement("div",{className:(0,s.default)(o.default.icon,o.default.iconPinned),key:"icon-pinned"},n.createElement(u.default,{name:"pinned"})):null,c=0!==t?n.createElement("div",{className:o.default.icon,key:"icon-unread"},n.createElement(f.default,{count:t,capUnreadCount:a})):null,p=e.archive&&!l.default.enhancedArchive?n.createElement("span",{className:(0,s.default)(o.default.icon,o.default.archived),key:"icon-archived"},d.default.t(413)):null;return n.createElement(h.default,{transitionName:"pop",transitionEnter:this.state.shouldAnimate,transitionLeave:this.state.shouldAnimate},i,p,r,c)}}g.CONCERNS={chat:["id","archive","pin"],mute:["isMuted"]};var m=(0,c.default)(g,g.CONCERNS);t.default=m},dddaaacacd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({auth:e,encFilehash:t,hostname:a,query:i,type:o}){var d=(0,r.default)({auth:e,token:(0,n.default)(t)},i);return(0,s.default)({encFilehash:t,hostname:a,type:o,query:d})};var r=i(a("cdfdfciehj")),s=i(a("bebbbiiie")),n=i(a("ebfbbaecji"))},dddagdhijg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("ebcfjdcbhh")),l=i(a("hgigjbgie")),c=i(a("bgheieccaj")),u=i(a("jheedhagg")),f=i(a("dhfbfehaef")),h=i(a("chdfefgec")),p=i(a("dbbehiiecb"));class g extends s.Component{constructor(){super(...arguments),this._listPointerEvents=!0,this._setRefHotKeys=e=>{this._refHotKeys=e},this.onListPointerEventsOff=()=>{this._listPointerEvents=!1},this.onListPointerEventsOn=()=>{this._listPointerEvents=!0},this.onClick=(e,t,a)=>{e.preventDefault(),e.stopPropagation(),n.default.find(t.id).then(e=>{2===d.default.column&&this.props.uim.uie.requestDismiss(),o.default.focusChatTextInput(e),o.default.openChatAt(e,a)})},this.getSelection=()=>this.props.ftsResult||[],this.renderItem=e=>{var{msg:t}=e;return t.sender&&t.isGroupMsg&&!t.isNotification&&!t.isSentByMe?s.createElement(p.default,{contact:t.senderObj,msg:t,chat:t.chat,searchText:this.props.searchText,onClick:this.onClick,active:this.props.selection,key:t.id.toString()}):s.createElement(h.default,{msg:t,chat:t.chat,searchText:this.props.searchText,onClick:this.onClick,active:this.props.selection,key:t.id.toString()})},this.restoreFocus=()=>{this.props.selection.reset(!0)},this.onFocusGain=e=>{e.target===this._refHotKeys&&this._listPointerEvents&&(this.props.selection.index<0?this.focusFirst():this.props.selection.reset(!0))},this.focusFirst=()=>{this.props.selection.setFirst(!0)},this.onNextChat=e=>{e&&(e.preventDefault(),e.stopPropagation());var t=this.props.selection.next();this.props.selection.index!==t&&this.props.selection.setNext(!0)},this.onPrevChat=e=>{e&&(e.stopPropagation(),e.preventDefault()),this.props.selection.prev()>-1?this.props.selection.setPrev(!0):this.props.onFocusSearch()},this.props.selection.init(this.getSelection())}getData(){return this.props.ftsResult.map(e=>({itemKey:e.id.toString(),msg:e}))}render(){return s.createElement(f.default,{handlers:{down:e=>this.onNextChat(e),up:e=>this.onPrevChat(e)},onFocus:this.onFocusGain,"data-tab":l.default.TAB_ORDERS.CHAT_SEARCH_MSG_LIST,onRef:this._setRefHotKeys},s.createElement(c.default,{flatListController:this.props.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem,forceConsistentRenderCount:!1}))}}var m=(0,u.default)(g);t.default=class extends m{focusFirst(){this.getComponent().focusFirst()}}},ddeabigheh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("idffdfffd")),d=r(a("ddfehbgecb")),l=r(a("cahfddcdga"));class c extends n.PureComponent{constructor(...e){super(...e),this.state={isAnimated:this.props.startAnimation,isReady:!1},this._addObserverToContainer=e=>{this._setIntersectionObserver(e)},this._setImgRef=e=>{this._imgRef=e},this._setUrlProviderRef=e=>{this._urlProviderRef=e},this._setCanvasRef=e=>{this._canvasRef=e},this._setIntersectionObserver=e=>{null!=e&&(null==this._intersectionObserver?(this._intersectionObserver=new IntersectionObserver(this._onVisible,{root:null,rootMargin:"25px",threshold:.99}),this._intersectionObserver.observe(e)):this._intersectionObserver.observe(e))},this._onVisible=e=>{e[0].isIntersecting?(this.startAnimation(),this._startAnimationCountDown()):null!=this._startedAt&&this._startAnimationCountDown()},this._onImageLoad=()=>{if(!this.state.isReady){var e=this._canvasRef,t=this._imgRef;e&&t&&(e.width=t.naturalWidth/2,e.height=t.naturalHeight/2,e.getContext("2d").drawImage(t,0,0,e.width,e.height)),this.props.startAnimation&&(this._startedAt=Date.now(),this._startAnimationCountDown(),this.props.mediaData.animatedAsNewMsg=!0),this.setState({isReady:!0})}},this.startAnimation=()=>{null!=this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null),null==this._startedAt&&(this._startedAt=Date.now()),this.setState({isAnimated:!0})},this.onMouseEnter=()=>{this.startAnimation()},this.onMouseLeave=()=>{null!=this._startedAt&&this._startAnimationCountDown()},this._renderImage=e=>n.createElement("img",{className:(0,s.default)(this.props.className,{[d.default.hide]:!this.state.isReady||!this.state.isAnimated}),draggable:"false",src:e,ref:this._setImgRef,onLoad:this._onImageLoad})}componentWillUnmount(){null!=this._timeoutID&&clearTimeout(this._timeoutID),this._intersectionObserver&&this._intersectionObserver.disconnect()}_startAnimationCountDown(){var e=(0,l.default)(this.props.mediaData.singleLoopDuration,"this.props.mediaData.singleLoopDuration"),t=(Date.now()-(0,l.default)(this._startedAt,"this._startedAt"))%e,a=this.props.mediaData.animationDuration-t;this._timeoutID=window.setTimeout(()=>{this._urlProviderRef&&this._urlProviderRef.refreshBlob(),this.setState({isAnimated:!1}),this._timeoutID=null,this._startedAt=null},a)}_createRenderableUrl(){return URL.createObjectURL(new Blob([this.props.mediaData.mediaBlob.formData()]))}render(){return n.createElement("div",{className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.props.onClick,ref:this._addObserverToContainer},n.createElement(o.default,{ref:this._setUrlProviderRef,mediaData:this.props.mediaData,placeholderRenderer:this.props.placeholderRenderer,downloadMedia:this.props.downloadMedia},this._renderImage),n.createElement("canvas",{className:(0,s.default)(this.props.className,{[d.default.hide]:!this.state.isReady||this.state.isAnimated}),draggable:"false",ref:this._setCanvasRef}))}}t.default=c},ddeefhbafc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("bbfdcdieie")),l=r(a("eafdabbdgj")),c=a("dhhjhedjij");class u extends n.PureComponent{render(){var e,{children:t,title:a,subtitle:i,titleOnClick:r,a8nText:u,"data-list-scroll-offset":f,theme:h,animation:p}=this.props,g=h?d.default[h]:null,m=(0,s.default)(d.default.container,{[d.default.animate]:p},g);return null!=a&&(e=n.createElement("div",{className:d.default.title,"data-a8n":o.default.key(u),role:r?"button":null,onClick:r},n.createElement(l.default,{side:i,ellipsify:!0},n.createElement(c.TextSpan,{theme:"list-section"===this.props.theme?"section-title-larger":"section-title"},a)))),n.createElement("div",{className:m,"data-list-scroll-offset":f},e,t)}}t.default=u,u.defaultProps={animation:!0}},ddfcibecea:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getAllMuteDurations=d,t.getDefaultMuteDuration=function(){return d()[0].duration},t.calculateMuteExpiration=function(e){if(e===Number.POSITIVE_INFINITY)return s.default.MUTE_ALWAYS_EXPIRATION_SENTINEL;return 60*e*60+(0,r.default)().unix()};var r=i(a("dgdjiicfdg")),s=i(a("hgigjbgie")),n=i(a("bdjjabfecc")),o=i(a("bfgbdiffgd"));function d(e){return e?[{label:n.default.t(943),duration:1},{label:n.default.t(946),duration:8},{label:n.default.t(942),duration:24},{label:n.default.t(944),duration:168}]:[{label:n.default.t(946),duration:8},{label:n.default.t(944),duration:168},o.default.muteAlways?{label:n.default.t(947),duration:Number.POSITIVE_INFINITY}:{label:n.default.t(945),duration:8760}]}},ddfehbgecb:function(e,t){e.exports={hide:"m8JVo"}},ddgejhgaf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getGifDimensions=x,t.giphyResultsToGifs=G,t.default=t.Component=void 0;var s=r(a("dfadhaifh")),n=a("djfeeacgad"),o=i(a("ddhijeejag")),d=a("cabeijgaif"),l=a("cdhbdacigj"),c=i(a("cajijabhgb")),u=r(a("ddajbaceej")),f=a("bacfccchhf"),h=r(a("bbbdigbec")),p=r(a("deefgbbaj")),g=r(a("cfaeajeid")),m=r(a("dhfbfehaef")),b=r(a("bdjjabfecc")),v=r(a("bdcchebfge")),_=r(a("bbgcdfeifh")),E=r(a("dhccahhefj")),j=r(a("dgdeceggdh")),y=r(a("bcddhhfhda")),S=r(a("ecgjcjejjj")),C=r(a("bacbhehedf")),M=r(a("bjieiiccce"));function T(){var e=(0,s.default)(["gif_search: All the gifs were skipped, check if there is a change in giphys response"]);return T=function(){return e},e}function P(){var e=(0,s.default)(["gif_search:getGifDimensions original does not have valid dimensions"]);return P=function(){return e},e}function O(){var e=(0,s.default)(["gif_search:getGifDimensions fullContent does not have valid dimensions'"]);return O=function(){return e},e}var N={giphy:v.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:v.default.GIF_SEARCH_PROVIDER.TENOR},I={giphy:d.VideoMessageAttribution.GIPHY,tenor:d.VideoMessageAttribution.TENOR},A=new j.default((function(e){switch((0,f.gifProvider)()){case"giphy":return function(e){var t,a=e===g.default.TRENDING;if(a)t=M.default.request("https://api.giphy.com/v1/gifs/trending","GET",{api_key:"3o85xmWDYKgihhIKSA",limit:100,rating:"pg-13"},"json");else{var i,r=b.default.getLocale();f.GIPHY_LOCALES.includes(r)&&(i=r),t=M.default.request("https://api.giphy.com/v1/gifs/search","GET",{q:e,api_key:"3o85xmWDYKgihhIKSA",limit:100,rating:"pg-13",lang:i},"json")}return t.catch(()=>null).then(e=>e&&e.status<300&&G(e.response,a))}(e);case"tenor":return function(e){var t,a=e===g.default.TRENDING,i=b.default.lng().replace("-","_");t=a?M.default.request("https://wa.tenor.co/v1/trending","GET",{key:"DLAQBEYLJJIM",limit:50,contentfilter:"high",locale:i},"json"):M.default.request("https://wa.tenor.co/v1/search","GET",{q:e,key:"DLAQBEYLJJIM",limit:50,contentfilter:"high",locale:i},"json");return t.catch(()=>null).then(e=>e&&e.status<300&&function(e,t=!1){if(!e||!Array.isArray(e.results))return[];for(var a=e.results,i=[],r=0;r<a.length;r++){var s=a[r];if(s&&s.media&&s.media[0]){var{tinymp4:n,previewmp4:o,previewgif:d}=s.media[0];if(n){var[l,c]=n.dims;i.push(new f.GifInfo(i.length,n.url,n.size,o&&o.url||void 0,d&&d.url||void 0,Math.round(l*f.TARGET_GIF_HEIGHT/c),f.TENOR,t))}}}return i}(e.response))}(e);default:throw new Error("Unrecognized provider ".concat((0,f.gifProvider)()))}}),{maxCached:6,maxAge:36e4,shouldCache:e=>!(!e||!e.length)}),w="UP",R="DOWN",D="LEFT",L="RIGHT";class k extends o.Component{constructor(e){super(e),this._scrollTop=0,this._didSendGif=!1,this._onlineRestarter=null,this._pendingQuery=null,this.refGifs={},this.refGifsBySectionId={},this.setRefGif=(e,t)=>{var[a,i]=e;t?(this.refGifs[a]=t,this.refGifsBySectionId[i]=t):(delete this.refGifs[a],delete this.refGifsBySectionId[i])},this.setRefGifCache=new y.default(this.setRefGif),this.onSend=e=>{var t=N[e.attribution];new v.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new v.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),this._didSendGif=!0,this.props.onGif(e.url,I[e.attribution])},this.animateGif=()=>{var e=this._animatingRow,t=this._scrollTop+f.GAP_SIZE;this._starredGifs&&(t-=this._starredGifs.getClientHeight()||0);var a=Math.round(t/(f.TARGET_GIF_HEIGHT+f.GAP_SIZE)),i=this.state.gifRows[a];if(i&&i.gifs.length&&i!==e){if(this._animatingRow=i,e)for(var r=0;r<e.gifs.length;r++)this.setGifAnimating(e.gifs[r].gifId,!1);for(var s=0;s<i.gifs.length;s++)this.setGifAnimating(i.gifs[s].gifId,!0)}[a+1,a-1].forEach(e=>{if(this.state.gifRows[e])for(var t=this.state.gifRows[e].gifs,a=0;a<t.length;a++)this.setGifAnimating(t[a].gifId,!1)})},this.searchForAndSetGifs=()=>{var e=N[(0,f.gifProvider)()],t=this.props.searchText||this.props.selectedSectionId||g.default.TRENDING,a=A.getOrRun(t);a=a.then(),this._pendingQuery=a,a.checkpoint(this.props.rejectOnUnmount()).then(i=>{if(i&&0===i.length&&new v.default.GifSearchNoResults({gifSearchProvider:e}).commit(),a===this._pendingQuery&&(this._pendingQuery=null,i)){t||new v.default.GifTrendingViewed({gifSearchProvider:e}).commit();var r=this._containerDom&&this._containerDom.clientWidth||0;r-=2*f.GAP_SIZE,this._resetScroll=!0,this._animateTimer.debounce(0),this.setState({gifRows:U(i,r),width:r})}}).catchTypes(c.Unmount,Promise.CancellationError,()=>{}),setTimeout(()=>{this.props.rejectOnUnmount().isPending()&&t===this.props.searchText&&new v.default.GifSearchPerformed({gifSearchProvider:e}).commit()},500)},this.onStarredGifsMount=e=>{this._starredGifs=e},this.onContainerMount=e=>{this._containerDom=e,null!=e&&e&&this._resetScroll&&(e.scrollTop=0)},this.initSelection=(e=!1)=>{this._starredGifs&&this._starredGifs.hasGifs()&&!e?this._starredGifs&&this._starredGifs.component&&this._starredGifs.component.initSelection():(this.selection=[0,0],this.focusGif())},this.getNewColPostion=e=>{var{gifRows:t}=this.state,[a,i,r,s,n]=[this.selection[0],this.selection[1],t[Math.min(this.selection[0],t.length-1)].gifs.length-1,t[Math.min(this.selection[0]+1,t.length-1)].gifs.length-1,t[Math.max(this.selection[0]-1,0)].gifs.length-1],o=i/r;switch(e){case w:var d=Math.floor(n*o);return[Math.max(a-1,0),d];case R:return[a+1,Math.floor(s*o)]}return[0,0]},this.contains=e=>!!this._containerDom&&this._containerDom.contains(e),this.getStarredGifsRef=()=>this._starredGifs,this.handleArrowKeys=(e,t)=>{var{gifRows:a}=this.state,[i,r]=[this.selection[0],this.selection[1]];switch(t){case w:if(0===i)return;this.selection=this.getNewColPostion(w);break;case R:if(i===a.length-1)return;this.selection=this.getNewColPostion(R);break;case D:if(0===r&&0===i)return;this.selection=0===r?this.getNewSelection(i-1,a[i-1].gifs.length-1):this.getNewSelection(i,r-1);break;case L:a[i]?a[i].gifs.length===r+1?this.selection=this.getNewSelection(i+1,0):this.selection=this.getNewSelection(i,r+1):this.selection=[0,0]}this.stopEvent(e),this.focusGif()},this.stopEvent=e=>{e&&(e.preventDefault(),e.stopPropagation())},this.restoreFocus=()=>{},this.focusGif=()=>{var e=this.selection.join("_"),t=this.refGifsBySectionId[e];if(t){var a=t.messagePreviewRef;a&&(u.default.focus(a),this.props.scrollGifIntoViewIfNeeded(a))}},this.handleUpArrow=e=>{this.handleArrowKeys(e,w)},this.handleDownArrow=e=>{this.handleArrowKeys(e,R)},this.handleLeftArrow=e=>{this.handleArrowKeys(e,D)},this.handleRightArrow=e=>{this.handleArrowKeys(e,L)},this.handleEnter=e=>{this.stopEvent(e);var{gifRows:t}=this.state,[a,i]=[this.selection[0],this.selection[1],this.selection[2]];this.onSend(t[a].gifs[i])},this._scrollTop=0,this._animatingRow=null,this._containerDom=null,this._didSendGif=!1,this.state={gifRows:[],width:0}}componentDidUpdate(e){e.searchText!==this.props.searchText&&this.scheduleQuery()}shouldComponentUpdate(e,t){return e.onGif!==this.props.onGif||t.gifRows!==this.state.gifRows||e.selectedSectionId!==this.props.selectedSectionId||e.searchText!==this.props.searchText}componentDidMount(){this._searchTimer=new n.ShiftTimer(this.searchForAndSetGifs),this._animateTimer=new n.ShiftTimer(this.animateGif),this._onlineRestarter=Promise.loop(()=>(0,C.default)(_.default,"change:online",()=>_.default.online).then(()=>this.scheduleQuery())).cancellable(),this._onlineRestarter.catchType(Promise.CancellationError,()=>{}),this.searchForAndSetGifs(),new v.default.GifSearchSessionStarted({gifSearchProvider:N[(0,f.gifProvider)()]}).commit()}componentWillUnmount(){this._animateTimer.cancel(),this._searchTimer.cancel(),this._onlineRestarter&&this._onlineRestarter.cancel(),this._didSendGif||new v.default.GifSearchCancelled({gifSearchProvider:N[(0,f.gifProvider)()]}).commit()}scheduleQuery(){this._searchTimer.debounceAndCap(200,2e3)}animateOnScroll(e){this._scrollTop=e.scrollTop,this._animateTimer.debounce(200)}setGifAnimating(e,t=!1){var a=this.refGifs[String(e)];a&&a.setShouldAnimate(t)}getNewSelection(e,t){return[Math.max(0,e),Math.max(0,t)]}render(){var{gifRows:e}=this.state,t={up:this.handleUpArrow,down:this.handleDownArrow,left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},a=e.map((e,t)=>{var a=e.gifs.map((e,a)=>o.createElement(h.default,{key:e.gifId,ref:this.setRefGifCache.getRefSetter(["".concat(e.gifId),"".concat(t,"_").concat(a)]),gif:e,onSend:this.onSend})),i=null;return e.blankStr&&(i=o.createElement("div",{className:p.default.blank,style:{flexBasis:e.blankStr}})),o.createElement("div",{key:t,className:p.default.row},a,i)}),i=this.props.selectedSectionId!==g.default.FAVORITES&&(0===a.length?o.createElement("div",{className:p.default.noResults},this.props.searchText?o.createElement(l.SearchWithoutKeyword,null):o.createElement(l.Loading,null)):o.createElement(m.default,{className:p.default.section,handlers:t},a)),r=!this.props.searchText&&this.props.selectedSectionId===g.default.FAVORITES&&o.createElement(S.default,{onSend:this.onSend,ref:this.onStarredGifsMount});return o.createElement("div",{className:p.default.searchContainer,ref:this.onContainerMount},i,r)}}function x(e,t){if(e){var a=parseInt(e.width,10),i=parseInt(e.height,10);if(a&&i)return{width:a,height:i};__LOG__(4,!1,new Error)(O()),SEND_LOGS("gif_search:getGifDimensions fullContent does not have valid dimensions")}if(t){var r=parseInt(t.width,10),s=parseInt(t.height,10);if(r&&s)return{width:f.TARGET_GIF_HEIGHT*r/s,height:f.TARGET_GIF_HEIGHT};__LOG__(4,!1,new Error)(P()),SEND_LOGS("gif_search:getGifDimensions original does not have valid dimensions")}return{width:f.TARGET_GIF_HEIGHT,height:f.TARGET_GIF_HEIGHT}}function G(e,t){if(!e||!Array.isArray(e.data))return[];if(!e.data.length&&t)return[];for(var a=e.data,i=[],r=0;r<a.length;r++){var s=a[r],n=s&&s.images;if(n){var{original:o,preview:d,downsized_small:l,preview_webp:c,preview_gif:u}=n;if(l){var h=l.mp4;if(h){var{width:p,height:g}=x(l,o);i.push(new f.GifInfo(i.length,h,parseInt(l.mp4_size,10),d&&d.mp4||void 0,c&&c.url||u&&u.url||void 0,Math.round(p*f.TARGET_GIF_HEIGHT/g),f.GIPHY,t))}}}}return 0===i.length&&a.length>0&&(__LOG__(4,!1,new Error)(T()),SEND_LOGS("gif_search: All the gifs were skipped, check if there is a change in giphys response")),i}function U(e,t){for(var a=[],i=.9*t,r=e,s=null,n=.05;n<1&&r.length;n+=.05){r.sort((e,t)=>{var a=e.rank-t.rank;return Math.abs(a)>8?a:t.width-e.width});for(var o=(1+n)*t,d=[],l=[],c=0;c<r.length;c++){for(var u=r[c],h=!1,p=Math.min(o-u.width,i),g=0;!h&&g<d.length;g++)d[g]<p&&(d[g]+=u.width+f.GAP_SIZE,l[g].push(u),h=!0);h||(d.push(u.width),l.push([u]))}if(1===l.length){r=[];var m=t-d[0]-f.GAP_SIZE;s={gifs:l[0],blankStr:m>0?"".concat(m,"px"):void 0}}else{r=[];for(var b=0;b<l.length;b++)d[b]>i?a.push(l[b]):r.push.apply(r,l[b])}}a.forEach(e=>e.sort((e,t)=>e.rank-t.rank)),a.sort((e,t)=>e[0].rank-t[0].rank);var v=a.map(e=>({gifs:e,blankStr:void 0}));return s&&v.push(s),v}var F=k;t.Component=F;var B=(0,E.default)(k);t.default=class extends B{constructor(...e){super(...e),this.initSelection=e=>{this.getComponent().initSelection(e)},this.animateOnScroll=e=>{this.getComponent().animateOnScroll(e)},this.getStarredGifsRef=()=>this.getComponent().getStarredGifsRef()}contains(e){return this.getComponent().contains(e)}}},ddgfbcgedg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=a("bcdeiabhcf"),l=r(a("ebcagbhefg")),c=r(a("hgigjbgie")),u=r(a("cfhchagia")),f=r(a("eabccjaghj")),h=r(a("ebebhdija")),p=r(a("efcjbgccg")),g=r(a("dcdefieidh")),m=r(a("bdjjabfecc")),b=r(a("ebddggeaib")),v=r(a("dcdbbhicce")),_=r(a("cgjdibiahi"));class E extends o.Component{constructor(e){super(e),this._setRefContainer=e=>{this._refContainer=e},this.onWallpaperColorPreview=e=>{e?this.state.wallpaperColor!==e&&this.setState({wallpaperColor:e}):this.setState({wallpaperColor:l.default.assertGet("defaultPreference").wallpaperColor})},this.state={wallpaperColor:this.props.chatPreference.wallpaperColor,prevWallpaperColor:this.props.chatPreference.wallpaperColor}}static getDerivedStateFromProps(e,t){return e.chatPreference.wallpaperColor!==t.prevWallpaperColor?(0,s.default)((0,s.default)({},t),{},{wallpaperColor:e.chatPreference.wallpaperColor,prevWallpaperColor:e.chatPreference.wallpaperColor}):null}componentDidMount(){this.props.listeners.add(l.default,"wallpaper_color_preview",this.onWallpaperColorPreview)}animatePanel(e,t){var a,i=null===(a=this._refContainer)||void 0===a?void 0:a.clientWidth;return null!=i&&e!==t&&(0,d.animateConversationPanel)(this._refContainer,i/(e-t))}containsDOMNode(e){return!!this._refContainer&&this._refContainer.contains(e)}render(){var e,t={};this.state.wallpaperColor!==c.default.DEFAULT_CHAT_WALLPAPER&&(t={backgroundColor:this.state.wallpaperColor});var{chat:a,msgCollection:i,focusCtx:r,notifyChatRendered:s,updateOpenedChatInfo:d,showPreview:b}=this.props;return a&&i?e=o.createElement(h.default,{chat:a,groupMetadata:a.groupMetadata,chatPreference:l.default.assertGet("defaultPreference"),focusCtx:r,msgCollection:i,notifyChatRendered:s,updateOpenedChatInfo:d,key:a.id.toString(),wallpaperColor:this.state.wallpaperColor}):b&&(e=o.createElement(o.Fragment,null,o.createElement("header",{className:(0,n.default)(g.default.chatHeader,p.default.header)},o.createElement("span",{className:(0,n.default)(p.default.title,g.default.chatTitle)},m.default.t(1477))),o.createElement(u.default,{wallpaperColor:this.state.wallpaperColor,showDoodle:this.props.chatPreference.showDoodle}),o.createElement("footer",{className:f.default.footer}))),o.createElement(_.default,{displayName:"ConversationPanel",state:_.default.State.INACTIVE},o.createElement("div",{id:"main",className:(0,n.default)(p.default.pane,{[p.default.previewPane]:this.props.showPreview}),style:t,ref:this._setRefContainer},e))}}E.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var j=(0,b.default)((0,v.default)(E,E.CONCERNS));t.default=class extends j{animatePanel(e,t){return super.getComponent().animatePanel(e,t)}containsDOMNode(e){return this.getComponent().containsDOMNode(e)}}},ddgfdhjehi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={parseStatusRankingScores:function(e){if("status"===this.N.tag(e)&&"score"===this.N.attr("type",e)){var t=[],a=this.N.children(e);if(Array.isArray(a))for(var i=0;i<a.length;i++){var r=a[i];if("user"===this.N.tag(r)){var s=this.N.attr("jid",r),n=parseFloat(this.N.attr("score",r))||void 0;void 0!==s&&void 0!==n&&t.push({jid:s,score:n})}}return t}}};t.default=i},ddhgefbahb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("egbcjfjag"));class d extends s.PureComponent{constructor(...e){super(...e),this._handleMouseDown=e=>{e.stopPropagation()}}render(){return s.createElement("div",{className:(0,n.default)(o.default.container,this.props.className),onMouseDown:this._handleMouseDown},this.props.children)}}t.default=d},ddhhgigcif:function(e,t){e.exports={border:"_1soyC"}},ddihieeaee:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryMediaConn=function(e){return(0,n.default)({delay:({taskDuration:e})=>{var t=1e3*c();return Math.max(t-e,0)},signal:e},t=>{var a;if(d.default.supportsFeature(d.default.F.MD_BACKEND)){if(!a)return Promise.reject(new Error("sendQueryMediaConn: not supported when not build with MD_BACKEND"))}else a=l.default.queryMediaConnections(e);return a.then(e=>{var{ttl:t,authTTL:a}=e;return null==a?(a=1e3*t,t=3e5):(a*=1e3,t*=1e3),(0,r.default)((0,r.default)({},e),{},{authTTL:a,ttl:t})}).catchType(o.ServerStatusCodeError,e=>{if(e.status>=500)return t(e);throw e})})};var r=i(a("cdfdfciehj")),s=a("ddaecggdjf"),n=i(a("ebgbaceeda")),o=a("bgihjbde"),d=i(a("bhbdiadfhj")),l=i(a("cfidecfjad")),c=(0,s.createTimer)({algo:{type:"fibonacci",a:1,b:0},max:9e5,jitter:.25})},ddjcjchcce:function(e,t){e.exports={meta:"_185ho",chromeFix:"_3PDW0",metaLight:"_30Ytn",timestamp:"_2JNr-",icon:"_20XBv",status:"_2v8yt",labels:"QJA2l"}},ddjdjjicid:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.storeInitialSyncMessages=function(){d.default.supportsFeature(d.default.F.MD_BACKEND);return Promise.resolve()},t.storeMessages=function(e=!1){d.default.supportsFeature(d.default.F.MD_BACKEND);return Promise.resolve()},t.updateMessage=function(){d.default.supportsFeature(d.default.F.MD_BACKEND);return Promise.resolve()},t.starMessages=function(){d.default.supportsFeature(d.default.F.MD_BACKEND);return Promise.resolve()},t.unstarMessages=function(){d.default.supportsFeature(d.default.F.MD_BACKEND);return Promise.resolve()},t.storeMessageInTransaction=function(e,t,a=!1){var i=null==t?e[0].id.remote:t,o=(0,u.beginningOfChat)(i),d=(0,u.endOfChat)(i);return(0,c.getStorage)().lock(["message"],function(){var t=(0,r.default)((function*([t]){var r=t.all({reverse:!a,limit:1,index:["rowId"],returnKeyType:"keys"}).then(e=>0===e.length?1e9:e[0]),c=t.between(["internalId"],o,d,{limit:1,reverse:!a,returnKeyType:"keys"}).then(e=>0===e.length?1e9:(0,u.getInChatMsgId)(e[0])),[f,m]=yield Promise.all([r,c]),b=a?f-e.length:f+1,v=a?m-e.length:m+1,_=e.map((e,t)=>g(function(e,t,a,i){var r=(0,l.findLink)(e.body,!0),o=[n.default.MSG_TYPE.IMAGE,n.default.MSG_TYPE.VIDEO,n.default.MSG_TYPE.AUDIO].includes(e.type),d=(0,s.default)((0,s.default)({},e),{},{vcardWAids:h(e),id:e.id.toString(),isStarred:e.star?a:void 0,hasLink:"chat"===e.type&&null!=r?a:void 0,isMediaMsg:o?a:void 0,isDocMsg:e.type===n.default.MSG_TYPE.DOCUMENT?a:void 0,expiredTimestamp:p(e)});null!=a&&(d.rowId=a,d.isOffline=null==e.offlineBuffer?void 0:a);null!=i&&(d.internalId=(0,u.craftInternalId)(t,i));null==e.offlineBuffer&&(d.isOffline=void 0,d.offline=void 0);return d}(e,i.toString(),b+t,v+t)));return t.bulkCreate(_)}));return function(){return t.apply(this,arguments)}}())},t.convertToMessageRowType=g,t.processRevokeMsg=function(){d.default.supportsFeature(d.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("ffedgcdgj")),s=i(a("cdfdfciehj")),n=i(a("hgigjbgie")),o=a("chhdedhgfe"),d=i(a("bhbdiadfhj")),l=a("dbcedfihd"),c=a("ffjiicch"),u=a("bigeebbfbi"),f=a("cjjdjbcgjh");function h(e){var t=[];if("vcard"===e.type)t=[e.body];else{if("multi_vcard"!==e.type)return;t=e.vcardList.map(e=>e.vcard)}return t.filter(Boolean).reduce((e,t)=>{var a=(0,f.vcardWids)((0,f.parseVcard)(t));return e.concat(a.map(e=>e.toString()))},[])}function p(e){var{ephemeralDuration:t,ephemeralStartTimestamp:a,t:i,subtype:r,id:{fromMe:s}}=e,n=(0,o.getEphemeralExpirationTimestamp)(t,a,i,r,s);return null!=n?n:void 0}function g(e){var t=(0,s.default)({},e);return t.id=e.id.toString(),e.protocolMessageKey&&(t.protocolMessageKey=e.protocolMessageKey.toString()),e.paymentRequestMessageKey&&(t.paymentRequestMessageKey=e.paymentRequestMessageKey.toString()),delete t.notifyName,delete t.local,delete t.isNewMsg,delete t.clearMedia,delete t.multicast,delete t.urlNumber,delete t.urlText,delete t.linkPreview,delete t.star,delete t.forwardedFromWeb,t}},ddjjhjgeea:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"};t.default=i},deajhegfjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cehcfaibji")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("ccbgfecegc")),l=a("ihfehgab"),c=r(a("hgigjbgie")),u=r(a("gfebgebbi")),f=i(a("djaiggcdb")),h=r(a("bhbdiadfhj")),p=r(a("bdjjabfecc")),g=r(a("ebddggeaib")),m=i(a("cfbhddjcif")),b=r(a("ediaiijfe")),v=r(a("cjfibjfdc")),_=a("cjfegjecaj"),E=r(a("dgdcjccfdi")),j=i(a("bjhgigfbec")),y=r(a("edbaidcaf")),S=r(a("ddfjdghbjb")),C=r(a("gcjjfccef")),M=r(a("cfidecfjad")),T="PREVIEW",P="FLOATER";class O extends o.Component{constructor(e){super(e),this.setRefThumbnailWrapper=e=>{this.refThumbnailWrapper=e},this.getThumbnailWrapperRect=()=>this.refThumbnailWrapper?this.refThumbnailWrapper.getBoundingClientRect():null,this.setPreviewMode=()=>{this.state.mode!==T&&this.setState({mode:T})},this.setFloaterMode=()=>{this.state.mode!==P&&this.setState({mode:P})},this.parseYoutubeVideoId=e=>{for(var t=l.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,a=null,i=0;i<t.length;i++){var r=y.default.withoutWww(e).match(t[i]);if(r){a=r[1];break}}return a},this.parseYoutubeVideoStartTime=e=>{var t=e.split("?");if(2!==t.length)return 0;var a=t[1],i=new S.default(a).get(l.YOUTUBE_URL_TIME_PARAM_NAME);if(!i)return 0;var r=i.match(l.YOUTUBE_URL_TIME_PARAM_PATTERN),s=0;if(r&&r.length)for(var n=1;n<r.length;n++){var o=r[n];if(o){var d=parseInt(o,10);if(isNaN(d))return 0;o.endsWith("h")&&(s+=3600*d),o.endsWith("m")&&(s+=60*d),o.endsWith("s")&&(s+=d),/^\d+$/.test(o)&&(s+=d)}}return s};var t=b.default.isOpened((0,_.unproxy)(e.msg))?P:T;this.state={mode:t}}componentDidMount(){this.props.listeners.add(b.default,"".concat(this.props.msg.id.toString(),"_pip_did_open"),this.setFloaterMode),this.props.listeners.add(b.default,"".concat(this.props.msg.id.toString(),"_pip_did_close"),this.setPreviewMode)}render(){var e=this.props.msg.description?o.createElement("div",{className:C.default.description,title:this.props.msg.description},o.createElement(u.default,{text:this.props.msg.description})):null,t=y.default.hostname(this.props.msg.canonicalUrl||this.props.msg.matchedText);(t=y.default.withoutWww(t))===c.default.HOSTNAME.YOUTUBE_SHORTENED&&(t=c.default.HOSTNAME.YOUTUBE);var a,i=o.createElement("div",{className:C.default.source},o.createElement(u.default,{text:t})),r=(0,n.default)(C.default.body,{[C.default.noThumb]:!this.props.msg.thumbnail});if(this.state.mode===T)switch(t){case c.default.HOSTNAME.YOUTUBE:case c.default.HOSTNAME.YOUTUBE_MOBILE:var l=this.parseYoutubeVideoId(this.props.msg.matchedText);if(l){var g=this.parseYoutubeVideoStartTime(this.props.msg.matchedText);a=e=>{e&&e.stopPropagation(),b.default.openYoutubePiP(l,this.props.msg,g,this.getThumbnailWrapperRect())}}break;case c.default.HOSTNAME.INSTAGRAM:case c.default.HOSTNAME.STREAMABLE:case c.default.HOSTNAME.FACEBOOK:case c.default.HOSTNAME.FBWATCH:case c.default.HOSTNAME.FBWATCH_ALT:case c.default.HOSTNAME.LASSOVIDEOS:case c.default.HOSTNAME.LASSO_SHORTENED:case c.default.HOSTNAME.SHARECHAT:h.default.supportsFeature(h.default.F.VIDEO_PLAYBACK_URL)&&(a=()=>{b.default.openOgVideoPiP("",this.props.msg.thumbnail,this.props.msg,0,this.getThumbnailWrapperRect());var e=y.default.build(this.props.msg.matchedText,{wa_logging_event:"video_play_open"});M.default.queryVideoPlaybackUrl(e).then(e=>{if(b.default.isOpened(this.props.msg)){if(!e.url)throw new Error("Url is missing in response.");b.default.openOgVideoPiP(e.url,this.props.msg.thumbnail,this.props.msg,0,null)}}).catch(()=>{b.default.closeOgVideoPiP(),d.default.openToast(o.createElement(j.default,{id:(0,j.genId)(),msg:p.default.t(1088),action:{actionText:p.default.t(1089),onAction:()=>{(0,f.openExternalLink)(this.props.msg.matchedText)}}}))})});break;default:return null}var _,S,O=(0,n.default)(C.default.preview,{[C.default.bubbleIn]:!this.props.msg.isSentByMe,[C.default.bubbleOut]:this.props.msg.isSentByMe}),N=this.state.mode===T?o.createElement("div",{className:C.default.mediaStateControlsWrapper},o.createElement(m.Play,null)):null,I=this.state.mode===P?o.createElement(v.default,{icon:o.createElement(E.default,{name:"video-pip-large"})},p.default.t(1090)):null;if(this.props.msg.thumbnail&&(0,s.default)(c.default.HOSTNAME).includes(t)){var A;switch(_=o.createElement("img",{className:(0,n.default)(C.default.thumbnail,{[C.default.youtubeThumbnail]:t===c.default.HOSTNAME.YOUTUBE}),src:"data:image/jpeg;base64,".concat(this.props.msg.thumbnail)}),t){case c.default.HOSTNAME.YOUTUBE:A=o.createElement(E.default,{name:"logo-youtube"});break;case c.default.HOSTNAME.INSTAGRAM:A=o.createElement(E.default,{name:"logo-instagram"});break;case c.default.HOSTNAME.FACEBOOK:A=o.createElement(E.default,{name:"logo-facebook"});break;case c.default.HOSTNAME.LASSOVIDEOS:A=o.createElement(E.default,{name:"logo-lasso"})}A&&(S=o.createElement("div",{className:C.default.attribution},A))}else _=o.createElement("div",{className:C.default.thumbnailPlaceholder});return o.createElement("div",{className:O},o.createElement("div",{ref:this.setRefThumbnailWrapper,className:C.default.thumbnailWrapper,onClick:a},S,_,N,I),o.createElement(f.default,{className:r,href:this.props.msg.matchedText},o.createElement("div",{className:C.default.title,title:this.props.msg.title},o.createElement(u.default,{text:this.props.msg.title})),e,i))}}var N=(0,g.default)(O);t.default=N},debbbbibic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("ddfeabiaci")),n=a("edcaccjfh"),o=i(a("eacdgbfjfi")),d=i(a("hgigjbgie")),l=a("cabeijgaif"),c=a("ddbdgibbbi"),u=i(a("cffajefeag")),f=i(a("cahfddcdga")),h=a("bbjghgfabf");function p(){var e=(0,r.default)(["drop: cannot create MsgKey: ",""]);return p=function(){return e},e}function g(){var e=(0,r.default)(["drop: broadcast"]);return g=function(){return e},e}function m(){var e=(0,r.default)(["drop: failed parsing wmi"]);return m=function(){return e},e}function b(){var e=(0,r.default)(["wmi error: ",""]);return b=function(){return e},e}function v(){var e=(0,r.default)(["drop: no bytes"]);return v=function(){return e},e}function _(){var e=(0,r.default)(["drop: not message"]);return _=function(){return e},e}var E={version:"13",parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var a=this.N.children(e);if(a instanceof ArrayBuffer)try{var i=(0,n.decodeProto)(h.WebMessageInfoSpec,a);return this.parseWebMessageInfo(i,t)}catch(e){return __LOG__(2)(b(),String(e)),__LOG__(4,!1,new Error)(m()),void SEND_LOGS("parse-error")}else __LOG__(3)(v())}else __LOG__(3)(_())},parseWebMessageInfo:function(e,t){var a=e.key,i=this.decodeJid(a.remoteJid),r=(0,c.getMaybeMeUser)(),s=a.fromMe?i:r,n=a.fromMe?r:i,o=this.decodeJid(a.participant),l="in";if(r.equals(i)&&(l=a.fromMe?"out":"in"),"broadcast"!==s){var h;try{h=new u.default({fromMe:(0,f.default)(a.fromMe,"key.fromMe"),remote:i,id:(0,f.default)(a.id,"key.id"),participant:o})}catch(e){return void __LOG__(3)(p(),e.stack)}var m={id:h,from:n,to:s,self:l,participant:o,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?d.default.ACK.SENT:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:a.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256),shareDuration:e.duration,labels:e.labels,ephemeralStartTimestamp:e.ephemeralStartTimestamp,ephemeralOutOfSync:e.ephemeralOutOfSync,bizPrivacyStatus:e.bizPrivacyStatus,verifiedBizName:e.verifiedBizName};return e.message?this.parseMsgProto(e.message,m,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,m)}__LOG__(3)(g())},parseMsgStubProto:function(e,t){var a=h.WebMessageInfoStubType;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.FUTUREPROOF:return t.type="unknown",t.subtype="phone",t;default:return t}},parseProtocolMessageProto:function(e,t,a){if("relay"===a||t.type===l.ProtocolMessageType.EPHEMERAL_SETTING)switch(e.type="protocol",t.type){case l.ProtocolMessageType.REVOKE:var i=t.key,r=new u.default({fromMe:i.fromMe,remote:this.decodeJid(i.remoteJid),id:i.id,participant:this.decodeJid(i.participant)});e.subtype="revoke",e.protocolMessageKey=r;break;case l.ProtocolMessageType.EPHEMERAL_SETTING:e.subtype="ephemeral_setting",e.ephemeralDuration=t.ephemeralExpiration;break;case l.ProtocolMessageType.EPHEMERAL_SYNC_RESPONSE:e.subtype="ephemeral_sync_response",e.ephemeralDuration=t.ephemeralExpiration,e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp;break;default:e.subtype="unknown"}}},j=(0,s.default)(E,o.default);t.default=j},debfcgabcb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.initializeLabels=function(e){var t=l(e);if(s.default.supportsFeature(s.default.F.MD_BACKEND))e.labels=a("bijffg").default.getLabelsForModel(e.id.toString(),t);else{var i=()=>{d(e.id.toString(),e.labels,t)};i(),e.listenTo(e,"change:labels",i)}},t.addToLabelCollection=d,t.removeLabelFromCollection=function(e,t,i){var r=a("bijffg").default.get(t),d=null==r?void 0:r.labelItemCollection;if(!d)return void __LOG__(3)(o(),t);d.remove(c(e,t,i)),s.default.supportsFeature(s.default.F.MD_BACKEND)&&i===n.LabelItemParentType.Chat&&d.remove(c(e,t,n.LabelItemParentType.Contact))},t.getParentCollection=function(e){switch(e){case n.LabelItemParentType.Chat:return a("dbdfbgehgj").default;case n.LabelItemParentType.Contact:return a("dhigahgdjb").default;case n.LabelItemParentType.Msg:return a("biecbbiiee").default}},t.getParentTypeFromModel=l,t.createLabelItemId=c;var r=i(a("dfadhaifh")),s=i(a("bhbdiadfhj")),n=a("dbjbdhhhea");function o(){var e=(0,r.default)(["labelItemCollection does not exist for lableId ",""]);return o=function(){return e},e}function d(e,t,i){if(t&&t.length>0){var r=a("bijffg").default;t.forEach(t=>{var a=r.gadd({id:t});a.labelItemCollection.gadd({id:c(e,t,i),labelId:t,parentId:e,parentType:i}),s.default.supportsFeature(s.default.F.MD_BACKEND)&&i===n.LabelItemParentType.Chat&&a.labelItemCollection.gadd({id:c(e,t,n.LabelItemParentType.Contact),labelId:t,parentId:e,parentType:n.LabelItemParentType.Contact})})}}function l(e){if(e instanceof a("ebjaejiaba").default)return n.LabelItemParentType.Chat;if(e instanceof a("ccfcjccjbg").default)return n.LabelItemParentType.Contact;if(e instanceof a("cbcbdjdah").default)return n.LabelItemParentType.Msg;throw new Error("getParentTypeFromModel: model is invalid")}function c(e,t,a){return"".concat(e,"_").concat(t,"_").concat(a)}},debhgjgfcf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicRouter=t.NOT_HANDLED=void 0;var i={sentinel:"RESPONSE_NAMESPACE"},r={sentinel:"NOT_HANDLED"};t.NOT_HANDLED=r;function s(e,t){var a=t.namespace;return a===i?n:e.get(a)}function n(e,t,a){a(t)}t.DynamicRouter=class{constructor(){this._basePromise=Promise.resolve(),this._handlers=new Map,this._handlerChangeCount=0,this._firstRoute=null,this._nextRoute=null,this._lastRoute=null,this._run=()=>{var e=this._nextRoute;if(e){for(var t,a=this._handlers;e&&!(t=s(a,e));)e=e.nextRoute;if(e&&t){var i=this._runHandler(t,e),n=!0;if(i!==r){var o=e.prevRoute,d=e.nextRoute;this._nextRoute===e&&(this._nextRoute=d),o?o.nextRoute=d:this._firstRoute=d,d?d.prevRoute=o:(n=!1,this._lastRoute=o)}return n&&this._basePromise.then(this._run),i}this._nextRoute=null}}}hasHandlerForNamespace(e){return this._handlers.has(e)}getHandledNamespaces(){return Array.from(this._handlers.keys())}setNamespaceHandler(e,t){var a=this._handlers,i=a.get(e);if(i!==t&&(++this._handlerChangeCount,a.set(e,t),!i)){var r=this._firstRoute;r&&(this._nextRoute||this._basePromise.then(this._run),this._nextRoute=r)}}setHandlers(e,t){this.setNamespaceHandler(e,(function(e,a,i){var r=t[e](a);i&&i(r)}))}fireAndForget(e,t,a){this._schedule(e,t,a,null)}sendAndReceive(e,t,a){return new Promise((r,s)=>{this._schedule(e,t,a,e=>{try{var t=function(e){if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;return"function"==typeof t?t:null}return null}(e);t?t.call(e,e=>{this._schedule(i,"",e,r)},e=>{this._schedule(i,"",e,s)}):this._schedule(i,"",e,r)}catch(e){this._schedule(i,"",e,s)}})})}_schedule(e,t,a,i){var r=this._lastRoute,s={namespace:e,route:t,arg:a,resolver:i,prevRoute:r,nextRoute:null};this._lastRoute=s;var n=!0;r?(r.nextRoute=s,n=!this._nextRoute):this._firstRoute=s,n&&(this._nextRoute=s,this._basePromise.then(this._run))}_runHandler(e,t){var{route:a,arg:i,resolver:s}=t,n=this._handlerChangeCount,o=null,d=null;try{o=e(a,i,s)}catch(e){d=Promise.reject(e)}if(o===r){if(n!==this._handlerChangeCount)return r;d=Promise.reject(new Error("DynamicRouter: NOT_HANDLED can only be used when updating handlers"))}if(!s)return d;d&&s(d)}}},decbdehic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(a("eddibaagi"))},dedadediih:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.createElement(f,(0,s.default)({mediaData:e.product.imageCdnUrl.productImageModel.mediaData},e))};var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=r(a("cjbhjhdaeh")),d=r(a("dcjigehfeb")),l=r(a("bbebhbifga")),c=r(a("dcdbbhicce"));class u extends n.Component{render(){var{product:e,mediaData:t,selections:a,active:i,onClick:r}=this.props,s=t.mediaStage!==d.default.STAGE.RESOLVED,c=s?()=>{}:r;return n.createElement(o.default,{key:e.id.toString(),model:e,selections:a,disabled:s},n.createElement(l.default,{product:e,onClick:c,theme:"product-checkbox",active:i,isMuted:s}))}}u.CONCERNS={mediaData:["mediaStage"]};var f=(0,c.default)(u,u.CONCERNS)},dedjidijbg:function(e,t){e.exports={preview:"_10fj4",media:"_14znd",bubbleIn:"_1yn16",bubbleOut:"_3e5bl",title:"_2Qgdf",description:"_2chLL",body:"_2GDwV",descriptionIcon:"njEka",quoted:"_1i9QB"}},deeafdcghd:function(e,t){e.exports={preview:"_3JHdl",bubbleIn:"_1wc4Q",bubbleOut:"_WnqL",noThumbContainer:"ZLq4V",noThumbIcon:"_3qqVo",media:"_1OOH5",iconStar:"_4yZ9M",isInvite:"_3Mq-W",title:"_1WyfI",description:"_3mOF-",source:"_1YBMv",body:"_2vTBi",isCompose:"_2mY8X",extended:"_13w4u"}},deeafjfccb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.MetaFrame=E,t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cfadcbbiie")),d=r(a("ccbgfecegc")),l=r(a("hgigjbgie")),c=r(a("bdjjabfecc")),u=r(a("eeebhdeed")),f=r(a("ddjcjchcce")),h=r(a("dcdbbhicce")),p=a("cjfegjecaj"),g=r(a("dajjecgida")),m=r(a("dgdcjccfdi")),b=r(a("bcjcbbafcj")),v=l.default.MSG_TYPE;class _ extends n.PureComponent{constructor(...e){super(...e),this.openInfoDrawer=()=>{d.default.msgInfoDrawer((0,p.unproxy)(this.props.msg.unsafe()))}}render(){var e=this.props.msg,t=this.props.theme,a=[],i=(e.type===v.IMAGE||e.type===v.VIDEO)&&!e.caption&&!e.isViewOnce||e.type===v.LOCATION&&!e.isLive&&!e.get("loc");e.star&&!e.asRevoked&&a.push(n.createElement(m.default,{name:"star",ariaLabel:" ".concat(c.default.t(16)," ")})),e.broadcast&&a.push(n.createElement(m.default,{name:"broadcast"}));var r=e.isSentByMe&&e.type!==v.REVOKED,s=null;r&&(s=n.createElement(g.default,{msg:this.props.msg.unsafe()}));var d=e.labels&&e.labels.length>0?n.createElement(u.default,{labels:e.labels,showName:!1}):null;return n.createElement(E,{icons:a,labels:d,light:i,onClick:r?this.openInfoDrawer:null,status:s},"date"!==t?e.t?o.default.timestampStr(e.t):null:e.t?o.default.relativeStr(e.t):null)}}function E(e){var t=e.icons&&e.icons.length>0?e.icons.map((e,t)=>n.createElement("div",{className:f.default.icon,key:"icon-".concat(t)},e)):null,a=e.labels?n.createElement("div",{className:f.default.labels},e.labels):null,i=e.status?n.createElement("div",{className:f.default.status},e.status):null,r=(0,s.default)(f.default.meta,{[f.default.metaLight]:e.light,[f.default.chromeFix]:b.default.os===l.default.OS_TYPE.MAC&&b.default.browser===l.default.BROWSER_TYPE.CHROME&&b.default.osVersion.includes("10.15")});return n.createElement("div",{className:r,onClick:e.onClick,role:e.onClick?"button":null},t,a,n.createElement("span",{className:f.default.timestamp,dir:"auto"},e.children),i)}_.CONCERNS={msg:["broadcast","caption","isLive","asRevoked","isSentByMe","isViewOnce","labels","star","t","type","subtype"]};var j=(0,h.default)(_,_.CONCERNS);t.default=j},deefgbbaj:function(e,t){e.exports={searchContainer:"_3pGwB",section:"_19MGs",blank:"WSgyb",row:"_35urm",noResults:"_33u4i"}},deehhjcifg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PIP_BUTTON_THEME=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("bgdffaggae")),d=i(a("dgdcjccfdi")),l={PLAYER:"PLAYER",PREVIEW:"PREVIEW"};t.PIP_BUTTON_THEME=l;class c extends s.PureComponent{render(){return s.createElement("div",{className:(0,n.default)(o.default.pipBtn,{[o.default.player]:this.props.theme===l.PLAYER,[o.default.preview]:this.props.theme===l.PREVIEW}),onClick:this.props.onClick},s.createElement(d.default,{name:"video-pip"}))}}t.default=c},defecifdhg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS=t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("jccfhaecf"));class o extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.tag=(0,s.prop)(),this.description=(0,s.prop)(),this.categories=(0,s.prop)(),this.profileOptions=(0,s.prop)(),this.email=(0,s.prop)(),this.website=(0,s.prop)(),this.latitude=(0,s.prop)(),this.longitude=(0,s.prop)(),this.businessHours=(0,s.prop)(),this.catalogStatus=(0,s.prop)(),this.address=(0,s.prop)(),this.structuredAddress=(0,s.prop)(),this.stale=(0,s.session)(!0)}markStale(){this.stale=!0,this.hasObservers()&&this.getCollection().find(this.id)}getCollection(){return a("ejiicdbii").default}}o.Proxy="businessProfile",o.idClass=n.default;var d=(0,s.defineModel)(o);t.default=d;t.DEFAULTS={description:null,email:null,website:null}},deffjjfcba:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RoundTheme=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("effbcehec")),d=i(a("bbhigggbgi")),l=a("bjgidhichc").Mirrored(["Default","Small","Large"]);t.RoundTheme=l;var c=({large:e,small:t,theme:a,a8nText:i,label:r,onClick:c,onKeyDown:u,className:f,children:h,disabled:p})=>{var g=(0,n.default)(f,d.default.btn,{[d.default.large]:e||a===l.Large,[d.default.small]:t||a===l.Small,[d.default.disabled]:p}),m=e=>{e.stopPropagation(),e.preventDefault()},b=u?e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),u(e))}:null;return s.createElement("div",{"data-a8n":o.default.key(i),role:"button","aria-label":r,"aria-disabled":p,tabIndex:"0",className:g,onClick:p?m:c,onKeyDown:p?m:b,onMouseDown:m},h)};t.default=c},degifadiej:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,i=!1;for(a=0;a<e.length;a++)if(e[a]===t){i=!0;break}if(i){var r=e[a];e.splice(a,1),e.unshift(r)}}},degjdeieba:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{open(){return this._openPromise?this._openPromise:this._closePromise?(this._openPromise=this._closePromise.catch(e=>{throw this._openPromise=null,e}).then(()=>(this._openPromise=null,this.open())),this._openPromise):(this._openPromise=this.doOpen().catch(e=>{throw this._openPromise=null,e}).then(()=>{this._openPromise=null}),this._openPromise)}close(){return this._closePromise?this._closePromise:this._openPromise?(this._closePromise=this._openPromise.catch(e=>{throw this._closePromise=null,e}).then(()=>(this._closePromise=null,this.close())),this._closePromise):(this._closePromise=this.doClose().catch(e=>{throw this._closePromise=null,e}).then(()=>{this._closePromise=null}),this._closePromise)}doOpen(){throw new Error("Not implemented")}doClose(){throw new Error("Not implemented")}}},dehbjgbcb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("gfebgebbi")),l=r(a("bhcceddbce")),c=a("gaifbabbj"),u=r(a("bdjjabfecc")),f=i(a("dbcedfihd")),h=r(a("djeebcafcb")),p=r(a("dcdbbhicce")),g=a("dhhjhedjij");class m extends n.Component{constructor(e){super(e),this.setBodyRef=e=>{this.bodyRef=e},this.setDescRef=e=>{this.descRef=e},this.handleResize=({width:e})=>{var{descWidth:t}=this.state;t<=0||this.setState({truncated:e<t})},this.onReadMore=()=>{var{chat:e}=this.props;o.default.chatInfoDrawer(e,!0)},this.state={desc:v(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0}}componentDidMount(){this.onDescWidthObtained()}static getDerivedStateFromProps(e,t){var a=v(e.groupMetadata);return a===t.desc?null:{desc:a,descWidth:0,truncated:!1,hidden:!0}}componentDidUpdate(e,t){t.desc!==this.state.desc&&this.onDescWidthObtained()}onDescWidthObtained(){var{bodyRef:e,descRef:t}=this;if(e&&t){var a=e.clientWidth,i=t.getWidth();this.setState({descWidth:i,truncated:a<i,hidden:!1})}}render(){var{desc:e}=this.state;if(!e)return null;var{truncated:t,hidden:a}=this.state,i=this.props.chat.isTrusted()?c.Configuration.TrustedGroupDesc({links:f.findLinks(e)}):c.Configuration.UntrustedGroupDesc();return n.createElement(n.Fragment,null,n.createElement(g.TextDiv,{theme:"title"},u.default.t(1569)),n.createElement(h.default,{onRef:this.setBodyRef,onResize:this.handleResize,className:l.default.body},n.createElement(g.TextSpan,{theme:"small",className:(0,s.default)(l.default.text,{[l.default.hidden]:a})},n.createElement(d.default,{ref:this.setDescRef,text:e,selectable:!0,formatters:i,className:l.default.desc}),t&&n.createElement("div",{className:l.default.more,role:"button",onClick:this.onReadMore},u.default.t(1135)))))}}m.CONCERNS={groupMetadata:["desc"]};var b=(0,p.default)(m,m.CONCERNS);function v(e){return e&&e.desc}t.default=b},dehdfiebcg:function(e,t){e.exports={bubble:"_2iQG0",productInfo:"_3t6B-",author:"Re1ZY",title:"yyeyH",subtitle:"-cRbs",thumb:"_39IJB",productContainer:"_2rTkK",bubbleIn:"_1EBb4",bubbleOut:"OcK2R",productCta:"_21-Av"}},dehfadfiij:function(e,t,a){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.dir=function(e){!function(){if(i)return;var e=a("dadiabfgjj"),t=e.length/2;i=new Int32Array(t),r=new Int32Array(t);for(var s=0,n=0;s<t;s++,n+=2)i[s]=e[n]+(0===s?0:i[s-1]),r[s]=e[n+1]}();for(var t=0;t<e.length;t++){var s=0|e.charCodeAt(t);if(55296<=s&&s<56320){if(++t===e.length)break;var n=e.charCodeAt(t);if(!(56320<=n&&n<57344))continue;s=65536+((1023&s)<<10|1023&n)}else if(56320<=s&&s<57344)continue;if(!(s<i[0])){for(var o=0|i.length,d=0,l=o-1|0;d<l;){var c=l+d>>1;if(i[c]>s)l=c-1|0;else{if(i[c+1]>s){l=c;break}d=c+1|0}}var u=r[l],f=i[l]+Math.abs(u)|0;if(s<f)return u<0?"rtl":"ltr"}}return}},deiacadcaf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationMute=function(e,t,a){var i;s.default.supportsFeature(s.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=n.default.sendConversationMute(e,t,a).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e});return i};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},deibeighce:function(e,t){e.exports={pane:"_26MUt",selectable:"_3uGDl",empty:"_2vCIO",incoming:"_3DmTD",iconDown:"_3_BId",ffFix:"-YJP1",unread:"_1p87-"}},deijaecabj:function(e,t){e.exports={count:"VOr2j"}},dejbbcaghh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.canBeGroupedAsAlbum=function(e,t){return(e.isGroupMsg?s.default.equals(e.author,t.author):s.default.equals(e.from,t.from))&&e.isForwarded===t.isForwarded&&t.t-e.t<=r.default.ALBUM_DIFF_INTERVAL},t.canBeGroupedWithNext=function(e,t){if(e.isNotification||t.isNotification)return!1;return e.isGroupMsg?s.default.equals(e.author,t.author)&&e.isSentByMe===t.isSentByMe:s.default.equals(e.from,t.from)};var r=i(a("hgigjbgie")),s=i(a("jccfhaecf"))},dejjbighbf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("behibfihad")),o=i(a("cijgjjjjhf")),d=i(a("baeibjjidd")),l=i(a("ccbgfecegc")),c=i(a("bbfjdcedab")),u=i(a("bjigbaghc")),f=i(a("hgigjbgie")),h=i(a("jagjbhcgf")),p=i(a("dgebcfedgb")),g=i(a("gfebgebbi")),m=r(a("cajijabhgb")),b=a("cgffhfegce"),v=i(a("cigadgcjhc")),_=a("ddbdgibbbi"),E=i(a("hjieaedbd")),j=i(a("bhbdiadfhj")),y=i(a("jheedhagg")),S=i(a("bdjjabfecc")),C=a("ecceajhjba"),M=i(a("cieaaiahhf")),T=a("cbbdfhcegf"),P=i(a("bbcicibehe")),O=i(a("bdcchebfge")),N=a("cedhgehjef"),I=i(a("biibicegh")),A=i(a("bfgbdiffgd")),w=i(a("dgdcjccfdi")),R=i(a("cfjijjdfca"));class D extends s.Component{constructor(...e){super(...e),this.setDocPicker=e=>this.docPicker=e,this.setMediaPicker=e=>this.mediaPicker=e,this.onDocumentPick=e=>{if(e){e.stopPropagation();var t=null==e.target.files?[]:Array.from(e.target.files);if(this.dismiss(),t.length){var a=t.map(e=>({file:e,type:b.FILETYPE.DOCUMENT}));this.canSendDocument()?this.attachMediaDrawer(a):this.showCantSendDocument()}}else this.dismiss()},this.onMediaPick=e=>{if(e){e.stopPropagation();var t=null==e.target.files?[]:Array.from(e.target.files);this.dismiss(),t.length&&this.attachMediaDrawer(t.map(e=>({file:e})))}else this.dismiss()},this.onMediaClick=e=>{if(e.preventDefault(),this.mediaPicker)return this.mediaPicker.open(),!1},this.onDocumentClick=e=>{if(e.preventDefault(),this.canSendDocument()&&this.docPicker)return this.docPicker.open(),!1;this.showCantSendDocument()},this.onContactClick=e=>{e.preventDefault(),l.default.openModal(s.createElement(d.default,{chat:this.props.chat,onContactsSent:()=>{this.props.onMenuComplete&&this.props.onMenuComplete(!0,!1)}}))},this.onProductCatalogClick=e=>{e.preventDefault();var t=this.productCatalogSession.toString();(0,C.logCatalogAttachmentButtonClick)(t),l.default.openModal(s.createElement(o.default,{chat:this.props.chat,sessionId:t}))},this.onCreateMessengerRoom=()=>{(0,_.shouldShowNUX)(f.default.NUX.MESSENGER_ROOM_DIALOG_NEW)||(0,_.shouldShowNUX)(f.default.NUX.MESSENGER_ROOM_DIALOG_RETURNING)||(0,_.shouldShowNUX)(f.default.NUX.MESSENGER_ROOM_DIALOG_FROM_ATTACH_DROPDOWN)?l.default.openModal(s.createElement(P.default,{chat:this.props.chat})):(0,T.openMessengerRoomUrl)(this.props.chat)},this.showCantSendDocument=e=>{var t;if(e instanceof m.InvalidMediaFileType)t=S.default.t(367);else if(e instanceof M.default)t=S.default.t(887,{maxSize:S.default.filesize(A.default.media)});else{var a=this.props.chat;t=a.isUser?S.default.t(365,{contact:a.title()}):S.default.t(366,{group:a.title()})}l.default.openModal(s.createElement(c.default,{key:"doc_cant_send",onOK:()=>l.default.closeModal()},s.createElement(g.default,{text:t})))}}componentDidMount(){this.productCatalogSession=new I.default}canSendDocument(){return j.default.supportsFeature(j.default.F.ENC_DOC)}canSendProductCatalog(){return j.default.supportsFeature(j.default.F.PRODUCT_CATALOG_ATTACHMENT)&&u.default.isSMB}dismiss(){var e=this.props.uim;e&&e.uie.requestDismiss()}attachMediaDrawer(e){l.default.attachMediaDrawer({chat:this.props.chat,attachments:e,fileOrigin:O.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:this.props.getComposeContents&&this.props.getComposeContents(),onComplete:(e,t)=>{this.props.onMenuComplete&&this.props.onMenuComplete(e,t)}})}renderAttachDocDropdownItem(){return j.default.supportsFeature(j.default.F.ENC_DOC)?s.createElement(p.default,{type:"icon",tooltip:s.createElement(R.default,null,S.default.t(211)),a8n:"mi-attach-document",action:this.onDocumentClick},s.createElement("button",{className:n.default.iconsItem,"data-animate-menu-icons-item":!0},s.createElement(w.default,{name:"attach-document",className:n.default.iconImage}),s.createElement(v.default,{ref:this.setDocPicker,mimes:N.DOC_MIMES,onChange:this.onDocumentPick}))):null}renderAttachMessengerRoomDropdownItem(){return A.default.camelotWeb?s.createElement(p.default,{type:"icon",tooltip:s.createElement(R.default,null,S.default.t(903)),a8n:"mi-create-messenger-room",action:this.onCreateMessengerRoom},s.createElement("button",{className:n.default.iconsItem,"data-animate-menu-icons-item":!0},s.createElement(w.default,{name:"attach-rooms",className:n.default.iconImage}))):null}renderAttachProductCatalogDropdownItem(){return this.canSendProductCatalog()?s.createElement(p.default,{type:"icon",tooltip:s.createElement(R.default,null,S.default.t(215)),a8n:"mi-attach-product-catalog",action:this.onProductCatalogClick},s.createElement("button",{className:n.default.iconsItem,"data-animate-menu-icons-item":!0},s.createElement(w.default,{name:"attach-product",className:n.default.iconImage}))):null}render(){return s.createElement("div",{className:n.default.attachMenuContainer},s.createElement(w.default,{name:"attach-shadow"}),s.createElement(h.default,{type:"menu",key:"AttachMenuDropdown"},s.createElement(p.default,{type:"icon",tooltip:s.createElement(R.default,null,S.default.t(214)),a8n:"mi-attach-media",action:this.onMediaClick},s.createElement("button",{className:n.default.iconsItem,"data-animate-menu-icons-item":!0},s.createElement(w.default,{name:"attach-image",className:n.default.iconImage}),s.createElement(v.default,{ref:this.setMediaPicker,mimes:[f.default.IMAGE_MIMES,f.default.VIDEO_MIMES].join(","),onChange:this.onMediaPick}))),s.createElement(p.default,{type:"icon",tooltip:s.createElement(R.default,null,S.default.t(209)),a8n:"mi-attach-camera",action:this.props.onCaptureClick,disabled:!E.default},s.createElement("button",{className:n.default.iconsItem,"data-animate-menu-icons-item":!0},s.createElement(w.default,{name:"attach-camera",className:n.default.iconImage}))),this.renderAttachDocDropdownItem(),s.createElement(p.default,{type:"icon",tooltip:s.createElement(R.default,null,S.default.t(216)),a8n:"mi-attach-contact",action:this.onContactClick},s.createElement("button",{className:n.default.iconsItem,"data-animate-menu-icons-item":!0},s.createElement(w.default,{name:"attach-contact",className:n.default.iconImage}))),this.renderAttachProductCatalogDropdownItem(),this.renderAttachMessengerRoomDropdownItem()))}}var L=(0,y.default)(D);t.default=L},dfaebdhdda:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bhhdiiaihb")),o=i(a("ceggedffg")),d=i(a("geiiceahh")),l=(0,n.default)("_"),c=(0,o.default)(/(?:^|[\s\W_])~(\S|\S[^\n]*?\S)~(?=$|[[\s\W_])/g,1,l);t.default=class extends c{static jsx(e,t,{selectable:a}){return s.createElement(d.default,{selectable:a},e)}}},dfagjeehi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=(r(a("hgigjbgie")),r(a("cebgchhjbh"))),d=r(a("bdjjabfecc")),l=r(a("dcdbbhicce"));function c(){var e=(0,s.default)(["PlainMsgFailIcon: failed to resend message"]);return c=function(){return e},e}class u extends n.PureComponent{constructor(...e){super(...e),this.handleClick=()=>{var{msg:e}=this.props;e.resend().catch(()=>{__LOG__(2)(c())})}}render(){var{msg:e,displayType:t}=this.props;return e.isFailed?n.createElement(o.default,{displayType:t,tooltip:d.default.t(1168),onClick:this.handleClick}):null}}u.CONCERNS={msg:["ack","isFailed"]};var f=(0,l.default)(u,u.CONCERNS);t.default=f},dfaibafaje:function(e,t){e.exports={listPanel:"_2PndI",listBody:"jPrBn",listSectionSep:"_3h8Fc",listSectionText:"eco82",listSectionAction:"udnYn",panelHeader:"_2kv-W",headerText:"_28uDY",primaryHeaderText:"_1yXKk",secondaryHeaderText:"_2Ret2",headerButtonsPrimary:"a6NuN",headerButtonsSecondary:"BXQSH"}},dfbbghiidh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onIsBusinessChange=function(e){var t=(0,i.unproxy)(e),{isBusiness:r,businessProfile:s,id:n}=t;r&&!s?t.addChild("businessProfile",a("ejiicdbii").default.gadd(n)):!r&&s&&(t.stopListening(s),t.businessProfile=void 0,s.delete())};var i=a("cjfegjecaj")},dfbbifgeea:function(e,t){e.exports={emojiPanel:"HD61x",panelBody:"_3J2pk",panelDropdown:"_2BN7I"}},dfbcdcdgad:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["ciphertext","invite"]}},dfbgfbceaa:function(e,t){e.exports={button:"_1rnRi"}},dfbhcehadj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EmojiVariantCollection=void 0;var s=r(a("cgcgbfbffj")),n=i(a("djegeegcbf")),o=i(a("eaejdgfgif"));class d extends s.default{setVariant(e,t){var a=n.default.getSkinToneBase(e);if(!a)throw new Error("attempt to store variantless emoji");this.gadd({id:a,variant:t})}getVariant(e){if(n.default.getSkinToneBase(e)){var t=this.get(e);return t?n.default.normalizeEmoji(t.variant):null}throw new Error("attempt to get variantless emoji")}getVariantIfExists(e){if(n.default.getSkinToneBase(e)){var t=this.get(e);return t?n.default.normalizeEmoji(t.variant):null}return null}}t.EmojiVariantCollection=d,d.model=o.default,d.cachePolicy={id:"emoji_variant_collection",policy:s.CACHE_POLICY.LOAD,delay:1e3};var l=new d;t.default=l},dfbjgaaea:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"gjiifgfgh",7)).then(e=>e.default),"SettingsFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(1251),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},dfcdhcfbed:function(e,t){e.exports={light:"_3HxT4",ackBlue:"_2XORi"}},dfciadajdf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("jheedhagg"));class l extends n.Component{componentDidMount(){var e=(0,s.default)((0,s.default)({},this.props.contextMenu),{},{uim:this.props.uim});o.default.openContextMenu(e,e=>{this.element=e})}componentWillUnmount(){o.default.closeContextMenu(this.props.uim)}getElement(){return this.element}render(){return null}}var c=(0,d.default)(l);t.default=c},dfdebdgdei:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.blockContact=function(e){return g((0,h.unproxy)(e),!0)},t.unblockContact=function(e){return g((0,h.unproxy)(e),!1)};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=a("eafejccch"),l=r(a("bgfcjjddjf")),c=r(a("ccbgfecegc")),u=a("bgihjbde"),f=r(a("bdjjabfecc")),h=a("cjfegjecaj");function p(){var e=(0,s.default)(["action:setBlock dropped"]);return p=function(){return e},e}function g(e,t,a){var{id:i}=e,r=e.isBlocked();if(t&&r||!t&&!r)return Promise.resolve();var s=(0,d.sendSetBlock)(t,i).then(e=>{e&&(t?l.default.add({id:i}):l.default.remove(i))});return function(e,t,a,i=(0,o.genId)()){var r={participant:e.formattedName},s=a?new o.ActionType(f.default.t(24,r)):new o.ActionType(f.default.t(177,r)),d=t.then(()=>{var t=a?f.default.t(23,r):f.default.t(176,r);return new o.ActionType(t,f.default.t(178),()=>g(e,!a,i))}).catch(t=>{if(!(t instanceof u.ServerStatusCodeError)){__LOG__(3)(p());var s=a?f.default.t(22,r):f.default.t(175,r),n=new o.ActionType(s,f.default.t(174),()=>g(e,a,i));return Promise.reject(n)}if(t.statusCode>=400){var d=a?new o.ActionType(f.default.t(22,r)):new o.ActionType(f.default.t(175,r));return Promise.reject(d)}});c.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:s,pendingAction:d}))}(e,s,t,a),s}},dfdhhbaich:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.isEmojiEl=function(e){return!!e&&(e instanceof HTMLElement&&!!e.dataset.isEmoji)},t.default=void 0;var r=i(a("ceffhbhahb")),s=i(a("ccbgfecegc")),n=i(a("hgigjbgie")),o=i(a("djegeegcbf")),d=i(a("cadaffihj")),l=a("cbhhehcjbb"),{emojiRegex:c,getGlyphIdFromUnicode:u}=o.default,f=c(),h=!1;var p={serializers:[["img.emoji",e=>e.getAttribute("alt")||""]],parsers:[e=>e.replace(f,(e,t)=>{var a=(e=>{var t=u(e);if(null==t)return null;var a=(0,l.createSelectableElement)("img",e);a.setAttribute("alt",e),a.setAttribute("draggable","false"),a.setAttribute("class",(0,r.default)(a.getAttribute("class"),o.default.getClasses(t)));var i=o.default.getStyle(t);return Object.assign(a.style,i),a.setAttribute("src",n.default.ONE_BY_ONE_TRANS_GIF),a.dataset.isEmoji="true",a})(t);return a?a.outerHTML:""})],hooks:{[d.default.MOUNT](){h||(h=!0,new Promise(e=>{0===s.default.uiBusy&&e(),s.default.once("ui_idle",()=>{e()})}).delay(0).then(()=>{document.execCommand("enableObjectResizing",!1,!1)}).catch(()=>{}))}},handlers:{onBeforeInput(e,t){var a=c().exec(e.data);return!!a&&(e.cancelable&&t.replaceSelection(a[0]),!0)},onClick(e){if(!e.target)return!1;var t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;var a=window.getSelection(),i=new Range;return e.pageX<e.target.x+e.target.width/2?(i.setStartBefore(e.target),i.setEndBefore(e.target)):(i.setStartAfter(e.target),i.setEndAfter(e.target)),a.removeAllRanges(),a.addRange(i),!0}}};t.default=p},dfdhiegfdi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLiveLocation=function(e,t){var a=(0,i.unproxy)(e);a.liveLocations||(a.liveLocations=[]);var{liveLocations:r}=a;r.push(t)},t.removeLiveLocation=function(e,t){var a=(0,i.unproxy)(e),{liveLocations:r}=a;if(!r)return;for(var s=r.length-1;s>=0;s--)if(r[s]===t){r.splice(s,1);break}0===r.length&&(a.liveLocations=null)};var i=a("cjfegjecaj")},dfdjcjidfg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SEARCH_EVENT=void 0;var r=i(a("jcfacighg")),s=i(a("cfjdfebffb")),n=i(a("cccehdaiaf"));t.SEARCH_EVENT="SEARCH_EVENT";class o extends n.default{constructor(...e){super(...e),this.query="",this.filter={}}get trimmed(){return this.query.trim()}get highlighted(){var e=this.trimmed.toLowerCase().split(" ");return(0,s.default)((0,r.default)(e))}get isEmptySearchTerm(){return""===this.trimmed||!this.trimmed}get isEmptyQuery(){return this.isEmptySearchTerm&&!this.filter.kind&&!this.filter.label}updateQuery(e){var t=this.query;this.query=e,e.trim()!==t&&this.trigger("SEARCH_EVENT")}updateLabelQuery(e){this.filter=e||{}}clear(){this.updateQuery("")}}t.default=o},dfdjejggdf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROFILE_PIC_COMMAND=void 0;var i=Object.freeze({REMOVE:"remove",SET:"set"});t.PROFILE_PIC_COMMAND=i},dfedgcaghc:function(e,t){e.exports={footer:"_1T-FV",isMedia:"_1cx6t",dirMismatch:"_1-txE"}},dfeejhfchi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var r=i(a("jjijgifac"))},dfehedcfdb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bhhdiiaihb")),o=i(a("ceggedffg")),d=i(a("hadecdfeb")),l=(0,n.default)("_"),c=(0,o.default)(/(?:^|\s|_|[^\w\\])_(\S|\S[^\n]*?\S)_(?=$|[[\s\W_])/g,1,l);t.default=class extends c{static jsx(e,t,{selectable:a=!1}){return s.createElement(d.default,{selectable:a},e)}}},dfeigegibg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};t.default=i},dfejgefcge:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendDeleteMsgs=function(e,t,a){var i,o=e.map(e=>e.id);if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!i)return Promise.reject(new Error("Not Supported for Non-MD"))}else i=n.default.sendMessageDelete(a,o,t).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return i};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},dffddgdfb:function(e,t){e.exports={container:"_34lYQ",status:"_29wIC",caption:"_3ArbL",linkPreview:"_1XP8-",expired:"_27Z-N",noCaption:"_2C6IP",meta:"_290_S"}},dffedeegcb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.createGroup=function(e,t,a,i){return function e(t,a,i,r,s=(0,d.genId)()){var n=r.map(e=>e.id),u=(0,f.sendCreateGroup)(t,n,void 0,(0,v.default)(),!1,!1),p=new d.ActionType(g.default.t(72)),_=u.then(e=>(S(e,t,void 0),new d.ActionType(g.default.t(71)))).catchType(h.ServerStatusCodeError,e=>406===e.status?new d.ActionType(g.default.t(67)+" "+g.default.t(68)):429===e.status?new d.ActionType(g.default.t(67)+" "+g.default.t(69)):void 0).catch(()=>(__LOG__(3)(y()),new d.ActionType(g.default.t(67),g.default.t(174),()=>e(t,a,i,r,s))));return c.default.openToast(o.createElement(d.ActionToast,{id:s,initialAction:p,pendingAction:_})),u.then(e=>{if(e.gid&&l.default.find(e.gid).then(e=>{c.default.openChatBottom(e).then(t=>{t&&c.default.focusChatTextInput(e)})}),!e._duplicate&&a&&i){var t=b.default.gadd(e.gid);return(0,m.setProfilePic)(t,a,i)}e._duplicate&&__LOG__(3)(j())}).catchType(h.ServerStatusCodeError,()=>{})}(e,t,a,i)},t.sendForNeededAddRequest=S;var s=r(a("cdfdfciehj")),n=r(a("dfadhaifh")),o=i(a("ddhijeejag")),d=a("dheeaichcj"),l=r(a("dbdfbgehgj")),c=r(a("ccbgfecegc")),u=r(a("dhigahgdjb")),f=a("eihchghee"),h=a("bgihjbde"),p=r(a("bhbdiadfhj")),g=r(a("bdjjabfecc")),m=a("bbbdgehigj"),b=r(a("dhefcajhhb")),v=r(a("cfejjfjhca")),_=a("dcbdjheea");function E(){var e=(0,n.default)(["Assertion failed!"]);return E=function(){return e},e}function j(){var e=(0,n.default)(["createGroup failed to set picture."]);return j=function(){return e},e}function y(){var e=(0,n.default)(["models:chatCollection:createGroup dropped"]);return y=function(){return e},e}function S(e,t,a,i){if(p.default.supportsFeature(p.default.F.GROUPS_V_4_JOIN_PERMISSION)&&e.participants){var r=i||e.gid;r||(__LOG__(4,!1,new Error)(E()),SEND_LOGS("Group add request was provided with undefined gid"));var n=e.participants.reduce((e,t)=>{var a=Object.keys(t)[0];if("403"!==t[a].code)return e;var i=(0,_.createWid)(a),r=u.default.gadd(i,{silent:!0});return[...e,(0,s.default)((0,s.default)({},t[a]),{},{contact:r})]},[]);n.length>0&&r&&c.default.openGroupV4InviteRequestFlow(n,r,t,a)}}},dffjhcaahi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(){r.default.supportsFeature(r.default.F.MD_BACKEND);return Promise.resolve()};var r=i(a("bhbdiadfhj"))},dffjiffehg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("echehdcaii")),o=r(a("dhgeffcgbg")),d=r(a("ccjgiajgj")),l=r(a("eaaagccfda")),c=r(a("ceffhbhahb")),u=a("djfeeacgad"),f=i(a("ddhijeejag")),h=r(a("ccbgfecegc")),p=i(a("cajijabhgb")),g=r(a("ebddggeaib")),m=r(a("cdjidedjdg")),b=r(a("cahfddcdga")),v=r(a("dhccahhefj")),_=r(a("bcifhbgija"));class E extends f.Component{constructor(e){var t;super(e),this.setStateTimer=new u.ShiftTimer(e=>{this.setState(e)}),this.setRefComponent=e=>{this.refComponent=e},this.addListeners=()=>{window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.handleResize),this.props.listeners.add(h.default,"floater_escape_overlap",this.escapeOverlapMove)},this.getInitialStyle=()=>this.props.initialStyle?{width:this.props.initialStyle.width,left:this.props.initialStyle.left,bottom:this.props.initialStyle.bottom}:{width:this.props.minWidth,left:this.props.margin.x,bottom:this.props.margin.y},this.getResizerCallback=e=>t=>{0===t.button&&this.setState({resizeDirection:e,currentAction:1,resizeStartPiPStyle:{width:this.state.width,left:this.state.left,bottom:this.state.bottom},resizeStartMousePosition:{x:t.clientX,y:t.clientY}}),t.stopPropagation()},this.onMoveStart=e=>{0===e.button&&this.setState({currentAction:2,moveStartPositionStyle:{left:this.state.left,bottom:this.state.bottom},moveStartMousePosition:{x:e.clientX,y:e.clientY}}),e.stopPropagation()},this.onMoveStop=()=>{var e=this.getRect();this.props.onMoveStop&&this.props.onMoveStop(e)},this.handleResize=(0,l.default)(()=>{var e=window.innerHeight-2*this.props.margin.y,t=window.innerWidth-2*this.props.margin.x,a=this.state.width,i=a/this.props.aspectRatio,r=this.state.bottom,s=this.state.left;i>e&&(i=e,a=e*this.props.aspectRatio),a>t&&(i=t/this.props.aspectRatio,a=t),r+i>e+this.props.margin.y&&(r=e+this.props.margin.y-i),s+a>t+this.props.margin.x&&(s=t+this.props.margin.x-a),this.state.previousWindowSize.width<s+a+this.props.margin.x+3&&(s=t+this.props.margin.x-a),this.state.previousWindowSize.height<r+i+this.props.margin.y+3&&(r=e+this.props.margin.y-i);var n,l=null!=this.state.previousConvPanelRightBorder&&this.state.previousConvPanelRightBorder>0&&Math.abs(this.state.left+a+this.props.margin.x-this.state.previousConvPanelRightBorder)<3;this.props.escapeConversationHeader&&h.default.getConversationHeaderOffset(e=>{n=e.right});var c=n&&n<window.innerWidth;l&&null!=n&&0!==n&&c&&(s=n-this.props.margin.x-a);var u={bottom:Math.max(this.props.margin.y,r),left:Math.max(this.props.margin.x,s),width:Math.max(this.props.minWidth,a),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:n},f=(0,d.default)(this.state,["bottom","left","width","previousWindowSize","previousConvPanelRightBorder"]);(0,o.default)(u,f)||this.setState(u)},50),this.validateMoveResize=(e,t,a,i)=>{var r=e,s=t,o=a,d=0,l=0,c=0;switch(i){case 1:d=this.state.resizeStartPiPStyle.width,l=this.state.resizeStartPiPStyle.left,c=this.state.resizeStartPiPStyle.bottom;break;case 2:d=this.state.width,l=this.state.moveStartPositionStyle.left,c=this.state.moveStartPositionStyle.bottom}var u=window.innerHeight,f=window.innerWidth,h=d+r,p=h/this.props.aspectRatio,g=c+o,m=(0,n.default)(g,2),b=l+s,v=(0,n.default)(b,2),_=this.props.minWidth,E=(0,n.default)(this.props.margin.y,2),j=(0,n.default)(u-p-this.props.margin.y,2),y=(0,n.default)(this.props.margin.x,2),S=(0,n.default)(f-h-this.props.margin.x,2);if(E>m||m>j)switch(i){case 1:o=0,s=0,r=0;break;case 2:o=0}if(y>v||v>S)switch(i){case 1:o=0,s=0,r=0;break;case 2:s=0}if(r&&g+p+this.props.margin.y>u)switch(i){case 1:o=0,s=0,r=0}if(r&&b+h+this.props.margin.x>f)switch(i){case 1:o=0,s=0,r=0}return(h<_||p+2*this.props.margin.y>u||h+2*this.props.margin.x>f)&&(o=0,s=0,r=0),{deltaWidth:r,deltaBottom:o,deltaLeft:s}},this.onMouseMove=e=>{var t,a=0,i=0,r=0,s=0;switch(this.state.currentAction){case 0:return;case 1:switch(this.state.resizeDirection){case 0:a=(i=this.state.resizeStartMousePosition.y-e.clientY)*this.props.aspectRatio;break;case 1:a=(i=e.clientY-this.state.resizeStartMousePosition.y)*this.props.aspectRatio,s=-i;break;case 3:s=-(i=(a=e.clientX-this.state.resizeStartMousePosition.x)/this.props.aspectRatio);break;case 2:s=-(i=(a=this.state.resizeStartMousePosition.x-e.clientX)/this.props.aspectRatio),r=-a;break;case 4:i=(a=Math.max(e.clientX-this.state.resizeStartMousePosition.x,this.props.aspectRatio*(this.state.resizeStartMousePosition.y-e.clientY)))/this.props.aspectRatio;break;case 5:i=(a=Math.max(this.state.resizeStartMousePosition.x-e.clientX,this.props.aspectRatio*(this.state.resizeStartMousePosition.y-e.clientY)))/this.props.aspectRatio,r=-a;break;case 6:s=-(i=(a=Math.max(e.clientX-this.state.resizeStartMousePosition.x,this.props.aspectRatio*(e.clientY-this.state.resizeStartMousePosition.y)))/this.props.aspectRatio);break;case 7:s=-(i=(a=Math.max(this.state.resizeStartMousePosition.x-e.clientX,this.props.aspectRatio*(e.clientY-this.state.resizeStartMousePosition.y)))/this.props.aspectRatio),r=-a}var n=0,o=0,d=0;if(0===(t=this.validateMoveResize(a,r,s,1)).deltaWidth&&0===t.deltaLeft&&0===t.deltaBottom){if(a<0)switch(this.state.resizeDirection){case 0:case 4:a=this.props.minWidth-this.state.resizeStartPiPStyle.width,s=0,r=0;break;case 5:r=-(a=this.props.minWidth-this.state.resizeStartPiPStyle.width),s=0;break;case 1:case 3:case 6:s=-(i=(a=this.props.minWidth-this.state.resizeStartPiPStyle.width)/this.props.aspectRatio),r=0;break;case 2:case 7:s=-(i=(a=this.props.minWidth-this.state.resizeStartPiPStyle.width)/this.props.aspectRatio),r=-a}else if(a>0){var l=this.state.resizeStartPiPStyle.width/this.props.aspectRatio;switch(this.state.resizeDirection){case 0:case 4:a=Math.min(window.innerWidth-this.props.margin.x-this.state.resizeStartPiPStyle.width-this.state.resizeStartPiPStyle.left,this.props.aspectRatio*(window.innerHeight-this.props.margin.y-l-this.state.resizeStartPiPStyle.bottom))-.1;break;case 5:i=(a=Math.min(this.state.resizeStartPiPStyle.left-this.props.margin.x,this.props.aspectRatio*(window.innerHeight-this.props.margin.y-l-this.state.resizeStartPiPStyle.bottom))-.1)/this.props.aspectRatio,r=-a;break;case 1:case 3:case 6:s=-(i=(a=Math.min(window.innerWidth-this.props.margin.x-this.state.resizeStartPiPStyle.width-this.state.resizeStartPiPStyle.left,this.props.aspectRatio*(this.state.resizeStartPiPStyle.bottom-this.props.margin.y))-.1)/this.props.aspectRatio);break;case 2:case 7:s=-(i=(a=Math.min(this.state.resizeStartPiPStyle.left-this.props.margin.x,this.props.aspectRatio*(this.state.resizeStartPiPStyle.bottom-this.props.margin.y))-.1)/this.props.aspectRatio),r=-a}}n=this.state.resizeStartPiPStyle.width+a,o=this.state.resizeStartPiPStyle.left+r,d=this.state.resizeStartPiPStyle.bottom+s,this.setState({width:n,left:o,bottom:d})}else n=this.state.resizeStartPiPStyle.width+t.deltaWidth,o=this.state.resizeStartPiPStyle.left+t.deltaLeft,d=this.state.resizeStartPiPStyle.bottom+t.deltaBottom,this.setState({width:n,left:o,bottom:d});this.props.onResize&&this.props.onResize(n,o,d);break;case 2:r=e.clientX-this.state.moveStartMousePosition.x,s=this.state.moveStartMousePosition.y-e.clientY,t=this.validateMoveResize(a,r,s,2);var c=0,u=0;c=0!==r&&0===t.deltaLeft?r>0?window.innerWidth-this.state.width-this.props.margin.x:this.props.margin.x:this.state.moveStartPositionStyle.left+t.deltaLeft,u=0!==s&&0===t.deltaBottom?s>0?window.innerHeight-this.state.width/this.props.aspectRatio-this.props.margin.y-.1:this.props.margin.y:this.state.moveStartPositionStyle.bottom+t.deltaBottom,this.setState({left:c,bottom:u}),this.props.onMove&&this.props.onMove(c,u)}},this.onMouseUp=()=>{this.setState({currentAction:0})},this.getRect=()=>({top:window.innerHeight-this.state.bottom-this.state.width/this.props.aspectRatio,left:this.state.left,bottom:window.innerHeight-this.state.bottom,right:this.state.left+this.state.width}),this.escapeOverlapMove=(e,t)=>{var a=e.getBoundingClientRect(),i={left:a.left-t,top:a.top-t,right:a.right+t,bottom:a.bottom+t},r=this.getRect();if(this.doOverlap(r,i)){var s,n,o=this.escapeDistance(r,i);if(this.isTranslationOutOfBound(-o.toLeftDistance,0)||(void 0===s||o.toLeftDistance<s)&&(s=o.toLeftDistance,n=2),this.isTranslationOutOfBound(0,-o.toBottomDistance)||(void 0===s||o.toBottomDistance<s)&&(s=o.toBottomDistance,n=1),this.isTranslationOutOfBound(o.toRightDistance,0)||(void 0===s||o.toRightDistance<s)&&(s=o.toRightDistance,n=3),this.isTranslationOutOfBound(0,o.toTopDistance)||(void 0===s||o.toTopDistance<s)&&(s=o.toTopDistance,n=0),void 0!==s){var d={};switch(n){case 2:d={left:this.state.left-o.toLeftDistance};break;case 1:d={bottom:this.state.bottom-o.toBottomDistance};break;case 3:d={left:this.state.left+o.toRightDistance};break;case 0:d={bottom:this.state.bottom+o.toTopDistance}}var l=(0,_.default)((0,b.default)(this.refComponent,"this.refComponent"),d,{duration:200});Promise.race([l,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState(d)}).catchType(p.Unmount,()=>{})}}},this.props.escapeConversationHeader&&h.default.getConversationHeaderOffset(e=>{t=e.right});var a={resizeDirection:0,currentAction:0,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:t};this.props.animationStartStyle?this.state=(0,s.default)((0,s.default)({},a),this.props.animationStartStyle):this.state=(0,s.default)((0,s.default)({},a),this.getInitialStyle())}componentWillUnmount(){this.handleResize.cancel(),this.setStateTimer.cancel(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.handleResize)}componentDidMount(){if(!this.props.animationStartStyle)return this.addListeners(),void this.handleResize();var e=this.props.animationStartStyle,t=this.getInitialStyle(),a=e.width/this.props.aspectRatio,i=e.height,r=i/a,n=(0,s.default)((0,s.default)({},t),{},{height:t.width/this.props.aspectRatio,scaleY:[1,r],translateY:[0,(a-i)/2/r]}),o=(0,_.default)((0,b.default)(this.refComponent,"this.refComponent"),n,{easing:"easeInOutQuart",duration:400});this.initialAnimationPromise=Promise.race([o,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.initialAnimationPromise=null,this.setState(t),this.addListeners(),this.handleResize()}).catchType(p.Unmount,()=>{})}componentDidUpdate(e){if(this.props.aspectRatio!==e.aspectRatio&&this.props.initialStyle){if(this.initialAnimationPromise)return void this.setStateTimer.onOrAfter(400,this.props.initialStyle);var t=this.props.initialStyle.width,a=this.props.initialStyle.left+t-(this.state.width+this.state.left),i=this.props.initialStyle.bottom+t/this.props.aspectRatio-(this.state.bottom+this.state.width/this.props.aspectRatio);Math.abs(a)<.1&&Math.abs(i)<.1?this.setState(this.props.initialStyle):this.setState({width:t})}}getDimensions(){return{width:this.state.width,height:this.state.width/this.props.aspectRatio}}doOverlap(e,t){return!(e.right<=t.left||e.left>=t.right)&&!(e.bottom<=t.top||e.top>=t.bottom)}escapeDistance(e,t){return{toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}}isTranslationOutOfBound(e,t){var a=window.innerWidth,i=window.innerHeight,r=this.state.left+e,s=this.state.bottom+t,n=this.state.width,o=n/this.props.aspectRatio,d=this.props.margin.x,l=a-n-this.props.margin.x,c=this.props.margin.y,u=i-o-this.props.margin.y;return c>s||s>u||(d>r||r>l)}render(){var e=this.getDimensions(),t={width:e.width,height:e.height,bottom:this.state.bottom+"px",left:this.state.left+"px"};return f.createElement("div",{ref:this.setRefComponent,className:(0,c.default)(this.props.className,m.default.moveResizeComponentContainer),style:t},this.props.disableResize?null:f.createElement(f.Fragment,null,f.createElement("div",{className:(0,c.default)(m.default.topResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(0)}),f.createElement("div",{className:(0,c.default)(m.default.bottomResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(1)}),f.createElement("div",{className:(0,c.default)(m.default.leftResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(2)}),f.createElement("div",{className:(0,c.default)(m.default.rightResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(3)}),f.createElement("div",{className:(0,c.default)(m.default.topRightResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(4)}),f.createElement("div",{className:(0,c.default)(m.default.topLeftResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(5)}),f.createElement("div",{className:(0,c.default)(m.default.bottomRightResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(6)}),f.createElement("div",{className:(0,c.default)(m.default.bottomLeftResizer,m.default.resizer,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(7)})),f.createElement("div",{className:(0,c.default)(m.default.moveable,{[m.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.onMoveStart,onMouseUp:this.onMoveStop,grab:2===this.state.currentAction?"true":"supported"},this.props.children))}}var j=(0,g.default)((0,v.default)(E));t.default=j},dfgbefbcjd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("starred_stickers"!==t.tag(e))return;var a=t.attr("type",e);if("delete"!==a&&"add"!==a)return;var i=t.attr("filehash",e)||"";if("add"===a){var r={id:i,clientUrl:t.attr("url",e)||"",directPath:t.attr("direct_path",e)||"",filehash:i,uploadhash:t.attr("enc_filehash",e),mediaKey:t.attr("media_key",e)||"",width:parseInt(t.attr("width",e)||"0",10),height:parseInt(t.attr("height",e)||"0",10),size:parseInt(t.attr("size",e)||"0",10),mimetype:t.attr("mimetype",e),index:0};return{filehash:i,type:a,sticker:r}}return{filehash:i,type:a}}},dfgcaedggj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a=1/0){return l(e,(0,s.default)(t),a)},t._parse=l;var r=i(a("beifejbdga")),s=i(a("ceijcbgdah")),n=i(a("bgiegbhhbf")),o=i(a("ebiheagbje")),d=a("bficeagfg");function l(e,t,a=1/0){var i=(0,n.default)(e,t,a),s=i.length?(0,o.default)(e,(0,r.default)(i,t),t):{children:[{type:"text",value:e}]};return a<(0,d.numCodepoints)(e)&&function e(t,a){if(a.limit<=0)return;if(t.type&&"text"===t.type){if(t.value.length>=a.limit){var i=(0,d.toArray)(t.value);i.length>=a.limit&&(i=i.slice(0,a.limit)),t.value=i.join(""),a.limit=a.limit-i.length}else a.limit=a.limit-t.value.length;return}if(t.type&&"delimiter"===t.type)return;var r=0;for(;r<t.children.length&&(e(t.children[r],a),!(a.limit<=0));)r++;t.children=t.children.slice(0,r+1)}(s,{limit:a}),s}},dfgdeffjcd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("cbcgjbjcdc")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(0),a.e(7)]).then(a.t.bind(null,"ccigicfdgf",7)).then(e=>e.default),"MediaViewerFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},dfgdfbgbhc:function(e,t){e.exports={audio:"_1gtAT",controls:"_3xq3f",body:"_3s69f",button:"_25ztn",trackContainer:"_1tfT0",track:"MS3ex",audioIn:"_1uSq7",audioOut:"_1HHCZ",progress:"_1rZu5",spinner:"_1Fdwb",played:"_3heB6",metadata:"_2fsgs",isGallery:"_26s0s"}},dfgeejdaib:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("dejffaagc")),o=r(a("beajagdaig")),d=r(a("iidhbgeed")),l=r(a("cgcgbfbffj")),c=r(a("bhbdiadfhj")),u=r(a("cbcbdjdah")),f=r(a("biecbbiiee")),h=i(a("bgeajihhc"));function p(){var e=(0,s.default)(["starred gif msgs sync error: "]);return p=function(){return e},e}class g extends l.default{constructor(){super(),this.syncPromise=null,this.isSynced=!1,this.listenTo(h.default,"change:stream",()=>{h.default.stream===h.STREAM.DISCONNECTED&&(this.isSynced=!1)})}onResume(){this.isSynced=!1,this.sync()}maySync(){return c.default.supportsFeature(c.default.F.STARRED_GIFS)}sync(){return this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:this.maySync()?(this.syncPromise=f.default.getStarred(void 0,void 0,void 0,!0).then(e=>{var t=[];e&&e.length&&(t=(0,d.default)(e,e=>e&&e.isGif&&!e.isUnsentMedia)),this.set(t)}).catch(e=>{499!==e&&__LOG__(3)(p())}).finally(()=>{this.syncPromise=null,this.isSynced=!0}),this.syncPromise):Promise.resolve()}add(e,t){if(!e||!this.maySync()||!this.isSynced)return[];var a=this.isModel(e)?[e]:e;return a=(0,o.default)((0,d.default)(a,e=>e.isGif),this.toArray(),(e,t)=>e.body===t.body),super.add(a,t)}remove(e,t){if(!e||!this.maySync()||!this.isSynced)return[];var a=this.isModel(e)?[e]:e;return a=(0,n.default)((0,d.default)(a,e=>e.isGif),this.toArray(),(e,t)=>e.body===t.body),super.remove(a,t)}}g.model=u.default,g.comparator=function(e,t){return t.t-e.t};var m=new g;t.default=m},dfhahadejg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("cagaiadjai")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=r(a("dahagdijgh")),f=r(a("bjheffjbgd")),h=i(a("bjjhgjdbhd")),p=r(a("ddeefhbafc")),g=r(a("bbghaeibcf")),m=r(a("djaiggcdb")),b=a("facgccaif"),v=a("ddbdgibbbi"),_=r(a("jheedhagg")),E=r(a("bdjjabfecc")),j=r(a("bdcchebfge")),y=r(a("bbgcdfeifh")),S=a("ceiehehagg"),C=r(a("dgdcjccfdi")),M=a("dhhjhedjij"),T=i(a("bjhgigfbec"));function P(){var e=(0,s.default)(["EphemeralDrawer:unable to set ephemeral setting for ",""]);return P=function(){return e},e}var O=[{value:c.default.EPHEMERAL_SETTINGS.SEVEN_DAYS,label:E.default.t(590)},{value:c.default.EPHEMERAL_SETTINGS.OFF,label:E.default.t(589)}];class N extends o.Component{constructor(e){super(e),this._saveSetting=()=>{var{chat:e}=this.props,{duration:t}=this.state;t!==this.getInitialDuration(e)&&(y.default.online?(e.isGroup?(0,S.setGroupProperty)(e,c.default.GROUP_SETTING_TYPE.EPHEMERAL,t).catch(()=>()=>{__LOG__(2)(P(),e.id.toString())}):e.changeEphemeralDuration(t),new j.default.EphemeralSettingChange({chatEphemeralityDuration:t}).commit()):this._showOfflineToast())},this._shouldShowSelections=()=>!(0,v.shouldShowNUX)(c.default.NUX.EPHEMERAL)||this.props.fromInfoFlow,this._showOfflineToast=()=>{l.default.openToast(o.createElement(T.default,{msg:E.default.t(588),id:(0,T.genId)()}))},this._handleBack=()=>{this._shouldShowSelections()&&this._saveSetting(),this.props.onClose?this.props.onClose():this.props.uim.uie.requestDismiss()},this._handleChange=e=>{var t=parseInt(e.target.value,10);this.setState({duration:t})},this.state={duration:this.getInitialDuration(e.chat)}}getInitialDuration(e){return e.getEphemeralSetting()||0}componentWillUnmount(){(0,v.shouldShowNUX)(c.default.NUX.EPHEMERAL)&&(0,v.setNUX)(c.default.NUX.EPHEMERAL,{views:1,maxViews:1})}render(){var e=this._shouldShowSelections()?null:o.createElement("div",{className:g.default.nuxAction},o.createElement(d.default,{type:"primary",onClick:this._handleBack},E.default.t(1649))),t=(0,v.shouldShowNUX)(c.default.NUX.EPHEMERAL)?o.createElement(p.default,{animation:!1},o.createElement("div",{className:g.default.nuxIllustration},o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.chatIcon,g.default.chatIcon1)},o.createElement(C.default,{name:"chat-alt"})),o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.chatIcon,g.default.chatIcon2)},o.createElement(C.default,{name:"chat-alt"})),o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.chatIcon,g.default.chatIcon3)},o.createElement(C.default,{name:"chat-alt"})),o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.chatIcon,g.default.chatIcon4)},o.createElement(C.default,{name:"chat-alt"})),o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.chatIcon,g.default.chatIcon5)},o.createElement(C.default,{name:"chat-alt"})),o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.chatIcon,g.default.chatIcon6)},o.createElement(C.default,{name:"chat-alt"})),o.createElement("div",{className:(0,n.default)(g.default.nuxIcon,g.default.ephemeralIcon)},o.createElement(C.default,{name:"ephemeral"}))),o.createElement("div",{className:g.default.nuxHeader},o.createElement(M.TextSpan,{theme:"large"},this.props.fromInfoFlow?E.default.t(586):E.default.t(587))),o.createElement("div",{className:g.default.nuxContent},o.createElement("div",{className:g.default.nuxText},o.createElement(M.TextSpan,{theme:"muted"},this.props.fromInfoFlow?E.default.t(582):E.default.t(583))),o.createElement("div",{className:g.default.nuxText},o.createElement(M.TextSpan,{theme:"muted"},E.default.t(584))),o.createElement("div",{className:g.default.nuxText},o.createElement(M.TextSpan,{theme:"muted"},E.default.t(585)," ",o.createElement(m.default,{href:(0,b.getEphemeralFaqUrl)()},E.default.t(794)))),e)):null,a=this._shouldShowSelections()?o.createElement(o.Fragment,null,o.createElement(p.default,{animation:!1},O.map(({value:e,label:t})=>o.createElement("div",{className:g.default.option,key:"option-".concat(e)},o.createElement("label",{className:g.default.label},o.createElement("input",{type:"radio",className:g.default.input,value:String(e),checked:e===this.state.duration,onChange:this._handleChange}),t)))),o.createElement("div",{className:g.default.footer},o.createElement(M.TextSpan,{theme:"plain"},E.default.t(572)," ",o.createElement(m.default,{href:(0,b.getEphemeralFaqUrl)()},E.default.t(794))))):null;return o.createElement(u.default,{theme:"gallery"},o.createElement(h.default,{title:E.default.t(704),onBack:this._handleBack,type:h.DRAWER_HEADER_TYPE.LARGE}),o.createElement(f.default,null,t,a))}}var I=(0,_.default)(N);t.default=I},dfhddecjbi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ciggdfcagg")),d=r(a("bdjjabfecc")),l=r(a("bfgbdiffgd")),c=r(a("dcdbbhicce")),u=r(a("dgdcjccfdi"));class f extends n.Component{render(){var{msg:e,className:t}=this.props;if(!e.showForwarded())return null;var a=l.default.frequentlyForwardedMessages&&e.isFrequentlyForwarded,i=l.default.hfmStringChanges?"highly-forwarded-v2":"highly-forwarded",r=a?i:"forwarded",c=(0,s.default)(o.default.icon,{[o.default.iconHighlyForwarded]:a&&!l.default.hfmStringChanges}),f=l.default.hfmStringChanges?d.default.t(630):d.default.t(627),h=a?f:d.default.t(627);return n.createElement("div",{className:(0,s.default)(o.default.container,t)},n.createElement(u.default,{name:r,display:"inline",className:c}),n.createElement("span",{className:o.default.text},h))}}f.CONCERNS={msg:["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]};var h=(0,c.default)(f,f.CONCERNS);t.default=h},dfhgeaeig:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryIdentity=function(e){var t=(0,s.unproxy)(e),{verificationBinary:a,verificationString:i,id:r}=t;if(a&&i)return Promise.resolve();if(t.promises.queryIdentity)return t.promises.queryIdentity;t.promises.queryIdentity=n.default.queryIdentity(r).then(t=>{d(e,t)}).catch(e=>{__LOG__(3)(o(),String(e))}).finally(()=>{t.promises.queryIdentity=null})},t.updateIdentity=d;var r=i(a("dfadhaifh")),s=a("cjfegjecaj"),n=i(a("cfidecfjad"));function o(){var e=(0,r.default)(["models:contact:queryIdentity error: ",""]);return o=function(){return e},e}function d(e,t){var a=(0,s.unproxy)(e);t.status&&t.status>=400?(a.unset("verificationBinary"),a.unset("verificationString")):(a.verificationBinary=t.binary,a.verificationString=t.string)}},dfhgffbdig:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaaagccfda")),s=i(a("dbdfbgehgj")),n=i(a("fcedgihic")),o=a("dffedeegcb"),d=a("ddbdgibbbi"),l=i(a("bhbdiadfhj")),c=i(a("bdjjabfecc")),u=i(a("iajeehcac")),f=i(a("beahjdfigf"));class h extends n.default{constructor(e,t={}){super(e,t),this._debouncedSort=(0,r.default)(()=>this.sort(),1e3),this.sendForNeededAddRequest=e=>{var t=this.parent.id,a=s.default.assertGet(t),i=a.groupMetadata.desc;(0,o.sendForNeededAddRequest)(e,a.formattedTitle||a.name,i,this.parent.id)},this.listenTo(this,"change:contact.name",this._debouncedSort),this.listenTo(c.default,"locale_change",this._debouncedSort)}delete(){this.forEach((function(e){e.delete()})),this.stopListening(),this.reset()}ensureSorted(){this._debouncedSort.flush()}set(e,t){var a=t||{};return a.isParticipantCollectionAdd||(a.remove=!0),super.set(e,a)}add(e,t){var a=t||{};return a.isParticipantCollectionAdd=!0,super.add(e,a)}canAdd(){return!!this.iAmAdmin()}canPromote(e){return!!e&&(!(0,d.getMaybeMeUser)().equals(e.id)&&(!!this.iAmAdmin()&&!e.isAdmin))}canDemote(e){return!!e&&(!!this.iAmAdmin()&&(!(0,d.getMaybeMeUser)().equals(e.id)&&(!(l.default.supportsFeature(l.default.F.GROUPS_V_3)&&e.isSuperAdmin)&&!!e.isAdmin)))}canRemove(e){return!!e&&(!(0,d.getMaybeMeUser)().equals(e.id)&&!!this.iAmAdmin())}canVerifyIdentity(e){return!!l.default.supportsFeature(l.default.F.QUERY_IDENTITY)&&(!!e&&!(0,d.getMaybeMeUser)().equals(e.id))}iAmMember(){return 1===this.filter(e=>e.id.equals((0,d.getMaybeMeUser)())).length}iAmRestrictedMember(){var e=this.parent.id;return s.default.assertGet(e).groupMetadata.restrict&&!this.iAmAdmin()}iAmAdmin(){return 1===this.filter(e=>e.id.equals((0,d.getMaybeMeUser)())&&e.isAdmin).length}iAmSuperAdmin(){return 1===this.filter(e=>e.id.equals((0,d.getMaybeMeUser)())&&e.isSuperAdmin).length}getAdmins(){return this.where({isAdmin:!0})}getSuperAdmin(){return this.findFirst(e=>e.isSuperAdmin)}}t.default=h,h.model=u.default,h.comparator=f.default},dfiaecbgfh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DISP_LOCATION=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ddajbaceej")),d=r(a("bhbdiadfhj")),l=r(a("eaejddjjib")),c=r(a("ebddggeaib")),u=r(a("fagbfehid")),f=i(a("djhcffhbdc")),h=r(a("ghgddggfc")),p={COMPOSE_BOX:"COMPOSE_BOX",DROPDOWN:"DROPDOWN"};t.DISP_LOCATION=p;class g extends n.PureComponent{constructor(...e){super(...e),this.state={hasFetchedData:u.default.hasFetchedData(),hasStickers:u.default.length>0,menuShadow:!1,selectedStickerPackIndex:this._getInitialStickerPackIndex()},this._setRefEmptyContent=e=>{this._refEmptyContent=e},this._setRefContent=e=>{this._refContent=e},this._setRefMenu=e=>{this._refMenu=e},this._handleContainerClick=e=>{this._stopEvent(e),this.restoreFocus()},this._handleContentFocusNext=e=>{this._stopEvent(e),this._refMenu&&this._refMenu.focus()},this._handleContentFocusPrev=e=>{this._stopEvent(e),this._refMenu&&this._refMenu.focus()},this._handleEmptyFocusPrev=e=>{this._stopEvent(e),this._focusPrev()},this._handleEmptyFocusNext=e=>{this._stopEvent(e),this._focusNext()},this._handleItemClick=e=>{this.setState({selectedStickerPackIndex:e})},this._handleMenuFocusBelow=e=>{this._stopEvent(e),this._refContent&&this._refContent.focus()},this._handleMenuFocusNext=e=>{this._stopEvent(e),this._focusNext()},this._handleMenuFocusPrev=e=>{this._stopEvent(e),this._focusPrev()},this._handleScroll=({scrollTop:e})=>{this._lastScrollTop=e,this.setState({menuShadow:e>0})},this._handleStickerPacksChange=()=>{this.setState({hasFetchedData:u.default.hasFetchedData(),hasStickers:u.default.length>0})}}_getInitialStickerPackIndex(){var{displayCache:e}=this.props;return e&&null!=e.selectedStickerPackIndex?e.selectedStickerPackIndex:0}componentDidMount(){this.props.listeners.add(u.default,"change:length",this._handleStickerPacksChange),this.props.listeners.add(u.default,"change:pageFetchStates",this._handleStickerPacksChange),this.props.listeners.uiIdle(()=>{this.restoreFocus(),u.default.fetchAt(0)})}componentWillUnmount(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,selectedStickerPackIndex:this.state.selectedStickerPackIndex})}restoreFocus(){this.props.listeners.uiIdle(()=>{if(this._refContent)this._refContent.focus();else if(this._refEmptyContent){if(document.activeElement===this._refEmptyContent)return;o.default.focus(this._refEmptyContent)}else this._refMenu&&this._refMenu.focus()})}_focusPrev(){this.props.onFocusPrev&&this.props.onFocusPrev()}_focusNext(){this.props.onFocusNext&&this.props.onFocusNext()}_stopEvent(e){e&&(e.preventDefault(),e.stopPropagation())}render(){var e=d.default.isRecentStickersEnabled(),t=d.default.isStarredStickersEnabled(),a=(e?1:0)+(t?1:0),{selectedStickerPackIndex:i}=this.state;if(!e&&this.state.hasFetchedData&&!this.state.hasStickers)return n.createElement(f.StickerPanelEmpty,{containerClassName:l.default.panelContainer,onClick:this._handleContainerClick,onFocusPrev:this._handleEmptyFocusPrev,onFocusNext:this._handleEmptyFocusNext,onRef:this._setRefEmptyContent});var{displayLocation:r}=this.props,o=(0,s.default)(l.default.panelContainer,{[l.default.panelDropdown]:r===p.DROPDOWN});return n.createElement("div",{className:o,onClick:this._handleContainerClick},n.createElement(h.default,{ref:this._setRefMenu,displayLocation:r,onFocusBelow:this._handleMenuFocusBelow,onFocusNext:this._handleMenuFocusNext,onFocusPrev:this._handleMenuFocusPrev,onItemClick:this._handleItemClick,selectedStickerPackIndex:i,shadow:this.state.menuShadow,recentStickersEnabled:e,starredStickersEnabled:t,specialItemsCount:a}),n.createElement(f.default,{ref:this._setRefContent,onFocusNext:this._handleContentFocusNext,onFocusPrev:this._handleContentFocusPrev,onScroll:this._handleScroll,onChange:this.props.onChange,onSticker:this.props.onSticker,defaultSearchText:this.props.defaultSearchText,selectedStickerPackIndex:i,recentStickersEnabled:e,starredStickersEnabled:t,specialItemsCount:a,listeners:this.props.listeners}))}}g.defaultProps={displayLocation:p.DROPDOWN};var m=(0,c.default)(g);t.default=class extends m{restoreFocus(){this.getComponent().restoreFocus()}}},dfifdafgfa:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("ejegihaeh")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=a("bgihjbde"),f=a("ddbdgibbbi"),h=r(a("bhbdiadfhj")),p=r(a("jheedhagg")),g=r(a("bdjjabfecc")),m=a("ecceajhjba"),b=r(a("biecbbiiee")),v=r(a("biibicegh")),_=r(a("cjgdgbgbj")),E=r(a("iiajdddad")),j=r(a("ccicababhd")),y=r(a("bfbcijjhaj")),S=a("cjfegjecaj"),C=r(a("bgcdajbhif")),M=i(a("bjhgigfbec")),T=r(a("jccfhaecf")),P=a("dcbdjheea");class O extends n.PureComponent{constructor(...e){super(...e),this.ProductCatalogSession=new v.default,this.state={hover:!1},this.onClick=()=>{var{rootMsg:e,msg:t}=this.props;if(t.isStatusV3)e&&e.isQuotedMsgAvailable?h.default.supportsFeature(h.default.F.STATUS_V3_UI_VIEWING)&&C.default.find(t.sender).then(i=>{var r=a("edgdahgdh").default;l.default.openModalMedia(n.createElement(r,{removeTopDrawer:!1,statusV3:i,msgKey:t.id,onMsgNotFound:()=>{e&&(e.isQuotedMsgAvailable=!1)}}),{transition:"quoted-status-v3-modal"})}):l.default.openToast(n.createElement(M.default,{msg:g.default.t(1268),id:(0,M.genId)()}));else{if(t.isProductInquiry)return this.onProductInquiry();if(!e||e.isQuotedMsgAvailable){var i=t.id,r=t.chat,s=b.default.get(i),o=r.getSearchContext(s||i,e);o&&(o.slideToMsg=!0),l.default.openChatAt(r,o).then(e=>{if(e){var a=b.default.get(t.id);a&&Promise.delay(500).then(()=>{l.default.openMediaViewerForAlbumMedia((0,S.unproxy)(a))})}}),s||o.collection.loadAroundPromise.catchType(u.E404,()=>{l.default.openChatAt(r,r.getSearchContext(e))})}}},this.onMouseOver=()=>{this.hoverable()&&this.setState({hover:!0})},this.onMouseEnter=()=>{this.hoverable()&&this.setState({hover:!0})},this.onMouseLeave=()=>{this.state.hover&&this.setState({hover:!1})}}componentDidMount(){var{msg:e,t:t}=this.props;if(e.isProductInquiry){if(!(e.businessOwnerJid&&(0,P.createWid)(e.businessOwnerJid)))return;null!=t&&(e.t=t),d.default.addMsgAsProduct((0,S.unproxy)(e))}}onProductInquiry(){var{msg:e,t:t}=this.props,a=e.businessOwnerJid&&(0,P.createWid)(e.businessOwnerJid);if(a){var i=d.default.get(a);if(i){var r=e.productId&&i.productCollection.get(e.productId),s=e.productId&&i.msgProductCollection.get(e.productId);if(r||s){var o=s;if(r&&null!=t&&r.t>=t&&(o=r,s&&i.productCollection.remove(s)),o)return(0,m.logProductInquiryClick)((0,S.unproxy)(o),this.ProductCatalogSession.toString()),l.default.openDrawerRight(n.createElement(_.default,{product:o,chat:e.chat,refreshCarousel:!0,sessionId:this.ProductCatalogSession.toString()}),"slide-left",this.props.uim)}}}}hoverable(){return!this.state.hover&&!!this.props.rootMsg}render(){var{msg:e,displayType:t,chat:a,rootMsg:i,composeQuotedMsgRemoteJid:r}=this.props,d=a.assignedColor(e.sender),l=[c.default.DISP_TYPE.CONVERSATION,c.default.DISP_TYPE.STARRED_MSGS].includes(t),u=r||i&&i.quotedRemoteJid,h=l?"button":null,p=n.createElement(o.default,{msg:e,contact:e.senderObj,role:h,chat:a,displaySelf:T.default.equals(e.sender,(0,f.getMaybeMeUser)()),quotedRemoteJid:u,disableClick:!0}),g=(0,s.default)(j.default.quotedMsg,{[j.default.statusV3QuotedMsg]:"statusV3"===this.props.theme,[j.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme,[j.default.hover]:this.state.hover}),m=n.createElement("div",{className:j.default.msgText},p,n.createElement(y.default,{msg:e,theme:this.props.theme})),b=t===c.default.DISP_TYPE.STARRED_MSGS?"starred":this.props.theme;return n.createElement("div",{className:j.default.container,onMouseOver:l?this.onMouseOver:null,onMouseEnter:l?this.onMouseEnter:null,onMouseLeave:l?this.onMouseLeave:null},n.createElement("div",{className:g,role:h,onClick:l?this.onClick:null},n.createElement("span",{className:(0,s.default)("bg-color-".concat(d),j.default.colorBar)}),n.createElement("div",{className:j.default.msgBody,dir:l?null:e.dir},m),n.createElement(E.default,{msg:e,theme:b})))}}var N=(0,p.default)(O);t.default=N},dfiiijedcb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DownloadManager=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("ffedgcdgj")),o=i(a("cgeedcdffb")),d=i(a("cchfggidbj")),l=i(a("daiahejada")),c=i(a("bdedegieae")),u=a("bgijhafgfd"),f=a("bfjfabigie"),h=a("cfhdefdegg"),p=a("ccfjbcbbga"),g=a("bccggdcfj"),m=i(a("cjbdijighi")),b=i(a("bdcchebfge")),v=i(a("jejigijij")),_=a("bcjidabgad"),E=i(a("ccagafbad")),j=i(a("ciaihgijjb"));function y(){var e=(0,s.default)(["downloadManager.rmr: error ","\n",""],["downloadManager.rmr: error ","\\n",""]);return y=function(){return e},e}function S(){var e=(0,s.default)(["downloadManager.rmr: error MediaNotOnPhone\n",""],["downloadManager.rmr: error MediaNotOnPhone\\n",""]);return S=function(){return e},e}function C(){var e=(0,s.default)(["downloadManager.rmr: status ",""]);return C=function(){return e},e}function M(){var e=(0,s.default)(["downloadManager.rmr: start"]);return M=function(){return e},e}function T(){var e=(0,s.default)(["downloadManager.download: error\n",""],["downloadManager.download: error\\n",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["downloadManager.download: expected error\n",""],["downloadManager.download: expected error\\n",""]);return P=function(){return e},e}function O(){var e=(0,s.default)(["downloadManager.download: success"]);return O=function(){return e},e}function N(){var e=(0,s.default)(["downloadManager.download: start"]);return N=function(){return e},e}function I(){var e=(0,s.default)(["downloadManager.asyncCache.set error:\n",""],["downloadManager.asyncCache.set error:\\n",""]);return I=function(){return e},e}function A(){var e=(0,s.default)(["downloadManager.asyncCache.get error:\n",""],["downloadManager.asyncCache.get error:\\n",""]);return A=function(){return e},e}class w{constructor(){this.downloadAndDecrypt=(0,d.default)(e=>e.filehash,new R,D),this.rmr=(0,m.default)(e=>e.mediaObject.filehash||"",k)}}t.DownloadManager=w;class R{get(e,t){return(0,n.default)((function*(){if(!(0,g.shouldUseLruMediaStore)(t.type))return null;try{return yield j.default.get(e)}catch(e){return __LOG__(3,!0)(A(),(0,E.default)(e)),null}}))()}set(e,t,a){return(0,n.default)((function*(){if((0,g.shouldUseLruMediaStore)(a.type))try{yield j.default.put(e,t)}catch(e){__LOG__(3,!0)(I(),(0,E.default)(e))}}))()}}function D(){return L.apply(this,arguments)}function L(){return(L=(0,n.default)((function*(e){var t,a=new b.default.MediaDownload2({mediaId:(0,f.generateMediaEventId)(),connectionType:b.default.CONNECTION_TYPE.HOSTNAME,overallMediaType:(0,f.getMetricMediaType)(e.type),overallMmsVersion:4,networkStack:b.default.NETWORK_STACK_TYPE.NATIVE,overallDownloadMode:b.default.MEDIA_DOWNLOAD_MODE_TYPE.FULL,overallAttemptCount:e.userDownloadAttemptCount,overallDownloadOrigin:e.downloadOrigin}),{directPath:i,encFilehash:r,filehash:s,mediaKey:n,onDecryptStart:d,onMediaKeys:h,type:p,onResponseText:g}=e,m=e.signal||(new o.default).signal;__LOG__(2)(N());try{var[_,j]=yield Promise.all([(0,l.default)(p,n).then(e=>(h&&h(e),e)),v.default.download({directPath:i,encFilehash:r,type:p,signal:m,onResponseText:g?(e,t)=>{g(e,t)}:null,onDownloadHostFound:({hostName:e,hostClass:t,failCount:i})=>{a.set({overallDomain:e,overallConnectionClass:t,overallRetryCount:i})},onDownloadAttemptSuccess:e=>{a.set({overallT:e})},onDownloadAttemptError:({err:e,overallT:t,failCount:i})=>{var r=new b.default.MediaDownload2(a);r.set({mediaId:(0,f.generateMediaEventId)(),overallDownloadResult:(0,f.getMetricDownloadErrorResultType)(e),overallIsFinal:!1,overallT:t,overallRetryCount:i});var s=(0,f.getStatusCode)(e);null!=s&&(a.downloadHttpCode=s),a.markOverallCumT(),r.commit(),(0,f.logErrorUnknownDetails)(r,e)}})]);d&&d(),t=j.byteLength,a.set({overallMediaSize:t,overallDownloadResult:b.default.MEDIA_DOWNLOAD_RESULT_TYPE.OK,overallIsFinal:!0,downloadHttpCode:200}),a.markOverallCumT(),a.commit();var y=yield(0,c.default)({mediaKeys:_,ciphertextHmac:j,expectedPlaintextHash:s});return __LOG__(2)(O()),y}catch(e){throw(e=>{a.set({overallDownloadResult:(0,f.getMetricDownloadErrorResultType)(e),overallIsFinal:!0});var t=(0,f.getStatusCode)(e);null!=t&&(a.downloadHttpCode=t),a.markOverallCumT(),a.commit(),(0,f.logErrorUnknownDetails)(a,e)})(e),e instanceof u.MediaNotFoundError?__LOG__(2,!0)(P(),(0,E.default)(e)):__LOG__(3,!0)(T(),(0,E.default)(e)),e}}))).apply(this,arguments)}function k(){return x.apply(this,arguments)}function x(){return(x=(0,n.default)((function*(e){var{mediaObject:t}=e;t.filehash,t.type,__LOG__(2)(M()),t.consolidate({downloadStage:p.DOWNLOAD_STAGE.REUPLOADING});var a=performance.now(),i=new b.default.WebcMediaRmr((0,r.default)((0,r.default)({},e.rmrData),{},{webcRmrReason:e.rmrReason})),s=(0,_.getEffectiveNetworkType)();null!=s&&(i.webcBrowserNetworkType=s),t.type&&(i.messageMediaType=(0,h.webMediaTypeToWamMediaType)(t.type)),null!=t.size&&(i.webcMediaSize=t.size);try{var n=yield t.rmr({onMsgSelect:function(e){null==i.webcChatType&&e.chat&&(i.webcChatType=e.chat.getWebcChatType()),null==i.webcMessageT&&(i.webcMessageT=e.t),i.messageMediaType=e.getWamMediaType()}});if(i.webcRmrStatusCode=n,__LOG__(2)(C(),n),404===n)throw new u.MediaNotOnPhone;if(200!==n)throw new u.ServerStatusCodeError(n)}catch(e){throw i.webcMediaRmrError=!0,e instanceof u.MediaNotOnPhone?(__LOG__(2,!0)(S(),(0,E.default)(e)),e):(__LOG__(3,!0)(y(),e.status||e.message,e.stack),new u.MediaNeedsReupload)}finally{i.webcMediaRmrT=Math.ceil(performance.now()-a),i.commit()}}))).apply(this,arguments)}var G=new w;t.default=G},dfijbgdefb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bcdffbhbhg")),s=i(a("dgdjiicfdg")),n=i(a("cfadcbbiie")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=a("cedhgehjef"),c=a("cjjdjbcgjh"),u={getDefaultName(e){var t;if(e.type===o.default.MSG_TYPE.DOCUMENT){var a=(e.filename||"").trim();t=a||(e.caption||"").trim()||d.default.t(1347),a&&function(e){return/[\.].{1,4}$/.test(e)}(a)||(t=f(t,e))}else t=e.type===o.default.MSG_TYPE.VCARD?f(t=(e.vcardFormattedName||"").trim()||h(e),e):e.type===o.default.MSG_TYPE.MULTI_VCARD?f(t=e.vcardList?(0,c.getNameString)(e.vcardList):h(e),e):f(t=h(e),e);return t}};function f(e,t){var a=e,i=t.type===o.default.MSG_TYPE.VCARD||t.type===o.default.MSG_TYPE.MULTI_VCARD?"text/vcard":t.mimetype,r=(0,l.getExtension)(i);return a.endsWith(r)||(a+=r),a}function h(e){var t=s.default.unix(e.t).locale("en"),a="".concat(t.format("YYYY-MM-DD")," at ").concat(t.format(n.default.getIs24Hour()?"HH.mm.ss":"h.mm.ss A"));return"WhatsApp ".concat((0,r.default)(e.type)," ").concat(a)}t.default=u},dfjcfdigb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dgdjiicfdg")),n=i(a("ddhijeejag")),o=r(a("cfadcbbiie")),d=r(a("ccbgfecegc")),l=r(a("ebddggeaib")),c=r(a("dcdbbhicce"));class u extends n.PureComponent{constructor(...e){super(...e),this.state={updater:!1},this.listening=!1,this.rerender=()=>{this.setState({updater:!this.state.updater})}}componentDidMount(){this.maybeRegMidnight()}componentDidUpdate(){this.maybeRegMidnight()}maybeRegMidnight(){var{listeners:e,msg:t}=this.props,a=(0,s.default)().startOf("day").subtract(7,"day");t.t>=a.unix()?this.listening||(this.listening=!0,e.add(d.default,"midnight",this.rerender)):this.listening&&(this.listening=!1,e.remove(d.default,"midnight",this.rerender))}render(){return n.createElement(n.Fragment,null,o.default.relativeStr(this.props.msg.t))}}u.CONCERNS={msg:["t"]};var f=(0,l.default)((0,c.default)(u,u.CONCERNS));class h extends n.PureComponent{render(){var{chat:e}=this.props;return e.previewMessage?n.createElement(f,{msg:e.previewMessage}):null}}h.CONCERNS={chat:["previewMessage"]};var p=(0,c.default)(h,h.CONCERNS);t.default=({chat:e,msg:t})=>e?n.createElement(p,{chat:e}):t?n.createElement(f,{msg:t}):null},dfjejeffdj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cagaiadjai")),o=i(a("hgigjbgie")),d=i(a("hihehahee")),l=i(a("jicdegdfi")),c=a("djaiggcdb"),u=a("facgccaif"),f=i(a("bdeebiagii")),h=a("ddbdgibbbi"),p=i(a("dhfbfehaef")),g=i(a("bdjjabfecc")),m=i(a("dgjfidhijd")),b=i(a("cgjdibiahi"));class v extends f.default{constructor(){super(),this.onDelete=()=>{this.end()},this.onRevoke=()=>{this.showRevokeNux?(this.push(this.renderRevokeNux(),"none"),(0,h.setNUX)(o.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX,{views:1,maxViews:1})):this.end()},this.onPopupCancel=()=>{this.end()},this.onCancel=()=>{this.end()},this.openRevokeLearnMore=()=>{(0,c.openExternalLink)((0,u.getRevokeFaqUrl)())},this.onRevokeNuxClicked=()=>{this.end()},this.renderRevokeNux=()=>{var e=[s.createElement(n.default,{type:"plain",onClick:this.openRevokeLearnMore,key:1},g.default.t(794)),s.createElement(n.default,{type:"primary",onClick:this.onRevokeNuxClicked,key:0},g.default.t(1649))];return s.createElement(b.default,{displayName:"MsgRevokeNuxModal",escapable:!1},s.createElement(p.default,{handlers:{enter:this.onRevokeNuxClicked}},s.createElement(m.default,{actions:e},s.createElement("div",{className:d.default.label},g.default.t(1189)))))},this.showRevokeNux=(0,h.shouldShowNUX)(o.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX)}componentDidMount(){var{chat:e,msgList:t,deletePrompt:a,revokePrompt:i,toastPosition:r,onCancel:n,isMsgVisible:o}=this.props;this.push(s.createElement(l.default,{chat:e,msgList:t,deletePrompt:a,revokePrompt:i,toastPosition:r,onDelete:this.onDelete,onRevoke:this.onRevoke,onPopupCancel:this.onPopupCancel,onCancel:n,isMsgVisible:o}))}}t.default=v},dfjfgdhbjj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(e,t)=>{var a=e.pin||0,i=t.pin||0;if(a||i)return a!==i?a>i?-1:1:e.id.toString()<t.id.toString()?-1:1;var r=e.t||0,s=t.t||0;return r!==s?r>s?-1:1:e.id.toString()<t.id.toString()?-1:1};t.default=i},dfjijdgbhd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t._processMultipleMessages=function(e,t,i,r){var s=[],c=[],M=[],k=a("dbdfbgehgj").default,x=a("biecbbiiee").default;return t.forEach((function(t){var d;t.id instanceof p.default||(__LOG__(3)(R(),(new Error).stack),o.upload({reason:"forgot-to-create-msgkey"}),t.id=new p.default({from:t.from,to:t.to,id:t.id,participant:t.participant,selfDir:t.self})),(0,j.isString)(e)&&S.default.isBroadcast(e)&&delete t.broadcast,"ptt"===t.type&&!t.id.fromMe&&t.ack<l.default.ACK.CLOCK&&(t.ack=l.default.ACK.CLOCK),null!=t.hydratedButtons&&((d=t).buttons=new E.default,d.buttons.add(d.hydratedButtons.map((e,t)=>{var a=null!=e.index?e.index:t,i="".concat(a);return e.quickReplyButton?new _.default({id:i,displayText:e.quickReplyButton.displayText,selectionId:e.quickReplyButton.id,subtype:"quick_reply"}):e.callButton?new _.default({id:i,displayText:e.callButton.displayText,phoneNumber:e.callButton.phoneNumber,subtype:"call"}):new _.default({id:i,displayText:e.urlButton.displayText,url:e.urlButton.url,subtype:"url"})})));var u=x.get(t.id);if(t.type===l.default.MSG_TYPE.PROTOCOL&&"ephemeral_setting"!==t.subtype)switch(t.subtype){case"revoke":if(u=x.get(t.protocolMessageKey)){var h=new x.constructor.model(t);S.default.equals(u.sender,h.sender)?(S.default.isStatusV3(e)&&u.msgChunk&&u.msgChunk.remove(u),(0,v.revoke)(u,h.id),S.default.isStatusV3(e)&&a("bgcdajbhif").default.find(u.sender).then(e=>{f.default.supportsFeature(f.default.F.QUERY_STATUS_V_3_THUMBNAIL)&&u&&u.msgChunk&&u.msgChunk.length!==e.totalCount&&y.default.statusQueryThumbnail(e.id)})):__LOG__(3)(w(),h.id.toString(),u.id.toString())}break;case"ephemeral_sync_response":var m=k.get(t.id.remote);m&&m.maybeUpdateEphemeralSetting(t.ephemeralDuration,t.ephemeralSettingTimestamp);break;default:__LOG__(1)(A(),t.id.toString())}else if(u&&!u.asRevoked){for(var b in t.ack<u.ack&&delete t.ack,t)t.hasOwnProperty(b)&&void 0===t[b]&&delete t[b];t.id.fromMe&&!u.clientUrl&&t.clientUrl&&(t.phoneUploading=!1),i.isHistory&&(t.isNewMsg=!1);var T=u.t?(0,n.default)(t,["t","id","from","to"]):t,P=u.applyUpdate(T).then(()=>u);if(M.push(P),S.default.isBroadcast(u.id.remote)){var L=g.getBroadcastFanoutKeys(u);L&&L.forEach(e=>{var t=x.get(e);t&&M.push(t.applyUpdate(T).then(()=>u))})}i.isHistory&&(u.recvFresh||r)&&!u.search?(__LOG__(3)(I(),u.recvFresh?"dup:":"overlap:",String(u.id)),c.push(u)):i.isHistory&&u.search?(u.search=!1,__LOG__(3)(N(),String(u.id)),s.push({id:u.id})):"search"===i.add&&s.push({id:u.id}),D(u)}else{g.typeIsMMS(t.type)&&!t.clientUrl&&(t.phoneUploading=t.id.fromMe&&t.ack===l.default.ACK.CLOCK);var G=k.get(t.id.remote);"search"===i.add&&(t.search=!0),i.update||s.push(t),!i.isHistory&&"search"!==i.add&&G&&function(e,t){if(!e.isNewMsg||!e.recvFresh)return __LOG__(3)(C(),e.id.toString()),void SEND_LOGS("bad-process-live-message-call");e.type===l.default.MSG_TYPE.GP2&&"delete"===e.subtype&&(t.isReadOnly=!0);e.type===l.default.MSG_TYPE.PROTOCOL&&"ephemeral_setting"===e.subtype&&t.handleEphemeralSetting(e.ephemeralDuration);t.isUser&&e.ephemeralSettingTimestamp&&t.maybeUpdateEphemeralSetting(e.ephemeralDuration,e.ephemeralSettingTimestamp)}(t,G),t.ephemeralOutOfSync&&__LOG__(2)(O(),t.id.toString(),null==G?void 0:G.id.toString())}})),(M.length?Promise.all(M):Promise.resolve()).then(()=>{if(0===s.length&&0===c.length){if(e&&i.pendingMsgsDone){var n=k.get(e);n&&(n.pendingMsgs=!1)}return t.map(e=>x.get(e.id)).filter(e=>e)}if(e){var o;if(S.default.isStatusV3(e)){var p=t[0],v=p.id.fromMe?(0,u.getMaybeMeUser)():p.author;o=a("bgcdajbhif").default.find(v)}else o=k.find(e);return o.then(a=>L(s).then(s=>{var n,o,u="after"===i.add||"last"===i.add,p=!i.isHistory,v=!1;if("unread"===i.add?(n=r,a.msgChunks.push(n),o=i.firstUnreadKey):"last"===i.add&&i.resume?(n=r,v=!0):n="function"==typeof r?r():r,function(e,t,a,i,r,s,n,o){var d=function(e,t,a,i,r){var s,n,o,d={},l={},c=a.length,u=r;if(0===c)return{msgs:t,collection:u};for(s=0;s<c;s++)n=a[s],l[n.id]=n;for(c=t.length,s=0;s<c;s++)(n=t[s])&&(d[n.id]=n);var f=[];for(c=e.length,s=0;s<c;s++)if((n=e[s])&&((o=d[n.id])&&f.push(o),o=l[n.id]))if(o.recvFresh)f.push(o),i.removeMsg(o),o.unset("recvFresh");else{var h=i.getAllCMCs().find((function(e){return e.get(o.id)}));if(r&&h===r);else if(h)if(h.forEach((function(e){f.push(e),delete l[e.id.toString()]})),h===i.msgs){if(r.msgLoadState.noEarlierMsgs){var p=[(new Error).stack];__LOG__(2,!0)(P(),i.id.toString(),p.join("\n"))}i.replaceMsgsCollection(r),u=i.msgs}else i.notifyMsgCollectionMerge(r,h,r),i.removeMsgsCollection(h);else __LOG__(3)(T(),n.id),f.push(l[n.id])}return{msgs:f,collection:u}}(e,t,a,i,s);g.addRecordsToChat(d.msgs,i,r,d.collection,n,o)}(t,s,c,a,u,n||a.msgs,o,v),i.pendingMsgsDone&&(a.pendingMsgs=!1),p&&S.default.isBroadcast(e)&&!S.default.isStatusV3(e)&&s.forEach((function(e){e&&e.recvFresh&&!e.isNotification&&g.broadcastFanout(e)})),f.default.supportsFeature(f.default.F.RECENT_EMOJI_SYNC))for(var _=0;_<s.length;_++){var E=s[_];if(E&&E.isNewMsg&&E.isSentByMe&&E.containsEmoji){m.default.throttledSync();break}}if(f.default.isRecentStickersEnabled()){var j=s.map(e=>{if(e&&e.isNewMsg&&e.isSentByMe&&e.type===l.default.MSG_TYPE.STICKER){var{mediaData:t}=e;return{id:t.filehash,clientUrl:t.mmsUrl,directPath:t.directPath,filehash:t.filehash,uploadhash:t.uploadHash,mediaKey:t.mediaKey,mediaKeyTimestamp:null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:d.default.globalUnixTime(),width:t.fullWidth,height:t.fullHeight,size:t.size,mimetype:t.mimetype,type:h.OUTWARD_TYPES.STICKER,index:0}}}).filter(Boolean);b.default.enqueue(j)}return t.map(e=>x.get(e.id)).filter(e=>e)}))}return L(s).then(()=>t.map(e=>x.get(e.id)).filter(e=>e&&!!e.chat))})};var s=r(a("dfadhaifh")),n=r(a("bcdejiigcg")),o=i(a("dfhjacfbjg")),d=r(a("cfadcbbiie")),l=r(a("hgigjbgie")),c=r(a("dhigahgdjb")),u=a("ddbdgibbbi"),f=r(a("bhbdiadfhj")),h=a("ccfjbcbbga"),p=r(a("cffajefeag")),g=i(a("ccbagdhfbb")),m=r(a("bjfecgfdgj")),b=r(a("jdigiabic")),v=a("bfabbhgjga"),_=r(a("bdcddabebc")),E=r(a("dbgjiabiae")),j=a("hjbbdjjdf"),y=r(a("cfidecfjad")),S=r(a("jccfhaecf"));function C(){var e=(0,s.default)(["processLiveMessage should not be called with history message id ",""]);return C=function(){return e},e}function M(){var e=(0,s.default)(["Assertion failed! ",""]);return M=function(){return e},e}function T(){var e=(0,s.default)(["models:Msg:reorder trying to merge CMC of orphaned message ",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["chatMsgsCollection "," replaced by a collection with noEarlierMsgs true\n",""],["chatMsgsCollection "," replaced by a collection with noEarlierMsgs true\\n",""]);return P=function(){return e},e}function O(){var e=(0,s.default)(["ephemeralOutOfSync msgId="," chatId=",""]);return O=function(){return e},e}function N(){var e=(0,s.default)(["model:Msg:handle:processMM load search as history ",""]);return N=function(){return e},e}function I(){var e=(0,s.default)(["model:Msg:handle:processMM:","",""]);return I=function(){return e},e}function A(){var e=(0,s.default)(["unknown protocolMessage ",""]);return A=function(){return e},e}function w(){var e=(0,s.default)(["model:Msg:processMM revoke sender mismatch ",", ",""]);return w=function(){return e},e}function R(){var e=(0,s.default)(["_processMultipleMessages: el.id is not a MsgKey ",""]);return R=function(){return e},e}function D(e){if(!f.default.supportsFeature(f.default.F.CONTACT_HAS_PUSHNAME)&&e.notifyName){var t=c.default.get(e.sender);t&&!t.isMe&&t.updateNotifyName(e.notifyName,e.t)}}function L(e){var t=a("biecbbiiee").default.add(e,{merge:!0});return Promise.all(t.map(e=>(D(e),e.waitForPrep().catch(e=>{__LOG__(4,!1,new Error)(M(),String(e)),SEND_LOGS("bad-msg-prep")})))).then(()=>t)}},dgabcebcia:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.cancelUploadMedia=function(e){e.uploadPromise&&e.uploadPromise.control.cancel()},t.uploadMedia=function({mimetype:e,mediaObject:t,mediaType:a,forwardedFromWeb:i,uploadOrigin:r,mediaKeyInfo:s}){if(t.uploadPromise)return t.uploadPromise;var n=new d.default,m=n.signal;return t.uploadPromise=Promise.resolve().then(()=>{t.consolidate({uploadStage:h.UPLOAD_STAGE.UPLOADING})}).then(()=>y({mediaObject:t,mimetype:e,mediaType:a,abortSignal:m,uploadOrigin:r})).then(e=>{var n=t.entries.getUploadEntry();n&&s&&(0,o.default)(n.mediaKey===s.key,"uploadEntry.mediaKey and mediaKeyInfo.mediaKey should be the same");var d=s?s.key:null==n?void 0:n.mediaKey,l=s?s.timestamp:null==n?void 0:n.mediaKeyTimestamp;return v.default.encryptAndUpload({blob:e,mediaKey:d,mediaKeyTimestamp:l,type:a,signal:m,userUploadAttemptCount:t.userUploadAttemptCount,forwardedFromWeb:i,uploadOrigin:r}).then(({directPath:e,encFilehash:i,mediaKey:r,mediaKeyTimestamp:s,url:n,sidecar:o,firstFrameSidecar:d})=>{var l=t.entries.addEntry({url:n,mediaKey:r,mediaKeyTimestamp:s,uploadHash:i,type:a,sidecar:o,directPath:e,firstFrameSidecar:d});if(!l)throw new Error("could not create media entry");if((a===p.default.PTT||a===p.default.AUDIO)&&!g.canPlayOgg())if(g.shouldUseMediaCache(a)){var c=t.filehash;if(c&&t.mediaBlob)return f.transcode(t.mediaBlob.formData()).then(e=>{u.default.put(c,e)}).then(()=>l)}else if(t.mediaBlob)return g.gatherAndSetMetadata(t,t.mediaBlob).then(()=>l);return l})}).addRawControl("cancel",()=>n.abort()).then(e=>{if(m.aborted)throw new c.AbortError;return t.consolidate({uploadStage:h.UPLOAD_STAGE.UPLOADED}),__LOG__(2)(E()),{kind:j.SUCCESS,mediaEntry:e}}).catch(e=>{throw __LOG__(3)(_()),e}).finally(()=>{delete t.uploadPromise}).catchType(l.MediaNotOnPhone,()=>(t.consolidate({uploadStage:h.UPLOAD_STAGE.ERROR_MISSING}),{kind:j.ERROR})).catchType(c.MediaTooLargeError,()=>(t.consolidate({uploadStage:h.UPLOAD_STAGE.ERROR_TOO_LARGE}),{kind:j.ERROR})).catch(e=>(t.consolidate({uploadStage:h.UPLOAD_STAGE.NEED_UPLOAD}),e instanceof Promise.CancellationError?{kind:j.CANCELLATION}:{kind:j.ERROR})).endWithControls("cancel"),t.uploadPromise},t.getOrDownloadBlob=y,t.getBlobFromMediaObject=C,t.UploadMediaResultKind=void 0;var s=r(a("ffedgcdgj")),n=r(a("dfadhaifh")),o=r(a("cgeeeeddea")),d=r(a("cgeedcdffb")),l=a("bgijhafgfd"),c=a("biecccbhjc"),u=r(a("eceibhbeff")),f=i(a("baffhfhhda")),h=a("ccfjbcbbga"),p=r(a("bihjffdjjj")),g=i(a("bccggdcfj")),m=r(a("bdcchebfge")),b=a("bjdchgaiie"),v=r(a("decbdehic"));function _(){var e=(0,n.default)(["MediaAlgo.uploadMedia: error"]);return _=function(){return e},e}function E(){var e=(0,n.default)(["MediaAlgo.uploadMedia: success"]);return E=function(){return e},e}var j={SUCCESS:"success",CANCELLATION:"cancellation",ERROR:"error"};function y(){return S.apply(this,arguments)}function S(){return(S=(0,s.default)((function*({mediaObject:e,mimetype:t,mediaType:a,abortSignal:i,uploadOrigin:r}){var s=C(e);if(s)return s;if(yield(0,b.downloadMedia)({mimetype:t,mediaObject:e,downloadEvenIfExpensive:!0,mediaType:a,signal:i,rmrReason:m.default.WEBC_RMR_REASON_CODE.UPLOAD,downloadOrigin:r===m.default.UPLOAD_ORIGIN_TYPE.CHAT_PERSONAL?m.default.DOWNLOAD_ORIGIN_TYPE.CHAT_PERSONAL:m.default.DOWNLOAD_ORIGIN_TYPE.CHAT_GROUP}),e.downloadStage===h.DOWNLOAD_STAGE.ERROR_MISSING)throw new l.MediaNotOnPhone;var n=C(e);if(n)return n;throw new Error("cant upload media w/out mediaBlob after download")}))).apply(this,arguments)}function C(e){var t=e.mediaBlob;return t?t.formData():e.filehash?u.default.get(e.filehash):void 0}t.UploadMediaResultKind=j},dgacffdjd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.resyncContacts=function(e){void 0!==s.default.checksum&&void 0!==e&&(s.default.checksum!==e?s.default.findQuery({retry:!0}).then(e=>{if(Array.isArray(e)){(0,l.mungePSAContact)(e),__LOG__(2)(f());var t=(0,d.getContactsToRemove)(e),a=Promise.resolve();o.default.supportsFeature(o.default.F.MD_BACKEND),a.then(()=>{t.forEach(e=>{e.unset("name"),e.unset("shortName")})})}else __LOG__(3)(u(),JSON.stringify(e))}).catchType(n.WebdDrop,()=>{}):__LOG__(2)(c()))};var r=i(a("dfadhaifh")),s=i(a("dhigahgdjb")),n=a("bgihjbde"),o=i(a("bhbdiadfhj")),d=a("dbefabiacb"),l=a("dafafigeih");function c(){var e=(0,r.default)(["Store:Contact:resync checksum match"]);return c=function(){return e},e}function u(){var e=(0,r.default)(["Store:Contact.resync error ",""]);return u=function(){return e},e}function f(){var e=(0,r.default)(["Store:Contact:resync success"]);return f=function(){return e},e}},dgbccbdcgd:function(e,t){e.exports={pager:"_2WbbE",pagerLeft:"S7H_S",pagerRight:"_3QG06",pagerDisabled:"_1lfBj",body:"_2QBdQ",section:"_25PKP",searchRow:"_21jWY"}},dgbddfjdhi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendMsgResult=void 0;var i=a("bjgidhichc").Mirrored(["OK","ERROR_NETWORK","ERROR_EXPIRED","ERROR_CANCELLED","ERROR_UPLOAD","ERROR_UNKNOWN"]);t.SendMsgResult=i},dgbehccfjg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ffedgcdgj")),s=i(a("dfadhaifh")),n=i(a("ccddaicfff")),o=i(a("bbicgeccjj")),d=a("bihghijhgb"),l=i(a("cijheiibhg")),c=i(a("cfhiefcgad")),u=a("bebbiadjb"),f=i(a("bdcchebfge")),h=i(a("cahfddcdga"));function p(){var e=(0,s.default)(["LruMediaStore: encounter QuotaExceededError, thus shrink the size of LruMediaStore"]);return p=function(){return e},e}class g extends o.default{constructor(e){var t;super(),t=this,this._enqueue=(0,d.createEnqueue)(),this.updateMaxSizeInterval=null,this._dispose=(e,t)=>(Promise.all([(0,l.default)(),this.count()]).then(([e,a])=>{var i,r=new f.default.WebcMediaStorePurge({webcCurrentTimestampT:(new Date).getTime(),webcMediaStoreItemCount:a,webcMediaStoreQuotaBytes:this.getMaxSize(),webcMediaStoreQuotaUsedBytes:null!==(i=this.getCurrentSize())&&void 0!==i?i:void 0,webcPurgedItemTimestampT:t[u.metaInfoDateIndex]});e&&(r.webcBrowserStorageQuotaBytes=e.quota,r.webcBrowserStorageQuotaUsedBytes=e.usage),r.commit()}),this._bufferStore.del(e)),this.doPut=this._enqueue((e,t)=>{if(t.byteLength>this.getMaxSize())return Promise.resolve(t);if(t.byteLength>3e7)return Promise.resolve(t);var a={id:e,timestamp:(new Date).getTime(),size:t.byteLength};return this._lruStore.putObject(a).then(()=>this._bufferStore.put(e,t)).catchType(n.default.AbortError,e=>{if(e.message.includes("QuotaExceededError"))return __LOG__(2)(p()),void this.setMaxSize((0,h.default)(this.getCurrentSize(),"this.getCurrentSize()")/2);throw e})}),this.doDel=this._enqueue(e=>this._lruStore.del(e)),this._updateMaxSize=(0,r.default)((function*(){var e=yield(0,l.default)();if(null!=e){var a=t.getCurrentSize();if(null!=a){var i=e.quota-e.usage,r=t._calculateTargetedBufferSize(e.quota);if(!(i>r)){var s=r-i;a<s?t._clearStoreForThisSession():t.setMaxSize(a-s)}}}else t._clearStoreForThisSession()}));var{name:a,maxSize:i,createArrayBufferStore:s}=e;this._bufferStore=s("".concat(a,"_buffer")),this._lruStore=new c.default(i,this._dispose),this.updateMaxSizeInterval=setInterval(this._updateMaxSize,6e4)}doGet(e){return this._bufferStore.get(e).then(t=>(null!=t&&this.put(e,t),t))}doClear(){return this._bufferStore.clear().then(()=>this._lruStore.clear())}doCount(){return this._lruStore.count()}doOpen(){return Promise.all([this._lruStore.open(),this._bufferStore.open()]).then(()=>{})}doClose(){return Promise.all([this._lruStore.close(),this._bufferStore.close()]).then(()=>{})}getCurrentSize(){return this._lruStore.getCurrentSize()}getMaxSize(){return this._lruStore.getMaxSize()}setMaxSize(e){return this._lruStore.setMaxSize(e)}_calculateTargetedBufferSize(e){var t=Math.floor(.01*e);return t<1e8?1e8:t>5e8?5e8:t}_clearStoreForThisSession(){this.setMaxSize(0),this.updateMaxSizeInterval&&(clearInterval(this.updateMaxSizeInterval),this.updateMaxSizeInterval=null)}}t.default=g},dgbiieecah:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REGION_TO_CURRENCY=t.CURRENCY_DIGITS=t.DEFAULT_DIGITS=t.MAX_FRACTION_DIGITS=t.DEFAULT_CURRENCY=void 0;t.DEFAULT_CURRENCY="USD";t.MAX_FRACTION_DIGITS=4;t.DEFAULT_DIGITS=2;t.CURRENCY_DIGITS={ADP:0,AFN:0,ALL:0,BHD:3,BIF:0,BYR:0,CLF:4,CLP:0,DJF:0,ESP:0,GNF:0,IQD:0,IRR:0,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MRO:0,OMR:3,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,UGX:0,UYI:0,UYW:4,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};t.REGION_TO_CURRENCY={AC:["SHP"],AD:["EUR"],AE:["AED"],AF:["AFN"],AG:["XCD"],AI:["XCD"],AL:["ALL"],AM:["AMD"],AO:["AOA"],AR:["ARS"],AS:["USD"],AT:["EUR"],AU:["AUD"],AW:["AWG"],AX:["EUR"],AZ:["AZN"],BA:["BAM"],BB:["BBD"],BD:["BDT"],BE:["EUR"],BF:["XOF"],BG:["BGN"],BH:["BHD"],BI:["BIF"],BJ:["XOF"],BL:["EUR"],BM:["BMD"],BN:["BND"],BO:["BOB"],BQ:["USD"],BR:["BRL"],BS:["BSD"],BT:["BTN","INR"],BV:["NOK"],BW:["BWP"],BY:["BYN"],BZ:["BZD"],CA:["CAD"],CC:["AUD"],CD:["CDF"],CF:["XAF"],CG:["XAF"],CH:["CHF"],CI:["XOF"],CK:["NZD"],CL:["CLP"],CM:["XAF"],CN:["CNY"],CO:["COP"],CR:["CRC"],CU:["CUP","CUC"],CV:["CVE"],CW:["ANG"],CX:["AUD"],CY:["EUR"],CZ:["CZK"],DE:["EUR"],DG:["USD"],DJ:["DJF"],DK:["DKK"],DM:["XCD"],DO:["DOP"],DZ:["DZD"],EA:["EUR"],EC:["USD"],EE:["EUR"],EG:["EGP"],EH:["MAD"],ER:["ERN"],ES:["EUR"],ET:["ETB"],EU:["EUR"],FI:["EUR"],FJ:["FJD"],FK:["FKP"],FM:["USD"],FO:["DKK"],FR:["EUR"],GA:["XAF"],GB:["GBP"],GD:["XCD"],GE:["GEL"],GF:["EUR"],GG:["GBP"],GH:["GHS"],GI:["GIP"],GL:["DKK"],GM:["GMD"],GN:["GNF"],GP:["EUR"],GQ:["XAF"],GR:["EUR"],GS:["GBP"],GT:["GTQ"],GU:["USD"],GW:["XOF"],GY:["GYD"],HK:["HKD"],HM:["AUD"],HN:["HNL"],HR:["HRK"],HT:["HTG","USD"],HU:["HUF"],IC:["EUR"],ID:["IDR"],IE:["EUR"],IL:["ILS"],IM:["GBP"],IN:["INR"],IO:["USD"],IQ:["IQD"],IR:["IRR"],IS:["ISK"],IT:["EUR"],JE:["GBP"],JM:["JMD"],JO:["JOD"],JP:["JPY"],KE:["KES"],KG:["KGS"],KH:["KHR"],KI:["AUD"],KM:["KMF"],KN:["XCD"],KP:["KPW"],KR:["KRW"],KW:["KWD"],KY:["KYD"],KZ:["KZT"],LA:["LAK"],LB:["LBP"],LC:["XCD"],LI:["CHF"],LK:["LKR"],LR:["LRD"],LS:["ZAR","LSL"],LT:["EUR"],LU:["EUR"],LV:["EUR"],LY:["LYD"],MA:["MAD"],MC:["EUR"],MD:["MDL"],ME:["EUR"],MF:["EUR"],MG:["MGA"],MH:["USD"],MK:["MKD"],ML:["XOF"],MM:["MMK"],MN:["MNT"],MO:["MOP"],MP:["USD"],MQ:["EUR"],MR:["MRU"],MS:["XCD"],MT:["EUR"],MU:["MUR"],MV:["MVR"],MW:["MWK"],MX:["MXN"],MY:["MYR"],MZ:["MZN"],NA:["NAD","ZAR"],NC:["XPF"],NE:["XOF"],NF:["AUD"],NG:["NGN"],NI:["NIO"],NL:["EUR"],NO:["NOK"],NP:["NPR"],NR:["AUD"],NU:["NZD"],NZ:["NZD"],OM:["OMR"],PA:["PAB","USD"],PE:["PEN"],PF:["XPF"],PG:["PGK"],PH:["PHP"],PK:["PKR"],PL:["PLN"],PM:["EUR"],PN:["NZD"],PR:["USD"],PS:["ILS","JOD"],PT:["EUR"],PW:["USD"],PY:["PYG"],QA:["QAR"],RE:["EUR"],RO:["RON"],RS:["RSD"],RU:["RUB"],RW:["RWF"],SA:["SAR"],SB:["SBD"],SC:["SCR"],SD:["SDG"],SE:["SEK"],SG:["SGD"],SH:["SHP"],SI:["EUR"],SJ:["NOK"],SK:["EUR"],SL:["SLL"],SM:["EUR"],SN:["XOF"],SO:["SOS"],SR:["SRD"],SS:["SSP"],ST:["STN"],SV:["USD"],SX:["ANG"],SY:["SYP"],SZ:["SZL"],TA:["GBP"],TC:["USD"],TD:["XAF"],TF:["EUR"],TG:["XOF"],TH:["THB"],TJ:["TJS"],TK:["NZD"],TL:["USD"],TM:["TMT"],TN:["TND"],TO:["TOP"],TR:["TRY"],TT:["TTD"],TV:["AUD"],TW:["TWD"],TZ:["TZS"],UA:["UAH"],UG:["UGX"],UM:["USD"],US:["USD"],UY:["UYU"],UZ:["UZS"],VA:["EUR"],VC:["XCD"],VE:["VES"],VG:["USD"],VI:["USD"],VN:["VND"],VU:["VUV"],WF:["XPF"],WS:["WST"],XK:["EUR"],YE:["YER"],YT:["EUR"],ZA:["ZAR"],ZM:["ZMW"],ZW:["USD"]}},dgchiaaffj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.playMidPttTone=function(){s.play()},t.playEndPttTone=function(){n.play()};var r=i(a("hgigjbgie")),s=new window.Audio(r.default.PTT_MIDDLE_TONE_PATH),n=new window.Audio(r.default.PTT_END_TONE_PATH)},dgcjjbdicd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhfbfehaef")),o=i(a("becgjbhfe")),d=a("cdaedfafjc"),l=i(a("baebehedbi"));class c extends s.PureComponent{constructor(...e){super(...e),this._stickerItems=new Map,this._setRefContainer=e=>{this._refContainer=e,null!=this.props.onRef&&this.props.onRef(e)},this._handleStickerArrowDown=e=>{e.stopPropagation(),e.preventDefault();var t=this._getActiveStickerItemIndex(),a=this._getNumCols(),i=Math.min(t+a,this._stickerItems.size-1);Math.floor(t/a)!==Math.floor(i/a)&&this._incActiveIndex(a)},this._handleStickerArrowLeft=e=>{e.stopPropagation(),e.preventDefault(),this._decActiveIndex(1)},this._handleStickerArrowRight=e=>{e.stopPropagation(),e.preventDefault(),this._incActiveIndex(1)},this._handleStickerArrowUp=e=>{e.stopPropagation(),e.preventDefault(),this._decActiveIndex(this._getNumCols())},this._handleScroll=()=>{this.props.onScroll&&this._refContainer&&this.props.onScroll(this._refContainer)},this._setRefContainer=e=>{this._refContainer=e}}focus(e){var t=e||0;t=Math.min(t,this._stickerItems.size),t=Math.max(t,0);var a=this._stickerItems.get(t);a&&a.focus()}scrollToTop(){this._refContainer&&(this._refContainer.scrollTop=0)}_decActiveIndex(e){this._incActiveIndex(0-e)}_getActiveStickerItemIndex(){for(var e=this._stickerItems.size,t=0;t<e;t++){var a=this._stickerItems.get(t);if(a&&a.hasFocus())return t}return-1}_getNumCols(){var e=this._stickerItems.get(0);if(!e)return 0;for(var t=e.getOffsetTop(),a=this._stickerItems.size,i=0;i<a;i++){var r=this._stickerItems.get(i);if(r&&r.getOffsetTop()!==t)return i}return this._stickerItems.size}_incActiveIndex(e){if(0!==e){var t=this._getActiveStickerItemIndex();if(-1!==t){var a=t+e;if(a<0){if(!this.props.onFocusPrev)return;this.props.onFocusPrev()}else{a=Math.min(a,this._stickerItems.size-1);var i=this._stickerItems.get(a);i&&i.focus()}}}}_renderStickers(){return this.props.stickers.map((e,t)=>{var a=e.isPlaceholder?"".concat(d.PRE_PLACEHOLDER_ID).concat(t):e.id;return s.createElement(o.default,{key:a,onClick:this.props.onStickerClick,onEnter:this.props.onStickerEnter,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{e?this._stickerItems.set(t,e):this._stickerItems.delete(t)}),sticker:e})})}render(){return s.createElement(n.default,{onRef:this._setRefContainer,className:l.default.container,handlers:{up:this._handleStickerArrowUp,down:this._handleStickerArrowDown,left:this._handleStickerArrowLeft,right:this._handleStickerArrowRight},onScroll:this._handleScroll},this._renderStickers())}}t.default=c},dgdeceggdh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class i{constructor(e){this.promise=e,this.lastUsedTime=this.createdTime=+Date.now()}}t.default=class{constructor(e,{maxCached:t=10,maxAge:a=1/0,shouldCache:i}){this._cache={},this._maxCached=t,this._maxAge=a,this._createPromiseFunc=e,this._shouldCacheFunc=i}getOrRun(e,...t){var a=this._cache;if(this._maxAge!==1/0)for(var r=Date.now()-this._maxAge,s=Object.keys(a),n=0;n<s.length;n++){var o=s[n];a[o].createdTime<r&&delete a[o]}var d=a[e];if(d)return d.lastUsedTime=+Date.now(),d.promise;var l=Object.keys(a);if(l.length>=this._maxCached){for(var c,u,f=0;f<l.length;f++){var h=l[f],p=a[h];(null==u||p.lastUsedTime<u)&&(u=p.lastUsedTime,c=h)}c&&delete a[c]}var g=this._createPromiseFunc.apply(void 0,[e,...t]);return a[e]=new i(g),g.then(t=>{var a=this._shouldCacheFunc;a&&this._cache[e]===g&&!a(t)&&delete this._cache[e]}).catch(()=>{this._cache[e]===g&&delete this._cache[e]}),g}}},dgdfbejdgf:function(e,t){e.exports={chevronLeftBg:"_1MLLc",chevronRightBg:"_1B-_l",chevronLeft:"VKhTt",chevronRight:"x7r8r",playerContainer:"_1TWA9",mediaStateControls:"WFchU",viewer:"gFTLv",v3X:"_3rL62",v3X_mac:"_2qEtB",v3XMac:"_2qEtB",backIcon:"Pnr_G",backIcon_mac:"_1n3hU",backIconMac:"_1n3hU"}},dgdhcdgffe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.markUnread=function(e,t){return function e(t,a,i=(0,o.genId)()){a?t.active&&(t.markedUnread=!0):t.markedUnread=!1;var{promises:r}=t;if(r.markUnread)return r.markUnread;var s=r.markUnread=a?function(e){var t=e.getLastMsgKeyForAction();return(0,f.sendConversationUnseen)(e.id,t).then(()=>{j(e)}).catchType(l.ServerStatusCodeError,t=>(e.markedUnread=!1,Promise.reject(t)))}(t):y(t),c=a?new o.ActionType(u.default.t(46)):new o.ActionType(u.default.t(45)),h=s.then(()=>{var r=a?u.default.t(44):u.default.t(43);return new o.ActionType(r,u.default.t(178),()=>e(t,!a,i))}).catchType(l.ServerStatusCodeError,e=>{if(e.status>=400)return a?new o.ActionType(u.default.t(42)):new o.ActionType(u.default.t(41));throw new Error("invalid response status")}).catch(()=>{var r=a?u.default.t(42):u.default.t(41);return new o.ActionType(r,u.default.t(174),()=>e(t,a,i))});return d.default.openToast(n.createElement(o.ActionToast,{id:i,initialAction:c,pendingAction:h})),s.then(()=>{}).catchType(l.ServerStatusCodeError,e=>{__LOG__(3)(b(),e.status)}).finally(()=>{r.markUnread=null})}((0,h.unproxy)(e),t)},t.sendSeen=_,t.markSeen=E,t.markUnseen=j;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=a("bgihjbde"),c=i(a("cajijabhgb")),u=r(a("bdjjabfecc")),f=a("gigfajjic"),h=a("cjfegjecaj"),p=r(a("dcdiaahjj"));function g(){var e=(0,s.default)(["models:chat:sendConversationSeen dropped"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["models:chat:sendSeen unread "," pending: "," delta: ",""]);return m=function(){return e},e}function b(){var e=(0,s.default)(["markUnread: got status ",""]);return b=function(){return e},e}function v(){var e=(0,s.default)(["sendSeen: got status ",""]);return v=function(){return e},e}function _(e,t=!0){return y((0,h.unproxy)(e),t).catchType(l.ServerStatusCodeError,e=>{__LOG__(3)(v(),e.status)})}function E(e,t,a){!function(e,t,a=!1){"markSeen ".concat(String(t));var i=null;null!=t?t>0&&t<=e.unreadCount?(i=e.unreadCount-t,"unreadCount set to ".concat(String(i))):-1===t&&e.unreadCount<=0&&(i=0,"unreadCount set to ".concat(String(i))):(i=0,"unreadCount set to ".concat(String(i)));(null==i?Promise.resolve():(0,f.markConversationSeen)(e.id,i)).then(()=>{if(null!=t&&a){var r=e.pendingSeenCount-t;e.pendingSeenCount=Math.max(0,r)}null!=i&&(e.unreadCount=i),e.unreadMsgAnchor=void 0,e.markedUnread=!1})}((0,h.unproxy)(e),t,a)}function j(e){!function(e){e.active&&(e.markedUnread=!0);(0,f.markConversationUnseen)(e.id).then(()=>{e.unreadCount=-1})}((0,h.unproxy)(e))}function y(e,t=!0){if(e.markedUnread||0===e.unreadCount)return"markedUnread: ".concat(String(e.markedUnread)),"unreadCount: ".concat(e.unreadCount),Promise.resolve();if(!p.default.available&&t)return e.listenToOnce(p.default,"change:available",()=>_(e)),Promise.resolve();e.unreadCount,e.pendingSeenCount;var a=e.unreadCount-e.pendingSeenCount,i=-1===e.unreadCount&&-1===a;if(a<=0&&!i)return Promise.resolve();e.disableUnreadAnchor=!0,e.pendingSeenCount=e.unreadCount,e.pendingSeenCount;var r=()=>{e.pendingSeenCount=e.pendingSeenCount-a,e.pendingSeenCount,e.pendingSeenCount<0&&(__LOG__(3)(m(),e.unreadCount,e.pendingSeenCount,a),e.pendingSeenCount=0)},s=e.getLastMsgKeyForAction();return(0,f.sendConversationSeen)(e,s,a).then(t=>{t._duplicate?r():E(e,a,!0)}).catchType(l.ServerStatusCodeError,e=>(r(),Promise.reject(e))).catchTypes(l.WebdDrop,c.ProtoVersionUndefined,()=>{r(),__LOG__(3)(g())})}},dgdjggfgea:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({className:e,children:t,direction:a="horizontal",outgoingMsg:i,position:r}){return n.createElement("div",{className:(0,s.default)(o.default.wrapper,{[o.default.posBottom]:"bottom"===r,[o.default.posTop]:"top"===r,[o.default.wrapperIn]:!i,[o.default.wrapperOut]:i},e)},t)};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cdecadehag"))},dgeaihgdfh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return s.default}}),t.NoMediaHostsError=void 0;var r=a("bjhaecbifc"),s=i(a("cgijjjgici"));class n extends((0,r.customError)("NoMediaHostsError")){}t.NoMediaHostsError=n},dgebcfedgb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ThemeOptions=void 0;var s=r(a("bacehaajgh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("effbcehec")),l=r(a("bcdfadbhgb")),c=r(a("jheedhagg")),u=r(a("dhfbfehaef")),f=r(a("chgaccicf")),h=a("hjbbdjjdf"),p=(0,f.default)({COMPACT:null});t.ThemeOptions=p;class g extends o.PureComponent{constructor(...e){super(...e),this.state={hover:!1,focus:!1},this.onMouseEnter=()=>{this.setState({hover:!0})},this.onMouseLeave=()=>{this.setState({hover:!1})},this.onFocus=()=>{this.setState({focus:!0})},this.onBlur=()=>{this.setState({focus:!1})},this.onClick=e=>{this.onAction(e)},this.onEnter=e=>{e.repeat||this.onAction(e)},this.onAction=e=>{var{action:t}=this.props;if(t&&!(!1===t(e))){var a=this.props.uim;a&&a.uie.requestDismiss()}}}render(){var{children:e,tooltip:t,type:a,disabled:i=!1,theme:r}=this.props,{hover:c,focus:f}=this.state,g=(c||f)&&null!=t?t:null,b=(0,h.isString)(e)?o.createElement("div",{className:(0,n.default)(l.default.ellipsify,l.default.action,{[l.default.compact]:r===p.COMPACT}),role:"button",title:e},e):e,v={enter:this.onEnter},_=(0,n.default)(l.default.item,l.default.shortcut,{[l.default.hover]:c||f,[l.default.text]:"text"===a,[l.default.emoji]:"emoji"===a||"emoji-grid"===a,[l.default.emojiGrid]:"emoji-grid"===a,[l.default.icon]:"icon"===a,[l.default.disabled]:i}),E=i?{}:{handlers:v,onContextMenu:m,onMouseDown:m,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur};return o.createElement(u.default,(0,s.default)({component:"li","data-a8n":d.default.key(this.props.a8n),className:_,"data-animate-dropdown-item":!0},E),b,g)}}function m(e){e.preventDefault()}g.defaultProps={type:"text"};var b=(0,c.default)(g);t.default=b},dgeebjciej:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=function(e){return(e instanceof g.default?(0,f.opaqueDataToArrayBuffer)(e):(0,c.blobToArrayBuffer)(e)).then(e=>(0,m.default)(e)).catch(e=>{__LOG__(3)(b(),e)})},t.decrypt=v,t.decryptE2EMedia=function(e,t,a,i){var r,s=Promise.resolve().then(()=>{if(!e)throw new l.MediaEncryptionError('decrypt async, missing "type"');if(!(t instanceof ArrayBuffer))throw new l.MediaEncryptionError('decrypt async, missing "payload"');if(!a)throw new l.MediaEncryptionError('decrypt async, missing "mediaKey"');if(r=new h.default.WebcCryptoMedia({webcCryptoType:h.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:h.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:t.byteLength}),t.byteLength<10)throw new l.MediaEncryptionError("ciphertext too short: ".concat(t.byteLength));return(0,d.default)(e,a).then(({iv:a,encKey:r,macKey:s})=>{var n=t.byteLength-10,o=new Uint8Array(t,n),d=new Uint8Array(t,0,n);return v(new Uint8Array(r),new Uint8Array(a),d,new Uint8Array(s),o,i||(t=>(0,p.getMediaMimeType)(e,t)))})}).tap(e=>{e.autoreleaseWhenPromiseCompletes(s),r.markWebcCryptoElapsedT(),r.commit()}).catchConditional(e=>!(e instanceof l.MediaEncryptionError),e=>{var t=e instanceof Error?"encryption error: ".concat(String(e),"; stack: ").concat(e.stack):"encryption error: ".concat(String(e),";");throw new l.MediaEncryptionError(t)});return s};var s=r(a("dfadhaifh")),n=r(a("bfefjaegfe")),o=a("eaiigfgagg"),d=r(a("daiahejada")),l=i(a("cajijabhgb")),c=a("cgffhfegce"),u=r(a("bbejegbieb")),f=a("bccggdcfj"),h=r(a("bdcchebfge")),p=a("cedhgehjef"),g=r(a("dcdjgccech")),m=r(a("jjijgifac"));function b(){var e=(0,s.default)(["SubtleCrypto::getHash error: ",""]);return b=function(){return e},e}function v(e,t,a,i,r,s){return Promise.resolve().then(()=>{if(!(10<=r.length&&r.length<=32))throw new l.MediaEncryptionError("Given bad expected hmac");var s=n.default.build(t,a).readByteArray();return new u.default(i).sign(s).then(t=>{for(var a=new Uint8Array(t,0,r.length),i=!1,n=0;n<a.length;n++)a[n]!==r[n]&&(i=!0);if(i)throw new l.MediaEncryptionError("hmac check failure");return(0,o.aesCbcDecrypt)(e,s)})}).then(e=>{var t="string"==typeof s?s:s(new Uint8Array(e));return g.default.createFromData(e,t)})}},dgegbadcdj:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag"));class s extends r.PureComponent{constructor(...e){super(...e),this._onRefChange=e=>{e?(this._ctx=e.getContext("2d"),this._imageData=this._ctx.createImageData(this.props.width,this.props.height)):(this._ctx=null,this._imageData=null)}}_updateCanvas(){var e=this._ctx,t=this._imageData,{rgbaBuffer:a}=this.props;e&&t&&a&&(t.data.set(new Uint8Array(a)),e.putImageData(t,0,0))}componentDidMount(){this._updateCanvas()}componentDidUpdate(){this._updateCanvas()}render(){return r.createElement("canvas",{className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,ref:this._onRefChange})}}t.default=s},dgffhaiche:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bdjjabfecc")),o=i(a("bgdeabjbjd")),d=i(a("dgfgceghic"));class l extends s.Component{render(){var e=this.props.msg;return s.createElement(d.default,{msg:e,displayAuthor:this.props.displayAuthor},s.createElement(o.default,{iconName:"unknown",msg:e.unsafe()},n.default.t(418)))}}t.default=l},dgfgceghic:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,s.default)(u.default.bubble,{[u.default.isPSA]:e.msg.isPSA}),a=!1!==e.displayAuthor&&(!e.msg.isSentByMe&&e.msg.isGroupMsg)?n.createElement(o.default,{msg:e.msg.unsafe(),contact:e.msg.senderObj}):null,i=e.msg.showForwarded()?n.createElement(l.default,{msg:e.msg.unsafe()}):null,r=e.displayType===d.default.DISP_TYPE.GALLERY||e.hideMeta?null:n.createElement("div",{className:u.default.meta},n.createElement(c.default,{msg:e.msg}));return n.createElement("div",{className:t},a,i,e.children,r)};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("hgigjbgie")),l=r(a("dfhddecjbi")),c=r(a("deeafjfccb")),u=r(a("cefeifbjcb"))},dgfjacgibh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("hgigjbgie")),o=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),l=r(a("bjjhgjdbhd")),c=i(a("jheedhagg")),u=i(a("bdjjabfecc")),f=i(a("ccadaajdfc"));class h extends s.Component{constructor(...e){super(...e),this.onClose=()=>{this.props.onClose?this.props.onClose():this.props.uim.uie.requestDismiss()}}render(){var e,t=this.props.chat.getReceivedVcardMsgs(),a=null!==(e=null==t?void 0:t.map(e=>s.createElement(f.default,{key:e.id.toString(),msg:e,displayType:n.default.DISP_TYPE.CONTACT_CARD,onMessageClick:this.onClose})))&&void 0!==e?e:[];return s.createElement(o.default,null,s.createElement(l.default,{title:u.default.t(467,{_plural:t?t.length:0}),onBack:this.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),s.createElement(d.default,null,a))}}var p=(0,c.default)(h);t.default=p},dggfhciihi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,{msg:i,link:r,displayType:u}=e;if(!i&&!r)return null;if(null==i||null===(t=i.ctwaContext)||void 0===t?void 0:t.isSuspiciousLink)a=d.default.t(1300);else if(r)r.suspiciousCharacters&&r.suspiciousCharacters.size&&(a=d.default.t(1300));else if(i){var f=i.getSuspiciousLinks().length;if(f){var h=i.getLinks().length;a=1===h||u===o.default.DISP_TYPE.GALLERY?d.default.t(1300):d.default.t(1301,{count:f,_plural:f})}}return a?n.createElement("div",{className:(0,s.default)(l.default.container,{[l.default.isLinkMsg]:Boolean(r),[l.default.ctwaContainer]:null!=(null==i?void 0:i.ctwaContext)})},n.createElement(c.default,{name:"alert",display:"inline",className:l.default.icon}),n.createElement("span",{className:l.default.text},a)):null};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("bdjjabfecc")),l=r(a("beafiaiabh")),c=r(a("dgdcjccfdi"))},dggicbgjfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({msg:e,displayAuthor:t}){return s.createElement(c.default,{msg:e,displayAuthor:t},s.createElement("div",{className:d.default.icon},s.createElement(l.default,{name:"unknown"})),s.createElement("div",{className:d.default.text},s.createElement(o.default,{msg:e.unsafe(),theme:"placeholder"},(0,n.msgText)(e.unsafe()))))};var s=r(a("ddhijeejag")),n=a("dgjddffcfg"),o=i(a("fjgaiebfh")),d=i(a("daeajheghh")),l=i(a("dgdcjccfdi")),c=i(a("dgfgceghic"))},dghfbecefg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FooterType=void 0;var s=r(a("dbafiicfja")),n=r(a("bhdefefjjb")),o=r(a("bhdddbafig")),d=r(a("ceffhbhahb")),l=i(a("ddhijeejag")),c=r(a("ebjaejiaba")),u=r(a("bjfbdidjgj")),f=r(a("gfebgebbi")),h=r(a("bdjjabfecc")),p=r(a("ebddggeaib")),g=r(a("idbcfjbae")),m=r(a("deffjjfcba")),b=r(a("dgdcjccfdi")),v=r(a("didfdhbecg")),_={CONFIRM:"CONFIRM",NEXT:"NEXT",SEND:"SEND"};t.FooterType=_;class E extends l.Component{constructor(e){super(e),this.forwardIsEnabled=!0,this.state={selected:[]},this._handleForwardClick=()=>{this.forwardIsEnabled&&(this.forwardIsEnabled=!1,this.props.onForward())},this.firstRenderActive=e.startActive||!1}componentDidMount(){var e=this.props.selections.getSelected();this.setState({selected:e}),this.props.listeners.add(this.props.selections,"all",()=>{this.setState({selected:this.props.selections.getSelected()})}),0===e.length&&(this.firstRenderActive=!1)}componentDidUpdate(){this._hasSelected()||(this.firstRenderActive=!1)}_hasSelected(){return this.state.selected.length>0}render(){var e;if(this._hasSelected()){var t,a=1===this.state.selected.length?this.props.singleSelectionType:this.props.multipleSelectionType;switch(a){case _.CONFIRM:t=l.createElement(b.default,{name:"checkmark-medium"});break;case _.NEXT:t=l.createElement(b.default,{name:"arrow-forward"});break;case _.SEND:default:t=l.createElement(b.default,{directional:!0,name:"send"})}e=l.createElement("div",{className:(0,d.default)(u.default.controlsSummary,{[u.default.confirm]:a===_.CONFIRM})},a!==_.CONFIRM&&l.createElement(y,{chats:this.state.selected}),l.createElement("div",{"data-animate-btn":!0,className:this.firstRenderActive?u.default.btnActive:u.default.btnAction},l.createElement(m.default,{large:!0,onClick:this._handleForwardClick},t)))}return l.createElement(v.default,{transitionName:"slide-up-down-footer",className:u.default.container},e)}}E.defaultProps={singleSelectionType:_.SEND,multipleSelectionType:_.SEND};var j=(0,p.default)(E);t.default=j;class y extends l.Component{constructor(e){super(e),this.state={chats:this.props.chats}}static getDerivedStateFromProps(e,t){var a=t.chats,i=e.chats;return{chats:a=i&&i.length>a.length?a.concat((0,o.default)(i,a)):(0,n.default)(a,i)}}render(){for(var e=(0,s.default)(this.state.chats,e=>e instanceof c.default?e.formattedTitle:e instanceof g.default?e.name:e.formattedShortNameWithNonBreakingSpaces),t=[],a=e.length-1;a>=0;a--)t.push(l.createElement(f.default,{className:u.default.item,key:a,text:e[a]})),a>0&&t.push(l.createElement("span",{key:"comma-".concat(a)},h.default.t(546)));return l.createElement(v.default,{transitionName:"pop",className:u.default.summaryText},t)}}},dghhfdgdjg:function(e,t){e.exports={btn:"_15bSy",overMedia:"uPJoW",btnMediaPrev:"N-Qld",btnMediaNext:"_3eNoe",disabledBtn:"_2NIGu"}},dghjhchjic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dffgeedefc")),s=i(a("cgcgbfbffj")),n=i(a("ccdbdjihjh"));class o extends s.default{}t.default=o,o.model=n.default,o.comparator=(e,t)=>e.id===t.id?0:(0,r.default)(e.id,t.id)?-1:1},dgicehhija:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function([e]){var t=a("biecbbiiee").default;function i(a,i){var r;r=p.default.isStatusV3(e.broadcast)?new h.default({from:e.from,to:e.broadcast,id:i,selfDir:e.self||"out"}):new h.default({from:e.from,to:a,id:i,participant:e.participant,selfDir:e.self||"out"});var s=t.get(r);s?(0,o.updateMsgAck)(s,e.broadcast,{from:e.from,to:a,ack:e.ack,t:e.t}):(__LOG__(2)(E()),t.preAck[r]=e)}if("ack"===e.cmd){var r=[e.to];if(p.default.isBroadcast(e.to)&&e.ack===c.default.ACK.SENT){var s=f.default.get(e.to);s&&Array.prototype.push.apply(r,(0,n.default)(s.participants.toArray(),"id"))}return r.forEach((function(t){i(t,e.id)})),Promise.resolve()}if("acks"===e.cmd)return e.id.forEach((function(t){i(e.to,t)})),Promise.resolve();if(e.msg){if(!(e.chat instanceof p.default))return Promise.resolve();var j="update"===e.meta.add;return p.default.isStatusV3(e.chat)&&!a("bgcdajbhif").default.handleUpdate(e.msg,e.meta.checksum,j)?Promise.resolve():(e.msg.recvFresh=!0,e.msg.isNewMsg=!0,t.processMultipleMessages(e.chat,[e.msg],{add:"after",update:j,isHistory:!1}).catch(()=>{}).catch(t=>{__LOG__(4,!1,new Error)(_(),String(e.msg.id),String(e.chat),t.name,t.message,t.stack),SEND_LOGS("msg_handler: error storing/processing single message")}))}if(e.msgs){var y=e.msgs.length;if(!y)return Promise.resolve();var S=null;if(!(e.chat instanceof p.default))return Promise.resolve();var C=e.meta;C.isHistory=!0,"unread"===C.add&&(C.firstUnreadKey=new h.default({fromMe:C.unreadFromMe,remote:e.chat,id:C.unreadId,participant:C.unreadParticipant}),S=new d.default);for(var M=0;M<y;M++){e.msgs[M].invis=!0}return l.default.platform!==l.PLATFORMS.IPHONE&&l.default.platform!==l.PLATFORMS.SMBI||t.trigger(c.default.COLLECTION_HAS_SYNCED),t.trigger("handle:msg_history",{count:e.msgs.length,binarySize:e.binarySize}),t.processMultipleMessages(e.chat,e.msgs,C,S).catchType(u.LogoutDrop,()=>{}).catch(t=>{__LOG__(4,!1,new Error)(v(),y,String(e.chat),t.name,t.message,t.stack),SEND_LOGS("msg_handler: error storing/processing multiple messages")})}if(e.recent){var T=e.meta,P=e.binarySize;return delete e.recent,delete e.meta,delete e.binarySize,t.trigger(c.default.COLLECTION_HAS_SYNCED,{count:Object.keys(e).length,binarySize:P}),T.isHistory=!0,Promise.map(Object.keys(e),a=>{var i;try{i=(0,g.createWid)(a)}catch(e){return Promise.resolve()}var r=e[a];r.invis=!0;var s="last"===T.add&&T.resume?new d.default:null;t.processMultipleMessages(i,[r],T,s).catchType(u.LogoutDrop,()=>{}).catch(()=>{__LOG__(4,!1,new Error)(b()),SEND_LOGS("msg_handler: error storing recent messages")})})}return __LOG__(2)(m()),Promise.resolve()};var s=r(a("dfadhaifh")),n=r(a("dbafiicfja")),o=a("bgffafigi"),d=r(a("dbfjecijha")),l=i(a("bjigbaghc")),c=r(a("hgigjbgie")),u=a("bgihjbde"),f=r(a("djaadchjch")),h=r(a("cffajefeag")),p=r(a("jccfhaecf")),g=a("dcbdjheea");function m(){var e=(0,s.default)(["************** Msg else clause. something strange is going on"]);return m=function(){return e},e}function b(){var e=(0,s.default)(["Assertion failed!"]);return b=function(){return e},e}function v(){var e=(0,s.default)(["Msgs count: "," Chat: "," Error: ",", message: ",", stack: ",""]);return v=function(){return e},e}function _(){var e=(0,s.default)(["Msg: "," chat: "," Error: ",", message: ",", stack: ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["Msg:out of order ack"]);return E=function(){return e},e}},dgigfhdcif:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=(i(a("hgigjbgie")),a("dhegcfddhg")),o=i(a("bdjjabfecc")),d=i(a("ecdffdifib")),l=i(a("dgjfhfaeci")),c=i(a("bfgbdiffgd")),u=i(a("dcdbbhicce")),f=i(a("ecbchdhdcg")),h=a("cjjdjbcgjh");class p extends s.Component{constructor(...e){super(...e),this._getParsedVcardList=(0,d.default)(({parsedVcards:e})=>e?e.map(e=>({parsedVcard:e,displayName:(0,h.vcardGetNameFromParsed)(e)||o.default.t(216),isMultiVcard:!1,vcard:""})):[])}componentDidMount(){var{downloadMedia:e,mediaData:t}=this.props;e&&t.size<=1024*c.default.mmsVcardAutodownloadSizeKb&&e()}render(){var e,{displayAuthor:t,displayType:a,downloadMedia:i,onMessageClick:r,mediaData:o,msg:d}=this.props,{parsedVcards:c}=o;return c?c.length>1?s.createElement(l.default,{msg:d,vcardList:this._getParsedVcardList({parsedVcards:c}),ref:(0,n.GetRef)("ref",this),quotedMsg:this.props.getQuotedMsg(),displayType:a,displayAuthor:t}):s.createElement(f.default,{msg:d,vcard:c[0],ref:(0,n.GetRef)("ref",this),quotedMsg:this.props.getQuotedMsg(),displayType:a,displayAuthor:t,onMessageClick:r}):s.createElement(f.default,{mediaStage:null===(e=d.mediaData)||void 0===e?void 0:e.mediaStage,msg:d,vcard:null,ref:(0,n.GetRef)("ref",this),quotedMsg:this.props.getQuotedMsg(),displayType:a,displayAuthor:t,onMessageClick:r,downloadMedia:i,placeholder:!0})}}p.CONCERNS={mediaData:["mediaBlob","mediaStage","parsedVcards","size"]};var g=(0,u.default)(p,p.CONCERNS);t.default=g},dgjacfgggf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.generateVideoThumbAndDuration=function(e,t){if(m.default.isBuggyVideoLoadChrome){return p.video(e,!0).then(({video:e,fullWidth:a,fullHeight:i})=>(0,c.default)({minTimeout:50,maxTimeout:50,retries:100,signal:(new d.default).signal,factor:1},(r,s)=>{var n=document.createElement("canvas"),o=(0,f.boundHeightWidth)(i,a,t);n.width=o.width,n.height=o.height;var d=n.getContext("2d");d.drawImage(e,0,0,o.width,o.height);var l=d.getImageData(0,0,o.width,o.height);if(s<100&&(e=>{for(var t=e.width*e.height/4,a=0;a<=1;a+=.25){var i=4*Math.round(t*a);if(0!==e.data[i])return!1;if(0!==e.data[i+1])return!1;if(0!==e.data[i+2])return!1;var r=e.data[i+3];if(0!==r&&255!==r)return!1}return!0})(l))return s>0&&(__LOG__(2)(y()),e.currentTime=0),r(new Error("retry"));var c={duration:~~e.seekable.end(0),thumb:{url:n.toDataURL("image/jpeg"),width:o.width,height:o.height,fullWidth:a,fullHeight:i}};return p.disposeVideo(e),Promise.resolve(c)}))}return p.video(e,!0).then(({video:e,fullWidth:a,fullHeight:i})=>{try{var r=document.createElement("canvas"),s=(0,f.boundHeightWidth)(i,a,t);return r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(e,0,0,s.width,s.height),{duration:~~e.seekable.end(0),thumb:{url:r.toDataURL("image/jpeg"),width:s.width,height:s.height,fullWidth:a,fullHeight:i}}}finally{p.disposeVideo(e)}})},t.crop=function(e,t,a,i,r,s,n,o=M){return(e instanceof HTMLCanvasElement?Promise.resolve(e):p.loadImage(e)).then(e=>{var d=document.createElement("canvas"),l=d.getContext("2d");null==s||null==n?(d.height=r,d.width=i,l.drawImage(e,t,a,i,r)):(d.height=n,d.width=s,l.drawImage(e,t,a,i,r,0,0,s,n));var c={};return I(c,d,o),Promise.props(c).then(e=>({images:e,width:i,height:r}))})},t.toDataUrlWithRoundedCorners=function(e){return(e instanceof HTMLCanvasElement?Promise.resolve(e):p.loadImage(e)).then(e=>{var t=document.createElement("canvas"),a=t.getContext("2d");t.height=e.height,t.width=e.width;var i=Math.min(e.width,e.height);return a.beginPath(),a.arc(e.width/2,e.height/2,i/2,0,2*Math.PI,!0),a.clip(),a.closePath(),a.drawImage(e,0,0),t.toDataURL("image/png")})},t.generateLinkPreview=function(e){return p.loadImage(e).then(e=>{if(e.width<100||e.height<100)return __LOG__(2)(j()),null;var t=document.createElement("canvas"),a=t.getContext("2d");t.height=140,t.width=140;var i=Math.min(e.width,e.height),r=(e.width-i)/2,s=(e.height-i)/2;return a.drawImage(e,r,s,i,i,0,0,140,140),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(()=>(__LOG__(2)(E()),null))},t.toDataUrl=function(e){return p.loadImage(e).then(e=>{var t=document.createElement("canvas"),a=t.getContext("2d");return t.height=e.height,t.width=e.width,a.drawImage(e,0,0),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(()=>(__LOG__(2)(_()),null))},t.rotateAndResize=function(e,t,a){var i,r,s;e instanceof HTMLCanvasElement?(r=Promise.resolve(e),s=Promise.resolve(null)):(i=window.URL.createObjectURL(e),r=p.loadImage(i),s=(0,u.blobToArrayBuffer)(e).catch(e=>{__LOG__(3)(v(),e)}));return Promise.props({buffer:s,image:r}).then(({buffer:e,image:i})=>{var r={};try{r=(0,o.default)(e)}catch(e){}var s=0;switch(r.orientation||"UNKNOWN"){case"right-top":s=1;break;case"left-bottom":s=-1;break;case"bottom-right":s=2}var n=document.createElement("canvas"),d=i.naturalWidth||i.width,l=i.naturalHeight||i.height,c=n.getContext("2d"),u={};if(!s){var p,g,m=(0,f.boundHeightWidth)(l,d,t),v=a&T;if(e&&v&&d===m.width&&l===m.height)try{var _=(0,h.cleanJPEG)(e);u.blob=_,v=!1,p=d,g=l}catch(e){__LOG__(2)(b(),e.message)}return(v||a&~T)&&(n.width=m.width,n.height=m.height,p=n.width,g=n.height,w(n),c.drawImage(i,0,0,p,g),I(u,n,a)),Promise.props(u).then(e=>({width:p,height:g,images:e}))}switch(s){case 1:case-1:var E=Math.max(d,l),j=E/2;n.width=n.height=E,w(n),A(c,{x:j,y:j,degrees:90*s}),1===s?c.drawImage(i,0,E-l):c.drawImage(i,E-d,0),A(c,{x:j,y:j,degrees:-90*s}),function(e,t,a){var i=e.getContext("2d"),r=i.getImageData(0,0,t,a);e.width=t,e.height=a,i.putImageData(r,0,0)}(n,l,d);var y=function(e,t){var{width:a,height:i}=(0,f.boundHeightWidth)(e.height,e.width,t);if(a>e.width&&i>e.height)return e;var r=document.createElement("canvas"),s=r.getContext("2d");return r.width=a,r.height=i,s.drawImage(e,0,0,a,i),r}(n,t);return I(u,y,a),Promise.props(u).then(e=>({width:y.width,height:y.height,images:e}));case 2:var S=(0,f.boundHeightWidth)(l,d,t),C=n.width=S.width,M=n.height=S.height;return w(n),A(c,{x:C/2,y:M/2,degrees:90*s}),c.drawImage(i,0,0,C,M),A(c,{x:C/2,y:M/2,degrees:-90*s}),I(u,n,a),Promise.props(u).then(e=>({width:n.width,height:n.height,images:e}))}}).finally(()=>{i&&window.URL.revokeObjectURL(i)})},t.canvasToBlob=O,t.urlToFile=function(e){return p.loadImage(e).then(e=>{var t=document.createElement("canvas");t.width=e.naturalWidth,t.height=e.naturalHeight;var a=t.getContext("2d");return w(t),a.drawImage(e,0,0),O(t)}).catch(()=>Promise.reject(new l.MediaDragDropError("unable to render image",e)))},t.isCached=function(e){if(!e)return!1;var t=new Image;return t.src=e,!!t.complete},t.getResizedDataUrl=function(e,t="image/jpeg",a){var i=e.toDataURL(t);if(window.dataURLtoBlob(i).size<=a)return e.toDataURL(t);for(var r=.9;r>=.1;r-=.1){var s=e.toDataURL(t,r);if(window.dataURLtoBlob(s).size<=a)return s}return null},t.generateMicroThumb=function(){return N.apply(this,arguments)},t.CANVAS=t.BLOB=t.DATA_URL=void 0;var s=r(a("ffedgcdgj")),n=r(a("dfadhaifh")),o=r(a("bjacajbace")),d=r(a("cgeedcdffb")),l=i(a("cajijabhgb")),c=r(a("gaffaajde")),u=a("cgffhfegce"),f=a("cdbgdedbdh"),h=a("cjjjfdegjf"),p=i(a("baffhfhhda")),g=r(a("dcdjgccech")),m=r(a("bcjcbbafcj"));function b(){var e=(0,n.default)(["Could not parse JPEG: ",""]);return b=function(){return e},e}function v(){var e=(0,n.default)(["ImageUtils::rotateAndResize error: ",""]);return v=function(){return e},e}function _(){var e=(0,n.default)(["data URL conversion failed: "]);return _=function(){return e},e}function E(){var e=(0,n.default)(["link preview image generation failed: "]);return E=function(){return e},e}function j(){var e=(0,n.default)(["Image size too small for link preview"]);return j=function(){return e},e}function y(){var e=(0,n.default)(["generateVideoThumbAndDuration: Setting video.currentTime to 0 to attempt to unblock the video"]);return y=function(){return e},e}var S=2,C=4,M=1;t.DATA_URL=M;var T=S;t.BLOB=T;var P=C;function O(e,t="image/jpeg"){return e.toBlob?new Promise((function(t){e.toBlob(t,"image/jpeg")})):Promise.resolve(window.dataURLtoBlob(e.toDataURL("image/jpeg")))}function N(){return(N=(0,s.default)((function*(e,t,a){for(var i,r,s=a||{},n=null!==(i=s.mimetype)&&void 0!==i?i:"image/jpeg",o=null!==(r=s.maxAttempts)&&void 0!==r?r:10,d=.5,l=e,c=yield O(l,n),u=0;u<o&&!(c.size<=t);u++){var f=Math.floor(e.width*d),h=Math.floor(e.height*d);(l=R(f,h)).getContext("2d").drawImage(e,0,0,f,h),c=yield O(l,n),d*=.5}return{opaqueData:yield g.default.createFromData(c,n),width:l.width,height:l.height,dataUrl:l.toDataURL("image/jpeg")}}))).apply(this,arguments)}function I(e,t,a){!e.blob&&a&T&&(e.blob=O(t)),!e.dataUrl&&a&M&&(e.dataUrl=Promise.resolve(t.toDataURL("image/jpeg"))),!e.canvas&&a&P&&(e.canvas=Promise.resolve(t))}function A(e,t){var a=t.x||0,i=t.y||0;t.degrees&&(t.radians=t.degrees*(Math.PI/180)),e.translate(a,i),e.rotate(t.radians),e.translate(-a,-i)}function w(e){var t=e.getContext("2d");t.fillStyle="rgb(247,247,247)",t.fillRect(0,0,e.width,e.height)}function R(e,t){var a=document.createElement("canvas");return a.width=e,a.height=t,a}t.CANVAS=P},dgjddffcfg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.formatEnterpriseE2EName=V,t.formatE2ENotification=H,t.formatCallLog=W,t.formatBroadcastNotification=K,t.formatGroupNotification=Y,t.formatForwardError=function({chat:e,undelivered:t,canForward:a,cannotForward:i}){var r=a.length-t.length,n=i.length+t.length,o=e.isUser?{contact:e.formattedTitle}:{};if(r>0)return t.length?i.length?M.default.t(360,(0,s.default)({count:n,_plural:n},o)):M.default.t(359,{count:n,_plural:n}):M.default.t(355,{count:n,_plural:n,contact:e.formattedTitle});if(t.length)return i.length?M.default.t(361,o):M.default.t(364);return M.default.t(356,o)},t.formatEphemeralSetting=q,t.formatPayment=z,t.notificationTemplateFAQ=function(e){switch(e){case"non_verified_transition":return(0,m.getNonVerifiedTransitionFaqUrl)();case"unverified_transition":return(0,m.getUnverifiedTransitionFaqUrl)();case"verified_transition":return(0,m.getVerifiedTransitionFaqUrl)();case"verified_low_unknown":return(0,m.getVerifiedLowUnknownFaqUrl)();case"verified_high":return(0,m.getVerifiedHighFaqUrl)();case"biz_intro_top":case"biz_intro_bottom":case"biz_two_tier_migration_bottom":case"biz_name_change":case"biz_verified_transition_top_to_bottom":case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":return(0,m.getBusinessFaqUrl)();case"blue_msg_bsp_fb_to_bsp_premise":case"blue_msg_bsp_fb_to_self_fb":case"blue_msg_bsp_fb_to_self_premise":case"blue_msg_bsp_fb_unverified":case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":case"blue_msg_bsp_fb_unverified_to_self_fb_verified":case"blue_msg_bsp_fb_unverified_to_self_premise_verified":case"blue_msg_bsp_fb_verified":case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":case"blue_msg_bsp_fb_verified_to_self_fb_unverified":case"blue_msg_bsp_fb_verified_to_self_premise_unverified":case"blue_msg_bsp_premise_to_self_premise":case"blue_msg_bsp_premise_unverified":case"blue_msg_bsp_premise_unverified_to_self_premise_verified":case"blue_msg_bsp_premise_verified":case"blue_msg_bsp_premise_verified_to_self_premise_unverified":case"blue_msg_consumer_to_bsp_fb_unverified":case"blue_msg_consumer_to_bsp_premise_unverified":case"blue_msg_consumer_to_self_fb_unverified":case"blue_msg_consumer_to_self_premise_unverified":case"blue_msg_self_fb_to_bsp_premise":case"blue_msg_self_fb_to_self_premise":case"blue_msg_self_fb_unverified":case"blue_msg_self_fb_unverified_to_bsp_premise_verified":case"blue_msg_self_fb_unverified_to_self_premise_verified":case"blue_msg_self_fb_verified":case"blue_msg_self_fb_verified_to_bsp_premise_unverified":case"blue_msg_self_fb_verified_to_self_premise_unverified":case"blue_msg_self_premise_to_bsp_premise":case"blue_msg_self_premise_unverified":case"blue_msg_self_premise_verified":case"blue_msg_to_bsp_fb":case"blue_msg_to_consumer":case"blue_msg_to_self_fb":case"blue_msg_unverified_to_bsp_fb_verified":case"blue_msg_unverified_to_bsp_premise_verified":case"blue_msg_unverified_to_self_fb_verified":case"blue_msg_unverified_to_verified":case"blue_msg_verified_to_bsp_fb_unverified":case"blue_msg_verified_to_bsp_premise_unverified":case"blue_msg_verified_to_self_fb_unverified":case"blue_msg_verified_to_unverified":return(0,m.getE2EEnterpriseFaqUrl)();default:return(0,m.getFaqUrl)()}},t.unformatMsg=Q,t.unformatText=J,t.msgText=function(e,t=!0,a=!1){var i,r,s,n,d=e.safe();switch(d.type){case B.TEMPLATE_BUTTON_REPLY:case B.HSM:return t?Q(e,e.body):e.body;case B.CIPHERTEXT:return M.default.t(1093);case B.REVOKED:return e.isSentByMe?M.default.t(1190):M.default.t(1188);case B.CHAT:return e.isFromTemplate&&e.title?t?Q(e,e.title+" "+e.body):"*"+e.title+"* "+e.body:t?Q(e,e.body):e.body;case B.IMAGE:return e.caption?t?Q(e,e.caption):e.caption:M.default.t(1527);case B.STICKER:return M.default.t(1531);case B.VIDEO:return e.caption?t?Q(e,e.caption):e.caption:e.isGif?"GIF":M.default.t(1532);case B.PTT:var l=u.default.durationStr(e.duration);return l||M.default.t(1533);case B.AUDIO:return M.default.t(1523);case B.LOCATION:return e.isFromTemplate?e.caption?t?Q(e,e.caption):e.caption:e.loc||M.default.t(1529):e.isLive?e.comment||M.default.t(1528):e.loc||M.default.t(1529);case B.GROUP_NOTIFICATION:case B.GP2:return Y(e,a);case B.BROADCAST_NOTIFICATION:return K(e);case B.NOTIFICATION:return e.body;case B.VCARD:return e.vcardFormattedName||M.default.t(1524);case B.GROUPS_V4_INVITE:return S.default.supportsFeature(S.default.F.GROUPS_V_4_JOIN_PERMISSION)?M.default.t(720):M.default.t(418);case B.MULTI_VCARD:return(0,A.getNameString)(e.vcardList);case B.DOCUMENT:if(e.isFromTemplate){var c=e.pageCount>0?M.default.t(1525,{count:e.pageCount+"",_plural:e.pageCount}):null;return e.caption?t?Q(e,e.caption):e.caption:(0,o.default)([e.caption||M.default.t(1526),c]).join(" • ")}if(e.isVcardOverMmsDocument&&e.mediaData.parsedVcards)return function(e){if(e.length>1){var t=e.map(e=>(0,A.vcardGetNameFromParsed)(e)).filter(Boolean);return(0,A.getNameStringFromNames)(t)}return(0,A.vcardGetNameFromParsed)(e[0])||M.default.t(216)}(e.mediaData.parsedVcards);var f=e.pageCount>0?M.default.t(1525,{count:e.pageCount+"",_plural:e.pageCount}):null;return(0,o.default)([e.mediaData.filename||M.default.t(1526),f]).join(" • ");case B.E2E_NOTIFICATION:return H(d);case B.CALL_LOG:return W(e,!1);case B.PRODUCT:return e.text?t?Q(e,e.text):e.text:M.default.t(1530);case B.OVERSIZED:return(0,_.formatOversizedMsgText)(e);case B.UNKNOWN:return(0,E.formatUnknownMsgText)(e);case B.PAYMENT:return z(e);case B.NOTIFICATION_TEMPLATE:return(0,v.default)(e);case B.PROTOCOL:return"ephemeral_setting"===e.subtype?q(e.ephemeralDuration||0,e.from,e.id.remote):"";case B.ORDER:return e.message||"";case B.LIST:return"".concat((null===(i=e.list)||void 0===i?void 0:i.title)||""," ").concat((null===(r=e.list)||void 0===r?void 0:r.description)||"");case B.LIST_RESPONSE:return"".concat((null===(s=e.listResponse)||void 0===s?void 0:s.title)||""," ").concat((null===(n=e.listResponse)||void 0===n?void 0:n.description)||"");default:return""}},t.emojify=function(e){return S.default.supportsFeature(S.default.F.RICH_TEXT)?(0,b.default)(e,U,P.TextSerializer):e},t.asDesktopNotification=function(e){var t,a,i,r,s,n,o,d="",c=e.dir,f=T.default.getGlobalPreviews();!(0,j.getMaybeMeUser)().equals(e.from)&&e.isGroupMsg&&(d=e.displayName());var g=e.safe();switch(g.type){case B.CHAT:if(f)s=Q(e,e.body);else if(e.isGroupMsg)s=d?M.default.t(756,{author:d}):M.default.t(755),d="";else{var m=e.chat;s=M.default.t(757,{unreadCount:M.default.n(m.unreadCount),_plural:m.unreadCount})}break;case B.IMAGE:n=N.default.hasEmoji?"📷 ":"",s=n+(f&&Q(e,e.caption)||M.default.t(1527));break;case B.PRODUCT:n=N.default.hasEmoji?"🛒 ":"",s=n+(e.text&&Q(e,e.text)||M.default.t(1530));break;case B.STICKER:n=N.default.hasEmoji?"💟 ":"",s=n+M.default.t(1531);break;case B.VIDEO:e.isGif?(n=N.default.hasEmoji?"👾 ":"",o=f&&Q(e,e.caption)||"GIF"):(n=N.default.hasEmoji?"🎥 ":"",o=f&&Q(e,e.caption)||M.default.t(1532),o="".concat(o," (").concat(u.default.durationStr(e.duration),")")),s="".concat(n," ").concat(o);break;case B.PTT:n=N.default.hasEmoji?"🎤 ":"",s="".concat(n," ").concat(M.default.t(1533)," (").concat(u.default.durationStr(e.duration),")");break;case B.AUDIO:n=N.default.hasEmoji?"🎵 ":"",s="".concat(n," ").concat(M.default.t(1523)," (").concat(u.default.durationStr(e.duration),")");break;case B.LOCATION:n=N.default.hasEmoji?"📍 ":"",o=e.isLive?f&&Q(e,e.comment)||M.default.t(1528):f&&e.loc||M.default.t(1529),s="".concat(n," ").concat(o);break;case B.GROUPS_V4_INVITE:s=M.default.t(418);break;case B.GROUP_NOTIFICATION:case B.GP2:s=Y(e,!0),d="";break;case B.BROADCAST_NOTIFICATION:s=K(e);break;case B.NOTIFICATION:s=e.body;break;case B.VCARD:n=N.default.hasEmoji?"👤 ":"",s=n+(e.subtype||M.default.t(1524));break;case B.MULTI_VCARD:n=N.default.hasEmoji?"👥 ":"",s=n+(0,A.getNameString)(e.vcardList);break;case B.DOCUMENT:if(e.isVcardOverMmsDocument){n=N.default.hasEmoji?"👤 ":"",s=n+(e.filename||M.default.t(939,{count:e.pageCount,_plural:e.pageCount}));break}n=N.default.hasEmoji?"📄 ":"",s=n+(e.subtype||M.default.t(1526));break;case B.E2E_NOTIFICATION:s=H(g);break;case B.CALL_LOG:s=W(e,!1);break;case B.CIPHERTEXT:s=M.default.t(1093);break;case B.REVOKED:s=e.isSentByMe?M.default.t(1190):M.default.t(1188);break;case B.PAYMENT:s=function(e){var t;if(!e.paymentCurrency||!e.paymentAmount1000)return M.default.t(1662);if("send"!==e.subtype&&"request"!==e.subtype)return M.default.t(420);var a=p.format(e.paymentCurrency,e.paymentAmount1000),i=(0,D.default)(e.sender),r=(0,D.default)(e.paymentMessageReceiverJid),s=h.default.get(e.paymentMessageReceiverJid),n={senderName:i,receiverName:r,amount:a,_plural:e.paymentAmount1000/1e3};t="send"===e.subtype?e.isGroupMsg?s&&s.isMe?M.default.t(1670,n):M.default.t(1671,n):M.default.t(1669,n):e.isGroupMsg?s&&s.isMe?M.default.t(1667,n):M.default.t(1668,n):M.default.t(1666,n);return t}(e);break;case B.OVERSIZED:s=(0,_.formatOversizedMsgNotification)(e);break;case B.UNKNOWN:s=(0,E.formatUnknownMsgNotification)(e);break;case B.LIST:s="".concat((null===(t=e.list)||void 0===t?void 0:t.title)||""," ").concat((null===(a=e.list)||void 0===a?void 0:a.description)||"");break;case B.LIST_RESPONSE:s="".concat((null===(i=e.listResponse)||void 0===i?void 0:i.title)||""," ").concat((null===(r=e.listResponse)||void 0===r?void 0:r.description)||"");break;default:return __LOG__(3)(L(),e.type),""}var b=M.default.isRTL()?"rtl":"ltr",v="";if(v=u.default.relativeStr(e.t),d){var y=l.dir(d);return"ltr"!==b||c&&"ltr"!==c||y&&"ltr"!==y?"ltr"!==b||c&&"ltr"!==c?"ltr"!==b||y&&"ltr"!==y?"ltr"===b?(v&&(v="- ‪".concat(v,"‬‬")),"‫".concat(d,"‏: ").concat(s,"‏").concat(v)):c&&"rtl"!==c||y&&"rtl"!==y?c&&"rtl"!==c?y&&"rtl"!==y?(v&&(v="- ‪".concat(v,"‬‬")),"‪".concat(d,"‎: ").concat(s,"‎").concat(v)):(v&&(v=" - ".concat(v)),"".concat(d,"‏: ‪").concat(s,"‬‏")):(v&&(v=" - ".concat(v)),"‏‪".concat(d,"‬: ").concat(s,"‏")):(v&&(v=" - ".concat(v)),"".concat(d,"‏: ").concat(s,"‏")):(v&&(v=" - ".concat(v)),"".concat(d,"‎: ‫").concat(s,"‬‎")):(v&&(v=" - ".concat(v)),"‎‫".concat(d,"‬: ").concat(s,"‎")):(v&&(v=" - ".concat(v)),"".concat(d,"‎: ").concat(s,"‎"))}return v?"ltr"===b?"".concat(s,"‎‏ - ‪").concat(v,"‬"):"".concat(s,"‏‎ - ‫").concat(v,"‬"):s},t.numberSearch=function(e){return X.test(e)?e.replace(/[^0-9]/g,""):null},t.asSingleLineText=function(e){return Z((0,I.substring)(e||"",0,f.default.INITIAL_PAGE_SIZE).replace(/[\n\r]+/gi," "))},t.replaceMultipleSpaces=Z,t.formatE2ENotificationForDeviceChange=$,t.EMOJIFY_CONFIG=void 0;var s=r(a("cdfdfciehj")),n=r(a("dfadhaifh")),o=r(a("jcfacighg")),d=r(a("cgeeeeddea")),l=i(a("dehfadfiij")),c=r(a("dbdfbgehgj")),u=r(a("cfadcbbiie")),f=r(a("hgigjbgie")),h=r(a("dhigahgdjb")),p=i(a("bjgiedaj")),g=a("chhdedhgfe"),m=a("facgccaif"),b=r(a("daabecicc")),v=r(a("hehfdhhai")),_=a("cdaacjiegb"),E=a("dbcfhhdejc"),j=a("ddbdgibbbi"),y=a("jegbhjbde"),S=r(a("bhbdiadfhj")),C=a("gaifbabbj"),M=r(a("bdjjabfecc")),T=r(a("dagdiahdfi")),P=a("cdejbeiiha"),O=r(a("bfgbdiffgd")),N=r(a("bcjcbbafcj")),I=a("bficeagfg"),A=a("cjjdjbcgjh"),w=r(a("jccfhaecf")),R=r(a("djbfhebjhe")),D=r(a("bcbdbebgci"));function L(){var e=(0,n.default)(["asDesktopNotification: Unrecognized type ",""]);return L=function(){return e},e}function k(){var e=(0,n.default)(["wa:formatGroupNotification:unknown message subtype: ",""]);return k=function(){return e},e}function x(){var e=(0,n.default)(["wa:formatGroupNotification:unknown message subtype: ",""]);return x=function(){return e},e}function G(){var e=(0,n.default)(["formatE2ENotification: receive identity notification of self"]);return G=function(){return e},e}var U=C.Configuration.ComposeBox();t.EMOJIFY_CONFIG=U;var F=C.Configuration.Format({mentions:{}}),B=f.default.MSG_TYPE;function V(e){return e.verifiedLevel===f.default.VERIFIED_LEVEL.HIGH?e.verifiedName:e.formattedName}function H(e){var t,a="";switch(e.subtype){case"identity":if((t=null==e.body?null:h.default.get(e.body))&&t.isMe){__LOG__(4,!1,new Error)(G()),SEND_LOGS("SelfIdentityNotificationError");var i=e.chat;if(i.isUser){var r=i.contact?i.contact.formattedName:(0,R.default)(i.id);a=M.default.t(1712,{contactName:r})}else i.isGroup?a=M.default.t(1611):i.isBroadcast&&(a=M.default.t(1489))}else{var s=t?t.formattedName:(0,R.default)(e.body);a=M.default.t(1712,{contactName:s})}break;case"device":a=$(e);break;case"encrypt":var n=e.id.remote;if(w.default.isGroup(n))a=e.chat.isSupportGroup()?M.default.t(1298):M.default.t(1575);else if(w.default.isBroadcast(n))a=M.default.t(1487);else if(w.default.isOfficialBizAccount(n))a=M.default.t(1648);else if((t=h.default.get(n))&&t.isEnterprise){var o=V(t);a=O.default.bspUi?M.default.t(1509):M.default.t(1510,{businessName:o})}else a=M.default.t(1509);break;case"encrypt_now":a=M.default.t(664)}return a}function W(e,t){var a="";switch(e.subtype){case"miss":a=t?M.default.t(1643,{time:u.default.timestampStr(e.t),_plural:u.default.timestampHour(e.t)}):M.default.t(1642);break;case"miss_video":a=t?M.default.t(1641,{time:u.default.timestampStr(e.t),_plural:u.default.timestampHour(e.t)}):M.default.t(1640);break;case"miss_group":a=t?M.default.t(1639,{time:u.default.timestampStr(e.t),_plural:u.default.timestampHour(e.t)}):M.default.t(1638);break;case"miss_group_video":a=t?M.default.t(1637,{time:u.default.timestampStr(e.t),_plural:u.default.timestampHour(e.t)}):M.default.t(1636)}return a}function K(e){var{subtype:t,body:a,recipients:i}=e;if("create"===t){var r=parseInt(a,10);return M.default.t(1781,{_plural:r,count:r})}if("add"===t){var s=i.length;return M.default.t(1624,{_plural:s,name:(0,y.getFormattedNames)(i,!0)})}if("remove"===t){var n=i.length;return M.default.t(1625,{_plural:n,name:(0,y.getFormattedNames)(i,!0)})}return""}function Y(e,t){var a,i,r="",s=e.get("type"),n=e.get("subtype"),o=e.displayName(),d=e.get("author"),l=e.get("body"),c=""===o||null==o;if("group_notification"===s){var u=(0,j.getMaybeMeUser)();switch(n){case"add":r=w.default.equals(d,u)?M.default.t(1584):M.default.t(1583,{name:o});break;case"remove":r=w.default.equals(d,u)?M.default.t(1596):M.default.t(1595,{name:o});break;case"leave":r=w.default.equals(d,u)?M.default.t(1592):M.default.t(1591,{name:o});break;case"picture":r="remove"===l?w.default.equals(d,u)?M.default.t(1701):M.default.t(1700,{name:o}):w.default.equals(d,u)?M.default.t(1699):M.default.t(1698,{name:o});break;case"subject":r=w.default.equals(d,u)?M.default.t(1614,{subject:l}):c?M.default.t(1613,{subject:l}):M.default.t(1612,{name:o,subject:l});break;case"modify":a=(0,R.default)(e.get("author")),i=(0,R.default)(l),r=a===o?M.default.t(1586,{name:o,new_number:i}):M.default.t(1585,{name:o});break;default:__LOG__(2)(x(),n)}}else if("gp2"===s){var f,p=e.recipients,g=p?(0,y.getFormattedNames)(p,!0):"",m=p?p[0]:void 0,b=m?h.default.get(m):void 0,v=b?b.get("formattedName"):m?(0,R.default)(m):"",_=(0,j.getMaybeMeUser)();switch(n){case"add":r=d?w.default.equals(d,_)?M.default.t(1605,{participants:g}):w.default.equals(m,_)?c?M.default.t(1602):M.default.t(1598,{name:o}):c?M.default.t(1601,{participants:g}):M.default.t(1597,{name:o,participants:g}):w.default.equals(m,_)?M.default.t(1584):M.default.t(1583,{name:v});break;case"remove":r=!w.default.equals(m,_)||!w.default.equals(d,_)&&d?w.default.equals(m,_)&&d?c?M.default.t(1604):M.default.t(1600,{name:o}):w.default.equals(d,_)?M.default.t(1606,{participants:g}):d?c?M.default.t(1603,{participants:g}):M.default.t(1599,{name:o,participants:g}):M.default.t(1595,{name:v}):M.default.t(1596);break;case"leave":r=w.default.equals(m,_)?M.default.t(1592):M.default.t(1591,{name:g});break;case"picture":r="remove"===l?w.default.equals(d,_)?M.default.t(1701):M.default.t(1700,{name:o}):w.default.equals(d,_)?M.default.t(1699):M.default.t(1698,{name:o});break;case"subject":r=w.default.equals(d,_)?M.default.t(1614,{subject:l}):c?M.default.t(1613,{subject:l}):M.default.t(1612,{name:o,subject:l});break;case"modify":a=(0,R.default)(d),i=(0,R.default)(m),r=a===o?M.default.t(1586,{name:o,new_number:i}):M.default.t(1585,{name:o});break;case"create":r=w.default.equals(d,_)?l?M.default.t(1558,{subject:l}):M.default.t(1559):l?c?M.default.t(1557,{subject:l}):M.default.t(1555,{name:o,subject:l}):c?M.default.t(1554):M.default.t(1556,{name:o});break;case"delete":r=M.default.t(1570);break;case"promote":r=1===(f=p.length)&&w.default.equals(m,_)?M.default.t(1594):M.default.t(1593,{participants:g,_plural:f});break;case"demote":r=1===(f=p.length)&&w.default.equals(m,_)?M.default.t(1588):M.default.t(1587,{participants:g,_plural:f});break;case"invite":r=w.default.equals(m,_)?M.default.t(1590):M.default.t(1589,{name:v});break;case"revoke_invite":r=w.default.equals(d,_)?M.default.t(1578):M.default.t(1577,{name:o});break;case"description":var E=t?c?M.default.t(1567):M.default.t(1565,{name:o}):c?M.default.t(1566):M.default.t(1564,{name:o});r=w.default.equals(d,_)?M.default.t(1568):E;break;case"announce":r="on"===l?w.default.equals(d,_)?M.default.t(1553):M.default.t(1552,{name:o}):w.default.equals(d,_)?M.default.t(1551):M.default.t(1550,{name:o});break;case"restrict":r="on"===l?w.default.equals(d,_)?M.default.t(1610):M.default.t(1609,{name:o}):w.default.equals(d,_)?M.default.t(1608):M.default.t(1607,{name:o});break;case"no_frequently_forwarded":r="on"===l?w.default.equals(d,_)?M.default.t(1582):M.default.t(1581,{name:o}):w.default.equals(d,_)?M.default.t(1580):M.default.t(1579,{name:o});break;case"announce_msg_bounce":r=M.default.t(1549);break;case"v4_add_invite_sent":r=M.default.t(1358,{participants:g,_plural:p.length});break;case"v4_add_invite_join":r=M.default.t(1357,{participants:g,_plural:p.length});break;case"ephemeral":return q(parseInt(e.templateParams[0],10)||0,e.templateParams[1],e.id.remote);default:__LOG__(2)(k(),n)}}return M.default.isRTL()&&(r=M.default.forceRTL(r)),r}function q(e,t,a){var i,r;if(!t)return(0,g.getEphemeralSettingChangeByUnknownString)(e);var s=h.default.gadd(t),n=c.default.gadd(a),o=w.default.isUser(a)||(null==n||null===(i=n.groupMetadata)||void 0===i||null===(r=i.participants)||void 0===r?void 0:r.iAmAdmin());if(w.default.equals(t,(0,j.getMaybeMeUser)()))return o?(0,g.getEphemeralSettingChangeByYouAsAdminString)(e):(0,g.getEphemeralSettingChangeByYouString)(e);var d=s&&s.isMyContact?s.formattedName:(0,R.default)(t);return o?(0,g.getEphemeralSettingChangeByOthersAsAdminString)(e,d):(0,g.getEphemeralSettingChangeByOthersString)(e,d)}function z(e){switch(e.subtype){case"ciphertext":return M.default.t(1661);case"futureproof":return M.default.t(1663);case"send":var t=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?p.format(e.paymentCurrency,e.paymentAmount1000):M.default.t(1082))+t;case"request":var a=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.paymentCurrency&&e.paymentAmount1000?p.format(e.paymentCurrency,e.paymentAmount1000):M.default.t(1082))+a;default:return M.default.t(420)}}function Q(e,t){var a=t||"",i=e.mentionMap();if(!i)return J(a);var r=S.default.supportsFeature(S.default.F.RICH_TEXT)?C.Configuration.FormattedNotification({mentions:i}):C.Configuration.RawNotification({mentions:i});return(0,b.default)(a,r,P.UnformatSerializer)}function J(e){return S.default.supportsFeature(S.default.F.RICH_TEXT)?(0,b.default)(e,F,P.UnformatSerializer):e}var X=/^[0-9+()\- ]+$/;function Z(e){return e.match(/\s\s+/g)?e.replace(/\s\s+/g,e=>" ".repeat(e?e.length:0)):e}function $(e,t=!1){(0,d.default)("device"===e.subtype,"Shouldn't call this function if msg is not a device notification msg");var a,i=e.body?h.default.get(e.body):null,r=1===e.devicesAdded&&0===e.devicesRemoved,s=0===e.devicesAdded&&1===e.devicesRemoved,n=!r&&!s;if(i&&i.isMe){var o=e.chat;if(o.isUser){var l=o.contact.formattedName;t?r?a=e.isThisDeviceAdded?M.default.t(1483,{contactName:l}):M.default.t(1481,{contactName:l}):s?a=M.default.t(1708,{contactName:l}):n&&(a=M.default.t(1502,{contactName:l})):a=M.default.t(1712,{contactName:l})}else o.isGroup?t?r?a=e.isThisDeviceAdded?M.default.t(1547):M.default.t(1482):s?a=M.default.t(1709):n&&(a=M.default.t(1503)):a=M.default.t(1611):o.isBroadcast&&(t?r?a=e.isThisDeviceAdded?M.default.t(1485):M.default.t(1480):s?a=M.default.t(1707):n&&(a=M.default.t(1501)):a=M.default.t(1489))}else{var c=e.body,u=null==c?null:h.default.get(c),f=u?u.formattedName:(0,R.default)(c);t?r?a=M.default.t(1478,{contactName:f}):s?a=M.default.t(1706,{contactName:f}):n&&(a=M.default.t(1500,{contactName:f})):a=M.default.t(1712,{contactName:f})}return(0,d.default)(null!=a,"text shouldn't be null in the end"),a}},dgjdhjcbbf:function(e,t){e.exports={container:"_1qZ6m"}},dgjfacgbhc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddbbigfbec")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("bbaacgghch")),l=r(a("ddajbaceej")),c=r(a("dhfbfehaef")),u=r(a("hhijjbdc")),f=r(a("cidbhiefbi")),h=r(a("ebddggeaib"));class p extends o.Component{constructor(...e){super(...e),this.state={isKeyboardUser:!1},this._setRef=e=>{this._ref=e,this.props.onRef(e)},this._setMouseUser=()=>{this.state.isKeyboardUser&&this.setState({isKeyboardUser:!1})},this._setKeyboardUser=()=>{this.state.isKeyboardUser||this.setState({isKeyboardUser:!0})},this._rotateFocus=e=>{if(this._setKeyboardUser(),this._ref){var t=1;e&&(e.preventDefault(),t=e.shiftKey?-1:1,d.default.shouldIndicateFocus());var a=Array.from(this._ref.querySelectorAll("[data-tab]"));if((a=this.props.getVisibleDOMNodes(a)).length){a=(0,s.default)(a,e=>parseInt(e.getAttribute("data-tab"),10)||0);var i=0,r=document.activeElement;r&&(i=(0,u.default)(a,a.findIndex(e=>e.contains(r))+t));var n=a[i];d.default.shouldIndicateFocus(),n.restoreFocus?n.restoreFocus():l.default.focus(n)}}}}componentDidMount(){var{listeners:e}=this.props;l.default.focus(this._ref),e.add(window,"mousedown",()=>{this._setMouseUser()}),e.add(window,"blur",()=>{this._setMouseUser()})}render(){var{className:e,children:t,onBlur:a}=this.props,{isKeyboardUser:i}=this.state,r=(0,n.default)(e,{"keyboard-user":i}),s={up:this._setKeyboardUser,down:this._setKeyboardUser,home:this._setKeyboardUser,end:this._setKeyboardUser,"command+up":this._setKeyboardUser,"command+down":this._setKeyboardUser,pageUp:this._setKeyboardUser,pageDown:this._setKeyboardUser,tab:this._rotateFocus,"shift+tab":this._rotateFocus,"shift+?":this.props.onShowKeyboardShortcuts};return o.createElement(c.default,{handlers:s,className:r,onBlur:a,onRef:this._setRef},o.createElement(f.default.Provider,{value:i},t))}}var g=(0,h.default)(p);t.default=g},dgjfhfaeci:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("bhicbecjj")),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=r(a("gfebgebbi")),f=r(a("bdjjabfecc")),h=r(a("ecdffdifib")),p=r(a("deeafjfccb")),g=r(a("hfebefdji")),m=r(a("djbjbbceib")),b=r(a("jcacjdahc")),v=r(a("dhefcajhhb")),_=r(a("dcdbbhicce")),E=a("cjjdjbcgjh");class j extends n.PureComponent{constructor(e){super(e),this._getUnsortedVcardDisplayDataMemo=(0,h.default)(({vcardList:e})=>e.map(({displayName:e,parsedVcard:t})=>({displayName:e,wids:(0,E.vcardWids)(t),thumbnail:(0,E.vcardThumbnail)(t)}))),this._showContactsModal=()=>{var{vcardList:e}=this.props;if(e){var t=e.map(e=>e.parsedVcard);l.default.openModal(n.createElement(m.default,{vcards:t}))}},this.state={loading:!0,sortedVcardData:null,vcardList:e.vcardList}}componentDidMount(){this._loadProfilePics()}static getDerivedStateFromProps(e,t){return t.vcardList!==e.vcardList?{loading:!0,sortedVcardData:null,vcardList:e.vcardList}:null}componentDidUpdate(e){e.vcardList!==this.props.vcardList&&this._loadProfilePics()}_getUnsortedVcardDisplayData(){return this._getUnsortedVcardDisplayDataMemo({vcardList:this.props.vcardList})}_loadProfilePics(){var e=this.props.vcardList,t=this._getUnsortedVcardDisplayData(),a=[].concat(...t.map(({wids:e})=>e)).slice(0,10);Promise.all(a.map(e=>v.default.find(e))).delay(0).then(()=>{var a;this.props.vcardList===e&&this.setState({loading:!1,sortedVcardData:(a=t,[...a].sort((e,t)=>{var a=S(e),i=S(t);return a&&!i?-1:!a&&i?1:e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0}))})})}_renderProfilePics(e){for(var t=Math.min(e.length,3),a=[],i=0;i<t;i++){var{wids:r,thumbnail:s}=e[i],o=v.default.findThumbnailWid(r);this.state.loading||!o&&!s?a.push(n.createElement("div",{className:g.default.image,key:"default-pic-".concat(i)},n.createElement(b.default,{size:39,border:!0}))):a.push(n.createElement("div",{className:g.default.image,key:"profile-pic-".concat(i)},n.createElement(b.default,{wid:o,thumb:s,size:39,border:!0})))}return a}render(){var{msg:e}=this.props,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?n.createElement("div",{className:g.default.author},n.createElement(o.default,{msg:e.unsafe(),contact:e.senderObj})):null,a=this.state.sortedVcardData||this._getUnsortedVcardDisplayData(),i=a.map(({displayName:e})=>e),r=(0,E.getNameStringFromNames)(i),l=this._renderProfilePics(a),h=this.props.vcardList||e.chat.isTrusted(),m=this.props.quotedMsg?n.createElement("div",{className:g.default.quote},this.props.quotedMsg):null,b=(0,s.default)(g.default.bubble,{[g.default.hasAuthor]:t,[g.default.hasQuote]:m,[g.default.isPreview]:this.props.displayType===c.default.DISP_TYPE.MSG_INFO,[g.default.isGallery]:this.props.displayType===c.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===c.default.DISP_TYPE.GALLERY});return n.createElement("div",{className:b},t,m,n.createElement("div",{className:g.default.vcard,role:h?"button":null,title:r,onClick:this._showContactsModal},n.createElement("div",{className:g.default.avatar},l),n.createElement("div",{className:g.default.body},n.createElement(u.default,{text:r,element:"div",className:g.default.name,dirMismatch:e.rtl!==f.default.isRTL(),direction:e.dir,wbr:15})),n.createElement("div",{className:g.default.meta},n.createElement(p.default,{msg:e}))),n.createElement(d.default,{items:[{label:f.default.t(941),onClick:this._showContactsModal}]}))}}j.CONCERNS={msg:["rtl","dir","senderObj","isSentByMe","isGroupMsg","chat"]};var y=(0,_.default)(j,j.CONCERNS);function S(e){return Boolean(v.default.findThumbnailWid(e.wids)||e.thumbnail)}t.default=y},dgjifchfde:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.shutdownAsNeeded=function(){E.forEach((e,t)=>{C(E,t)}),j.forEach((e,t)=>{C(j,t)})},t.showCallNotification=function(e,t,a){if(!e||!t||h.default.globalMute().isMuted)return;if(window.Notification&&window.Notification.permission===n.default.PERMISSION_ALLOWED&&h.default.getGlobalNotifications()){var i=o.default.get(e),r=i?i.formattedName:(0,v.default)(e),s=a?f.default.t(770,{name:r}):f.default.t(771,{name:r}),d=f.default.t(769);y(j,e,t,s,d,n.default.USER_DEFAULT_ICON)}h.default.getGlobalSounds()&&(j.get(e.toString())||Promise.resolve()).then(p.playNotification).catch(()=>{})},t.showMsgNotification=function(e){var t=e.chat;if(document.hasFocus()&&t.active)return;if(h.default.globalMute().isMuted)return;if(function(e){var t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;var a=(0,c.getMaybeMeUser)();if(e.isMentioned(a)||e.isQuoted(a)){var i=s.default.get(e.sender);return!0===(null==i?void 0:i.mute.isMuted)}return!0}(e))return;if(function(e){var t=e.chat;if(!b.default.enhancedArchive)return!1;if(!t.archive)return!1;if(!t.isGroup)return!0;var a=(0,c.getMaybeMeUser)();if(e.isMentioned(a)||e.isQuoted(a)){var i=s.default.get(e.sender);return!0===(null==i?void 0:i.mute.isMuted)}return!0}(e))return;if(function(e){if(!e.isGroup)return!1;if(e.isGroup&&e.isReadOnly)return!1;var t=Date.now(),a=e.squelch||0;if(t>a)return u.default.find(e.id).then(()=>{var t=u.default.get(e.id);if(t){var a=t.participants.length,i=1e3*Math.min(120,30+5*a);e.squelch=Date.now()+i}}).catchType(d.WebdDrop,(function(){e.squelch=Date.now()+6e4})),!1;return!0}(e.chat))return;if(window.Notification&&window.Notification.permission===n.default.PERMISSION_ALLOWED&&h.default.getGlobalNotifications()){var a=(0,l.asDesktopNotification)(e);a&&a.charCodeAt(0)>=128&&(a=" "+a);var i=t.isGroup?n.default.GROUP_DEFAULT_ICON:n.default.USER_DEFAULT_ICON,r=t.isGroup?f.default.t(485):f.default.t(484),o=t.contact.formattedName||r;y(E,t.id,e.id.toString(),o,a,i,t.canSend)}h.default.getGlobalSounds()&&(t.id&&E.get(t.id.toString())||Promise.resolve()).then(p.playNotification).catch(()=>{})},t.cancelCallNotification=function(e){e&&C(j,e.toString())},t.closeNotifications=function(e){if(!e||!e.id)return;C(E,e.id.toString()),C(j,e.id.toString())};var r=i(a("dfadhaifh")),s=i(a("dbdfbgehgj")),n=i(a("hgigjbgie")),o=i(a("dhigahgdjb")),d=a("bgihjbde"),l=a("dgjddffcfg"),c=a("ddbdgibbbi"),u=i(a("djaadchjch")),f=i(a("bdjjabfecc")),h=i(a("dagdiahdfi")),p=a("ihfbgdebe"),g=i(a("dhfjegifba")),m=i(a("dhefcajhhb")),b=i(a("bfgbdiffgd")),v=i(a("djbfhebjhe"));function _(){var e=(0,r.default)(["NotificationBackend:IconLoadTimeoutError:",""]);return _=function(){return e},e}var E=new Map,j=new Map;function y(e,t,a,i,r,s,o){var l=m.default.find(t).cancellable().timeout(1500,"showNotificationTimeout").then((function(e){var t=e&&e.img?e.img:s;return(0,p.cachePath)(t)})).catchTypes(d.WebdDrop,Promise.TimeoutError,(function(){return __LOG__(2)(_(),t.toString()),(0,p.cachePath)(s)})).then(s=>{if(window.Notification.permission!==n.default.PERMISSION_ALLOWED)return Promise.reject(new Promise.CancellationError("Permission Denied"));var d=new g.default(t,a,i,r,s,o);return d.waitForClose().then(()=>{S(e,t,d)}),d});return l.catchType(Promise.CancellationError,(function(){S(e,t)})),e.set(t.toString(),l),l}function S(e,t,a){var i=e.get(t.toString());if(i){if(a){if(i.isFulfilled()&&a!==i.value())return;if(i.isPending())return}e.delete(t.toString())}}function C(e,t){var a=e.get(t);if(a){if(a.isFulfilled())a.value().close();else a.cancel();e.delete(t)}}},dhaaddeehg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cagaiadjai")),o=i(a("ccbgfecegc")),d=i(a("dgfjacgibh")),l=i(a("jheedhagg")),c=i(a("cbedabhaa")),u=i(a("dcdbbhicce")),f=i(a("dicdfafccb"));class h extends s.PureComponent{constructor(...e){super(...e),this.onViewContact=()=>{o.default.openDrawerRight(s.createElement(d.default,{chat:this.props.chat}),"slide-left",this.props.uim)}}render(){var{chat:e,dismissVcardPanel:t}=this.props,a=e.receivedVcardMsgs;return s.createElement("div",{className:f.default.vcard},s.createElement(c.default,{id:634,plural:a.length}),s.createElement("div",{className:f.default.controls},s.createElement(n.default,{onClick:this.onViewContact,type:"plain-white"},s.createElement(c.default,{id:1386,plural:a.length})),s.createElement(n.default,{onClick:t,type:"plain-white"},s.createElement(c.default,{id:1049}))))}}h.CONCERNS={chat:["receivedVcardMsgs"]};var p=(0,l.default)((0,u.default)(h,h.CONCERNS));t.default=p},dhadcigcaf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GLOBAL_MUTE=void 0;var s=r(a("dfadhaifh")),n=r(a("dgdjiicfdg")),o=i(a("ddhijeejag")),d=a("dheeaichcj"),l=r(a("djheacfeif")),c=i(a("dcaifjegcg")),u=r(a("ccbgfecegc")),f=i(a("cajijabhgb")),h=r(a("bdjjabfecc")),p=a("deiacadcaf"),g=r(a("bfgbdiffgd")),m=a("hjbbdjjdf"),b=r(a("jccfhaecf"));function v(){var e=(0,s.default)(["models:Mute:unmute dropped"]);return v=function(){return e},e}function _(){var e=(0,s.default)(["models:Mute:unmute ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["models:Mute:mute dropped"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["models:Mute:mute "," duration:",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["models:Mute:mute "," muted, no expiration"]);return y=function(){return e},e}function S(){var e=(0,s.default)(["models:Mute:mute called with wrong units?"," exp:",""]);return S=function(){return e},e}function C(){var e=(0,s.default)(["models:Mute:mute called with invalid expiration ",""]);return C=function(){return e},e}t.GLOBAL_MUTE="global_mute";class M extends c.default{constructor(...e){super(...e),this.id=(0,c.prop)(),this.expiration=(0,c.prop)(0),this._unmuteTimer=(0,c.session)(),this.promises=(0,c.session)((function(){return{}})),this.isMuted=(0,c.derived)(this._isMuted,["expiration"])}_isMuted(){return!!this.expiration}initialize(){super.initialize(),null!=this.expiration&&0!==this.expiration&&this.mute(this.expiration)}setMute(e,t){(e||this.expiration)&&e!==this.expiration&&(e?this.mute(e,t):this.unmute(t))}mute(e,t,a){var i=e;if(!(0,m.isNumber)(i))return __LOG__(2)(C(),i),Promise.reject(new f.ActionError);(i=Math.round(i))>2e9&&__LOG__(2)(S(),this.id.toString(),i);var r=function(){if(this.isMuted&&(l.default.clearTimeout(this._unmuteTimer),this.unset("_unmuteTimer")),-1===i)__LOG__(2)(y(),this.id.toString());else{var e=i-(0,n.default)().unix();__LOG__(2)(j(),this.id.toString(),e),this._unmuteTimer=l.default.setGlobalTimeout(this.unmute.bind(this),1e3*i)}this.set({expiration:i})}.bind(this),s=b.default.isGroup(this.id);if(t){if(this.promises.mute)return this.promises.mute;var c=this.promises.mute=(0,p.sendConversationMute)(this.id,i,this.expiration),g=s?new d.ActionType(h.default.t(94)):new d.ActionType(h.default.t(49)),v=a||(0,d.genId)(),_=this.promises.mute.catch(()=>{__LOG__(3)(E());var e=s?h.default.t(92):h.default.t(47);throw new d.ActionType(e,h.default.t(174),this.mute.bind(this,i,t,v))}).then(e=>{if(200===e.status){var a=s?h.default.t(93):h.default.t(48);return new d.ActionType(a,h.default.t(178),this.unmute.bind(this,t,v))}if(e.status>=400)throw s?new d.ActionType(h.default.t(92)):new d.ActionType(h.default.t(47))});return u.default.openToast(o.createElement(d.ActionToast,{id:v,initialAction:g,pendingAction:_})),c.then((function(e){200!==e.status||e._duplicate||r()})).finally(()=>{this.promises.mute=null})}return r(),Promise.resolve()}canMute(){var e=!1;if(b.default.isGroup(this.id)){var t=a("djaadchjch").default.get(this.id);t&&(e=t.participants.iAmMember())}if(g.default.enhancedArchive&&a("dbdfbgehgj").default.assertGet(this.id).archive)return!1;return e||b.default.isUser(this.id)}_clearUnmuteTimer(){l.default.clearTimeout(this._unmuteTimer),this.unset("_unmuteTimer"),this.expiration=0}unmute(e,t){var a=function(){__LOG__(2)(_(),this.id.toString()),this._clearUnmuteTimer()}.bind(this),i=b.default.isGroup(this.id);if(e){if(this.promises.unmute)return this.promises.unmute;var r=this.promises.unmute=(0,p.sendConversationMute)(this.id,0,this.expiration),s=i?new d.ActionType(h.default.t(101)):new d.ActionType(h.default.t(60)),n=t||(0,d.genId)(),l=this.promises.unmute.catch(()=>{__LOG__(3)(v());var t=i?h.default.t(99):h.default.t(58);return Promise.reject(new d.ActionType(t,h.default.t(174),this.unmute.bind(this,e,n)))}).then(e=>{if(200===e.status)return i?new d.ActionType(h.default.t(100)):new d.ActionType(h.default.t(59));if(e.status>=400)throw i?new d.ActionType(h.default.t(99)):new d.ActionType(h.default.t(58))});return u.default.openToast(o.createElement(d.ActionToast,{id:n,initialAction:s,pendingAction:l})),r.then((function(e){200!==e.status||e._duplicate||a()})).finally(()=>{this.promises.unmute=null})}return a(),Promise.resolve()}delete(){super.delete(),this.getCollection().remove(this.id),this._clearUnmuteTimer()}getCollection(){return a("dagdiahdfi").default}}M.Proxy="mute",M.idClass=b.default,M.allowedIds=["global_mute"];var T=(0,c.defineModel)(M);t.default=T},dhajdfhjdc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=a("eajdbbfgfg"),d=r(a("cfafcfbaej")),l=r(a("bfgbdiffgd")),c=r(a("dcdbbhicce"));class u extends n.PureComponent{render(){var{children:e,className:t,msg:a}=this.props;if(!a)return n.createElement(n.Fragment,null,e);var i=[a.broadcast,a.isEphemeral&&l.default.ephemeralMessages,a.isSentByMe,a.labels&&a.labels.length&&(0,o.canDisplayLabel)(),a.star].filter(Boolean).length,r=[d.default.icons1,d.default.icons2,d.default.icons3,d.default.icons4],c=i>0?r[i-1]:"";return n.createElement("span",{className:t},e,n.createElement("span",{className:(0,s.default)(d.default.spacer,c)}))}}u.CONCERNS={msg:["broadcast","isEphemeral","isSentByMe","labels","star"]};var f=(0,c.default)(u,u.CONCERNS);t.default=f},dhbeaehhef:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("ebjaejiaba"),o=i(a("dgebcfedgb")),d=i(a("bdjjabfecc")),l=i(a("dcdbbhicce"));class c extends s.PureComponent{render(){var e;switch(this.props.chat.kind){case n.CHAT_KIND.GROUP:e=this.props.chat.isReadOnly?d.default.t(1536):d.default.t(1543);break;case n.CHAT_KIND.BROADCAST:e=d.default.t(1538);break;case n.CHAT_KIND.CHAT:e=d.default.t(489)}return s.createElement(o.default,{a8n:"mi-delete",action:this.props.onDeleteOrExit,disabled:this.props.disabled},e)}}c.CONCERNS={chat:["isReadOnly","kind"]};var u=(0,l.default)(c,c.CONCERNS);t.default=u},dhbjadiajj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("jigjfjjij")),d=r(a("bacefjjjdb")),l=r(a("hgigjbgie")),c=a("bgddggdhc"),u=a("dhegcfddhg"),f=r(a("bhbcdbjdeg")),h=r(a("dcjigehfeb")),p=r(a("ddbeaiefad")),g=r(a("chihecbaj")),m=r(a("bdcchebfge")),b=r(a("difhgjjfcb")),v=r(a("dcdbbhicce")),_=r(a("cgjdibiahi"));class E extends n.PureComponent{constructor(...e){super(...e),this.state={zoomIn:null},this.onImageClick=e=>{if(e.stopPropagation(),this.state.zoomIn)this.cancelZoomIn();else{var t=(0,c.forbiddenAssertDOMNode)(this.image);if(t&&t.parentNode&&t.parentNode.parentNode){var a=t.parentNode,i=a.parentNode;this.heightOverflow=a.clientHeight*l.default.MEDIA_VIEWER.ZOOM_IN_FACTOR-i.clientHeight,this.widthOverflow=a.clientWidth*l.default.MEDIA_VIEWER.ZOOM_IN_FACTOR-i.clientWidth;var{translateX:r,translateY:s}=this.getTranslatePosition(i,e.pageX,e.pageY);this.props.onImgZoomIn(!0),this.setState({zoomIn:{factor:l.default.MEDIA_VIEWER.ZOOM_IN_FACTOR,translateX:r,translateY:s}})}}},this.cancelZoomIn=()=>{this.props.onImgZoomIn(!1),this.setState({zoomIn:null})},this.getTranslatePosition=(e,t,a)=>{var i=window.innerWidth/2-t,r=window.innerHeight/2-a;return{translateX:this.widthOverflow>0?Math.round(1.2*i*this.widthOverflow/e.clientWidth):0,translateY:this.heightOverflow>0?Math.round(1.2*r*this.heightOverflow/e.clientHeight):0}},this._renderBlurredImage=()=>n.createElement(d.default,{altText:"",mediaData:this.props.mediaData}),this._renderImage=e=>{var{zoomIn:t}=this.state,a=(0,s.default)(p.default.mediaViewerImg,{[p.default.cursorZoomIn]:!t});return n.createElement(f.default,{src:e,ref:(0,u.GetRef)("image",this),onClick:this.onImageClick,style:this.props.style,className:a})}}componentDidMount(){this.props.msg&&this.props.msg.downloadMedia(!0,m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}componentWillUnmount(){this.props.msg&&this.props.msg.mediaObject&&this.props.msg.cancelDownload()}render(){var{mediaData:e}=this.props;switch(e.mediaStage){case h.default.STAGE.DECRYPTING:if(null==e.progressiveStage)return this._renderBlurredImage();break;case h.default.STAGE.RESOLVED:case h.default.STAGE.PROGRESSIVE_READY:break;default:return this._renderBlurredImage()}var t,a={width:e.fullWidth,height:e.fullHeight},{msg:i}=this.props;return t=i?n.createElement("div",{className:p.default.mediaViewerImg,ref:(0,u.GetRef)("image",this)},n.createElement(g.default,{mediaData:e,placeholderRenderer:this._renderBlurredImage,downloadMedia:()=>i.downloadMedia(!0,m.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER),renderProgressively:!0},this._renderImage),i&&i.interactiveAnnotations&&i.interactiveAnnotations.length>0&&n.createElement(o.default,{annotations:i.interactiveAnnotations,onTooltipDisplay:this.props.onAnnotationTooltipDisplay,onTooltipDismiss:this.props.onAnnotationTooltipDismiss})):this._renderImage(e.renderableUrl),this.state.zoomIn&&(t=n.createElement(_.default,{displayName:"ZoomInImage",ref:(0,u.GetRef)("image",this),escapable:!0,requestDismiss:this.cancelZoomIn},t)),n.createElement(b.default,{type:"zoomIn",size:a,position:"relative",objectPosition:"relative",zoomIn:this.state.zoomIn,onObjectLoad:this.props.onLoad},t)}}E.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","renderableUrl","progressiveStage"]};var j=(0,v.default)(E,E.CONCERNS);t.default=class extends j{get heightOverflow(){return this.getComponent().heightOverflow}get widthOverflow(){return this.getComponent().widthOverflow}get image(){return this.getComponent().image}onImageClick(e){return this.getComponent().onImageClick(e)}getTranslatePosition(e,t,a){return this.getComponent().getTranslatePosition(e,t,a)}}},dhcbjigadb:function(e,t){e.exports={cancelIcon:"KMSUm",inputContainer:"iHaMv",inputEmojiSearch:"_2SBoE",searchRow:"mBpSq",ffFix:"_2NC5D",rowShadow:"_2irZL",rowInput:"_2eYuy"}},dhcegagahg:function(e,t){e.exports={closeBtn:"_1mPXc",fullscreen:"VkwjW"}},dhcjhicfbb:function(e,t){e.exports={"-open-menu-width":"110px",openMenuWidth:"110px",menu:"nw8RZ",button:"_16P6V",open:"_3c42S",full:"_1isZ2",closeButton:"_3ajGs",firstButton:"_2gB8p",secondButton:"SFLJ9",thirdButton:"_3x5p4"}},dhdifdcjcd:function(e,t){e.exports={"-emoji-width":"44px",emojiWidth:"44px",panel:"_3PX6A"}},dheeaichcj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.genId=function(e){return(0,s.default)(e||"action_toast")},t.ActionToast=t.ActionType=t.ToastPosition=void 0;var s=r(a("cifjgjcead")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("diffaiehid")),l=a("bjhgigfbec"),c={LEFT:"LEFT",RIGHT:"RIGHT"};t.ToastPosition=c;t.ActionType=class{constructor(e,t,a){if(!e)throw new Error("ActionType must have text!");if(t&&!a||a&&!t)throw new Error("ActionType must have an action and a handler or have neither.");this.text=e,this.action=t,this.handler=a}};class u extends n.Component{constructor(...e){super(...e),this.state={currentInitialAction:this.props.initialAction,actionType:this.props.initialAction,pending:!0},this.actionPromise=null,this.onAction=()=>{this.state.actionType&&this.state.actionType.handler&&this.state.actionType.handler().catch(()=>{})},this.onDismiss=()=>{o.default.closeToast(this)}}static getDerivedStateFromProps(e,t){var a=e.initialAction;return a!==t.currentInitialAction?{currentInitialAction:a,actionType:a,pending:!0}:null}componentDidMount(){this.runAction(this.props.pendingAction)}componentDidUpdate(e){e.pendingAction!==this.props.pendingAction&&this.runAction(this.props.pendingAction)}runAction(e){var t={};this.actionPromise&&this.actionPromise.control.cancel(),this.actionPromise=e.addRejectControl("cancel",()=>t).then(e=>{this.setState({actionType:e,pending:!1})}).catchConditional(e=>e!==t,e=>{this.setState({actionType:e,pending:!1})}).delay(this.props.settleDuration).addRejectControl("cancel",()=>t).then(()=>{o.default.closeToast(this)}).catchConditional(e=>e===t,()=>{}).endWithControls("cancel")}render(){var e,t,{actionType:a}=this.state;return a?(a.action&&a.handler&&(t=n.createElement(l.ToastActionBtn,{buttonText:a.action,onClick:this.onAction})),this.state.pending||(e=n.createElement(l.ToastDismissBtn,{onClick:this.onDismiss})),n.createElement(l.ToastBody,{toastPosition:this.props.toastPosition,actionText:a.text,actionBtn:t,dismissBtn:e})):null}}u.defaultProps={settleDuration:5e3,toastPosition:c.LEFT};var f=(0,d.default)(u);t.ActionToast=f},dhefcajhhb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProfilePicThumbCollection=void 0;var s=r(a("dfadhaifh")),n=r(a("bebajedcaf")),o=i(a("cgcgbfbffj")),d=r(a("bjigbaghc")),l=a("bgihjbde"),c=i(a("cajijabhgb")),u=a("ddbdgibbbi"),f=r(a("bhbdiadfhj")),h=r(a("edjgaiicj")),p=a("dfdjejggdf"),g=a("biahggehgf"),m=r(a("igdjeffe")),b=a("cjjdjbcgjh"),v=r(a("jccfhaecf")),_=a("dcbdjheea");function E(){var e=(0,s.default)(["ProfilePicThumbStore:resyncPictures dropped: ",""]);return E=function(){return e},e}function j(){var e=(0,s.default)(["ProfilePicThumbStore:resyncPictures dropped: ",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["ProfilePicThumbStore:resyncPictures blocked ",""]);return y=function(){return e},e}function S(){var e=(0,s.default)(["ProfilePicThumbStore:resyncPictures success"]);return S=function(){return e},e}function C(){var e=(0,s.default)(["models:profilePic:cache-save: ",""]);return C=function(){return e},e}class M extends o.default{get(e){var t=super.get(e);if(!this.modelClass.prototype.isIdType(e))return t;var a=super.get((0,h.default)(e.toString()));if(a){if(this.remove(a,{silent:!0}),t&&t.tag)return t;var i=a.toJSON();return i.id=e,this.add(i,{silent:!0,merge:!0})[0]}return t||void 0}saveToCache(){if(d.default.shouldSaveToCache()){var e=M.cachePolicy.id,t=this.filter(e=>v.default.isWid(e.id)&&!!e.eurl&&!!e.token);t=t.map((function(e){var t=e.toJSON();return t.id=(0,h.default)(t.id.toString()),t})),__LOG__(2)(C(),String(e)),(0,u.setCollection)(e,t)}}initializeFromCache(e){if(this.length&&e){var t=this.reduce((e,t)=>(e[(0,h.default)(t.id.toString())]=t.id.toString(),e),new Object);if(!(0,n.default)(t)){var a=e.reduce((e,a)=>(t[a.id]&&(a.id=(0,_.createWid)(t[a.id]),a.stale=!0,a.token&&e.push(a)),e),[]);this.add(a,{merge:!0})}}}onResume(){var e=this.filter(e=>{var t=a("dbdfbgehgj").default.get(e.id);return e.hasObservers()&&e.stale&&(v.default.isUser(e.id)||v.default.isGroup(e.id))&&!(t&&t.isReadOnly)}).map(e=>(e.tag||e.unset("tag",{silent:!0}),e));this.resyncPictures(e)}_find(e){var t=a("dbdfbgehgj").default.get(e);if(t&&t.isReadOnly)return f.default.supportsFeature(f.default.F.MD_BACKEND)?Promise.resolve({id:e,stale:!0}):(0,g.profilePicFindThumbFromPhone)(e,this.get(e)).then(e=>(e.tag||e.raw||(e.eurl=null,e.tag=null,e.raw=null,e.eurlStale=!1),e)).catchType(c.ProtoVersionUndefined,()=>({id:e,stale:!0}));if(v.default.isUser(e)||v.default.isGroup(e)){var i={id:e};return(0,g.profilePicFind)(e).then(e=>(i.tag=e.tag,i.raw=null,i.eurl=e.eurl,i.eurlStale=!1,i.token=e.token,f.default.supportsFeature(f.default.F.MD_BACKEND),i)).catchType(l.ServerStatusCodeError,e=>{switch(e.status){case 401:i.tag="",i.raw=void 0;break;case 423:case 429:i.stale=!0;break;default:i.tag=null,i.eurl=null,i.eurlStale=!1}return Promise.resolve(i)}).catchType(l.WebdDrop,(function(){return{id:e,stale:!0}}))}return Promise.resolve({id:e,tag:null})}imageChanged(e,t){var a=this.get(e);a&&(t===p.PROFILE_PIC_COMMAND.REMOVE?a.set({tag:void 0,eurl:void 0}):t!==p.PROFILE_PIC_COMMAND.SET&&a.tag===t||this.update(a.id).catchType(l.WebdDrop,()=>{}))}resyncPictures(e){return 0===e.length?Promise.resolve():(0,g.profilePicResync)(e.map((function(e){return{id:e.id,tag:e.tag}}))).then(t=>{__LOG__(2)(S()),t.forEach(t=>{var a=this.get(t.id);a&&a.set({tag:t.tag,token:t.token,raw:void 0,stale:!1,eurl:t.eurl,eurlStale:!1}),e.forEach(e=>{e.eurlStale&&this.update(e.id)}),e.forEach(e=>{e.stale=!1})})}).catchType(l.WebdDrop,()=>{}).catchType(l.ServerStatusCodeError,e=>{423===e.status||429===e.status?__LOG__(3)(y(),e.status):e.status>=400&&__LOG__(3)(j(),String(e))}).catch((function(e){__LOG__(3)(E(),String(e))}))}findThumbnailWid(e){return e.find(e=>{var t;return null===(t=this.get(e))||void 0===t?void 0:t.img})}getThumbnailWidFromVcard(e){if(!e)return null;var t=(0,b.vcardWids)(e);if(t){var a=this.findThumbnailWid(t);return a||(t.length?t[0]:null)}}}t.ProfilePicThumbCollection=M,M.model=m.default,M.staleCollection=!0,M.resumeOnAvailable=!0,M.cachePolicy={id:"profile_pic_thumb",trigger:"change:tag change:raw",policy:o.CACHE_POLICY.LOAD,delay:5e3};var T=new M;t.default=T},dhefebafbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CartCollection=void 0;var s=r(a("cgcgbfbffj")),n=i(a("ccgibcaehh"));class o extends s.default{constructor(e,t){super(),this.width=80,this.height=80,null!=e&&(this.width=e),null!=t&&(this.height=t)}findCart(e){return this.gadd(e)}}t.CartCollection=o,o.model=n.default,o.cachePolicy={id:"cart_collection",policy:s.CACHE_POLICY.LOAD,delay:2e3};var d=new o;t.default=d},dhegibaccd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,s.default)(d.default.container,{[d.default.isChecked]:e.checked,[d.default.gallery]:"gallery"===e.msgTheme});return n.createElement("div",{className:t,onClick:e.onClick},n.createElement(o.default,{onChange:e.onClick,checked:e.checked,theme:e.theme}))};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("daghjjjedc")),d=r(a("idjjacjfe"))},dhfjdaeheb:function(e,t){e.exports={container:"_2bRZn",isQuoted:"_2bv9e",name:"_1RWrl"}},dhfjegifba:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("jhddfhjhh")),s=i(a("djegeegcbf")),n=i(a("edbaidcaf"));class o extends r.default{constructor(e,t,a,i,r){super(e,t,{title:s.default.normalizeAllEmojis(a),notification:window.Notification,body:s.default.normalizeAllEmojis(i),icon:n.default.relToAbs(r)})}}t.default=o},dhgbabghaf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.enrich=function(e,t){var a;switch((0,s.previewType)(t)){case"pdf":a=d(e);break;case"msoffice":a=Promise.resolve();break;default:a=Promise.resolve()}return a.timeout(3e3,"Document enrichment timeout").catch(()=>null)},t.enrichPdf=d;var r=i(a("dfadhaifh")),s=a("cedhgehjef"),n=i(a("bbegjdfcja"));function o(){var e=(0,r.default)(["pdf preview generation failed"]);return o=function(){return e},e}function d(e){var t;return n.default.fileToPdf(e).then(e=>(t=e,n.default.pdfToImg(e,1))).catch(()=>(__LOG__(2)(o()),null)).finally(()=>{t&&n.default.releasePdf(t)})}},dhggbbghfb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handle=function([e]){switch(e.type){case"const":d.default[e.key]=e.value;break;case"read":if(e.isStatus){g.default.handle([e]);break}case"unread":var t=n.default.get(e.jid);t&&("read"===e.type?(0,m.markSeen)(t):"unread"===e.type&&(0,m.markUnseen)(t));break;case"log":o.upload({reason:"server-requested",immediate:!0,force:!0,isHighPri:!0});break;case"privacy":if(e.jid){var a=f.default.get(e.jid);a&&a.reset(),h.default.update(e.jid).catchType(c.WebdDrop,()=>{}),p.default.update(e.jid).catchType(c.WebdDrop,()=>{})}else __LOG__(3)(E());break;case"identity":if(e.jid){var i=l.default.get(e.jid);i?(0,u.updateIdentity)(i,e):__LOG__(3)(_())}else __LOG__(3)(v());break;default:__LOG__(3)(b(),e.type)}};var s=r(a("dfadhaifh")),n=r(a("dbdfbgehgj")),o=i(a("dfhjacfbjg")),d=r(a("hgigjbgie")),l=r(a("dhigahgdjb")),c=a("bgihjbde"),u=a("dfhgeaeig"),f=r(a("ebbjbbjjg")),h=r(a("dhefcajhhb")),p=r(a("gbbacfeci")),g=r(a("bgcdajbhif")),m=a("dgdhcdgffe");function b(){var e=(0,s.default)(["Store:Cmd:handle:unknown ",""]);return b=function(){return e},e}function v(){var e=(0,s.default)(["Store:Cmd:handle:identity no jid"]);return v=function(){return e},e}function _(){var e=(0,s.default)(["Store:Cmd:handle:identity no contact"]);return _=function(){return e},e}function E(){var e=(0,s.default)(["Store:Cmd:handle:privacy no jid"]);return E=function(){return e},e}},dhggdfijcg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.unproxy)(e.msg);if(t.ctwaContext){var a=t.ctwaContext.mediaType!==d.ExternalAdReplyInfoMediaType.VIDEO||t.ctwaContext.isSuspiciousLink?s.createElement(s.Fragment,null,s.createElement(c.default,{msg:t}),s.createElement(n.default,{context:t.ctwaContext,isSentByMe:t.isSentByMe,compose:!1})):s.createElement(o.default,{msg:t,context:t.ctwaContext});return s.createElement("div",{className:e.wrapperClass},a)}return null};var s=r(a("ddhijeejag")),n=i(a("caajihiffj")),o=i(a("gaedacdgf")),d=a("cabeijgaif"),l=a("cjfegjecaj"),c=i(a("dggfhciihi"))},dhggfdaige:function(e,t){e.exports={button:"_1hSMr",fullscreen:"_1_hAe"}},dhgihfccic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddbbigfbec")),s=i(a("cahfddcdga"));t.default=class{constructor(){this.rctKeyToData=new Map,this.keyToRctKey=new Map}genNewKeys(e){var t=e-this.rctKeyToData.size;if(t<=0)return[];for(var a=[],i=0;i<e&&(this.rctKeyToData.has(i)||(a.push(i),t!==a.length));i++);return a}recycleKeysAndMap(e){var t=new Map,a=new Map,i=this.genNewKeys(e.length),n=new Set(this.rctKeyToData.keys()),o=[];e.forEach(e=>{var i=this.keyToRctKey.get(e.itemKey);void 0!==i?(a.set(e.itemKey,i),t.set(i,e),n.delete(i)):o.push(e)});var d=[...i,...n];o.forEach(e=>{var i=d.pop();a.set(e.itemKey,i),t.set(i,e)});var l=(0,r.default)(e,[e=>a.get(e.itemKey)]).map(e=>({rctKey:(0,s.default)(a.get(e.itemKey),"keyToRctKey.get(item.itemKey)"),data:e}));return this.rctKeyToData=t,this.keyToRctKey=a,l}}},dhgjbgdbhg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAndMac=function(e,t,a){return(0,o.aesCbcEncrypt)(e,new Uint8Array(a)).then(e=>new l.default(t).sign(e).then(t=>s.default.build(t,e).readBuffer()))},t.macAndDecrypt=function(e,t,a){return Promise.resolve(new Uint8Array(a)).then(a=>{var i=(0,n.encodeB64)(a.subarray(0,32)),r=a.subarray(32);return new l.default(t).sign(r).then(t=>{var a=(0,n.encodeB64)(t);if(i!==a)throw __LOG__(3)(c(),i,a),new Error("macAndDecrypt HMAC mismatch");return(0,o.aesCbcDecrypt)(e,r)})})},t.alignChunkSizeToMultipleAesBlockSize=u,t.alignChunkLengthsToMultipleOfAesBlockSize=function(e,t){for(var a=[],i=0,r=0,s=0,n=0;n<e.length;++n){if(i+=e[n],n===e.length-1&&null!=t){i>r?a.push(t-r):(a.pop(),a.push(t-s));break}if(i>r){var o=u(i-r);s=r,a.push(o),r+=o}}return a},t.removeEncryptedPadding=function(e,t){var a=e.slice(-t.byteLength);if((0,d.default)(a,t))return e.slice(0,e.byteLength-t.byteLength);return e};var r=i(a("dfadhaifh")),s=i(a("bfefjaegfe")),n=a("dibgccbbif"),o=a("eaiigfgagg"),d=i(a("gchhabjba")),l=i(a("bbejegbieb"));function c(){var e=(0,r.default)(["crypto:macAndDecrypt HMAC don't match "," vs. ",""]);return c=function(){return e},e}function u(e){return 16*parseInt((e+15)/16,10)}},dhhbbaegif:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaaagccfda")),s=i(a("fcedgihic")),n=i(a("bdjjabfecc")),o=i(a("iajeehcac")),d=i(a("beahjdfigf"));class l extends s.default{constructor(e,t={}){super(e,t),this._debouncedSort=(0,r.default)(()=>this.sort(),1e3),this.listenTo(this,"change:contact.name",this._debouncedSort),this.listenTo(n.default,"locale_change",this._debouncedSort)}delete(){this.forEach((function(e){e.delete()})),this.stopListening(),this.reset()}ensureSorted(){this._debouncedSort.flush()}set(e,t={}){return t.isParticipantCollectionAdd||(t.remove=!0),super.set(e,t)}add(e,t={}){return t.isParticipantCollectionAdd=!0,super.add(e,t)}}t.default=l,l.model=o.default,l.comparator=d.default},dhhhjaejje:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{static onMutator(){throw new Error("Subclasses of `Serializer` must override `onMutator()`")}static onRoot(){throw new Error("Subclasses of `Serializer` must override `onRoot()`")}static onText(){throw new Error("Subclasses of `Serializer` must override `onText()`")}static onDelimiter(){throw new Error("Subclasses of `Serializer` must override `onDelimiter()`")}}},dhhjhedjij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.TextHeader=function(e){var{level:t="1"}=e,a=(0,n.default)(e,["level"]);return o.createElement(c,(0,s.default)({as:u[t]},a))},t.TextParagraph=function(e){return o.createElement(c,(0,s.default)({as:"p"},e))},t.TextDiv=function(e){return o.createElement(c,(0,s.default)({as:"div"},e))},t.TextSpan=function(e){return o.createElement(c,(0,s.default)({as:"span"},e))};var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=i(a("ddhijeejag")),d=r(a("ceffhbhahb")),l=r(a("bbfehhddha"));function c(e){var t,a,i=null!==(t=e.as)&&void 0!==t?t:"span",r=e.theme?l.default[e.theme]:null,s=e.color?l.default[e.color]:null,n=l.default[null!==(a=e.weight)&&void 0!==a?a:"normal"],c=(0,d.default)(r,s,n,e.className);return o.createElement(i,{className:c},e.children)}var u={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"}},dhiafhdedd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"chihjgjffb",7)).then(e=>e.default),"LabelFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(792),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},dhibedeibc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getProgressiveMediaCacheKey=j,t.default=t.EOI_TAG=void 0;var r=i(a("ffedgcdgj")),s=i(a("dfadhaifh")),n=a("bjhaecbifc"),o=a("eaiigfgagg"),d=i(a("djhfjffeaj")),l=a("dhgjbgdbhg"),c=i(a("gchhabjba")),u=i(a("bbejegbieb")),f=i(a("eceibhbeff"));function h(){var e=(0,s.default)(["Assertion failed! ",""]);return h=function(){return e},e}function p(){var e=(0,s.default)(["Assertion failed! ",""]);return p=function(){return e},e}function g(){var e=(0,s.default)(["ImageStreamer:handleProgress error: ",""]);return g=function(){return e},e}function m(){var e=(0,s.default)(["ImageStreamer:Generated progressive image using "," chunks of "," total for ",""]);return m=function(){return e},e}function b(){var e=(0,s.default)(["ImageStreamer:Successfully decrypted chunk "," of "," total for ",""]);return b=function(){return e},e}class v extends((0,n.customError)("ChunkValidationError")){constructor(e){super("Chunk ".concat(e," does not match sidecar"))}}var _=new Uint8Array([2,2]),E=new Uint8Array([255,217]);t.EOI_TAG=E;function j(e,t){return"".concat(e,"-progressive-").concat(t)}t.default=class{constructor(e){this._alignedScanLengths=[],this._increasingScanLengths=[],this._lastDecryptedChunk=0,this._downloadedBytes=new ArrayBuffer(0);var{cryptoKeys:t,scanLengths:a,scansSidecar:i,filehash:r,mimetype:s,onProgressiveUpdate:n}=e;this._cryptoKeys=t,this._scanLengths=a,this._scansSideCar=i,this._filehash=r,this._trimmedFilehash=r.slice(0,10),this._mimetype=s,this._nextChunkIV=this._cryptoKeys.iv,this._decryptedChunks=new Array(a.length),this._onProgressiveUpdate=n}_validateSidecar(e,t){0===t&&(this._nextChunkIV=this._cryptoKeys.iv);var{macKey:a}=this._cryptoKeys,i=this._scansSideCar.slice(10*t,10*t+10),r=this._nextChunkIV;this._nextChunkIV=e.slice(-16);var s=(0,d.default)(Uint8Array,[new Uint8Array(r),new Uint8Array(e)]);return new u.default(a).sign(s,10).then(e=>(0,c.default)(e,i)?Promise.resolve():Promise.reject(new v(t)))}_cleanupCipherTextAndIV(e,t){var a,i=e,r=i.byteLength%16==0;if(0===t)a=this._cryptoKeys.iv;else{var s=this._increasingScanLengths[t-1];a=this._downloadedBytes.slice(s-16,s)}return r||(i=i.slice(0,i.byteLength-10)),r?function(e,t){var{encKey:a}=t;return(0,o.aesCbcEncrypt)(a,_,new Uint8Array(e.slice(-16))).then(e=>e.slice(-16))}(i,this._cryptoKeys).then(e=>({cipherText:i=(0,d.default)(Uint8Array,[new Uint8Array(i),new Uint8Array(e)]),iv:a})):Promise.resolve({cipherText:i,iv:a})}_getLastFullyLoadedChunkIndex(e){for(var t=0,a=0;a<this._alignedScanLengths.length;a++)if(e<(t+=this._alignedScanLengths[a]))return a;return this._alignedScanLengths.length}_handleChunk(e,t){return this._validateSidecar(e,t).then(()=>this._cleanupCipherTextAndIV(e,t)).then(({iv:e,cipherText:t})=>(0,o.aesCbcDecrypt)(this._cryptoKeys.encKey,(0,d.default)(Uint8Array,[new Uint8Array(e),new Uint8Array(t)]))).then(e=>(0,l.removeEncryptedPadding)(e,_.buffer)).then(e=>(__LOG__(2)(b(),t,this._scanLengths.length,this._trimmedFilehash),e))}_generateBlobFromFullyLoadedChunks(e){return Promise.all(this._decryptedChunks.slice(0,e)).then(t=>{var a=this._scanLengths.slice(0,e).reduce((e,t)=>e+t,0),i=(0,d.default)(Uint8Array,t.map(e=>new Uint8Array(e))).slice(0,a),r=[(0,c.default)(E.buffer,i.slice(-E.length).buffer)?i:(0,d.default)(Uint8Array,[i,E])],s=this._mimetype?new Blob(r,{type:this._mimetype}):new Blob(r),n=j(this._filehash,e);f.default.put(n,s),__LOG__(2)(m(),e,this._scanLengths.length,this._trimmedFilehash),this._onProgressiveUpdate(e),this._lastDecryptedChunk=e})}_decryptFullyLoadedChunks(e,t){var a=this;return(0,r.default)((function*(){for(var i=0;i<t;i++)if(!a._decryptedChunks[i]){var r=0===i?0:a._increasingScanLengths[i-1],s=e.slice(r,r+a._alignedScanLengths[i]);yield Promise.all(a._decryptedChunks),a._decryptedChunks[i]||(a._decryptedChunks[i]=a._handleChunk(s,i))}}))()}handleProgress(e,t){if(!this._alignedScanLengths.length){this._alignedScanLengths=(0,l.alignChunkLengthsToMultipleOfAesBlockSize)(this._scanLengths,e.total);for(var a=0;a<this._alignedScanLengths.length;a++){var i=this._alignedScanLengths[a],r=0===a?i:this._increasingScanLengths[a-1]+i;this._increasingScanLengths.push(r)}}var s,n,o=this._getLastFullyLoadedChunkIndex(t.length);return o<=this._lastDecryptedChunk?Promise.resolve():(this._downloadedBytes=(s=t,(n=new Uint8Array(s.length)).set([...s].map(e=>e.codePointAt(0))),n.buffer),this._decryptFullyLoadedChunks(this._downloadedBytes,o).then(()=>this._generateBlobFromFullyLoadedChunks(o)).catch(e=>{__LOG__(3)(g(),e);var t="".concat(e.message,", trimmed-filehash: ").concat(this._trimmedFilehash,". ")+"scanLengths length: ".concat(this._scanLengths.length,", scansSidecar byteLength: ").concat(this._scansSideCar.byteLength,". ")+"Stack: ".concat(e.stack);e instanceof v?(__LOG__(4,!1,new Error)(p(),t),SEND_LOGS("ImageStreamer:chunk validation error")):(__LOG__(4,!1,new Error)(h(),t),SEND_LOGS("ImageStreamer:handleProgress error"))}))}}},dhiccjfja:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.contactFindQuery=function(e){var t=performance.now(),i={};return l.default.contactFindQuery(e.retry,e=>{i.binarySize=e.binarySize}).then(e=>{var r=e;if("preempted"===r.data)return Promise.reject("contacts preempted");i.count=r.data&&r.data.length,i.timing=Math.ceil(performance.now()-t);var l=a("dhigahgdjb").default;return l.trigger(s.default.COLLECTION_HAS_SYNCED,i),(0,d.mungePSAContact)(r.data),(n.default.supportsFeature(n.default.F.MD_BACKEND)?(0,o.bulkCreateOrUpdateContacts)(r.data):Promise.resolve()).then(()=>(r.checksum&&(l.setChecksum(r.checksum),__LOG__(2)(c(),r.checksum)),Promise.resolve(r.data)))})};var r=i(a("dfadhaifh")),s=i(a("hgigjbgie")),n=i(a("bhbdiadfhj")),o=a("dbhhjaecch"),d=a("dafafigeih"),l=i(a("cfidecfjad"));function c(){var e=(0,r.default)(["Store:Contact:query update checksum ",""]);return c=function(){return e},e}},dhidhbafac:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({count:e,capUnreadCount:t}){var a="",i="";e>0&&(null!=t&&e>t?(a=n.default.t(17,{count:n.default.n(t),_plural:t}),i=n.default.t(1330,{count:n.default.n(t)})):(a=n.default.t(1331,{count:n.default.n(e),_plural:e}),i=n.default.n(e)));return s.createElement("span",{className:o.default.count,"aria-label":a},e>0?i:null)};var s=r(a("ddhijeejag")),n=i(a("bdjjabfecc")),o=i(a("deijaecabj"))},dhigahgdjb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ContactCollection=void 0;var s=r(a("dfadhaifh")),n=r(a("eaaagccfda")),o=i(a("cgcgbfbffj")),d=a("cajejegicg"),l=r(a("hgigjbgie")),c=r(a("ccfcjccjbg")),u=r(a("ccicaaeiaa")),f=a("bgihjbde"),h=a("dhiccjfja"),p=a("cbecjajacd"),g=a("ddbdgibbbi"),m=r(a("bdjjabfecc")),b=r(a("cbeabehaca")),v=r(a("bacbhehedf")),_=i(a("bgeajihhc"));function E(){var e=(0,s.default)(["Store:Contact init from cache"]);return E=function(){return e},e}class j extends o.default{constructor(){super(),this._contactHashes=new b.default,this.checksum=void 0,this._frequentContacts={},this._sort=(0,n.default)(()=>super.sort(),1e3),this._silentSort=(0,n.default)(()=>super.sort({silent:!0}),1e3),this.listenTo(m.default,"locale_change",this.sort),this.listenTo(this,"change:name",this.sort),this.listenTo(_.default,"change:stream",()=>{_.default.stream===_.STREAM.RESUMING&&this.forEach(e=>{e.unset("verificationString"),e.unset("verificationBinary")})}),this.listenTo(this,"add",this.contactAdded),this.listenTo(this,"remove",this.contactRemoved)}sort(e){return e&&e.silent?this._silentSort():this._sort()}ensureSorted(){this._sort.flush()}initializeFromCache(e){e&&(__LOG__(2)(E()),this.add(e,{silent:!0,merge:!0}))}contactAdded(e){this._contactHashes.put(e)}contactRemoved(e){this._contactHashes.remove(e)}delete(){super.delete(),this.setChecksum(),delete this.checksum,this._frequentContacts={},(0,p.setFrequent)({}).catch(()=>{}),this._contactHashes.clear()}isFilteredContact(e){return!!e.name&&!e.isMe&&!e.isPSA&&e.isWAContact}getFilteredContacts(){return this.filter((function(e){return e.name&&!e.isMe&&!e.isPSA&&e.isWAContact}))}_find(e){var t=this.get(e);return t?Promise.resolve(t):Promise.resolve({id:e})}_findQuery(e){return(0,h.contactFindQuery)(e)}sync(){return this.findQuery({}).catchType(f.WebdDrop,()=>{}),(0,v.default)(this,l.default.COLLECTION_HAS_SYNCED)}updateFrequentContacts(e){this._frequentContacts=e}frequentContacts(e,t){var a=e&&this._frequentContacts[e];if(a||(a=this._frequentContacts.message),!a)return[];var i=t&&t.id;return a.map(e=>this.get(e)).filter(e=>!!e&&!e.id.equals(i))}getUserCount(){return this.map(e=>e.isUser?1:0).reduce((e,t)=>e+t,0)}setChecksum(e){this.checksum=e,(0,g.setContactChecksum)(this.checksum),(0,d.setChecksum)(e).catch(()=>{})}resolveWidsFromHash(e){return this._contactHashes.get(e)}}t.ContactCollection=j,j.model=c.default,j.comparator=u.default,j.cachePolicy={id:"contact",policy:o.CACHE_POLICY.IMMEDIATE,trigger:"add\n        sort\n        remove\n        reset\n        change:id\n        change:name\n        change:shortName\n        change:pushname\n        change:type\n        change:verifiedName\n        change:isBusiness\n        change:isEnterprise\n        change:verifiedLevel\n        change:statusMute\n        change:sectionHeader\n        change:isContactBlocked\n        change:labels"};var y=new j;t.default=y},dhiggcdjgd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=r(a("dgdjiicfdg")),d=i(a("ddhijeejag")),l=r(a("effbcehec")),c=r(a("biaifggagf")),u=r(a("ccbgfecegc")),f=r(a("bbfjdcedab")),h=a("bgihjbde"),p=i(a("cajijabhgb")),g=i(a("dciajcgfie")),m=r(a("bdjjabfecc")),b=r(a("ebddggeaib")),v=a("cjahggceac"),_=i(a("dcecgegjfc")),E=r(a("dcdjgccech")),j=a("icbibjcg"),y=r(a("dhccahhefj")),S=r(a("bhbbdjgadd")),C=r(a("bhbihjaicd")),M=r(a("dgdcjccfdi")),T=r(a("diffaiehid")),P=r(a("cgjdibiahi")),O=r(a("didfdhbecg")),N=r(a("bbffgbidea"));function I(){var e=(0,s.default)(["PTT Recording Error"]);return I=function(){return e},e}class A extends d.PureComponent{constructor(e){super(e),this.cancelRecording=()=>{"ready"!==this.state.state&&(this.recorder&&this.recorder.stop(),this.clearInterval(),(0,j.markPaused)(this.props.chat),this.setState({state:"ready",active:void 0,elapsed:0}),this.props.onRecState(!1))},this._incElapsed=()=>{this.setState({elapsed:this.state.elapsed+1})},this.onPTTReady=()=>{this.cancelPTTTimer(),"delay"===this.state.state&&this.setState({state:"recording"})},this.onMouseOverSend=()=>{this.setState({active:"send"})},this.onMouseOutSend=()=>{this.setState({active:void 0})},this.onMouseOverCancel=()=>{this.setState({active:"cancel"})},this.onMouseOutCancel=()=>{this.setState({active:void 0})},this.onMouseUpCancel=()=>{this.state.elapsed<1||(this.cancelPTTTimer(),this.cancelRecording())},this.onMouseUpSend=()=>{if(!(this.state.elapsed<1))if(this.cancelPTTTimer(),"recording"===this.state.state){var e=this.props.chat;this.setState({state:"processing"}),this.props.onRecState(!1);var t=e.regCancellablePromise((0,N.default)(this.recorder,"dataAvailable").then(e=>E.default.createFromData(e.detail,e.detail.type))),a=e.getComposeContents().ctwaContext||void 0;(0,v.prepRawMedia)(t,{isPtt:!0,precomputedFields:{duration:~~this.recorder.duration}}).sendToChat(e,{quotedMsg:e.composeQuotedMsg||void 0,addEvenWhilePreparing:!0,ctwaContext:a}),e.composeQuotedMsg=null,t.catchType(Promise.CancellationError,()=>{}).finally(()=>{this.cancelRecording()}),this.recorder.stop(),this.props.onRecordingSent()}else this.cancelRecording()},this.startRecord=()=>{if("ready"===this.state.state)if(c.default.activeCall)u.default.openModal(d.createElement(f.default,{onOK:()=>u.default.closeModal()},m.default.t(746)));else{var e=_.start("microphone");Promise.race([e,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(e=>{u.default.pttRecording(),this.recorder=new C.default({bitRate:16e3,encoderSampleRate:16e3,encoderApplication:2048}),this.recorder.initStream(e),this.recorder.start(),a("ebbjbbjjg").default.update(this.props.chat.presence.id).catchType(h.WebdDrop,()=>{}),(0,j.markRecording)(this.props.chat),this.setState({state:"delay"}),this.props.onRecState(!0),this.pttTimer=this.props.setTimeout(this.onPTTReady,1500),this.startInterval()}).catchType(p.Unmount,()=>{e.then(e=>_.stop(e)).catch(()=>{})}).catchType(p.GUM.NotAllowedError,()=>{u.default.openModal(d.createElement(g.default,{messaging:g.Messaging.MIC_FAIL,type:g.default.TYPE.GUIDE_UNBLOCK}))}).catchType(p.GUM.GUMError,()=>{u.default.openModal(d.createElement(g.default,{messaging:g.Messaging.MIC_MISSING,type:g.default.TYPE.GUIDE_NONE}))}).catch(()=>{this.recorder&&this.recorder.stop(),__LOG__(3)(I())})}},this.state={state:"ready",active:null,elapsed:0}}componentDidMount(){this.props.listeners.add(window,"blur",this.cancelRecording)}componentWillUnmount(){}startInterval(){this.clearInterval(),this.elapsedInterval=this.props.setInterval(this._incElapsed,1e3)}clearInterval(){null!=this.elapsedInterval&&(this.props.clearInterval(this.elapsedInterval),this.elapsedInterval=null),this.setState({elapsed:0})}cancelPTTTimer(){null!=this.pttTimer&&(this.props.clearTimeout(this.pttTimer),this.pttTimer=null)}render(){var e=this.state.state,t=(0,n.default)(S.default.btnBorder,S.default.btnCancel,{[S.default.isHover]:"cancel"===this.state.active}),a=(0,n.default)(S.default.btnBorder,S.default.btnSend,{[S.default.isHover]:"send"===this.state.active}),i="delay"===e||"recording"===e?d.createElement(P.default,{displayName:"PTT",popable:!0,escapable:!0},d.createElement("div",{className:S.default.recording,key:"recording"},d.createElement("button",{"data-a8n":l.default.key("ptt-cancel-btn"),className:t,onMouseOver:this.onMouseOverCancel,onMouseOut:this.onMouseOutCancel,onMouseUp:this.onMouseUpCancel,"data-animate-btn-border":!0},d.createElement("div",{className:(0,n.default)(S.default.btnBorderIcon,S.default.btnStateDefault)},d.createElement(M.default,{name:"round-x"})),d.createElement("div",{className:(0,n.default)(S.default.btnBorderIcon,S.default.btnStateHover)},d.createElement(M.default,{name:"round-x-inv"}))),d.createElement("div",{className:S.default.pttCounter,"data-animate-ptt-counter":!0},o.default.unix(this.state.elapsed).format("m:ss")),d.createElement("button",{"data-a8n":l.default.key("ptt-send-btn"),className:a,onMouseOver:this.onMouseOverSend,onMouseOut:this.onMouseOutSend,onMouseUp:this.onMouseUpSend,"data-animate-btn-border":!0},d.createElement("div",{className:(0,n.default)(S.default.btnBorderIcon,S.default.btnStateDefault)},d.createElement(M.default,{name:"round-send"})),d.createElement("div",{className:(0,n.default)(S.default.btnBorderIcon,S.default.btnStateHover)},d.createElement(M.default,{name:"round-send-inv"}))))):null,r=this.startRecord,s=this.props.checkForMicrophoneAccess;s&&(r=()=>{s&&s().then(e=>{e&&this.startRecord()})});var c="ready"===e||"processing"===e?d.createElement("button",{"data-a8n":l.default.key("ptt-ready-btn"),className:S.default.btnPtt,onMouseDown:r,disabled:"processing"===e,key:"button"},d.createElement(M.default,{name:"ptt"})):null,u=(0,n.default)(S.default.container,{[S.default.active]:!!i});return d.createElement("div",{className:u},d.createElement(O.default,{transitionName:"ptt"},i||c))}}var w=(0,y.default)((0,T.default)((0,b.default)(A)));t.default=w},dhiihbhcb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;s.default.supportsFeature(s.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=n.default.commonGroupsFind(e).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e.groups});return t};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},dhjffabgfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerCollection=t.FETCH_STATE=void 0;var r=i(a("cgcgbfbffj")),s=i(a("cgfidiajgj"));t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};class n extends r.default{fetch(){throw new Error("".concat(this.constructor.name,".fetch is not implemented"))}}t.StickerCollection=n,n.model=s.default;var o=new n;t.default=o},dhjgdfcihh:function(e,t){e.exports={adminBtn:"_2lheY"}},dhjjadddfg:function(e,t){e.exports={italic:"_2Bum2",product:"_2nirm",last:"_3MjzD"}},dhjjffibdg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("ebcagbhefg")),l=r(a("hgigjbgie")),c=a("ecceiefjaj"),u=r(a("bdjjabfecc")),f=r(a("hceegfedj")),h=r(a("dcdbbhicce")),p=r(a("dgdcjccfdi")),g=r(a("dighddcfg")),m=a("deieafdcg"),b="FRONT",v="SINGLE";class _ extends n.PureComponent{constructor(...e){super(...e),this.setRefContext=e=>this.refContext=e,this.handleMouseDown=e=>{e.preventDefault(),this.props.onToggle(e.target)}}handleClick(e){e.stopPropagation()}render(){var{msg:e,position:t,isGroupedSticker:a}=this.props,{isSentByMe:i,isGroupMsg:r,type:h}=e,g=!!e.quotedMsg,_=!e.quotedMsg&&e.quotedRemoteJid,E=e.showForwarded(),j=_?null:i?f.default.contextOut:f.default.contextIn,y=h===l.default.MSG_TYPE.DOCUMENT&&!e.body,S=h===l.default.MSG_TYPE.DOCUMENT&&e.body,C=h===l.default.MSG_TYPE.LOCATION,M=e.linkPreview&&(0,c.isParsableOnlineVideoURL)(e.richPreviewType,e.matchedText,e.doNotPlayInline),T=e.isMedia&&h!==l.default.MSG_TYPE.AUDIO||S||C||g||h===l.default.MSG_TYPE.PAYMENT||M||h===l.default.MSG_TYPE.PRODUCT||e.ctwaContext,P=!1;r&&(P=!i&&(t===b||t===v||g||T||e.linkPreview));var O=e.getSuspiciousLinks().length>0;T=T&&!P&&!O&&!E;var N,I,A=h===l.default.MSG_TYPE.CHAT&&e.linkPreview&&!M&&!P&&!E&&!O&&e.isTrusted(),w=(0,s.default)(T?f.default.contextIconMedia:f.default.contextIcon),R=h===l.default.MSG_TYPE.PTT||h===l.default.MSG_TYPE.AUDIO,D=e.type===l.default.MSG_TYPE.MULTI_VCARD&&!g&&!P&&!E,L=h===l.default.MSG_TYPE.GROUPS_V4_INVITE,k=(A||y||L)&&!P&&!E&&!g,x=h===l.default.MSG_TYPE.STICKER&&!e.ctwaContext&&!g&&(a||!e.isGroupMsg||e.isGroupMsg&&e.isSentByMe);if(x){var G=d.default.get("defaultPreference"),U=G?G.wallpaperColor:l.default.DEFAULT_CHAT_WALLPAPER;I=n.createElement("div",{className:f.default.badge,style:{backgroundColor:U,opacity:.9}}),N=(0,m.invertTransparentWallpaperColors)(this.context.theme,U)}var F=!(h!==l.default.MSG_TYPE.CHAT||g||P||E||M||!e.dir||e.rtl===u.default.isRTL()),B=(h===l.default.MSG_TYPE.PTT||h===l.default.MSG_TYPE.AUDIO)&&u.default.isRTL()&&!P,V=(0,s.default)(j,T?u.default.isRTL()?f.default.contextMediaRtl:f.default.contextMediaLtr:null,{[f.default.context]:!(T||A)||k,[f.default.contextMedia]:T,[f.default.contextPtt]:R,[f.default.contextPttFix]:R&&!g&&!P,[f.default.contextSpecial]:k,[f.default.contextDoc]:y&&!P&&!E&&!g,[f.default.contextMediaDocument]:S,[f.default.contextMultiVcard]:D,[f.default.contextInverse]:F||B,[f.default.contextStickerAuthor]:h===l.default.MSG_TYPE.STICKER&&!x,[f.default.contextStickerTransparent]:x,[f.default.contextStickerInverse]:x&&N});return n.createElement("div",{className:V},n.createElement("div",{"data-a8n":o.default.key("icon-down-context"),"data-js-context-icon":!0,className:w,ref:this.setRefContext,onMouseDown:this.handleMouseDown,onClick:this.handleClick},n.createElement(p.default,{name:"down-context"})),I)}}_.contextType=g.default,_.CONCERNS={msg:["linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","type","quotedMsg","body","quotedRemoteJid","richPreviewType","doNotPlayInline","ctwaContext"]};var E=(0,h.default)(_,_.CONCERNS);t.default=E},diaeiagaff:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=r(a("cgeeeeddea")),o=i(a("ddhijeejag")),d=r(a("cdbddjfbcd")),l=r(a("jhcjhcfde")),c=a("cdjbeigged"),u=r(a("cifgdghbhg")),f=a("daghjjjedc"),h=r(a("ccbgfecegc")),p=r(a("bbfjdcedab")),g=r(a("hgigjbgie")),m=r(a("dfjejeffdj")),b=a("cgejchjdhj"),v=i(a("dgebcfedgb")),_=r(a("eiighchhi")),E=r(a("bbaacgghch")),j=r(a("ddajbaceej")),y=r(a("ddbeddiehf")),S=r(a("dfhddecjbi")),C=r(a("badbjbecei")),M=r(a("dafaebjebb")),T=r(a("cidbhiefbi")),P=r(a("bdjjabfecc")),O=a("bdfaehgedi"),N=r(a("dhjjffibdg")),I=a("edagdaii"),A=r(a("dhegibaccd")),w=r(a("cahfddcdga")),R=a("cjfegjecaj"),D=r(a("dgdcjccfdi")),L=r(a("cgjdibiahi")),k=r(a("dfciadajdf")),x=r(a("didfdhbecg")),G=r(a("dagjgcgfgc")),U=a("ccbcihdfhg"),F=a("bedfbecdgd");class B extends o.Component{constructor(e){super(e),this._refAlbumWrapper=o.createRef(),this.refAlbumComponents={},this.setRefContext=e=>{this.refContext=e},this._refTail=o.createRef(),this.setRefBubble=e=>{this.refBubble=e},this.setRefLeftStickerBubble=e=>{this.refLeftStickerBubble=e},this.setRefRightStickerBubble=e=>{this.refRightStickerBubble=e},this.firstStickerRef=o.createRef(),this.secondStickerRef=o.createRef(),this.mouseOver=e=>{e.buttons||this.state.hover||this.setState({hover:!0})},this.mouseDown=()=>{this.state.hover&&this.setState({hover:!1})},this.contextMenu=e=>{e.stopPropagation()},this.openForwardFlow=(e,t)=>{for(var a,{msgs:i}=this.props,r=0;r<i.length;r++)if(i[r].isUnsentMedia){a=P.default.t(603,{_plural:1});break}a?h.default.openModal(o.createElement(p.default,{title:P.default.t(606),onOK:()=>h.default.closeModal(),okText:P.default.t(1649)},a)):e?this.onSelectClick({selectedMsg:t}):h.default.openModal(o.createElement(y.default,{msgs:i}),{transition:"modal-flow"})},this.onSelectClick=e=>{var{selectedMsg:t,event:a}=e;if(a&&a.stopPropagation(),t)this.props.onMessageSelect((0,R.unproxy)(t),!this.props.selectedMessages.isSelected((0,R.unproxy)(t)),a);else{var i=0===this.state.selectedCount;this.props.msgs.forEach(e=>{this.props.onMessageSelect((0,R.unproxy)(e),i,a)})}},this.computeSelectedCount=()=>{var{msgs:e,selectedMessages:t}=this.props,a=0;return e.forEach(e=>{t.isSelected((0,R.unproxy)(e))&&a++}),a},this.onDownload=()=>{_.default.initDownload(this.props.msgs)},this.onDeleteMessage=()=>{var{msgs:e}=this.props;h.default.openModal(o.createElement(m.default,{chat:e[0].chat,msgList:e,deletePrompt:!0,revokePrompt:e[0].canRevoke(),isMsgVisible:this.props.isMsgVisible}))},this._getMenuRefContext=()=>{if(this.refContext)return this.refContext.getComponent().refContext},this.onMenu=(e,t)=>{var{msgs:a}=this.props;if(t&&this.state.contextMenu)this.setState({contextMenu:null});else{var i=t?this._getMenuRefContext():e,r=[];a.every(e=>e.mediaData&&e.mediaData.isDownloadable())&&r.push(o.createElement(v.default,{key:"download",a8n:"mi-msg-download",action:this.onDownload},P.default.t(519))),a.every(e=>e.canForward())&&r.push(o.createElement(v.default,{key:"forward",a8n:"mi-msg-forward",action:()=>{this.openForwardFlow(!0)}},P.default.t(621))),r.push(o.createElement(v.default,{key:"delete",a8n:"mi-msg-delete",action:this.onDeleteMessage},P.default.t(487))),this.setState({contextMenu:{menu:r,anchor:i,theme:v.ThemeOptions.COMPACT}})}},this.openContextMenu=()=>{this.state.hover?this.onMenu(void 0,!0):this.setState({hover:!0},()=>{this.onMenu(void 0,!0)})},this.closeContextMenu=()=>{var e={contextMenu:null};this._isKeyboardUser()&&(e.hover=!1),this.setState(e)},this.onAlbumGridRendered=(e,t)=>{e?this.refAlbumComponents[t.id.toString()]=e:delete this.refAlbumComponents[t.id.toString()]},this.scrollMsg=(e,t)=>{var a=this._refAlbumWrapper.current;if(a){var i=a.offsetParent;i&&((0,n.default)(i instanceof HTMLElement,"DOM offset parent is not a valid HTMLElement"),(0,b.scrollAt)(a,i,t).then(e))}},this.highlight=()=>{var e,t,a=null===(e=this._refTail)||void 0===e?void 0:e.current;this.isGroupedSticker()?0===this.props.focusedMsgIndex?t=this.refLeftStickerBubble:1===this.props.focusedMsgIndex&&(t=this.refRightStickerBubble):t=this.refBubble,t&&(E.default.indicateFocus(t,G.default.highlightAnimation),E.default.indicateFocus(a,G.default.highlightAnimation),this.props.isFocusable&&this.focus({preventScroll:!0}))};var t=this.computeSelectedCount();this.state={contextMenu:null,hover:!1,selectedCount:t}}shouldComponentUpdate(e,t){return!(0,d.default)(t,this.state)||!(0,d.default)(e,this.props,(e,t,a)=>{if("msgs"===a)return(0,d.default)(e,t)})}onSelectChange(e){var t;t=this.isGroupedSticker()?this.computeSelectedCount():e?this.props.msgs.length:0,this.state.selectedCount!==t&&this.setState({selectedCount:t})}_isKeyboardUser(){return this.context}isGroupedSticker(){var[e,t]=this.props.msgs;return null!=e.asGroupedSticker&&null!=t.asGroupedSticker}focus(e){var t;(null===(t=this._refAlbumWrapper)||void 0===t?void 0:t.current)&&j.default.focus(this._refAlbumWrapper.current,e)}render(){var e,t,a,{msgs:i,position:r,isMsgVisible:n,albumId:d,isFocusedAlbum:h,focusedMsgIndex:p,selectedMessages:m,isFocusable:b}=this.props,v=null===(e=i[0])||void 0===e?void 0:e.safe(),_=null===(t=i[1])||void 0===t?void 0:t.safe(),E=v.isSentByMe,j=v.isGroupMsg,y=this.isGroupedSticker(),T=i.length>g.default.ALBUM_MIN_SIZE?i.length-g.default.ALBUM_MIN_SIZE+1:null,P=r===I.MsgPosition.FRONT||r===I.MsgPosition.SINGLE||y,B=(0,s.default)(G.default.msg,{[G.default.msgContinuation]:r===I.MsgPosition.FRONT||r===I.MsgPosition.MID,"message-out":E,"message-in":!E,[O.LIST_FOCUSABLE_ITEM_CLASS_NAME]:b}),V=!E&&j;if(V){var H=(0,s.default)(G.default.author,{[G.default.groupStickerAuthor]:y});a=o.createElement("div",{className:H},o.createElement(u.default,{msg:i[0],contact:i[0].senderObj,albumId:d}))}var W,K,Y,q,z,Q=(0,s.default)(G.default.message,{[G.default.messageTransparent]:y,[G.default.hasTail]:P,[G.default.tailOverrideHide]:y&&P&&(E||!j),[G.default.hasAuthor]:!this.isGroupedSticker()&&V,[G.default.forwarded]:!this.isGroupedSticker()&&i[0].showForwarded()}),J=(0,s.default)(G.default.albumBubbleContainer,{[G.default.messageBackground]:!y,[G.default.hasBorderBox]:!y});P&&(W=o.createElement(D.default,{name:(0,U.getTailName)(E),className:G.default.tail,containerRef:this._refTail})),v.canQuickForward()&&(K=o.createElement("div",{className:(0,s.default)(G.default.quickActionButton,{[G.default.authorForward]:V}),onClick:()=>{this.openForwardFlow(!1)},role:"button"},o.createElement(D.default,{name:"forward-chat"}))),(this.state.hover||this.state.contextMenu)&&(Y=o.createElement(N.default,{msg:v.unsafe(),position:r,key:"icon-context",ref:this.setRefContext,onToggle:e=>{this.onMenu(e)}})),q=this.state.contextMenu?"none":v.isRTL?"pop-fast-reverse":"pop-fast",this.state.contextMenu&&(z=o.createElement(L.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},o.createElement(k.default,{contextMenu:this.state.contextMenu})));var X,Z=this.props.selectable?o.createElement(A.default,{checked:this.state.selectedCount>0,theme:this.state.selectedCount>0&&this.state.selectedCount<i.length?f.CHECKBOX_THEME.PARTIAL:void 0,onClick:e=>{this.onSelectClick({event:e})}}):null;this.props.isFocusedAlbum&&(X=o.createElement(F.WhileFocusedListener,{parent:this}));var $=i.length>g.default.ALBUM_MIN_SIZE?i[0]:null;if(y){var ee=i.map(e=>o.createElement(F.SelectionListener,{key:e.id.toString(),parent:this,msgId:e.id.toString(),selectedMessages:m})),te=this.props.selectable?o.createElement(M.default,{checked:this.props.selectedMessages.isSelected((0,R.unproxy)(v.unsafe())),onClick:()=>{this.onSelectClick({selectedMsg:v.unsafe()})}}):null,ae=this.props.selectable?o.createElement(M.default,{checked:this.props.selectedMessages.isSelected((0,R.unproxy)(_.unsafe())),onClick:()=>{this.onSelectClick({selectedMsg:_.unsafe()})}}):null;return o.createElement("div",{className:B,"data-id":d,ref:this._refAlbumWrapper,tabIndex:-1},o.createElement(x.default,{transitionName:"delay-leave"},Z),o.createElement("div",{className:Q,onContextMenu:this.contextMenu},W,a,o.createElement("div",{className:G.default.groupStickerContainer},o.createElement("div",{onMouseEnter:this.firstStickerRef.current?this.firstStickerRef.current.onMouseEnter:null,className:G.default.singleGroupedStickerContainer,ref:this.setRefLeftStickerBubble},o.createElement(x.default,{transitionName:"delay-leave"},te),o.createElement(C.default,{msg:(0,w.default)(v.asGroupedSticker,"firstMsg.asGroupedSticker"),menuTransition:q,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:n,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:h&&0===p,forwardRef:this.firstStickerRef})),o.createElement("div",{onMouseEnter:this.secondStickerRef.current?this.secondStickerRef.current.onMouseEnter:null,className:G.default.singleGroupedStickerContainer,ref:this.setRefRightStickerBubble},o.createElement(x.default,{transitionName:"delay-leave"},ae),o.createElement(C.default,{msg:(0,w.default)(_.asGroupedSticker,"secondMsg.asGroupedSticker"),menuTransition:q,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:n,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:h&&1===p,forwardRef:this.secondStickerRef})))),ee)}var ie=i[0].showForwarded()?o.createElement(S.default,{msg:i[0],className:G.default.forwardedIndicator}):null;return o.createElement("div",{className:B,"data-id":d,ref:this._refAlbumWrapper,tabIndex:-1},o.createElement(x.default,{transitionName:"delay-leave"},Z),o.createElement("div",{className:Q,onContextMenu:this.contextMenu,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},W,o.createElement("div",{className:J,ref:this.setRefBubble},a,ie,o.createElement("div",{className:G.default.gridContainer},o.createElement(l.default,{msg:(0,w.default)(i[0].asAlbumAsset,"msgs[0].asAlbumAsset"),albumMsgs:i,albumPosition:c.AlbumPosition.TOP_LEFT,isMsgVisible:n,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.onAlbumGridRendered(e,i[0])})}),o.createElement(l.default,{msg:(0,w.default)(i[1].asAlbumAsset,"msgs[1].asAlbumAsset"),albumMsgs:i,albumPosition:c.AlbumPosition.TOP_RIGHT,isMsgVisible:n,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.onAlbumGridRendered(e,i[1])})}),o.createElement(l.default,{msg:(0,w.default)(i[2].asAlbumAsset,"msgs[2].asAlbumAsset"),albumMsgs:i,albumPosition:c.AlbumPosition.BOTTOM_LEFT,isMsgVisible:n,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.onAlbumGridRendered(e,i[2])})}),o.createElement(l.default,{msg:(0,w.default)(i[3].asAlbumAsset,"msgs[3].asAlbumAsset"),albumMsgs:i,albumPosition:c.AlbumPosition.BOTTOM_RIGHT,isMsgVisible:n,zoomMsg:$,numAdditionalMedia:T,ref:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(e=>{this.onAlbumGridRendered(e,i[3])})}))),o.createElement(x.default,{transitionName:q},Y),K),z,X,o.createElement(F.SelectionListener,{parent:this,msgId:i[0].id.toString(),selectedMessages:m}))}}t.default=B,B.contextType=T.default},diafggiefe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("cdfdfciehj")),o=a("ddaecggdjf"),d=r(a("cgeedcdffb")),l=r(a("ebgbaceeda")),c=i(a("dcaifjegcg")),u=a("cajijabhgb"),f=a("cjahggceac"),h=r(a("dcjigehfeb")),p=a("ccfjbcbbga"),g=a("bccggdcfj"),m=r(a("dcdjgccech")),b=a("dgeebjciej");function v(){var e=(0,s.default)(["Failed to fetch ",""]);return v=function(){return e},e}var _=(0,o.createTimer)({algo:{type:"fibonacci",a:1,b:0},jitter:.25,max:9e5});class E extends c.default{constructor(...e){super(...e),this.id=(0,c.prop)(),this.type=(0,c.prop)(),this.mediaUrl=(0,c.prop)(),this.blobUrl=(0,c.session)(),this.mediaData=(0,c.session)(),this.fetchedFromServer=(0,c.prop)(),this.old=(0,c.session)(!1)}initialize(){super.initialize(),this.listenTo(this,"change:mediaUrl change:fetchedFromServer",this.triggerImageUpdate),this.triggerImageUpdate()}_processAndUpdateMediaData(e){var t={},a=m.default.createFromData(e,"image/jpeg");(0,f.prepRawMedia)(a,{}).waitForPrep().then(e=>(t=(0,n.default)((0,n.default)({},t),{},{mediaBlob:e.mediaBlob,type:e.type,mimetype:e.mimetype,fullWidth:e.fullWidth,fullHeight:e.fullHeight}),Promise.all([m.default.createFromBase64Jpeg(e.preview),m.default.createFromData(e.mediaBlob),(0,b.getHash)(e.mediaBlob)]))).then(e=>{var[a,i,r]=e;if(t=(0,n.default)((0,n.default)({},t),{},{preview:a,mediaBlob:i,renderableUrl:i.url(),mediaStage:p.STAGE.RESOLVED,filehash:r}),r===this.mediaData.filehash)return Promise.resolve();this.mediaData.set(t)})}triggerImageUpdate(){if(this.fetchedFromServer&&this.mediaUrl){this.mediaData||this.addChild("mediaData",new h.default({mediaStage:p.STAGE.PREPARING}));var e={delay:({taskDuration:e})=>{var t=1e3*_();return Math.max(t-e,0)},signal:(new d.default).signal,retries:10};return(0,l.default)(e,e=>(0,g.fetchMedia)(this.mediaUrl).then(t=>t&&t.status>=200&&t.status<300?t:e(new u.CatalogImageDownloadError))).then(e=>{var t=e.result;this._processAndUpdateMediaData(t)}).catch(()=>{__LOG__(3)(v(),this.mediaUrl),this.mediaData.set({mediaStage:p.STAGE.ERROR_MISSING})})}}markOld(){this.old=!0}}E.Proxy="productImage";var j=(0,c.defineModel)(E);t.default=j},diagafacic:function(e,t){e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},diaifdhffc:function(e,t,a){"use strict";var i=a("ebjighhbai");Object.defineProperty(t,"__esModule",{value:!0}),t.numberOrThrowIfTooLarge=l,t.longIntToDecimalString=function(e){if("number"==typeof e)return e.toString(10);for(var t=(0,s.hexLongToHex)(e),a=[0],i=0,r=0;r<t.length;r++){i=(0,s.hexAt)(t,r);for(var n=0;n<a.length;n++)a[n]=16*a[n]+i,i=a[n]/10|0,a[n]%=10;for(;i>0;)a.push(i%10),i=i/10|0}var o=a.reverse().join("");return(0,s.hexLongIsNegative)(e)?"-"+o:o},t.decimalStringToLongInt=function(e){if(!/^-?\d+$/.test(e))throw __LOG__(2)(o(),e),new Error("decimalStringToLongInt is given an invalid decimal string");var t="-"===e[0],a=e.replace(/^-?0*/,""),i=a.length;if(i<16||16===i&&a<="9007199254740991")return t?-Number(a):Number(a);if(i>20||20===i&&a>"18446744073709551615"||t&&(i>19||19===i&&a>"9223372036854775807"))throw __LOG__(2)(n(),e),new Error("decimalStringToHexLong is given value over 64 bits");for(var r=0,d=0,l=0;l<i;l++)r=10*r+Number(a[l]),d=10*d+Math.floor(r/4294967296),r%=4294967296;return(0,s.createHexLongFrom32Bits)(d,r,t)},t.maybeNumberOrThrowIfTooLarge=void 0;var r=i(a("fecdihjci")),s=a("cdiijcehcb");function n(){var e=(0,r.default)(['"','" is over 64 bits']);return n=function(){return e},e}function o(){var e=(0,r.default)(['"','" is not a valid decimal string']);return o=function(){return e},e}function d(){var e=(0,r.default)([""," is not a safe integer"]);return d=function(){return e},e}function l(e){if("number"!=typeof e)throw __LOG__(2)(d(),e),new Error("numberOrThrowIfTooLarge is given a non-safe integer");return e}t.maybeNumberOrThrowIfTooLarge=e=>null==e?e:l(e)},diajeiidei:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cgcgbfbffj")),n=r(a("hgigjbgie")),o=a("bgihjbde"),d=i(a("cajijabhgb")),l=r(a("bdcchebfge")),c=r(a("cbcbdjdah")),u=r(a("biecbbiiee")),f="before",h="after";class p extends s.default{constructor(...e){super(...e),this.hasMediaBefore=!0,this.hasMediaAfter=!0}delete(){super.delete(),this.stopListening()}getAfter(e){var t=this.indexOf(e);return t<0||t===this.length-1?null:this.at(t+1)}getBefore(e){var t=this.indexOf(e);return t<=0?null:this.at(t-1)}loadEarlierMedias(){var e=this.head();e&&this.queryMedia(null,e)}loadRecentMedias(){var e=this.last();e&&this.queryMedia(null,e,h)}loadMoreAroundIfNeeded(e){if(e){var t=this.indexOf(e);t<20&&this.hasMediaBefore&&this.loadEarlierMedias(),this.length-t<20&&this.hasMediaAfter&&this.loadRecentMedias()}}queryMedia(e,t,a=f){if(!t&&e){var i=e.msgs;if(!i||0===i.length)return this.hasMediaBefore=!1,new Promise(e=>{e({eof:!0})});this.add(i.filter(e=>e.isMedia),{at:0});var r=this.toArray();if(this.downloadMedias(r),e.msgs.msgLoadState.noEarlierMsgs)return this.hasMediaBefore=!1,new Promise(e=>{e({eof:!0})});if(r.length<=2*n.default.MEDIA_QUERY_LIMIT){var s=0===r.length?i.head():r[0];return this.queryMedia(e,s)}return new Promise(e=>{e({eof:!1})})}if(t&&a===f){if(this.queryMediaBefore)return this.queryMediaBefore;var l=0;return this.queryMediaBefore=u.default.queryMedia(t.id.remote,n.default.MEDIA_QUERY_LIMIT,a,t.isMedia?t.id:void 0).then(t=>{var a=t.messages;(!a||a.length<n.default.MEDIA_QUERY_LIMIT)&&(this.hasMediaBefore=!1);var i=[];a&&a.length>0&&(i=a.filter(e=>e.isMedia),this.downloadMedias(i)),this.add(i,{at:0});var r={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(r),{length:l=i.length}}).catchTypes(o.WebdDrop,d.ProtoVersionUndefined,()=>{}).catchEqualTo(404,()=>{}).finally(()=>{this.queryMediaBefore=null,this.trigger("query_media_before",l)}),this.trigger("query_media_before",0),this.queryMediaBefore}if(t&&a===h)return this.queryMediaAfter?this.queryMediaAfter:this.queryMediaAfter=u.default.queryMedia(t.id.remote,n.default.MEDIA_QUERY_LIMIT,a,t.id).then(t=>{var a=t.messages;(!a||a.length<n.default.MEDIA_QUERY_LIMIT)&&(this.hasMediaAfter=!1);var i=[];a&&a.length>0&&(i=a.filter(e=>e.isMedia),this.downloadMedias(i)),this.add(i);var r={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(r),{length:i.length}}).catchTypes(o.WebdDrop,d.ProtoVersionUndefined,()=>{}).catchEqualTo(404,()=>{}).finally(()=>{this.queryMediaAfter=null,this.trigger("query_media_after")})}downloadMedias(e){e.forEach(e=>{e.downloadMedia(!1,l.default.WEBC_RMR_REASON_CODE.MSG_RENDER)})}}t.default=p,p.model=c.default},diajfdfcgf:function(e,t){e.exports={container:"_1DniN",border:"Mu-Qb"}},dibdefhifh:function(e,t){e.exports={container:"Y1_d7",error:"_14OwO",compact:"_30ae7"}},dibegjcfci:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.prepareCtwaContextSend=function(e,t){if(t)return(0,s.default)({},t);if(e&&e.sourceUrl){var a=null==e?void 0:e.sourceUrl;if(null==a||""===a)return;var i=d.findLink(e.sourceUrl,!1,(0,o.getMaybeMeUser)());return{sourceUrl:a,mediaType:n.ExternalAdReplyInfoMediaType.NONE,isSuspiciousLink:!!(i&&i.suspiciousCharacters&&i.suspiciousCharacters.size>0)}}return};var s=r(a("cdfdfciehj")),n=a("cabeijgaif"),o=a("ddbdgibbbi"),d=i(a("dbcedfihd"))},dibffhffdb:function(e,t){e.exports={positioningContainer:"_3hpWX",resultsContainer:"_1V5nc",overlayContainer:"LOyli"}},dibidhdcdg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LANGUAGE_TO_REGIONS=void 0;t.LANGUAGE_TO_REGIONS={fub:["237","235","234"],af:["237","27"],agq:["237"],yay:["234"],bss:["237"],agg:["675"],ast:["34"],avu:["243","211"],az:["994"],bkc:["237","241"],ksf:["237"],bfd:["237"],bjt:["221"],bcn:["234"],bas:["237"],bsq:["231"],bkv:["234"],bom:["234"],btt:["234"],bin:["234"],bmq:["226","223"],bs:["387","385","383","382","381"],fue:["229","228"],br:["33"],bys:["234"],bwr:["234"],cky:["234"],ca:["376","33","39","34"],tzm:["212"],fuq:["234"],ckl:["234"],asg:["234"],co:["33","39"],crh:["7"],hr:["387","385","383","382","381"],mfn:["234"],cs:["420","421"],dbq:["237","234"],dnj:["225","231"],dzg:["235","227"],ddn:["229"],dgh:["234"],dow:["237"],dua:["229"],nl:["297","32","599","31","1","597"],igb:["234"],etr:["675"],enn:["234"],kgy:["675"],et:["372"],ich:["234"],ee:["229","233","228"],ewo:["237"],fo:["298"],fmp:["237"],fi:["358","46"],fr:["32","229","226","257","237","1","236","242","243","235","269","253","240","33","241","509","225","352","261","223","377","227","250","221","248","41","228","678"],fur:["39"],ff:["237","224","222","221"],gaj:["675"],gl:["34"],gby:["234"],gba:["236"],gmm:["237"],de:["43","32","49","423","352","41"],tof:["675"],god:["225"],ank:["234"],gkn:["234"],gux:["229","226","227","228"],gde:["237","234"],gkp:["224"],kl:["299"],jgk:["234"],ha:["229","237","235","233","225","227","234","249","228"],haw:["1"],hbb:["234"],hu:["36"],dud:["234"],jab:["234"],iby:["234"],is:["354"],idu:["234"],ig:["240"],ige:["234"],ikx:["256"],ikk:["234"],ikq:["234"],smn:["358"],ga:["353","44"],atg:["234"],izi:["234"],dyo:["220","221"],jbu:["237","234"],kab:["213"],kea:["238"],tbd:["675"],hig:["234"],kai:["234"],kkj:["237","236","242"],kzr:["237","235"],naq:["264"],geb:["675"],okr:["234"],ksh:["49"],ses:["223"],khq:["223"],kun:["291","251"],kup:["675"],kub:["237","234"],kpe:["224","231"],nmg:["237","240"],ku:["963","90"],lkt:["1"],hia:["234"],lag:["255"],lv:["371"],lmp:["237"],ln:["242","243"],liv:[],lt:["370"],yaz:["234"],nds:["55","49","31"],dsb:["49"],lu:["243"],lb:["32","33","49","352"],mda:["234"],mb:["261"],mt:["356"],mi:["64"],arn:["56"],mas:["254","255"],ffm:["223"],mql:["229","228"],mbo:["237"],mbu:["234"],mif:["237"],mzm:["234"],mua:["237","235"],sur:["234"],nv:["1"],anc:["234"],nnh:["237"],jgo:["237"],fuv:["237","234"],nin:["234"],dgi:["226"],se:["358","46","47"],nso:["27"],ann:["234"],oc:["33","39","377","34"],pbi:["237"],pip:["234"],pl:["48"],pt:["244","55","238","240","245","853","258","351","239","670"],prg:[],fuf:["224","223","221","232"],qu:["54","591","57","593","51"],ro:["373","40"],cla:["234"],sav:["221"],sg:["236","235","243"],gd:["44"],seh:["258"],sr:["387","385","383","382","381"],sh:["387","385","383","382","381"],srr:["220","221"],sch:["39"],sld:["226"],sms:["358"],sk:["420","421"],sl:["386"],sok:["235"],es:["54","501","591","56","57","506","53","593","503","240","502","504","52","505","507","595","51","34","1","598","58"],srn:["597"],gsw:["43","33","49","423","41"],shi:["212"],tal:["234"],tmh:["223"],taq:["226","223"],tan:["234"],twq:["227"],blt:["856","84"],yer:["234"],tuq:["235","218","227","234"],ttr:["234"],tik:["237"],to:["676"],dts:["223"],kdl:["234"],tsw:["234"],tr:["90"],tk:["993"],hsb:["49"],vai:["231","232"],vi:["855","84"],vo:[],vut:["237","234"],wja:["234"],wa:["32"],wae:["43","39","423","41"],wji:["234"],cy:["44"],fy:["31"],fuh:["229","226","227"],yba:["234"],yav:["237"],yle:["675"],yll:["675"],yo:["229","234"],dje:["227"],gnd:["237"]}},dicacbdagf:function(e,t){e.exports={body:"_3JaPz",container:"VVPdM",imageContainer:"_3Vt_U",lazyLoadRetry:"bB8cn",defaultIcon:"_2mmtP"}},dicdfafccb:function(e,t){e.exports={vcard:"_3qQ31",controls:"OGaOh"}},dicdgcbidg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise((t,a)=>{var i=new s.default;i.onerror=function(e){i.terminate(),a(new n.DecodeWebpResultsError("worker error",e))},i.onmessageerror=function(e){i.terminate(),a(new n.DecodeWebpResultsError("worker message error",e))},i.onmessage=e=>{i.terminate();var a=e.data;t(a)},i.postMessage({webpBuffer:e},[e])})};var s=r(a("gejedaee")),n=i(a("cajijabhgb"))},dicggaeied:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e,(0,l.default)(p,"Emoji Trie expected to be loaded."))};var s=r(a("cfjdfebffb")),n=r(a("bbhahjgijh")),o=i(a("dideejhcch")),d=r(a("bdjjabfecc")),l=r(a("cahfddcdga")),c=i(a("dcdiaahjj")),u=i(a("bgabgddgch")),f=r(a("bacbhehedf")),h=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW"]),p=null;var g=null,m=[];function b(){var e=(0,s.default)(["en",d.default.getLocale()]).filter(e=>h.has(e));if(!(0,n.default)(m,e)){m=e;var t=Promise.map(e,e=>function(e){return Promise.loop((t,i,r)=>{var s=Promise.delay(u.expBackoff(r,12e4,1e3,.1));return a("jhghdijbd")("./".concat(e)).default().then(([,e])=>t(e)).catch(()=>s)}).catch(()=>({}))}(e)).then(e=>{g===t&&(p=(0,o.emojiLocaleDictsToTrie)(e))}).catch(()=>{}).finally(()=>{g===t&&(g=null)});g=t}}d.default.on("locale_change",()=>{b()}),(0,f.default)(c.default,"change:mode",()=>c.default.mode===c.StreamMode.MAIN).then(()=>{b()})},didcgchdde:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cccehdaiaf"));class s extends r.default{constructor(){super(),this.openVoipWindow=()=>{this.manager&&this.manager.openVoipWindow()},this.closeVoipWindow=()=>{this.manager&&this.manager.closeVoipWindow()}}register(e){this.manager=e}unregister(){this.manager&&this.manager.closeVoipWindow(),this.manager=null}}var n=new s;t.default=n},diddcgece:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.b64Equal=function(e,t){var a=e.length,i=t.length;switch(a-i){case-2:return 61===t.charCodeAt(a)&&61===t.charCodeAt(a+1)&&t.substr(0,a)===e;case-1:return 61===t.charCodeAt(a)&&t.substr(0,a)===e;case 0:return e===t;case 1:return 61===e.charCodeAt(i)&&e.substr(0,i)===t;case 2:return 61===e.charCodeAt(i)&&61===e.charCodeAt(i+1)&&e.substr(0,i)===t;default:return!1}}},dideejhcch:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=[];if(e){var i=function(e,t){var a=function(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e);var a=e.substring(0,5).trim(),i=t.getMatches(a);return i=(0,c.default)(i,t=>t.keyword.startsWith(e))}(e,t),i=b((0,l.default)(a,e=>e.value)),r=b((0,l.default)(a.filter(t=>t.keyword===e),e=>e.value)),s=(0,d.default)(b(h.default.map(e=>e.id)),i),n=(0,d.default)(b(g),i),u=(0,d.default)((0,o.default)(s,n),r);return(0,o.default)(u,_(r),s,n,_(i))}(e.toLowerCase(),t);a=(0,u.default)(i)}return a},t.emojiLocaleDictsToTrie=function(e){var t=e[0];e.length>1&&(t=(0,r.default)((0,r.default)({},t),e[1]));return function(e,t){var a=p.default.fromForwardsStrings(e.map(e=>e[t]),e);return{getMatches:e=>a.search(e)}}((0,s.default)(t,(e,t)=>{var a=t.toLowerCase(),i=a.substring(0,5);return{value:e,keyword:a,shortKeyword:i}}),"shortKeyword")};var r=i(a("cdfdfciehj")),s=i(a("dbafiicfja")),n=i(a("fhfbcdaib")),o=i(a("bgjcbiaddd")),d=i(a("bhdefefjjb")),l=i(a("gaaifgdgd")),c=i(a("iidhbgeed")),u=i(a("cfjdfebffb")),f=i(a("djegeegcbf")),h=i(a("bjfecgfdgj")),p=i(a("cjdfbfihbe")),g=["😂","😍","😘","🤣","😀","❤️","😉","😊","🤔","😭","😁","😜","👏","😎","👍","😬","😆","🙂","😇","😠","😅","☺️","🤗","😄","😒","😃","😏","😌","👌","😝","🙃","😋","🎂","😡","😱","🙏","😔","😢","😳","😞","🤤","👊","😛","😚","🙄","💕","✌️","💪","💞","🌹"],m=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"];function b(e){return e.map(f.default.normalizeEmoji).filter(Boolean)}var v=(0,n.default)(()=>{var e=new Map,t=0;for(var a of m){var i=f.default.getEmojiListInCategory(a);for(var r of i)e.set(r,t),t++}return e});function _(e){var t=v();return[...e].sort((e,a)=>{var i,r;return(null!==(i=t.get(e))&&void 0!==i?i:Number.MAX_SAFE_INTEGER)-(null!==(r=t.get(a))&&void 0!==r?r:Number.MAX_SAFE_INTEGER)})}},didfijejjb:function(e,t){e.exports={bubble:"NSNJN",isPreview:"_3cTCU",author:"_2nBGX",forwarded:"_3hQqM",forwardedIndicator:"_2hu7q",hasAuthor:"m9la1",meta:"_1yXJw",hasCaption:"_1NQ-K",caption:"_262ra",isPSA:"_1jMWn",isPsa:"_1jMWn",quote:"_2Xa-q",thumb:"_1mTER",isAlbum:"_5YaSX",thumbBody:"_2ggGe",thumbBodyLores:"_3kSha",isGallery:"PSLKW",overlay:"_3Wn84",overlayAlbumText:"_2rU5X",ctwaContext:"_2spym"}},didjefci:function(e,t){e.exports={loadingSpinner:"_1_R13"}},dieafdcbjb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("jccfhaecf"));class o extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.status=(0,s.prop)(),this.stale=(0,s.session)(!0)}getCollection(){return a("gbbacfeci").default}}o.Proxy="status",o.idClass=n.default;var d=(0,s.defineModel)(o);t.default=d},difacfecfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift().blocklist.map(e=>({id:e})),i=a("bgfcjjddjf").default;r.default.supportsFeature(r.default.F.MD_BACKEND)||i.set(t)};var r=i(a("bhbdiadfhj"))},difbicaihd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StarredStickerCollection=t.STARRED_STICKERS_PAGE_SIZE=void 0;var r=i(a("dfadhaifh")),s=i(a("cdfdfciehj")),n=i(a("cgcgbfbffj")),o=i(a("bhbdiadfhj")),d=i(a("cgfidiajgj")),l=i(a("cfidecfjad"));function c(){var e=(0,r.default)(["collection:starred_sticker:_sync error "]);return c=function(){return e},e}t.STARRED_STICKERS_PAGE_SIZE=24;class u extends n.default{constructor(...e){super(...e),this._checksum="",this._syncStatus="NONE",this._currentPage=0,this._total=0}_findQuery(){return o.default.isStarredStickersEnabled()?l.default.queryStarredStickers(this._currentPage+1,24).then(({checksum:e,total:t,stickers:a})=>(this._checksum=e,this._currentPage+=1,this._total=t,a.map((e,t)=>(0,s.default)((0,s.default)({},e),{},{index:this.length+t})))):Promise.reject(new Error("gk starred sticker sync unsupported"))}add(e,t,a){return a&&(this._total+=1),super.add(e,t)}remove(e,t={}){return this._total-=1,super.remove(e,t)}syncNextPage(){return this.canLoadMore()?this._sync(!1).then(()=>{this.trigger("next_page_sync")}):Promise.resolve()}sync(e){return o.default.isStarredStickersEnabled()&&(null==e||e!==this._checksum)?(this.reset(),this._sync(!0).then(()=>{this.trigger("sync")})):Promise.resolve()}_sync(e){return"INPROGRESS"===this._syncStatus?Promise.resolve():(this._syncStatus="INPROGRESS",this.findQuery({},{set:e}).then(()=>{this._syncStatus="SUCCESS"}).catch(()=>{__LOG__(3)(c()),this._syncStatus="FAILURE"}))}isSynced(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus}canLoadMore(){return 0!==this._total&&this.length<this._total}getRemaining(){return this._total-this.length}reset(){return this._syncStatus="NONE",this._currentPage=0,this._checksum="",this._total=0,super.reset()}}t.StarredStickerCollection=u,u.model=d.default,u.comparator=(e,t)=>e.index>=t.index?1:-1;var f=new u;t.default=f},diffhbjceb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("cebgchhjbh")),l=r(a("bhbdiadfhj")),c=r(a("bdjjabfecc")),u=r(a("dcjigehfeb")),f=r(a("bgadadbgib")),h=r(a("dcdbbhicce"));function p(){var e=(0,s.default)(["msg_media_fail_icon:resend failure: ",""]);return p=function(){return e},e}class g extends n.PureComponent{render(){var{displayType:e,mediaData:t,msg:a}=this.props,i=e===o.default.DISP_TYPE.CONVERSATION,r=t.mediaStage;return r===u.default.STAGE.ERROR_TOO_LARGE?n.createElement(f.default,{displayType:this.props.displayType,mediaType:t.type}):!a.isUnsentMedia||r!==u.default.STAGE.ERROR_MISSING&&r!==u.default.STAGE.ERROR_UNSUPPORTED?a.isFailed?r===u.default.STAGE.ERROR_MISSING?n.createElement(d.default,{displayType:this.props.displayType,tooltip:c.default.t(1333)}):a.type===o.default.MSG_TYPE.PTT&&r===u.default.STAGE.PREPARING?n.createElement(d.default,{displayType:this.props.displayType,tooltip:c.default.t(1130)}):l.default.supportsFeature(l.default.F.RESEND_ICON)&&i&&r!==u.default.STAGE.REMOTE_UPLOADING?n.createElement(d.default,{displayType:this.props.displayType,onClick:b.bind(null,a),tooltip:c.default.t(1168)}):n.createElement(d.default,{displayType:this.props.displayType,tooltip:c.default.t(1224)}):null:n.createElement(d.default,{displayType:this.props.displayType,tooltip:c.default.t(1224)})}}g.CONCERNS={msg:["isFailed","isMMS","type","isUnsentMedia"],mediaData:["mediaStage","type"]};var m=(0,h.default)(g,g.CONCERNS);function b(e){e.resend().catch((function(e){__LOG__(2)(p(),e)}))}t.default=m},difhgjjfcb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=d.useRef(),a=d.useRef(),{objectPosition:i,onObjectLoad:r,position:s,size:f,type:h,zoomIn:p}=e,g=null==f?void 0:f.width,m=null==f?void 0:f.height,b=null==p?void 0:p.factor,v=null==p?void 0:p.translateX,_=null==p?void 0:p.translateY,E=d.useCallback(()=>{null!=r&&null!=a.current&&r(a.current.firstChild)},[r]),j=d.useCallback(()=>{if(null!=g&&null!=m){var e=t.current,r=a.current;if(e&&r){var n;switch(h){case"contain":n=function(e,t,a){var i=e.clientWidth,r=e.clientHeight,s=t,n=a,d=0,c=0;s/i>n/r?(n*=i/s,s=i,n<r&&(d=r/2-n/2)):(s*=r/n,n=r,s<i&&(c=i/2-s/2));return{style:{width:s,height:n,top:d,left:c,position:"absolute"},className:(0,o.default)(l.default.fit)}}(e,g,m);break;case"cover":n=function(e,t,a){var i=e.clientWidth,r=e.clientHeight,s=t,n=a,d=0,c=0;s!==i&&(n*=i/s,s=i,n>r&&(d=r/2-n/2));n<r&&(s*=r/n,n=r,s>i&&(c=i/2-s/2));return{style:{width:s,height:n,top:d,left:c,position:"absolute"},className:(0,o.default)(l.default.fit)}}(e,g,m);break;case"scaleDown":n=u(e,g,m);break;case"zoomIn":n=function(e,t,a,i){var r,s=u(e,t,a).style;r=i?{width:s.width,height:s.height,transition:"transform 300ms cubic-bezier(.1,.82,.25,1)",transform:"translateX(".concat(i.translateX,"px) translateY(").concat(i.translateY,"px) scale(").concat(i.factor,")")}:{width:s.width,height:s.height,transition:"transform 300ms cubic-bezier(.1,.82,.25,1)"};return{style:r,className:(0,o.default)(l.default.fit,l.default.fitScaledown,l.default.fitZoomin)}}(e,g,m,null!=b&&null!=v&&null!=_?{factor:b,translateX:v,translateY:_}:null);break;default:return __LOG__(4,!1,new Error)(c(),h),void SEND_LOGS("object-fit")}e.removeAttribute("class"),r.removeAttribute("style"),e.classList.add(...n.className.split(" ")),"relative"===s&&e.classList.add(l.default.fitRelative);var d=null!=i?i:n.style.position;for(var f of(r.style.setProperty("position",d),Object.keys(n.style))){var p=n.style[f];null==p||Number.isNaN(p)||r.style.setProperty(f,"number"==typeof p?p+"px":p)}E()}}},[E,i,s,m,g,h,b,v,_]);d.useEffect(()=>{var e=(0,n.default)(()=>{j()});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[j]),d.useLayoutEffect(()=>{j()},[j]),!1;return d.createElement("div",{className:(0,o.default)(l.default.fit),ref:t},d.createElement("div",{style:{visibility:"hiddden"},ref:a},e.children))};var s=r(a("dfadhaifh")),n=r(a("hhegggegb")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("dcgiadjhaj"));function c(){var e=(0,s.default)(["unrecognized type ",""]);return c=function(){return e},e}function u(e,t,a){var i=e.clientWidth,r=e.clientHeight,s=a,n=t;return s>r&&(s=r,n=t*(r/a)),n>i&&(n=i,s=a*(i/t)),{style:{width:n,height:s},className:(0,o.default)(l.default.fit,l.default.fitScaledown)}}},digafcfhgc:function(e,t){e.exports={mediaViewerAnimate:"_3ODIN","media-viewer-animate":"_3ODIN",cursorZoomOut:"_1-E08",mediaViewer:"_3T6SD",mediaContent:"ulpVc",btnMediaNext:"fctLK",btnMediaPrev:"_2eUMR",media:"_3GRID",mediaWithCaption:"_3GvRy",mediaCaption:"_1PZoe",captionHidden:"_2tgmy"}},digddffhhh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleIncomingSignalingMessage=function(e){var t=s.default.get(e.call_id);switch(e.type){case o.TYPE.OFFER:null==t||t.setState(n.CALL_STATES.INCOMING_RING);break;case o.TYPE.TERMINATE:null==t||t.setState(n.CALL_STATES.ENDED)}};var s=r(a("biaifggagf")),n=a("jgidicjf"),o=i(a("cbjcbacfdh"))},digfghedff:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=a("bgddggdhc"),d=i(a("bebjeaagc")),l=i(a("djeebcafcb")),c=i(a("bcddhhfhda")),u=i(a("bcifhbgija")),f={duration:300,easing:[.1,.82,.25,1]};var h=(e,t)=>e.map((e,a)=>[t[a]===e,a]).filter(([e])=>!e).map(([,e])=>e);class p extends s.Component{constructor(...e){var t;super(...e),this.containerHeight=0,this.childAnimations=[],this.didCancel=!1,this.unmounting=!1,this.state={children:null!==(t=this.props.children)&&void 0!==t?t:[]},this.pendingRemoval=[],this.refChildren=new Map,this.setRefChild=(e,t)=>{t?this.refChildren.set(e,t):this.refChildren.delete(e)},this.setChildRefCache=new c.default(this.setRefChild),this._heightCallbackCache=new Map}componentWillUnmount(){this.unmounting=!0}getHeightChange(e,t){return e.reduce((e,a)=>{if(a<t)return e;var i=this.refChildren.get("".concat(a));if(!i)return e;var r=(0,o.forbiddenFindDOMNode)(i);return r?e+r.clientHeight:e},0)}animateElement(e,t,a,i){this.childAnimations[e]&&(this.didCancel=!0,this.childAnimations[e].cancel());var r=a>0?[0,a]:[-a,0];return this.childAnimations[e]=(this.childAnimations[e]||Promise.resolve()).then(()=>(0,u.default)(t,{translateY:r},f)).delay(100).cancellable().then(()=>(a<0&&(i.includes(e)?t.style.opacity="0":t.style.transform=""),e)).catchType(Promise.CancellationError,()=>((0,u.default)(t,"stop",!0),t.style.transform="",!1)).finally(t=>{if(!this.didCancel)return delete this.childAnimations[e],n.default.setUiBusy(!1,"animation_group"),t;this.didCancel=!1}),this.childAnimations[e]}transitionAffected(e,t){if(!e)return Promise.resolve();for(var a=[],[i]=e.slice(-1),r=0;r<=i;++r){var s=this.refChildren.get("".concat(r));if(s){var n=(0,o.forbiddenFindDOMNode)(s);n&&a.push(this.animateElement(r,n,(t?1:-1)*this.getHeightChange(e,r),e))}}return Promise.all(a).then(e=>e.filter(e=>!1!==e))}notifyHeightChange(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this.getHeightChange(e,0))}UNSAFE_componentWillReceiveProps({children:e=[]}){var t,a,i=(t=this.state.children,h(t,a=e).filter(e=>t[e]&&!a[e]));this.added=((e,t,a)=>{var i=h(e,t).filter(a=>!e[a]&&t[a]),r=a.filter(e=>!!t[e]);return r.length?function(e,t,a){for(var i=[],r=0,s=0;r<e.length||s<t.length;)a(e[r],t[s])?i.push(e[r++]):i.push(t[s++]);return r<e.length?i.concat(e.slice(r)):s<t.length?i.concat(t.slice(s)):i}(i,r,(e,t)=>e<t):i})(this.state.children,e,this.pendingRemoval);for(var r=0;r<this.added.length;++r)this.busyId=d.default.setBusy(this.busyId),n.default.setUiBusy(!0,"animation_group");if(!i.length)return this.setState({children:e});var s=i.filter(e=>!this.pendingRemoval.includes(e));if(s.length){for(var o=0;o<s.length;++o)this.busyId=d.default.setBusy(this.busyId),n.default.setUiBusy(!0,"animation_group");this.pendingRemoval.push(...s),this.notifyHeightChange(s,!1),this.transitionAffected(s,!1).then(t=>{this.unmounting||(this.pendingRemoval=this.pendingRemoval.filter(e=>!s.includes(e)),t.length>0&&this.setState({children:e},()=>{d.default.decBusy(this.busyId)}))})}}componentDidUpdate(e,{children:t}){this.added.length&&(this.notifyHeightChange(this.added,!0),this.transitionAffected(this.added,!0).then(()=>{d.default.decBusy(this.busyId)}))}componentDidMount(){var e=this.state.children.reduce((e,t,a)=>{var i=this.refChildren.get("".concat(a));if(!i)return e;var r=(0,o.forbiddenFindDOMNode)(i);return r?(r.style.transform="translateY(0)",e+r.clientHeight):e},0);this.props.onHeightChange(e,!0)}childHeightCallback(e){var t=this._heightCallbackCache.get(e);if(t)return t;var a=this.refChildren.get("".concat(e)),i=a?(0,o.forbiddenFindDOMNode)(a):null,r=i?i.clientHeight:0,s=({height:e})=>{r&&e&&e!==r?(this.props.onHeightChange(e-r),r=e):r=e};return this._heightCallbackCache.set(e,s),s}cloneChild(e,t){if(!e)return e;var a=e.ref?a=>{this.setChildRefCache.getRefSetter("".concat(t))(a),e&&e.ref&&e.ref(a)}:this.setChildRefCache.getRefSetter("".concat(t));return s.cloneElement(e,{ref:a})}render(){return this.state.children.map((e,t)=>s.createElement(l.default,{key:".".concat(t),onResize:this.childHeightCallback(t)},this.cloneChild(e,t)))}}t.default=p},digfibghde:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.removeMessagesFromHistory=function(e){if(!o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.resolve();var t=e.map(e=>e.toString());return n.default.purge(e.map(e=>e.toString())).catch(e=>{__LOG__(3)(l(),e)}).then(()=>d.get().removeMessagesFromHistory(t))};var s=r(a("dfadhaifh")),n=r(a("baghfccdgd")),o=r(a("bhbdiadfhj")),d=i(a("jfbhhdedh"));function l(){var e=(0,s.default)(["removeMessagesFromHistory: error ",""]);return l=function(){return e},e}a("cjjgaafiai")},dighcbdehd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.Mode=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("bheedafjh"),d=r(a("cdiecggbbg")),l=r(a("eabehhacha")),c=r(a("ebjaejiaba")),u=r(a("dbdfbgehgj")),f=r(a("ccaeejbjah")),h=r(a("ccbgfecegc")),p=r(a("bbfjdcedab")),g=i(a("bjigbaghc")),m=r(a("hgigjbgie")),b=a("ieeidjijb"),v=r(a("dcjhajfghf")),_=r(a("dhbeaehhef")),E=r(a("hhcjfgifh")),j=a("cgejchjdhj"),y=r(a("dgebcfedgb")),S=a("chhdedhgfe"),C=a("bgihjbde"),M=a("cfffidafid"),T=i(a("cajijabhgb")),P=r(a("bbaacgghch")),O=r(a("ddajbaceej")),N=r(a("bhbdiadfhj")),I=a("eajdbbfgfg"),A=r(a("djaadchjch")),w=a("bggcajdfcf"),R=r(a("dhfbfehaef")),D=r(a("ddcieaffha")),L=r(a("bebjeaagc")),k=r(a("bdjjabfecc")),x=r(a("ebddggeaib")),G=r(a("bihiceijie")),U=r(a("jdbccibfh")),F=r(a("bdcchebfge")),B=(r(a("dagdiahdfi")),r(a("cbjdbjecfg"))),V=r(a("gjbhafcjg")),H=r(a("cjbjidhbde")),W=a("dfdjcjidfg"),K=r(a("dcdbbhicce")),Y=a("cjfegjecaj"),q=r(a("diffaiehid")),z=r(a("dfjcfdigb")),Q=r(a("cgjdibiahi")),J=r(a("dfciadajdf")),X=r(a("bcagigidbd")),Z=r(a("jccfhaecf"));function $(){var e=(0,s.default)(["Chat: prop searchQuery is undefined"]);return $=function(){return e},e}var ee={LAST:"LAST",INFO:"INFO"};t.Mode=ee;class te extends n.PureComponent{static getDerivedStateFromProps(e,t){var a={},i=e.active&&e.active.value instanceof c.default&&Z.default.equals(e.active.value.id,e.chat.id);t.active!==i&&(a.active=i);var r=e.searchQuery?e.searchQuery.trimmed:"";t.searchText!==r&&(a.searchText=r);var s=e.chat.id;return t.chatId!==s&&(a.chatId=s,a.unreadCount=e.chat.optimisticUnreadCount),a}constructor(e){super(e),this.hoverCounter=0,this.setCellRef=e=>{this.cellRef=e},this.setHotKeysRef=e=>{this.hotKeysRef=e},this.state={active:!1,dragging:!1,searchText:"",contextMenu:null,chatId:null,unreadCount:0},this._setUnreadCount=()=>{var e=this.props.chat.optimisticUnreadCount;e!==this.state.unreadCount&&this.setState({unreadCount:e})},this.prefetchGroupMetadata=()=>{var{chat:e}=this.props;N.default.supportsFeature(N.default.F.GROUPS_V_3)&&e.isGroup&&e.groupMetadata&&e.groupMetadata.stale&&A.default.find(e.id).catchTypes(C.WebdDrop,T.ProtoVersionUndefined,()=>{})},this.onSearch=()=>{this.props.searchQuery?this.setState({searchText:this.props.searchQuery.trimmed}):__LOG__(3)($())},this.onActiveChange=(e,t)=>{if("focus"===e){var a=this.hotKeysRef;a&&(O.default.focus(a),t&&(0,j.scrollIntoViewIfNeeded)(a))}this.setState({active:!!e})},this.contextEnabled=()=>{var{noContext:e}=this.props;return!e},this.editLabel=()=>{var{selectableState:e,multiSelection:t}=this.props;!this.props.searchQuery||this.props.searchQuery.isEmptyQuery?e&&t&&(e.setSelectable(!0),t.setVal((0,Y.unproxy)(this.props.chat))):this.addOrRemoveLabelOnSelected()},this.addOrRemoveLabelOnSelected=()=>{var e=[(0,Y.unproxy)(this.props.chat)];h.default.openModal(n.createElement(G.default,{modelsToUpdate:e}))},this.onMenu=e=>{if(this.state.contextMenu)this.setState({contextMenu:null});else{var t=this.props.chat,a=[];t.canArchive()&&a.push(n.createElement(d.default,{key:"archive",onArchive:this.onArchive,chat:(0,Y.unproxy)(t)})),t.mute.canMute()&&a.push(n.createElement(B.default,{key:"mute",onMute:this.onMute,mute:t.mute})),a.push(n.createElement(_.default,{key:"delete",onDeleteOrExit:this.onDeleteOrExit,chat:(0,Y.unproxy)(t)})),g.default.platform===g.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||a.push(n.createElement(H.default,{key:"pin",onPinOrUnpin:this.onPinOrUnpin,chat:t})),(0,I.canEditLabelAssociation)()&&a.push(n.createElement(y.default,{a8n:"mi-edit-label",action:this.editLabel,key:"EditLabel"},k.default.t(532))),t.canUnread&&a.push(n.createElement(U.default,{key:"mark_unread",onMarkUnread:this.onMarkUnread,chat:(0,Y.unproxy)(t)})),e.event&&e.event.persist(),this.setState({contextMenu:{menu:a,event:e.event,anchor:e.anchor}})}},this.removeContext=()=>{this.setState({contextMenu:null})},this.onMute=e=>{h.default.muteChat((0,Y.unproxy)(this.props.chat),e)},this.onArchive=e=>{h.default.archiveChat((0,Y.unproxy)(this.props.chat),e)},this.onDeleteOrExit=()=>{h.default.deleteOrExitChat((0,Y.unproxy)(this.props.chat),this)},this.onPinOrUnpin=e=>{!e||u.default.filter(e=>e.pin).length<3?h.default.pinChat((0,Y.unproxy)(this.props.chat),e):h.default.openModal(n.createElement(p.default,{onOK:()=>h.default.closeModal(),okText:k.default.t(1649)},k.default.t(51)))},this.onMarkUnread=e=>{h.default.markChatUnread((0,Y.unproxy)(this.props.chat),e)},this.onClick=e=>{var{onClick:t,chat:a}=this.props;t&&t(e,(0,Y.unproxy)(a))},this.onMouseDown=e=>{0===e.button&&this.onClick(e)},this.onEnter=e=>{e.preventDefault(),e.stopPropagation(),P.default.shouldIndicateFocus(),this.onClick(e)},this.onDragEnter=e=>{this.props.chat.canSend&&(new v.default(e.dataTransfer).hasType(m.default.DRAG_TYPE_FILE)&&(0===this.hoverCounter&&this.setState({dragging:!0}),this.hoverCounter+=1))},this.onDragLeave=e=>{this.props.chat.canSend&&(new v.default(e.dataTransfer).hasType(m.default.DRAG_TYPE_FILE)&&(this.hoverCounter-=1,0===this.hoverCounter&&this.setState({dragging:!1})))},this.onDrop=e=>{var{chat:t}=this.props;if(t.canSend){this.setState({dragging:!1});var a=new v.default(e.dataTransfer);(a.hasType(m.default.DRAG_TYPE_FILE)||a.hasType("text/uri-list")||a.hasType("text/html"))&&(0,M.getFiles)(e).then(e=>{h.default.openChatFromUnread(t).then(a=>{a&&h.default.attachMediaDrawer({chat:t,attachments:e.map(e=>({file:e})),fileOrigin:F.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY})})}).catchType(T.MediaDragDropError,e=>{h.default.openChatFromUnread(t).then(a=>{a&&e.src&&h.default.pasteChatTextInput(t,e.src)})})}},this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this.cellRef)||void 0===t||t.indicateFocus()},this.openContextMenu=()=>{this.cellRef&&this.cellRef.openContextMenu()},this._throttledSetUnreadCount=this.props.throttle(this._setUnreadCount,0,{leading:!1,tailing:!0})}componentDidMount(){var{chat:e}=this.props;this.initListeners(this.props),N.default.supportsFeature(N.default.F.GROUPS_V_3)&&e.isGroup&&e.groupMetadata&&e.groupMetadata.stale&&L.default.enqueue(this.prefetchGroupMetadata)}componentDidUpdate(e){var{chat:t}=this.props;t!==e.chat&&N.default.supportsFeature(N.default.F.GROUPS_V_3)&&t.isGroup&&t.groupMetadata&&t.groupMetadata.stale&&L.default.enqueue(this.prefetchGroupMetadata),t.optimisticUnreadCount!==this.state.unreadCount&&this._throttledSetUnreadCount(),this.initListeners(this.props,e)}initListeners(e,t){var{listeners:a,active:i,chat:r,searchQuery:s,frequent:n}=e;t&&t.searchQuery&&t.searchQuery!==s&&a.remove(t.searchQuery,W.SEARCH_EVENT,this.onSearch),!s||t&&s===t.searchQuery||a.add(s,W.SEARCH_EVENT,this.onSearch);var o=t&&t.chat.id;if(!r.id.equals(o)&&(t&&t.active&&a.remove(t.active,t.chat.id.toString(),this.onActiveChange),i)){var d=(n?b.FREQUENT_PREFIX:"")+r.id.toString();a.add(i,d,this.onActiveChange)}}render(){var e,t,{chat:a,mode:i,secondary:r,theme:s,filterPreset:d,showEphemeralIcon:c,hideMuteIcon:u,capUnreadCount:h}=this.props,{searchText:p,active:g,dragging:m,contextMenu:b,unreadCount:v}=this.state,_={};switch(i){case ee.LAST:e=n.createElement(z.default,{chat:a}),null==r&&(r=n.createElement(f.default,{chat:a}),t=n.createElement(D.default,{chat:a,mute:a.mute,unreadCount:v,hideMuteIcon:!0===u,capUnreadCount:h})),_.enter=this.onEnter,_[k.default.LR("right","left")]=this.openContextMenu;break;case ee.INFO:null==r&&(r=a.isGroup||a.isBroadcast?n.createElement(w.ParticipantsList,{groupMetadata:a.groupMetadata}):n.createElement(X.default,{presence:a.presence,chatstate:a.presence.chatstate,location:"list"})),_.enter=this.onEnter}var j,y=n.createElement(E.default,{id:a.id,alt:"",showEphemeralIcon:c,waitIdle:!0}),C=this.props.mouseDownAsClick;b&&(j=n.createElement(Q.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.removeContext},n.createElement(J.default,{contextMenu:b})));var M=n.createElement(V.default,{chat:a,firstLabel:null==d?void 0:d.label,highlightText:p,showLabel:!0,titlify:!0,ellipsify:!0}),T=null,P=a.getEphemeralSetting();return null!=P&&0!==P&&(T=n.createElement(o.InvisibleLabel,null,(0,S.getEphemeralExplanationString)(P))),n.createElement(R.default,{onRef:this.setHotKeysRef,handlers:_,onFocus:this.indicateFocus,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,"aria-selected":g,tabIndex:g?0:-1,role:"option"},n.createElement(l.default,{id:a.id,ref:this.setCellRef,theme:s,contextEnabled:this.contextEnabled,pendingAction:a.pendingAction,contextMenu:!!b,unread:0!==v,active:!!g,isMuted:!1,dragging:!!m,image:y,primary:M,primaryDetail:e,secondary:r,secondaryDetail:t,onClick:C?void 0:this.onClick,onMouseDown:C?this.onMouseDown:void 0,onContext:this.onMenu}),T,j)}}te.CONCERNS={chat:["id","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast","canUnread","optimisticUnreadCount","labels"]},te.defaultProps={mode:ee.LAST};var ae=te;t.Component=ae;var ie=(0,q.default)((0,x.default)((0,K.default)(te,te.CONCERNS)));t.default=ie},dihddiefbh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("hgigjbgie")),l=r(a("bhbdiadfhj")),c=r(a("ebddggeaib")),u=r(a("cfbfjcdiif")),f=r(a("cbhefjadgb")),h=a("cicjibbhdb"),p=r(a("dcdbbhicce")),g=r(a("dgdcjccfdi"));function m(){var e=(0,s.default)(['chat:getClasses Invalid msg type:"','"']);return m=function(){return e},e}class b extends o.PureComponent{constructor(...e){super(...e),this.state={parsedVcards:null},this.updateAfterFeatureFlagChange=()=>{this.forceUpdate()}}static getDerivedStateFromProps(e,t){var a,i,r=e.msg;return(null===(a=r.mediaData)||void 0===a?void 0:a.parsedVcards)!==t.parsedVcards?{parsedVcards:null===(i=r.mediaData)||void 0===i?void 0:i.parsedVcards}:null}componentDidMount(){var{listeners:e}=this.props;e.add(l.default,l.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}render(){var{msg:e}=this.props,t=function(e,t){switch(e.type){case d.default.MSG_TYPE.VIDEO:return e.isGif?"status-gif":"status-video";case d.default.MSG_TYPE.AUDIO:return e.isGif?"status-gif":"status-audio";case d.default.MSG_TYPE.VCARD:case d.default.MSG_TYPE.MULTI_VCARD:return e.isGif?"status-gif":"status-vcard";case d.default.MSG_TYPE.DOCUMENT:return e.isGif?"status-gif":t?"status-vcard":"status-document";case d.default.MSG_TYPE.CIPHERTEXT:return e.isGif?"status-gif":"status-ciphertext";case d.default.MSG_TYPE.UNKNOWN:return e.isGif?"status-gif":"status-unknown";case d.default.MSG_TYPE.IMAGE:return e.isGif?"status-gif":"status-image";case d.default.MSG_TYPE.PRODUCT:return"business-description";case d.default.MSG_TYPE.STICKER:return"status-sticker";case d.default.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":return"status-miss_video"}return"status-miss";case d.default.MSG_TYPE.PTT:return"status-ptt";case d.default.MSG_TYPE.REVOKED:return"recalled";case d.default.MSG_TYPE.LOCATION:return e.isLive?(0,h.liveLocationIcon)(!1):"status-location";case d.default.MSG_TYPE.GROUPS_V4_INVITE:return l.default.supportsFeature(l.default.F.GROUPS_V_4_JOIN_PERMISSION)?"group":"status-unknown";case d.default.MSG_TYPE.PAYMENT:return"status-unknown";case d.default.MSG_TYPE.ORDER:return"shopping-cart"}return __LOG__(2)(m(),e.type),"status-unknown"}(e,this.state.parsedVcards),a=(0,n.default)(u.default.symbol,t,{[u.default.margin]:!e.asRevoked,[u.default.miss]:e.type===d.default.MSG_TYPE.CALL_LOG,[u.default.pttBlue]:e.type===d.default.MSG_TYPE.PTT&&e.ack===d.default.ACK.PLAYED,[u.default.pttGreen]:e.type===d.default.MSG_TYPE.PTT&&e.ack!==d.default.ACK.PLAYED&&!e.isSentByMe}),i=e.paymentAmount1000&&e.paymentCurrency;return o.createElement("div",{className:a},e.type===d.default.MSG_TYPE.PAYMENT&&i?o.createElement(f.default,{currency:e.paymentCurrency,subtype:e.subtype,paymentStatus:e.paymentStatus,isCompact:!0}):o.createElement(g.default,{name:t}))}}b.CONCERNS={msg:["ack","isGif","isLive","type","subtype","asRevoked","isSentByMe","paymentCurrency","paymentAmount1000","paymentStatus","mediaData"]};var v=(0,c.default)((0,p.default)(b,b.CONCERNS));t.default=v},dijbdcjfhj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("hhegggegb")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=i(a("bjdccffhaj")),l=r(a("hgigjbgie")),c=r(a("gfebgebbi")),u=a("bgddggdhc"),f=r(a("dcjigehfeb")),h=r(a("dhbjadiajj")),p=r(a("ehbhbffch")),g=r(a("digafcfhgc")),m=r(a("dcdbbhicce")),b=a("hjbbdjjdf"),v=r(a("cgjdibiahi")),_=r(a("bcifhbgija"));class E extends o.PureComponent{constructor(e){super(e),this.setMediaImage=e=>this.mediaImage=e,this.onImageLoad=e=>{if(!this.zoomed){this.zoomed=!0;var t=this.state.zoomElement;t&&e&&this.props.zoomIn&&e instanceof HTMLElement&&this.animateZoom(t,e)}},this.animateZoom=(e,t)=>{var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-a.top,s=i.left-a.left,n=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,s-=(t.clientWidth-e.clientWidth)/2,(0,_.default)(t,{opacity:[1,0],translateX:[0,s],translateY:[0,r],scale:[1,n]},{duration:l.default.MEDIA_VIEWER.ANIMATION_DURATION,easing:[.1,.82,.25,1]}),this.refCaption.current&&(0,_.default)(this.refCaption.current,{opacity:[1,0]},{duration:l.default.MEDIA_VIEWER.ANIMATION_DURATION})},this.onScroll=e=>{Math.abs(e.deltaY)>7&&this.onClose()},this.onImgZoomIn=e=>{var t=this.mediaImage;e&&t&&(this.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),this.setState({imgZoomed:e}),this.props.onImgZoomIn(e)},this.onZoomOut=e=>{var t=this.mediaImage;t&&this.state.imgZoomed&&t.onImageClick(e)},this.onMouseMove=e=>{this.handleMouseMove(e.pageX,e.pageY)},this._handleMouseMove=(e,t)=>{var a=this.mediaImage;if(a){var i=a.image;if(i){var r=(0,u.forbiddenAssertDOMNode)(i);if(r){var s=r.parentNode,n=s.parentNode,{translateX:o,translateY:d}=a.getTranslatePosition(n,e,t);(0,_.default)(s,"stop"),(0,_.default)(s,{translateX:o,translateY:d,scale:l.default.MEDIA_VIEWER.ZOOM_IN_FACTOR},{duration:0})}}}},this.onClose=()=>{if(!this.closing){if(this.closing=!0,(0,b.isFunction)(this.props.onExitAnimation)&&this.props.onExitAnimation(),!this.props.getZoomNode)return this.props.onBack();var e=this.props.getZoomNode();if(!e)return this.props.onBack();var t=this.mediaImage&&this.mediaImage.image,a=(t=(0,u.forbiddenAssertDOMNode)(t)).getBoundingClientRect(),i=e.getBoundingClientRect(),r=i.top-a.top,s=i.left-a.left,n=e.clientWidth/t.clientWidth;r-=(t.clientHeight-e.clientHeight)/2,s-=(t.clientWidth-e.clientWidth)/2,(0,_.default)(t,{translateX:[s,0],translateY:[r,0],scale:[n,1]},{duration:200,easing:[.1,.82,.25,1]}).then(()=>{this.props.onBack()})}},this.handleMouseMove=(0,s.default)(this._handleMouseMove,42),this.zoomed=!1,this.closing=!1,this.refCaption=o.createRef();var t=this.props.mediaData.mediaStage===f.default.STAGE.RESOLVED&&this.props.zoomIn;t&&(this.transparentStyle={opacity:0});var a=t&&this.props.getZoomNode?this.props.getZoomNode():null;this.state={imgZoomed:!1,zoomElement:a}}componentDidMount(){this.transparentStyle={}}render(){var e,{mediaData:t,product:a}=this.props,i=o.createElement(h.default,{mediaData:t,key:t.renderableUrl,style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage});if(a.description){var r=this.props.zoomIn&&(t.isGif||t.type===f.default.TYPE.IMAGE);e=o.createElement("span",{className:{[g.default.captionHidden]:r},ref:this.refCaption},o.createElement(c.default,{text:a.description,className:g.default.mediaCaption}))}var s=(0,n.default)(g.default.media,{[g.default.mediaWithCaption]:!!e}),l=o.createElement("div",{className:(0,n.default)(g.default.btnMediaNext)},o.createElement(d.default,{type:d.ButtonType.Next,onClick:this.props.onNext||(e=>e.stopPropagation()),onKeyDown:this.props.onNext||(()=>{}),disabled:!this.props.onNext||this.state.imgZoomed})),u=o.createElement("div",{className:(0,n.default)(g.default.btnMediaPrev)},o.createElement(d.default,{type:d.ButtonType.Prev,onClick:this.props.onPrev||(e=>e.stopPropagation()),onKeyDown:this.props.onPrev||(()=>{}),disabled:!this.props.onPrev||this.state.imgZoomed})),m=(0,n.default)("overlay",g.default.mediaViewer,{[g.default.mediaViewerAnimate]:this.props.zoomIn,[g.default.cursorZoomOut]:this.state.imgZoomed}),b=this.state.imgZoomed?null:this.onScroll,_=this.state.imgZoomed?null:this.onClose,E=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,j=this.state.imgZoomed?this.onZoomOut:null;return o.createElement(v.default,{displayName:"ProductViewer",escapable:!0,requestDismiss:this.onClose},o.createElement("div",{className:m,"data-animate-media-viewer":!0,onClick:j,onMouseMove:E},o.createElement(p.default,{mediaData:t,onClose:this.onClose,product:this.props.product}),o.createElement("div",{className:g.default.mediaContent,dir:"ltr",onWheel:b,onClick:_},u,o.createElement("div",{className:s},o.createElement("div",{className:g.default.media},i),e),l)))}}E.CONCERNS={mediaData:["mediaStage","renderableUrl","isGif","type"],product:["description"]};var j=(0,m.default)(E,E.CONCERNS);t.default=j},djaadchjch:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("bgjcbiaddd")),o=r(a("cgcgbfbffj")),d=r(a("dbdfbgehgj")),l=a("bgihjbde"),c=i(a("cajijabhgb")),u=r(a("bhbdiadfhj")),f=r(a("fcfchiagj")),h=a("bjcegba"),p=a("biigiejiib"),g=r(a("cfidecfjad")),m=r(a("jccfhaecf")),b=a("dcbdjheea");function v(){var e=(0,s.default)(["groupMetadata:find trying to fetch non-group/bclist wid ",""]);return v=function(){return e},e}function _(){var e=(0,s.default)(["models:GroupMetadataCollection:_find:bclist error: ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["models:GroupMetadataCollection:_find:False broadcast list query"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["contactFindBroadcast: not implemented for MD"]);return j=function(){return e},e}function y(){var e=(0,s.default)(["queryGroupFromPhone: not implemented for MD"]);return y=function(){return e},e}class S extends o.default{onResume(){(0,n.default)(d.default.where({active:!0}).filter(e=>e.isGroup||e.isBroadcast),d.default.where({isBroadcast:!0})).forEach(e=>{this.find(e.id).catchTypes(l.WebdDrop,c.ProtoVersionUndefined,()=>{})})}_find(e){if(m.default.isGroup(e)){var t=a("dbdfbgehgj").default.get(e);return t&&t.isReadOnly?u.default.supportsFeature(u.default.F.MD_BACKEND)?(__LOG__(3)(y()),Promise.resolve({id:e})):(0,h.queryGroupFromPhone)(e):(0,p.sendQueryGroup)(e)}return m.default.isBroadcast(e)?u.default.supportsFeature(u.default.F.MD_BACKEND)?(__LOG__(3)(j()),Promise.resolve({id:e})):g.default.contactFindBroadcast(e).then(t=>{if(200===t.status){var a=this.get(e);return a&&!a.stale?Promise.resolve(a):{id:e,participants:t.recipients}}return 404===t.status?(__LOG__(3)(E()),{id:e}):(__LOG__(3)(_(),t.status),Promise.reject(new Error("models:GroupMetadataCollection:_find:bclist error: "+t.status)))}):(__LOG__(2)(v(),e.toString()),Promise.reject(new Error("groupMetadata:find trying to fetch non-group/bclist wid ".concat(e.toString()))))}_handle(e){return e}handlePendingInvite(e){var{gid:t,participants:a}=e;this.add({id:(0,b.createWid)(t),pendingParticipants:a},{merge:!0})}}S.model=f.default,S.staleCollection=!0;var C=new S;t.default=C},djbfhebjhe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e){var t;if(e instanceof d.default?t=e.user:(0,o.isString)(e)&&(t=e.split("@")[0]),t)return n.default.isRTL()?n.default.isolateLTR(l(t)):l(t)}return""};var r=i(a("caejgeijci")),s=a("biciedabid"),n=i(a("bdjjabfecc")),o=a("hjbbdjjdf"),d=i(a("jccfhaecf")),l=(0,r.default)(e=>"Server"===e?e:(0,s.formatPhone)(e))},djbjbbceib:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),l=r(a("bjjhgjdbhd")),c=i(a("dhfbfehaef")),u=i(a("bdjjabfecc")),f=r(a("dgjfidhijd")),h=i(a("bhhccdceaf")),p=i(a("ecbejhejff")),g=a("cjjdjbcgjh");class m extends s.Component{render(){var{vcards:e}=this.props;return s.createElement(f.default,{type:f.BoxModalType},s.createElement(o.default,null,s.createElement(l.default,{title:u.default.t(939,{count:e.length,_plural:e.length}),type:l.DRAWER_HEADER_TYPE.POPUP,onCancel:()=>n.default.closeModal()}),s.createElement(d.default,null,s.createElement(c.default,null,s.createElement("div",{className:h.default.body},e.map((e,t)=>e?s.createElement("div",{className:h.default.vcardWrapper,key:t},s.createElement(p.default,{parsedVcard:e,thumbnail:(0,g.vcardThumbnail)(e)})):null))))))}}var b=m;t.default=b},djbjbichdf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("caabaffghd")),o=i(a("ccbgfecegc")),d=i(a("bbfjdcedab")),l=i(a("hgigjbgie")),c=i(a("cbefaccbce")),u=i(a("bdjjabfecc")),f=a("dgjfidhijd"),h=a("dagchhdede"),p=a("dhhjhedjij"),g=i(a("bcjcbbafcj")),m=[[u.default.t(1023),(0,h.getWebKey)(n.default.OPEN_NEW_CHAT)],[u.default.t(1024),(0,h.getWebKey)(n.default.OPEN_NEW_GROUP)],[u.default.t(1025),(0,h.getWebKey)(n.default.OPEN_PROFILE)],[u.default.t(876),(0,h.getWebKey)(n.default.OPEN_SETTINGS)],[u.default.t(987),(0,h.getWebKey)(n.default.SEARCH)],[u.default.t(998),(0,h.getWebKey)(n.default.SEARCH_IN_CHAT)],[u.default.t(953),(0,h.getWebKey)(n.default.TOGGLE_ARCHIVE)],[u.default.t(1022),(0,h.getWebKey)(n.default.TOGGLE_MUTE)],[u.default.t(963),(0,h.getWebKey)(n.default.TOGGLE_UNREAD)],[u.default.t(957),(0,h.getWebKey)(n.default.DELETE_OR_EXIT_CHAT)],[u.default.t(996),(0,h.getWebKey)(n.default.GO_TO_NEXT_CHAT)],[u.default.t(997),(0,h.getWebKey)(n.default.GO_TO_PREV_CHAT)]];class b extends s.Component{constructor(...e){super(...e),this.onClose=()=>{o.default.closeModal()}}render(){var e=m.map(([e,t])=>{var a;if(t)return a=-1===t.indexOf("Shift+")?s.createElement("span",{className:c.default.key},t):s.createElement(s.Fragment,null,s.createElement("span",{className:c.default.key},"Shift"),s.createElement("span",{className:c.default.key},t.substr("Shift+".length))),s.createElement("div",{key:"shortcut-".concat(t),className:c.default.section},s.createElement("div",{className:c.default.action,title:e},e),s.createElement("div",{className:c.default.shortcut},s.createElement("span",{className:c.default.key},g.default.os===l.default.OS_TYPE.MAC?"Cmd":"Alt"),s.createElement("span",{className:c.default.key},"Ctrl"),a))});return s.createElement(d.default,{onOK:this.onClose,okText:u.default.t(1649),type:f.FlexModalType},s.createElement("div",{className:c.default.container},s.createElement(p.TextSpan,{theme:"popup-title"},u.default.t(781)),s.createElement("div",{className:c.default.list},e)))}}t.default=b},djcafcbiic:function(e,t){e.exports={iconSpinner:"YDMZI",iconCloseSearch:"_3Eocp",iconLabelSelect:"dnNp6",iconMorph:"_14VsQ",inputPlaceholder:"_1MBn6",labelSearchPlaceholder:"_2yMmO",listSearch:"_22PcK",contInputSearch:"_2Evw0",active:"_30SFc",iconSearchMorph:"_3Wrfs",iconMorphSearch:"_23HdX",iconMorphBack:"_2fIjT",kind:"_392Qb",labels:"_2UyuT",kindName:"_32V3_",filterTitle:"_3yecG"}},djcajecjgh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=(a("ihfehgab"),i(a("dcjigehfeb"))),d=i(a("ebibaajhjh")),l=i(a("bbejbbdigc")),c=i(a("cbehejfaji")),u=i(a("ediaiijfe")),f=i(a("cbhdjecbdf")),h=i(a("dcdbbhicce")),p=a("cjfegjecaj");t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;class g extends s.Component{constructor(...e){super(...e),this.setRefVideoPlayer=e=>{this.refVideoPlayer=e},this.handleOpenMediaViewer=()=>{this.props.onOpenMediaViewer&&this.props.onOpenMediaViewer(),n.default.mediaViewerModal({msg:(0,p.unproxy)(this.props.msg),currentTime:this.getCurrentTimeFromVideo()})},this.handleOpenVideoFloater=()=>{this.props.onOpenVideoFloater&&this.props.onOpenVideoFloater(),u.default.openPiP((0,p.unproxy)(this.props.msg),this.getCurrentTimeFromVideo(),null)},this.handleMissingMedia=()=>{this.props.onMissingMedia&&this.props.onMissingMedia(),n.default.openModal(s.createElement(d.default,{msg:this.props.msg})),this.props.onClose()},this.handleUnsupportedMedia=()=>{this.props.onUnsupportedMedia&&this.props.onUnsupportedMedia(),n.default.openModal(s.createElement(c.default,{msg:this.props.msg})),this.props.onClose()},this.handleNeedPokeMedia=()=>{this.props.onNeedPokeMedia&&this.props.onNeedPokeMedia(),n.default.openModal(s.createElement(l.default,{msg:this.props.msg})),this.props.onClose()},this.handleLoadedMetadata=e=>{this.props.onLoadedMetadata&&this.props.onLoadedMetadata(e)}}componentDidUpdate(){switch(this.props.mediaData.mediaStage){case o.default.STAGE.ERROR_MISSING:this.handleMissingMedia();break;case o.default.STAGE.ERROR_UNSUPPORTED:this.handleUnsupportedMedia();break;case o.default.STAGE.NEED_POKE:this.handleNeedPokeMedia()}}getCurrentTimeFromVideo(){return this.refVideoPlayer?this.refVideoPlayer.getCurrentTimeFromVideo():0}render(){var e={msg:this.props.msg,mediaData:this.props.mediaData};return s.createElement(f.default,{ref:this.setRefVideoPlayer,type:this.props.type,msgVideoInfo:e,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onOpenMediaViewer:this.handleOpenMediaViewer,onOpenVideoFloater:this.handleOpenVideoFloater,onMissingMedia:this.handleMissingMedia,onUnsupportedMedia:this.handleUnsupportedMedia,onLoadedMetadata:this.handleLoadedMetadata,onFullscreenToggle:this.props.onFullscreenToggle,autoPlay:this.props.autoPlay,overlays:this.props.overlays})}}g.CONCERNS={msg:["id"],mediaData:["mediaStage","preview","streamable"]};var m=(0,h.default)(g,g.CONCERNS);t.default=m},djcgacceef:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cgeedcdffb")),o=i(a("cgijjjgici")),d=i(a("ebcbjgibea")),l=i(a("dgegbadcdj"));class c extends s.PureComponent{constructor(...e){super(...e),this._abortController=new n.default,this._isAnimating=!1,this.state={rgbaBuffer:null},this._iterations=0,this._isFocused=!1,this._startAnimation=()=>{this._isAnimating||(this._isAnimating=!0,(0,d.default)({animationFrames:this.props.animationFrames,signal:this._abortController.signal,onFrameChange:e=>this.setState({rgbaBuffer:e}),shouldStop:()=>this._iterations>=this.props.maxLoops||(this._isFocused||this._iterations++,!1)}).catch(e=>{if(!(e instanceof o.default))throw e}).finally(()=>{this._isAnimating=!1}))},this._onMouseEnter=()=>{this.props.maxLoops!==1/0&&(this._isFocused=!0,this._iterations=1,this._startAnimation())},this._onMouseLeave=()=>{this._isFocused=!1}}componentDidMount(){this.props.startAnimation?this._startAnimation():this._renderFirstFrame()}_renderFirstFrame(){var{animationFrames:e}=this.props;0!==e.length&&this.setState({rgbaBuffer:e[0].rgbaBuffer})}componentWillUnmount(){this._abortController.abort()}render(){var{rgbaBuffer:e}=this.state;return e?s.createElement(l.default,{rgbaBuffer:e,className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}):null}}t.default=c},djdejcibcf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{auth:t,ciphertextHmac:a,encFilehash:i,hostname:r,type:u,signal:f,onProgress:h}=e,p=(0,o.default)({auth:t,encFilehash:i,hostname:r,type:u});return __LOG__(2)(c()),(0,n.default)(p,{method:"post",body:a,signal:f,onProgress:h}).then(e=>{if(!e.ok)switch(e.status){case 401:throw new s.MMSUnauthorizedError("mmsUpload",{url:p});case 413:throw new s.MediaTooLargeError("mmsUpload",{url:p});case 415:throw new s.MediaInvalidError("mmsUpload: hash mismatch",{url:p});case 507:throw new s.MMSThrottleError("mmsUpload",{url:p});default:throw new s.HttpStatusCodeError(e.status,"mmsUpload",{url:p})}return e.json()}).then(e=>{if(!e.direct_path)throw new s.HttpInvalidResponseError("mmsUpload: missing direct_path");if(!e.url)throw new s.HttpInvalidResponseError("mmsUpload: missing url");return{directPath:e.direct_path,url:e.url,handle:e.handle}}).then(e=>(__LOG__(2)(l()),e)).catch(e=>{throw __LOG__(3)(d()),e})};var r=i(a("dfadhaifh")),s=a("chfjcfcide"),n=i(a("dgjijbgdai")),o=i(a("dddaaacacd"));function d(){var e=(0,r.default)(["mmsUpload: error"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["mmsUpload: success"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["mmsUpload: start"]);return c=function(){return e},e}},djdhbaieic:function(e,t){e.exports={panel:"_2Efpu",body:"_3vEz4",cancelButton:"_3P_7M"}},djdhjggcbi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s};var r=i(a("eaaagccfda")),s=window.innerHeight,n=(0,r.default)(()=>{s=window.innerHeight},500);window.addEventListener("resize",n)},djeebcafcb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("iiajhaaji")),c=r(a("caigeciieb"));class u extends d.PureComponent{constructor(...e){super(...e),this._setRefResizeObserver=e=>{this._refResizeObserver=e,this.props.onRef&&this.props.onRef(e)},this._handleResize=(e,t)=>{this._refResizeObserver&&(null!=this._prevDimensions&&this._prevDimensions.width===e&&this._prevDimensions.height===t||(this._prevDimensions={height:t,width:e},this.props.onResize({height:t,width:e})))}}render(){var e=this.props,{children:t,className:a,onResize:i,onRef:r}=e,u=(0,n.default)(e,["children","className","onResize","onRef"]);return d.createElement("div",(0,s.default)({className:(0,o.default)(l.default.container,a),ref:this._setRefResizeObserver},u),t,d.createElement(c.default,{onResize:this._handleResize}))}}t.default=u},djeffaehji:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({cmd:e,untypedData:t,isExternal:a}){var i=a?h.default.DEEP_LINK_OPEN_FROM.DEEP_LINK_EXTERNAL:h.default.DEEP_LINK_OPEN_FROM.DEEP_LINK_WA_LINK_CLICK;switch(e){case u.APICmd.GROUP_INVITE:return d.default.closeStatusViewer(),d.default.openModal(n.createElement(c.default,{groupCode:t.code})),new h.default.DeepLinkOpen({deepLinkOpenFrom:i,deepLinkType:h.default.DEEP_LINK_TYPE.DEEP_LINK_GROUP_INVITE}).commit(),!0;case u.APICmd.CATALOG:var r=v.default.productCatalogOpenDeeplink;if(r){var{catalogOwnerJid:j}=t;!function(e){var t=(new g.default).toString();d.default.openModal(n.createElement(p.default,{phone:"+".concat((0,E.createWid)(e).toString()),onSuccess:a=>{window.setTimeout(()=>{d.default.openDrawerRight(n.createElement(m.default,{chat:a,sessionId:t,catalogOwnerJid:e}),"slide-left",_.default.Manager.top)},100)},msgText:null}),{transition:"modal-flow"})}(j),new h.default.DeepLinkOpen({deepLinkOpenFrom:i,deepLinkType:h.default.DEEP_LINK_TYPE.DEEP_LINK_CATALOG}).commit()}return r;case u.APICmd.PRODUCT:var y=v.default.productCatalogOpenDeeplink;if(y){var{businessOwnerJid:S,productId:C}=t;!function(e,t){var a=(new g.default).toString();(0,f.logProductDeepLinkOpen)(t,e,a),d.default.openModal(n.createElement(p.default,{phone:"+".concat((0,E.createWid)(e).toString()),onSuccess:i=>{window.setTimeout(()=>{d.default.openDrawerRight(n.createElement(m.default,{chat:i,productInfo:{productId:t,businessOwnerJid:e},refreshCarousel:!0,sessionId:a}),"slide-left",_.default.Manager.top)},100)},msgText:null}),{transition:"modal-flow"})}(S,C),new h.default.DeepLinkOpen({deepLinkOpenFrom:i,deepLinkType:h.default.DEEP_LINK_TYPE.DEEP_LINK_PRODUCT}).commit()}return y;case u.APICmd.MSG_SEND:d.default.closeStatusViewer();var M=t,{text:T,phone:P,conversionTuple:O}=M,N=v.default.ctwaContextCompose?M.ctwaContextLinkData:void 0;return P?(d.default.openModal(n.createElement(p.default,{phone:P,msgText:T,onSuccess:e=>{O&&l.default.add((0,s.default)((0,s.default)({},O),{},{id:e.id,timestamp:o.default.globalUnixTime()}),{merge:!0}),T&&(e.urlText=!0),e.urlNumber=!0},ctwaContextLinkData:N}),{transition:"modal-flow"}),new h.default.DeepLinkOpen({deepLinkOpenFrom:i,deepLinkType:N?h.default.DEEP_LINK_TYPE.DEEP_LINK_CTWA:h.default.DEEP_LINK_TYPE.DEEP_LINK_CHAT}).commit()):(d.default.openModal(n.createElement(b.default,{msgText:T,urlText:!0}),{transition:"modal-flow"}),new h.default.DeepLinkOpen({deepLinkOpenFrom:i,deepLinkType:h.default.DEEP_LINK_TYPE.DEEP_LINK_MSG_FORWARD}).commit()),!0;default:return!1}};var s=r(a("cdfdfciehj")),n=i(a("ddhijeejag")),o=r(a("cfadcbbiie")),d=r(a("ccbgfecegc")),l=r(a("ccbihadedf")),c=r(a("ecccfihhge")),u=a("jgficfddf"),f=a("ecceajhjba"),h=r(a("bdcchebfge")),p=r(a("ddbbiecfhg")),g=r(a("biibicegh")),m=r(a("cjgdgbgbj")),b=r(a("cafcabcicd")),v=r(a("bfgbdiffgd")),_=r(a("cdeahgaaii")),E=a("dcbdjheea")},djejededad:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("dcjigehfeb"));class o extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.price=(0,s.prop)(),this.currency=(0,s.prop)(),this.name=(0,s.prop)(),this.quantity=(0,s.prop)(),this.thumbnailId=(0,s.prop)(),this.thumbnailUrl=(0,s.prop)(),this.mediaData=(0,s.derived)(this._mediaData,["thumbnailUrl"])}_mediaData(){return new n.default({mediaStage:null!=this.thumbnailUrl?n.default.STAGE.RESOLVED:n.default.STAGE.PREPARING,renderableUrl:null!=this.thumbnailUrl?"".concat(this.thumbnailUrl):null})}getCollection(){return a("cjfjiidcae").default}}o.Proxy="order-item";var d=(0,s.defineModel)(o);t.default=d},djfcgeejhc:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=i(a("jagjbhcgf")),n=a("cddgfddjc");class o extends r.Component{render(){var{chat:e,onSelectMessages:t}=this.props;return r.createElement(s.default,{type:"dropdown_menu",key:"BroadcastMenuDropdown",flipOnRTL:!0,dirX:s.DirX.LEFT},(0,n.broadcastMenu)(e,t))}}t.default=o},djfhiceeje:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.addStarredMsgs=function(e){s.add(e),e.forEach(e=>{e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),f.default.add(e)},t.removeStarredMsgs=b,t.default=t.StarredMsgCollection=void 0;var s,n=r(a("dfadhaifh")),o=r(a("cgcgbfbffj")),d=r(a("hgigjbgie")),l=r(a("cbcbdjdah")),c=r(a("biecbbiiee")),u=r(a("cahfddcdga")),f=r(a("dfgeejdaib")),h=i(a("bgeajihhc"));function p(){var e=(0,n.default)(["models:starred:update:error: "]);return p=function(){return e},e}function g(){var e=(0,n.default)(["starred msg sync error: "]);return g=function(){return e},e}class m extends o.default{constructor(){super(),this.syncPromise=null,this.isSynced=!1,this.listenTo(h.default,"change:stream",()=>{h.default.stream===h.STREAM.DISCONNECTED?this.isSynced=!1:h.default.stream===h.STREAM.CONNECTED&&this.delete()})}process(e,t,a,i){i?this.delete():this.updateMsgs(e,t,a)}sync(e){if(this.isSynced)return Promise.resolve();if(null!=this.syncPromise)return this.syncPromise;var t,a=this,i=this.last();return i&&(t=i.id),this.syncPromise=c.default.getStarred(e,d.default.PAGE_SIZE,t).then((function(e){e.length&&a.add(e,{silent:!0}),e.length<d.default.PAGE_SIZE&&(a.isSynced=!0)})).catch((function(){__LOG__(3)(g())})).finally(()=>{a.syncPromise=null,a.trigger("sync")}),this.trigger("sync"),(0,u.default)(this.syncPromise,"syncPromise can not be null")}updateMsgs(e,t,a){var i=this.syncPromise||Promise.resolve();this.syncPromise=i.then(()=>e?(t.length>0?c.default.incrementalStarredUpdate(t):Promise.resolve([])).then(e=>{var t=e.concat(a);this.isSynced&&(this.add(t,{silent:!0}),f.default.add(e)),t.forEach(e=>{e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),this.trigger("sync")}).catch(()=>{__LOG__(3)(p())}):(b(t.concat(a).filter(e=>!e.star)),Promise.resolve())).finally(()=>{this.syncPromise=null})}delete(){this.isSynced=!1,super.delete()}}function b(e){s.remove(e),e.forEach(e=>{e.chat.starredMsgs&&e.chat.starredMsgs.remove(e)})}t.StarredMsgCollection=m,m.model=l.default,m.comparator=(e,t)=>t.t-e.t;var v=s=new m;t.default=v},djfhifiigg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e||!(0,s.isString)(e))throw new Error("MsgKey fromString error: str is null or not a string");var t=e.split("_"),a=void 0;t.length<3?__LOG__(3)(n(),e):4===t.length?"out"!==t[3]&&"in"!==t[3]&&(a=t[3]):5===t.length&&(a=t[4]);return{fromMe:"true"===t[0],remote:t[1],id:t[2],participant:a}};var r=i(a("dfadhaifh")),s=a("hjbbdjjdf");function n(){var e=(0,r.default)(["MsgKey error: cannot create MsgKey from ",""]);return n=function(){return e},e}},djgcjhfdec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("bjigbaghc")),l=i(a("bdjjabfecc")),c=i(a("ebddggeaib")),u=i(a("bgeajihhc"));class f extends s.Component{constructor(...e){super(...e),this.close=()=>{0===d.default.tos&&n.default.closeModal()},this.logout=()=>{n.default.closeModal(),u.default.logout()}}componentDidMount(){this.props.listeners.add(d.default,"change:tos",this.close)}render(){var e,t,a;switch(d.default.tos){default:case 1:e=l.default.t(1746),t=l.default.t(1059),a=()=>n.default.closeModal();break;case 2:e=l.default.t(1747),t=l.default.t(868),a=this.logout}return s.createElement(o.default,{onOK:a,okText:t},e)}}var h=(0,c.default)(f);t.default=h},djgdheeehd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("ffedgcdgj")),n=a("djfeeacgad"),o=i(a("bbicgeccjj")),d=a("bihghijhgb"),l=i(a("cahfddcdga"));function c(){var e=(0,r.default)(["Invalid size in index ",": ",""]);return c=function(){return e},e}function u(){var e=(0,r.default)(["Error while purging during setMaxSize: ",""]);return u=function(){return e},e}function f(){var e=(0,r.default)(["Error while purging: ",""]);return f=function(){return e},e}function h(){var e=(0,r.default)(["SizeLRUObjectStore: _dispose error: ",""]);return h=function(){return e},e}function p(){var e=(0,r.default)(["SizeLruObjectStore: _purge error: No row returned but currentSize (",") > maxSize (","). Row count is "," (may be out of date)."]);return p=function(){return e},e}class g extends o.default{constructor(e,t){var a;if(super(),a=this,this._enqueue=(0,d.createEnqueue)(),this._purge=()=>{if(this._pendingPurgePromise)return this._pendingPurgePromise;var e=this.open().then(()=>Promise.loop(e=>{var t=()=>{this._pendingPurgePromise=null,e()},i=this.getCurrentSize();if(!(null==i||i<=this._maxSize))return this.queryOneByIndex(this._dateIndex).then(e=>{var i=this.getCurrentSize(),r=this._maxSize;if(!(null==i||i<=r)){if(null==e)return(0,s.default)((function*(){var e=yield a.count();__LOG__(3)(p(),i,r,e),SEND_LOGS("size-lru-store-invalid-empty")}))(),Promise.reject(new Error("Query returned no result but currentSize > maxSize"));var n=e[this._primaryIndex];return this.del(n)}t()});t()}));return this._pendingPurgePromise=e},this._schedulePurge=()=>{this._purgeTimer.debounce(2e3)},this.doPut=this._enqueue(function(){var e=(0,s.default)((function*(e,t){if(t[a._primaryIndex]!==e)throw new Error("The key you provide does not match.");var i=yield a._store.get(e),r=null==i?0:a._getSize(i),s=a._getSize(t),n=yield a._store.put(e,t);return a._currentSize=(0,l.default)(a.getCurrentSize(),"_this.getCurrentSize()")-r+s,a._schedulePurge(),n}));return function(){return e.apply(this,arguments)}}()),this.doDel=this._enqueue(function(){var e=(0,s.default)((function*(e){var t=yield a._store.get(e);if(null!=t){try{yield a._dispose(e,t)}catch(e){throw __LOG__(3)(h(),e.message),SEND_LOGS("size-lru-store-dispose-error"),e}yield a._store.del(e),a._currentSize=(0,l.default)(a.getCurrentSize(),"_this.getCurrentSize()")-a._getSize(t)}}));return function(){return e.apply(this,arguments)}}()),this._store=e,this._primaryIndex=t.primaryIndex,this._dateIndex=t.dateIndex,this._sizeIndex=t.sizeIndex,t.maxSize<0)throw new Error("Cannot set max size to a negative number");this._maxSize=Math.floor(t.maxSize),this._dispose=t.dispose,this._purgeTimer=new n.ShiftTimer(()=>{this._purge().catch(e=>{__LOG__(3)(f(),e.message)})})}getCurrentSize(){return this._currentSize}getMaxSize(){return this._maxSize}setMaxSize(e){return e<0?Promise.reject("Cannot set size to a negative number"):(this._maxSize=Math.floor(e),this._purgeTimer.cancel(),this._purge().catch(e=>{__LOG__(3)(u(),e.message)}))}putObject(e){var t=e[this._primaryIndex];return this.put(t,e)}_getSize(e){var t=e[this._sizeIndex];return"number"!=typeof t||t<0?(__LOG__(3)(c(),this._sizeIndex,t),0):t}doGet(e){return this._store.get(e)}queryOneByIndex(e){return this._store.queryByIndex(e,{limit:1}).then(e=>0===e.length?null:e[0])}doQueryByIndex(e,t){return this._store.queryByIndex(e,t)}doGetAll(){return this._store.getAll()}doClear(){var e=this;return(0,s.default)((function*(){e._purgeTimer.cancel(),yield e._store.clear(),e._currentSize=0}))()}doCount(){return this._store.count()}doOpen(){var e=this;return(0,s.default)((function*(){if(yield e._store.open(),null==e._currentSize){var t=yield e._store.doGetAll();e._currentSize=t.reduce((t,a)=>t+e._getSize(a),0)}}))()}doClose(){return this._currentSize=null,this._store.close()}}t.default=g},djggaegcbi:function(e,t){e.exports={container:"_1TBWy"}},djhcffhbdc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPanelEmpty=function({containerClassName:e,onClick:t,onFocusPrev:a,onFocusNext:i,onRef:r}){return l.createElement("div",{className:(0,d.default)(e,h.default.emptyContainer),onClick:t},l.createElement("div",{className:h.default.emptySticker,style:{backgroundImage:"url(".concat(v.default,")")}}),l.createElement(f.default,{handlers:{"shift+tab":a,tab:i},onRef:r},l.createElement("p",{className:h.default.emptyText},p.default.t(1282))))},t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("bebajedcaf")),o=r(a("hhegggegb")),d=r(a("ceffhbhahb")),l=i(a("ddhijeejag")),c=a("bdjbcfjgea"),u=r(a("ecjegjabde")),f=r(a("dhfbfehaef")),h=r(a("bjjbjadgeg")),p=r(a("bdjjabfecc")),g=r(a("bdcchebfge")),m=r(a("cbaiicibei")),b=r(a("bfgbdiffgd")),v=r(a("cjfhhbcfdh")),_=r(a("cagbbjgahc")),E=r(a("bibcieeace")),j=r(a("bgajadhccj")),y=r(a("ifiehebcb")),S=r(a("cdciigjegj")),C=r(a("didfdhbecg"));class M extends l.PureComponent{constructor(...e){super(...e),this._lastScrollChange=0,this._lastScrollTop=0,this._fastScroll=!1,this._searchEnabled=b.default.stickerSearchEnabled,this.state={searchText:this.props.defaultSearchText||"",showSearchInput:this._searchEnabled,searchResultStickers:[],scrolledToTop:!0},this._handleStickerSearch=e=>{if(null!=e){var t=y.default.search(e);this.setState({searchResultStickers:t})}else this.setState({searchResultStickers:[]})},this._handleGridFocusPrev=()=>{this.props.onFocusPrev&&this.props.onFocusPrev()},this._handleSearchChange=(e,t)=>{this.props.onChange&&this.props.onChange(e,t),this.setState({searchText:e}),this._handleStickerSearch(e)},this._handleContainerClick=e=>{this._stopEvent(e),this._focusSearchInput()},this._handleScroll=(0,o.default)(()=>{var e=this._refScrollContainer;if(e&&this._searchEnabled){this.props.onScroll&&this.props.onScroll(e);var t=e.scrollTop,a=t<=0,i=this._lastScrollTop-t;if(i===c.INPUT_BAR_TOTAL_HEIGHT)return this._lastScrollChange=i,void(this._lastScrollTop=t);var r=Math.abs(i)>c.INPUT_BAR_SCROLL_SENSITIVITY;this._fastScroll=Math.abs(i)>c.INPUT_BAR_SCROLL_FAST;var o={};i<0?this.state.showSearchInput&&(t>c.INPUT_HIDE_POINT&&r||this._lastScrollTop<c.INPUT_HIDE_POINT&&t>=c.INPUT_HIDE_POINT)&&(o.showSearchInput=!1):this.state.showSearchInput||(r||t<c.INPUT_SHOW_POINT)&&(o.showSearchInput=!0),this._lastScrollTop=t,this._lastScrollChange=i,a!==this.state.scrolledToTop&&(o.scrolledToTop=a),(0,n.default)(o)||this.setState((0,s.default)({},o))}},c.SCROLL_THROTTLE_TIME),this._focusSearchInput=()=>{if(this._searchEnabled)return this._refSearchInput?void this._refSearchInput.focus(!0):(this._fastScroll=!0,void this.setState({showSearchInput:!0},()=>this._focusSearchInput()))},this._setRefScrollGrid=e=>{this._refScrollGrid=e},this._setRefSearchInput=e=>{this._refSearchInput=e},this._onStickerFromRecent=e=>{this.props.onSticker(e,{stickerSendOrigin:g.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_RECENTS})},this._onStickerFromStarred=e=>{this.props.onSticker(e,{stickerSendOrigin:g.default.STICKER_SEND_ORIGIN_TYPE.STICKER_PICKER_TAB_FAVORITES})},this._onStickerFromSearch=e=>{this.props.onSticker(e,{stickerSendOrigin:g.default.STICKER_SEND_ORIGIN_TYPE.STICKER_SEARCH})},this._setScrollContainerRef=e=>{this._refScrollContainer=e}}focus(){this._refSearchInput&&this._refSearchInput.focus()}componentDidMount(){this._searchEnabled&&(y.default.fetchOnce(),this.props.listeners.add(y.default,"add remove change:variant",()=>{this.state.searchText&&this._handleStickerSearch(this.state.searchText)}),this.state.searchText&&this._handleStickerSearch(this.state.searchText))}componentDidUpdate(e){this.props.selectedStickerPackIndex!==e.selectedStickerPackIndex&&this.setState({searchText:""})}_renderSearchInput(){var e=null;this._searchEnabled&&this.state.showSearchInput&&(e=l.createElement(m.default,{label:p.default.t(1208),onChange:this._handleSearchChange,value:this.state.searchText||"",shadow:!this.state.scrolledToTop,ref:this._setRefSearchInput}));var t=this._fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return l.createElement(C.default,{transitionName:t},e)}_stopEvent(e){e&&(e.preventDefault(),e.stopPropagation())}_getContent(){var e;return(null===(e=this.state.searchText)||void 0===e?void 0:e.trim())?l.createElement(S.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onStickerClick:this._onStickerFromSearch,stickers:this.state.searchResultStickers}):this.props.recentStickersEnabled&&0===this.props.selectedStickerPackIndex?l.createElement(_.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onStickerClick:this._onStickerFromRecent,onStickerEnter:this._onStickerFromRecent}):this.props.starredStickersEnabled&&1===this.props.selectedStickerPackIndex?l.createElement(j.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onStickerClick:this._onStickerFromStarred,onStickerEnter:this._onStickerFromStarred}):l.createElement(E.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker,selectedStickerPackIndex:this.props.selectedStickerPackIndex-this.props.specialItemsCount})}render(){var e=(0,d.default)(this._searchEnabled?h.default.containerSearch:h.default.container);return l.createElement(f.default,{className:e,handlers:(0,u.default)({"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext}),onClick:this._handleContainerClick},l.createElement("div",{className:h.default.bodyContainer},this._renderSearchInput(),l.createElement("div",{className:(0,d.default)(h.default.contentContainer,this._searchEnabled&&h.default.contentContainerSearch),onScroll:this._handleScroll,ref:this._setScrollContainerRef},this._getContent())))}}t.default=M},djhiiadbhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgcgbfbffj")),s=i(a("efajhdaja"));class n extends r.default{}t.default=n,n.model=s.default},djidjciehe:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=a("cbhhehcjbb");function n({href:e,children:t,selectable:a}){return r.createElement(s.SelectableLink,{href:e,title:e,target:"_blank",rel:"noopener noreferrer",selectable:a},t)}n.defaultProps={children:""};var o=n;t.default=o},djiecjceea:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("cgdbgfjefd")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"fhajfeecb",7)).then(e=>e.default),"SendLogsPopup");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(1240),okText:d.default.t(1226),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},djifdhahhd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=a("djfeeacgad");function n(){var e=(0,r.default)([""," called on unretained OpaqueData"]);return n=function(){return e},e}function o(){var e=(0,r.default)([""," called on released OpaqueData"]);return o=function(){return e},e}function d(){var e=(0,r.default)(["OpaqueData:autorelease too many release calls"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["OpaqueData:autorelease called on released object"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["OpaqueData:retain called on released OpaqueData"]);return c=function(){return e},e}var u=[],f=new s.ShiftTimer((function(){var e=u;u=[];for(var t=0;t<e.length;t++){var a=e[t];a._inAutoreleasePool=!1,0!==a._retainCount||a.released||(a.released=!0,a._releaseImpl())}}));t.default=class{constructor(){this._retainCount=1,this._inAutoreleasePool=!1,this.released=!1}retain(){if(this.released)throw __LOG__(3)(c()),new Error("OpaqueData:retain called on released OpaqueData");this._retainCount++}autorelease(){this.released?__LOG__(3)(l()):0===this._retainCount?__LOG__(3)(d()):1===this._retainCount?(this._retainCount=0,this._inAutoreleasePool||(this._inAutoreleasePool=!0,u.push(this),f.onOrBefore(1e3))):this._retainCount--}autoreleaseWhenPromiseCompletes(e){var t=()=>{this.autorelease()};e.then(t,t)}throwIfReleased(e){if(this.released)throw __LOG__(4,!1,new Error)(o(),e),new Error("".concat(e," called on released OpaqueData"));0===this._retainCount&&__LOG__(4,!1,new Error)(n(),e)}_releaseImpl(){throw new Error("OpaqueData:_releaseImpl unimplemented")}}},djihadgbci:function(e,t,a){e.exports=a.p+"img/rooms-dark-2x_e4f7bea856269e5e75cef04bbbf104a4.jpg"},djjefddjdi:function(e,t){e.exports={container:"FBOyr",icon:"_2eGFv",text:"r1Hq8",containerSmallIcon:"_3fmD9"}},djjeigcdbe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]");t.default=i},eabccjaghj:function(e,t){e.exports={footer:"_2wBs9",body:"RUGMB",filler:"lri6L",footerMessage:"_2K2iM",subheader:"_2nMS9"}},eabehhacha:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("eadheehdfd")),l=r(a("cefccdiabc")),c=r(a("gfebgebbi")),u=r(a("bbaacgghch")),f=a("gaifbabbj"),h=r(a("ecdebjcgfa")),p=r(a("dgdcjccfdi")),g=r(a("didfdhbecg"));class m extends n.PureComponent{constructor(...e){super(...e),this.state={hover:!1,contextMenu:!1,forceContextMenu:!1},this.setRefContext=e=>{this.refContext=e},this.setCellFrameDivRef=e=>{this.cellFrameDivRef=e},this.getCellFrameDivRef=()=>this.cellFrameDivRef,this.indicateFocus=()=>{u.default.maybeIndicateFocus(this.cellFrameDivRef,d.default.focusAnimation)},this.handleMenuMouseDown=e=>{var{contextEnabled:t,onContext:a}=this.props,{contextMenu:i}=this.state;(t()||i)&&(e.stopPropagation(),e.preventDefault(),a&&a({anchor:e.target}))},this.handleMenuClick=e=>{e.stopPropagation()},this.onContextMenu=e=>{var{contextEnabled:t,onContext:a}=this.props;t()&&(e.stopPropagation(),e.preventDefault(),a&&a({event:e}))},this.openContextMenu=()=>{this.props.contextEnabled()&&this.setState({contextMenu:!0},()=>{if(!this.refContext)throw new Error("Context ref not set");var e=new MouseEvent("mousedown",{bubbles:!0});this.refContext.dispatchEvent(e)})},this.mouseOver=()=>{this.state.hover||this.state.contextMenu||!this.props.contextEnabled()||this.setState({hover:!0})},this.mouseEnter=()=>{this.state.hover||this.state.contextMenu||!this.props.contextEnabled()||this.setState({hover:!0})},this.mouseLeave=()=>{this.state.hover&&this.setState({hover:!1})}}static getDerivedStateFromProps(e,t){return t.forceContextMenu&&t.contextMenu&&!e.contextMenu?{contextMenu:!1,forceContextMenu:e.contextMenu}:{forceContextMenu:e.contextMenu}}render(){var e=this.state.contextMenu||this.state.hover,t=(0,s.default)(this.props.className,{hover:e}),a="string"==typeof this.props.primary?n.createElement(c.default,{text:this.props.primary,direction:"auto",formatters:f.Configuration.Search({terms:this.props.searchText?[this.props.searchText]:[]}),titlify:!0,ellipsify:!0}):this.props.primary,i=null,r=null;null!=this.props.pendingAction&&this.props.pendingAction>0?r=n.createElement("div",{className:d.default.btnContext},n.createElement(h.default,{size:18,stroke:6,color:"highlight"})):e&&(i=n.createElement("div",{"data-a8n":o.default.key("context-btn"),className:d.default.btnContext,key:"icon-context",ref:this.setRefContext,onMouseDown:this.handleMenuMouseDown,onClick:this.handleMenuClick},n.createElement(p.default,{name:"down"})));var u,m,b=n.createElement(g.default,{transitionName:"fade"},r),v=n.createElement(g.default,{transitionName:"pop-fast-chat"},e?i:null);return null!=this.props.secondary?(u=this.props.primaryDetail,m=[n.createElement(n.Fragment,{key:"prop"},this.props.secondaryDetail),n.createElement(n.Fragment,{key:"spinner"},b),n.createElement(n.Fragment,{key:"button"},v)]):u=[n.createElement(n.Fragment,{key:"prop"},this.props.primaryDetail),n.createElement(n.Fragment,{key:"spinner"},b),n.createElement(n.Fragment,{key:"button"},v)],n.createElement(l.default,{setDivRef:this.setCellFrameDivRef,image:this.props.image,customImage:this.props.customImage,className:t,unread:this.props.unread,active:this.props.active,idle:this.props.idle,isMuted:this.props.isMuted,dragging:this.props.dragging,theme:this.props.theme,primary:a,primaryDetail:u,secondary:this.props.secondary,secondaryDetail:m,detail:this.props.detail,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.contextEnabled()?this.onContextMenu:null,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null})}}t.default=m},eabhibhged:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendStarMsgs=function(e,t,a){var i;s.default.supportsFeature(s.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=o.default.sendMessageStarred(e,t.map(e=>e.id),a).then(e=>{if(200!==e.status)return Promise.reject(new r.ServerStatusCodeError(e.status))});return i},t.sendUnstarAll=function(e,t){var a;s.default.supportsFeature(s.default.F.MD_BACKEND)?a||(a=Promise.resolve()):a=o.default.sendUnstarAll(t).then(e=>{if(200!==e.status)return Promise.reject(new r.ServerStatusCodeError(e.status))});return a.then(()=>s.default.supportsFeature(s.default.F.MD_BACKEND)?(0,n.unstarMessages)(e.map(e=>e.id.toString())):Promise.resolve())};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=a("ecdfgaagba"),o=i(a("cfidecfjad"))},eacdgbfjfi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("ddfeabiaci")),n=i(a("echfhaajdf")),o=i(a("hgigjbgie")),d=a("ddbdgibbbi"),l=i(a("cffajefeag")),c=i(a("jccfhaecf"));function u(){var e=(0,r.default)(["expected tag: received, received tag: ",", tag id: ",""]);return u=function(){return e},e}function f(){var e=(0,r.default)(["expected tag: user, received tag: ",", tag id: ",""]);return f=function(){return e},e}function h(){var e=(0,r.default)(["wap:requestMediaReupload:malformed"]);return h=function(){return e},e}function p(){var e=(0,r.default)(["wap:requestMediaReupload:error ",""]);return p=function(){return e},e}function g(){var e=(0,r.default)(["Assertion failed!"]);return g=function(){return e},e}function m(){var e=(0,r.default)(["wap:requestMediaReupload:error ",""]);return m=function(){return e},e}function b(){var e=(0,r.default)(["bin-recv: response,media"]);return b=function(){return e},e}function v(){var e=(0,r.default)(["bin-recv: response,statusv3"]);return v=function(){return e},e}function _(){var e=(0,r.default)(["bin-recv: response,statusv3"]);return _=function(){return e},e}var E={version:"12",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){return new Promise((e,t)=>{var a=this.queryNode({type:"status"},void 0);this.binSend("sendEphemeral",a,t,{onSend:this.binWrap(a=>{this.BinaryProtocol.read(a).then(t=>{var a={statuses:[]},i=this.N.children(t);if(__LOG__(2)(_()),"response"===this.N.tag(t)&&"status"===this.N.attr("type",t)&&(a.checksum=this.N.attr("checksum",t),Array.isArray(i)))for(var r=i.length,s=0;s<r;s++){var n=i[s],o=this.N.attr("jid",n),d=this.N.attr("unread",n),l=this.N.attr("count",n),c=this.N.attr("t",n),u=this.N.attr("score",n);if("status"===this.N.tag(n)&&o&&l&&c){var f={id:o,unreadCount:parseInt(d,10)||0,totalCount:parseInt(l,10)||0,t:parseInt(c,10)||0,score:parseFloat(u)||0,_msgs:[]},h=this.N.children(n);if(Array.isArray(h))for(var p=h.length,g=0;g<p;g++)switch(this.N.tag(h[g])){default:case"message":var m=this.parseMsgMessage(h[g],"response");m&&f._msgs.push(m);break;case"picture":var b=this.N.children(h[g]);b instanceof ArrayBuffer&&(f.pic=b)}a.statuses.push(f)}}e(a)}).catch(t)},e),onDrop:this.wrap(t)},{debugString:"query,statusv3",metricName:"QUERY_STATUS",ackRequest:!1})})},statusQueryUpdate:function(e,t,a,i){return new Promise((r,s)=>{var n="before"===i?"before":"after",o={type:"status",kind:n,chat:e,count:t.toString(),jid:a?a.remote:void 0,index:a?a.id:void 0,owner:a?a.fromMe.toString():void 0,participant:a?a.participant:void 0},d=this.queryNode(o,void 0);this.binSend("sendEphemeral",d,s,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var t=[],a=this.N.children(e);if(__LOG__(2)(v()),"response"===this.N.tag(e)&&"status"===this.N.attr("type",e)&&Array.isArray(a))for(var i=a.length,s=0;s<i;s++){var n=this.parseMsg(a[s],"response");n&&t.push(n)}r(t)}).catch(s)},r),onDrop:this.wrap(s)},{debugString:["query","statusv3",n,t,a instanceof l.default?a.toString():e].join(),metricName:"QUERY_STATUS_UPDATE",ackRequest:!1})})},sendConversationSeen:function(e,t,a,i,r){return new Promise((s,n)=>{var o=this.actionNode("set",[["read",{kind:i?"status":void 0,chat:i?r:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:a&&t?a.toString():void 0},void 0]]);this.binSend("send",o,n,{clientCacheable:!0,onSend:this.wrap(s),onDrop:this.wrap(n)},{debugString:"action,"+(i?"status":"chat")+",read,"+JSON.stringify(t)+","+a,metricName:"READ",ackRequest:!0})})},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},sendStatusMute:function(e,t){return new Promise((a,i)=>{var r=this.actionNode("set",[["status",{jid:e,mute:(!!t).toString()},void 0]]);this.binSend("send",r,i,{clientCacheable:!0,onSend:this.wrap(a),onDrop:this.wrap(i)},{debugString:"action,status,mute,"+[e,t].join(),metricName:"STATUS",ackRequest:!0})})},requestMediaReupload:function(e,t){return new Promise((a,i)=>{var r=e.id,s=Array.isArray(t)?t.map(e=>["user",{jid:e},void 0]):void 0,n=r,o=this.queryNode({type:"media",index:n.id,jid:n.remote,owner:n.fromMe.toString(),participant:n.participant},s);this.binSend("sendEphemeral",o,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var t;if(__LOG__(2)(b()),"response"===this.N.tag(e)&&"media"===this.N.attr("type",e)){var i=parseInt(this.N.attr("code",e),10)||400,r=this.N.attr("url",e);i>=500&&502!==i?(__LOG__(3)(m(),i),t={status:i}):200===i&&r?t={status:200,url:r,mediaKey:this.N.attr("media_key",e),mediaKeyTimestamp:this.N.attr("media_key_timestamp",e),encFilehash:this.N.attr("enc_filehash",e),directPath:this.N.attr("direct_path",e)}:200!==i||r?(__LOG__(3)(p(),i),t={status:i}):(__LOG__(4,!1,new Error)(g()),SEND_LOGS("wap:requestMediaReupload:emptyUrl"),t={status:400})}else __LOG__(3)(h()),t={status:400};a(t)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t,a=this.N.attr("jid",e),i="false"===this.N.attr("type",e),r="status"===this.N.attr("kind",e),s=this.N.attr("checksum",e),n=this.N.attr("index",e),o="true"===this.N.attr("owner",e),d=this.N.attr("participant",e),c=this.N.attr("chat",e);try{t=new l.default({id:n,fromMe:o,remote:a,participant:d})}catch(e){}var u={type:i?"unread":"read",jid:a,isStatus:r,checksum:s,chat:this.decodeJid(c),key:t},f=[!a,r&&!t];return this.dropIfConditionMet(f,u);case"identity":var h=this.parseIdentity(e);return h?(h.type="identity",h):void 0;default:return}},parseContact:function(e,t){if("user"!==this.N.tag(e))return __LOG__(4,!1,new Error)(f(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var a,i,r=this.N.attr("name",e),s="true"===this.N.attr("enterprise",e),n=this.N.attr("jid",e)||t,d=this.N.attr("short",e)||void 0,l=this.N.attr("type",e)||"in",c=this.N.attr("notify",e),u=this.N.attr("verify",e),h="true"===this.N.attr("status_mute",e),p=this.N.attr("index",e)||void 0,g=this.N.attr("vname",e);switch(u){case"true":case"0":case"1":case"2":a=!0,i=parseInt(u,10)||0;break;default:a=!1,s=!1}r||i!==o.default.VERIFIED_LEVEL.HIGH||(r=g);var m=this.N.children(e),b=[];if(Array.isArray(m))for(var v=0;v<m.length;v++){var _=m[v];if("label"===this.N.tag(_)){var E=this.N.attr("id",_);E&&b.push(E)}}var j={id:n,name:r,type:l,shortName:d,pushname:c,isBusiness:a,verifiedLevel:i,statusMute:h,sectionHeader:p,verifiedName:g,labels:b,isEnterprise:s};return this.dropIfConditionMet([!n,"in"!==l&&"out"!==l&&!!l],j)},parseAck:function(e){if("received"!==this.N.tag(e))return __LOG__(4,!1,new Error)(u(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t,a=this.N.attr("type",e),i=this.N.attr("index",e),r=this.N.attr("jid",e),s="true"===this.N.attr("owner",e),n=this.N.attr("participant",e);switch(a){case"message":t=o.default.ACK.RECEIVED;break;case"read":t=o.default.ACK.READ;break;case"played":t=o.default.ACK.PLAYED;break;case"error":t=o.default.ACK.FAILED;break;case"pending":default:t=o.default.ACK.CLOCK}var l=(0,d.getMaybeMeUser)(),f={cmd:"ack",id:i,ack:t,from:s?l:r,to:s?r:l,participant:n,self:s?"out":"in"},h=[!i,!r,c.default.isStatusV3(r),"message"!==a&&"read"!==a&&"played"!==a&&"error"!==a&&"pending"!==a];return this.dropIfConditionMet(h,f)}},j=(0,s.default)(E,n.default);t.default=j},eacfaaadh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a;if("sticker"!==t.tag(e))return;var i=t.attr("filehash",e);if(!i)return __LOG__(4,!1,new Error)(n()),void SEND_LOGS("sticker-missing-filehash-from-phone");var r={id:i,clientUrl:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:i,uploadhash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10),weight:parseFloat(null!==(a=t.attr("weight",e))&&void 0!==a?a:1)};(!r.mimetype||Number.isNaN(r.width)||Number.isNaN(r.height)||Number.isNaN(r.size))&&__LOG__(3)(s());return r};var r=i(a("dfadhaifh"));function s(){var e=(0,r.default)(["sticker:parse missing preferred fields: "]);return s=function(){return e},e}function n(){var e=(0,r.default)(["filehash is missing in sticker from phone"]);return n=function(){return e},e}},eachhbdced:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(a("cgdhdgchja"))},eacjfeedha:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bdjjabfecc")),d=a("bdfaehgedi"),l=r(a("chhjjadbfi"));t.default=({count:e,textContainerRef:t})=>{var a=o.default.t(1331,{count:o.default.n(e),_plural:e});return n.createElement("div",{className:(0,s.default)(l.default.msgUnread,d.LIST_FOCUSABLE_ITEM_CLASS_NAME),ref:t,tabIndex:-1},n.createElement("span",{className:l.default.msgUnreadBody,"aria-live":"polite"},a))}},eadeeigjeg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("bhbdiadfhj"));function o(){var e=(0,s.default)(["bin-recv: response,sticker"]);return o=function(){return e},e}function d(){var e=(0,s.default)(["bin-recv: response,sticker_pack"]);return d=function(){return e},e}var l={queryStickerPacks:function(e=1,t=50){return new Promise((a,i)=>{var r={type:n.default.isThirdPartyStickersEnabled()?"sticker_pack_v2":"sticker_pack",page:e.toString(),count:t.toString()},s=this.queryNode(r,void 0);this.binSend("sendEphemeral",s,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var t={};if(__LOG__(2)(d()),"response"===this.N.tag(e)&&"sticker_pack"===this.N.attr("type",e)){var i=parseInt(this.N.attr("code",e),10)||200;t.status=i,t.data=[],t.checksum=this.N.attr("checksum",e);var r=this.N.attr("count",e);t.count=null==r?null:parseInt(r,10);var s=this.N.children(e);if(Array.isArray(s))for(var n=0;n<s.length;n++){var o=this.parseStickerPack(s[n]);o&&t.data.push(o)}}a(t)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:"query,sticker_pack",metricName:"QUERY_STICKER_PACKS"})})},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){return new Promise((t,a)=>{var i=(0,r.default)({type:"sticker"},e),s=this.queryNode(i,void 0);this.binSend("sendEphemeral",s,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a={};if(__LOG__(2)(o()),"response"===this.N.tag(e)&&"sticker"===this.N.attr("type",e)){var i=parseInt(this.N.attr("code",e),10)||200;a.status=i,a.data=[];var r=this.N.children(e);if(Array.isArray(r))for(var s=0;s<r.length;s++){var n=this.parseSticker(r[s]);n&&a.data.push(n)}}t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,sticker,".concat(e.id),metricName:"QUERY_STICKERS"})})},parseSticker:function(e){if("sticker"===this.N.tag(e)){var t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0}},parseStickerPack:function(e){if("sticker_pack"===this.N.tag(e)){var t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0}},parseStickerPackUpdate:function(e){if("sticker_pack"===this.N.tag(e)){var t=this.N.attr("type",e);return this.dropIfConditionMet([!t],{type:t})}}};t.default=l},eadheehdfd:function(e,t){e.exports={btnContext:"tRtcW",focusAnimation:"qrhVQ",focusAnimationKeyframes:"EprBc"}},eadihadfde:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=i(a("ieeidjijb")),d=r(a("bicdafdfjb")),l=r(a("ebddggeaib")),c=r(a("didfdhbecg"));class u extends n.Component{constructor(e){super(e),this.renderPills=e=>{var{useShortName:t,isDisabled:a,onDelete:i}=this.props;return e.length?e.map(e=>{var r=a&&a(e.id)?null:{onDelete:i};return n.createElement(o.default,(0,s.default)({contact:e,useShortName:t},r,{type:o.Type.SMALL,key:e.id.toString(),theme:"list-names",waitIdle:!0}))}):null},this.props.listeners.add(this.props.selections,"all",()=>{this.forceUpdate()})}componentDidMount(){this.forceUpdate()}render(){return n.createElement(c.default,{transitionName:"slide-up-down-footer",className:d.default.selectedListContainer},this.renderPills(this.props.selections.getSelected()))}}var f=(0,l.default)(u);t.default=f},eaeccjdifj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,i=function(e){return(t,a)=>{__LOG__(3)(l(),t.stack);var i=a>1?"s":"",r="loadable:".concat(e," failed to load after [").concat(a,"] attempt").concat(i);__LOG__(4,!1,new Error)(d()),SEND_LOGS(r)}}(t),s="INIT",c=0;return function d(){switch(s){case"INIT":case"FAILURE":return s="INFLIGHT",a=e().then(e=>(e||i(new Error("Lazyload response is empty"),c),s="SUCCESS",e)).catch(function(){var e=(0,r.default)((function*(e){if(__LOG__(3)(o(),t),s="FAILURE",++c<=10)return yield Promise.delay(1e3*c),d();throw i(e,c),e}));return function(){return e.apply(this,arguments)}}());case"INFLIGHT":case"SUCCESS":return(0,n.default)(a,"inflightPromise");default:throw new Error("retriable_promise_hoc:promiseStatus is invalid")}}};var r=i(a("ffedgcdgj")),s=i(a("dfadhaifh")),n=i(a("cahfddcdga"));function o(){var e=(0,s.default)(["Lazyload failure for component ",""]);return o=function(){return e},e}function d(){var e=(0,s.default)(["Failed to load a component"]);return d=function(){return e},e}function l(){var e=(0,s.default)(["Loadable error: ",""]);return l=function(){return e},e}},eaejddjjib:function(e,t){e.exports={panelContainer:"s-vzs",panelDropdown:"H7yft"}},eaejdgfgif:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dcaifjegcg"));class s extends r.default{constructor(...e){super(...e),this.id=(0,r.prop)(),this.variant=(0,r.prop)()}}s.Proxy="emojiVariant";var n=(0,r.defineModel)(s);t.default=n},eaejieeafc:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dcaifjegcg"));a("dbjbdhhhea");class s extends r.default{constructor(...e){super(...e),this.id=(0,r.prop)(),this.parentType=(0,r.prop)(),this.parentId=(0,r.prop)(),this.labelId=(0,r.prop)()}}s.Proxy="labelItem";var n=(0,r.defineModel)(s);t.default=n},eafbbijijj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{displayAuthor:t,msg:a}=e,i=a.list;if(!i)return null;var r=(0,d.Configuration.TrustedConversation)({mentions:a.mentionMap(),links:a.getLinks(),selectable:!0}),m=s.createElement(o.default,{selectable:!0,text:i.title,ellipsify:!0,className:c.default.title,formatters:r,direction:a.dir}),b=s.createElement(o.default,{text:i.description,dirMismatch:a.rtl!==l.default.isRTL(),direction:a.dir,inferLinesDirection:!0,formatters:r}),v=s.createElement("div",{className:c.default.meta},s.createElement(h.default,{msg:a})),_=s.createElement("div",{className:c.default.actionContainer},s.createElement("div",{className:c.default.action,role:"button",onClick:t=>{t&&t.stopPropagation(),n.default.openModal(s.createElement(u.default,{msg:e.msg}))},title:i.buttonText},s.createElement(p.default,{name:"list-msg-icon",className:c.default.icon}),i.buttonText));return s.createElement("div",{className:c.default.bubble},s.createElement(g.default,{msg:a,displayAuthor:t,hideMeta:!0},s.createElement("div",{className:c.default.container},m,s.createElement(f.default,{msg:a.unsafe(),"data-id":a.id},b,v),_)))};var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("gfebgebbi")),d=a("gaifbabbj"),l=i(a("bdjjabfecc")),c=i(a("baadgiggci")),u=i(a("bbdjghabi")),f=i(a("fjgaiebfh")),h=i(a("deeafjfccb")),p=i(a("dgdcjccfdi")),g=i(a("dgfgceghic"))},eafdabbdgj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ceffhbhahb")),o=i(a("cgbigfaejj")),d=({children:e,side:t,ellipsify:a,onClick:i})=>{var r=(0,n.default)({[o.default.clickable]:i}),d=(0,n.default)(o.default.main,{[o.default.mainEllipsify]:a}),l=null!=t?s.createElement("div",{className:o.default.side},t):null;return s.createElement("div",{className:r,onClick:i},s.createElement("div",{className:o.default.body},s.createElement("div",{className:d},e),l))};t.default=d},eafdefgjic:function(e,t,a){e.exports=function(){return new Worker(a.p+"6c656e01ad72f6af4da2.worker.js")}},eafejccch:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetBlock=function(e,t){var a;s.default.supportsFeature(s.default.F.MD_BACKEND)?a||(a=Promise.reject(new Error("Should not reach here"))):a=n.default.sendSetBlock(e,[{jid:t}]).then(e=>{if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return!(e._duplicate||200!==e.status)});return a.then(e=>(e&&s.default.supportsFeature(s.default.F.MD_BACKEND),e))};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},eagbefbhib:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=(i(a("hgigjbgie")),i(a("gfebgebbi"))),o=a("gaifbabbj"),d=i(a("bdjjabfecc")),l=i(a("fgceiichf")),c=i(a("fjgaiebfh")),u=i(a("deeafjfccb")),f=i(a("bbdejcifaj")),h=i(a("dcdbbhicce"));class p extends s.Component{render(){var e,t=this.props.msg,a=t.paymentNoteMsg&&t.paymentNoteMsg.body,i=null;if(a){var r=(t.isTrusted()?o.Configuration.TrustedConversation:o.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks()});i=s.createElement("div",{className:f.default.caption},s.createElement(c.default,{msg:t.unsafe()},s.createElement(n.default,{text:a,selectable:!0,formatters:r,dirMismatch:t.rtl!==d.default.isRTL(),direction:t.dir})))}else e=s.createElement("div",{className:f.default.meta},s.createElement(u.default,{msg:t}));return s.createElement(l.default,{displayAuthor:this.props.displayAuthor,displayType:this.props.displayType,hasCaption:!!i,msg:t,quotedMsg:this.props.quotedMsg,hideMeta:!a},this.props.paymentInfo,e,i)}}p.CONCERNS={msg:["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]};var g=(0,h.default)(p,p.CONCERNS);t.default=g},eagefjjebh:function(e,t){e.exports={"-blur-radius":"8px",blurRadius:"8px",container:"_2Fsqz"}},eageibbbbb:function(e,t){e.exports={body:"lJ_OP",icon:"_2UdFe",wrapper:"_1350W",container:"_kI1X",focusBorder:"_2e73I",preview:"_1-rz0"}},eaghcggcie:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("fhbcihae")),o=i(a("cjajfebfaj")),d=i(a("ccbgfecegc")),l=i(a("bjigbaghc")),c=i(a("hhcjfgifh")),u=a("ddbdgibbbi"),f=i(a("bhbdiadfhj")),h=i(a("bdjjabfecc")),p=i(a("ebddggeaib")),g=a("cadfgefaja"),m=i(a("dagdiahdfi")),b=i(a("eajighiif")),v=i(a("daehjhdfgf")),_=i(a("dhefcajhhb")),E=i(a("dcdbbhicce")),j=i(a("gbbacfeci")),y=i(a("bheceefbae")),S=i(a("dgdcjccfdi")),C=i(a("diffaiehid")),M=r(a("bjhgigfbec")),T=i(a("didfdhbecg"));class P extends s.Component{constructor(){super(...arguments),this.onWindowFocus=()=>{},this.onMouseDown=()=>{},this.onDrag=()=>{this.didDrag=!0},this.onClickCapture=()=>{},this.onNewChat=e=>{e.preventDefault(),d.default.openDrawerLeft(s.createElement(b.default,null))},this.onProfile=()=>{var e=(0,u.getMaybeMeUser)(),t=j.default.assertGet(e),a=_.default.assertGet(e);d.default.openDrawerLeft(s.createElement(v.default,{status:t,profilePicThumb:a,conn:l.default}))},this.onUnmute=()=>{m.default.globalMute().unmute(),d.default.openToast(s.createElement(M.default,{msg:h.default.t(662),id:(0,M.genId)()}))},this.state={}}componentDidMount(){}render(){var e=null;this.props.mute.isMuted&&(e=s.createElement(g.MenuBarItem,{a8nText:"menu-bar-unmute",icon:s.createElement(S.default,{name:"dnd"}),title:h.default.t(661),onClick:this.onUnmute,key:"btn-dnd"}));var t=null;return f.default.supportsFeature(f.default.F.STATUS_V3_UI_VIEWING)&&(t=s.createElement(y.default,null)),s.createElement("header",{className:n.default.header,onMouseDown:this.onMouseDown,onClickCapture:this.onClickCapture},s.createElement("div",{className:n.default.listUser},s.createElement(c.default,{id:(0,u.getMaybeMeUser)(),size:40,onClick:this.onProfile})),s.createElement("div",{className:n.default.listControls},s.createElement(g.MenuBar,{key:"chatlist-header"},s.createElement(T.default,{transitionName:"btn"},e,t,s.createElement(g.MenuBarItem,{a8nText:"menu-bar-chat",icon:s.createElement(S.default,{name:"chat",directional:!0}),title:h.default.t(1632),onClick:this.onNewChat}),s.createElement(g.MenuBarItem,{a8nText:"menu-bar-menu",icon:s.createElement(S.default,{name:"menu"}),title:h.default.t(881)},s.createElement(o.default,null))))))}}P.CONCERNS={mute:["isMuted"]};var O=(0,C.default)((0,p.default)((0,E.default)(P,P.CONCERNS)));t.default=O},eahbjghegg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=a("djaiggcdb"),l=i(a("bdjjabfecc")),c=i(a("bdcchebfge")),u=i(a("bbgcdfeifh")),f=i(a("bfgbdiffgd")),h=a("bficeagfg"),p=i(a("edbaidcaf"));class g extends s.Component{constructor(...e){super(...e),this.onOK=()=>{var{messageText:e}=this.props,t=(0,h.firstNEncodedBytes)(e,2e3),a=5===f.default.frequentlyForwardedThreshold?"wa":"wa".concat(f.default.frequentlyForwardedThreshold),i=p.default.build("https://www.google.com/search",{ctx:a,q:t});(0,d.openExternalLink)(i),(new c.default.HfmTextSearchComplete).commit(),n.default.closeModal()},this.onClose=()=>{n.default.closeModal()}}render(){return u.default.online?s.createElement(o.default,{cancelText:l.default.t(1497),onCancel:this.onClose,okText:l.default.t(1209),onOK:this.onOK},l.default.t(1211)):s.createElement(o.default,{okText:l.default.t(1649),onOK:this.onClose},l.default.t(1210))}}t.default=g},eaibdiadeg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("jedabbcee")),s={queryRecentStickers:function(){return new Promise((e,t)=>{var a=this.queryNode({type:"recent_stickers"},void 0);this.binSend("sendEphemeral",a,t,{onSend:this.binWrap(a=>{this.BinaryProtocol.read(a).then(e=>(0,r.default)(e,this.N,"recent_stickers")).then(e,t)},e),onDrop:this.wrap(t)},{debugString:"query,recent_stickers",metricName:"QUERY_RECENT_STICKERS"})})}};t.default=s},eaibdijehg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t,a=100,r=100){return(0,i.queryProduct)(e,t,a,r)},t.queryCatalog=function(e,t,a=5,r=100,s=100){return(0,i.queryCatalog)(e,t,a,r,s)},t.reportProduct=function(e,t,a){return(0,i.reportProduct)(e,t,a)},t.createBusinessCatalog=function(){return(0,i.createCatalog)()},t.addProduct=function(e,t=100,a=100){return(0,i.addProduct)(e,t,a)},t.editProduct=function(e,t=100,a=100){return(0,i.editProduct)(e,t,a)},t.deleteProducts=function(e){return(0,i.deleteProducts)(e)};var i=a("bhgfchijhg")},eajcbddhd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=o[e];a&&(t=r.default.getSkinToneBase(a)&&s.default.getVariant(a));return t||a},t.backwardsEmojiTextsTrie=void 0;var r=i(a("djegeegcbf")),s=i(a("dfbhcehadj")),n=i(a("cjdfbfihbe")),o={"(y)":"👍","(Y)":"👍","(n)":"👎","(N)":"👎",":-)":"🙂",":-(":"🙁",":-p":"😛",":-P":"😛",":-|":"😐",":-\\":"😕",":-D":"😀",":-*":"😘",":-o":"😮","<3":"❤️","^_^":"😁",">_<":"😆",";-)":"😉"};var d=Object.keys(o),l=n.default.fromBackwardsStrings(d);t.backwardsEmojiTextsTrie=l},eajgjhcbje:function(e,t){e.exports={bubble:"_23z4j",templateBubble:"_2h4eC",isPreview:"Ibxqs",isGallery:"_3UY7-",container:"_4NdIu",deepContainerContent:"ICvlM",docMeta:"_3tn5B",metaValue:"_3k59q",text:"_2K5wo",icon:"l2z-S",filetypeIcon:"_3PE9b",thumb:"_1kOOx",ctwaContext:"_2IZOc"}},eajighiif:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"gddidehjd",7)).then(e=>e.default),"NewChatFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},ebagcghdei:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bfefjaegfe"));class s{static tag(e){return e&&e[0]}static attr(e,t){return t&&t[1]?t[1][e]:void 0}static attrs(e){return e[1]}static child(e,t){var a=t[2];if(Array.isArray(a))for(var i=a.length,r=0;r<i;r++){var s=a[r];if(Array.isArray(s)&&s[0]===e)return s}}static firstChild(e){var t=e[2];if(Array.isArray(t))return t[0]}static children(e,t){if(!t)return e&&e[2];var a=e[2];return Array.isArray(a)?a.filter(e=>e[0]===t):void 0}static dataStr(e){if(!e)return"";var t=e[2];return"string"==typeof t?t:t instanceof ArrayBuffer?new r.default(t).readString(t.byteLength):""}static toString(e,t){if(!e)return"undefined";var a=function(e,t){if(e){var a="";for(var i in e){var r="string"==typeof e[i]?t?"...":'"'+e[i]+'"':e[i];a+=" "+i+"="+r}return a}return""}(e[1],t),i=function(e,t){if(e instanceof ArrayBuffer)return"<<bin:"+e.byteLength+">>";if("string"==typeof e)return t?"<<string:"+e.length+">>":e;if(Array.isArray(e))return e.map(e=>s.toString(e,t)).join("\n");return""}(e[2],t);return"<"+e[0]+a+(i?">\n"+i+"\n</"+e[0]+">":"/>")}}t.default=s},ebbjbbjjg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PresenceCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("igjghefdb")),n=a("cbgjbaaigi"),o=i(a("jccfhaecf"));class d extends r.default{_find(e){return!this.gadd(e).isUser||o.default.isServer(e)||o.default.isPSA(e)?Promise.resolve({id:e}):(0,n.subscribePresence)(e).then(()=>({id:e}))}clearAllPresence(){this.forEach(e=>{e.reset(),e.set({stale:!0,isSubscribed:!1})})}}t.PresenceCollection=d,d.model=s.default,d.staleCollection=!0;var l=new d;t.default=l},ebbjcigbjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bafhiehiig")),o=i(a("bhbdiadfhj")),d=i(a("hgeacfdgi")),l=i(a("ebddggeaib")),c=i(a("didfdhbecg")),u=i(a("didcgchdde")),f=i(a("daaidbiabb")),h=i(a("bjjjgbhjf"));class p extends s.Component{constructor(...e){super(...e),this.state={isOpen:!1},this.openVoipWindow=()=>{o.default.supportsFeature(o.default.F.WEB_VOIP_VOICE_CALL)&&this.setState({isOpen:!0})},this.closeVoipWindow=()=>{this.setState({isOpen:!1})},this.onCallAccept=()=>{},this.onCallReject=()=>{this.setState({isOpen:!1})},this.onCallEnd=()=>{this.setState({isOpen:!1})}}componentDidMount(){u.default.register(this)}componentWillUnmount(){u.default.unregister()}render(){return this.state.isOpen?s.createElement(c.default,{transitionName:"voip",className:f.default.wrapper,component:"div"},s.createElement(n.default,null,s.createElement(h.default,{callUi:d.default,onCallAccept:this.onCallAccept,onCallReject:this.onCallReject,onCallEnd:this.onCallEnd}))):null}}var g=(0,l.default)(p);t.default=g},ebcbjgibea:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({animationFrames:e,signal:t,onFrameChange:a,shouldStop:i}){if(t.aborted)return Promise.reject(new r.default);if(0===e.length)return Promise.resolve();var s=(new Date).getTime(),n=0,o=0,d=s,l=()=>{};return new Promise((s,c)=>{var u=()=>{0!==n&&window.cancelAnimationFrame(n),c(new r.default)};t.addEventListener("abort",u),l=()=>{t.removeEventListener("abort",u)};var f=()=>{var t=(new Date).getTime();if(t<d)n=window.requestAnimationFrame(f);else{var{duration:r,rgbaBuffer:l}=e[o];a(l),o=(o+1)%e.length,d=t+r,1===o&&i()?s():n=window.requestAnimationFrame(f)}};n=window.requestAnimationFrame(f)}).finally(()=>{l()})};var r=i(a("cgijjjgici"))},ebcceegfbd:function(e,t){e.exports={tooltip:"_1HLKf","tooltip-left-ltr":"H_7j6",tooltipLeftLtr:"H_7j6","tooltip-left-rtl":"AXD2a",tooltipLeftRtl:"AXD2a"}},ebcdfgeea:function(e,t){e.exports={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",container:"_1Zn8y",title:"_2BO1s"}},ebcfjdcbhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hgigjbgie")),s=window.matchMedia("\nonly screen and (max-width: ".concat(r.default.LAYOUT_2COLUMNS_MAX_WIDTH,"px)\n")),n={column:s.matches?2:3};s.addListener((function(e){var t=e.matches?2:3;if(n.column!==t){n.column=t;var a=document.createEvent("Event");a.initEvent("columnChange",!0,!0),window.dispatchEvent(a)}}));var o=n;t.default=o},ebebhdija:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ccjgiajgj")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("cgijjjgici")),l=r(a("bifdidcecg")),c=r(a("cdeehfbaib")),u=r(a("cighbcgfig")),f=r(a("ccbgfecegc")),h=r(a("jhijifcjh")),p=r(a("hgigjbgie")),g=r(a("cfhchagia")),m=r(a("bggagdeaef")),b=r(a("eabccjaghj")),v=r(a("ccfeegdgeg")),_=r(a("dcjhajfghf")),E=r(a("cbcchiaeeb")),j=i(a("cajijabhgb")),y=a("ddbdgibbbi"),S=r(a("djdhjggcbi")),C=r(a("bhbdiadfhj")),M=r(a("dehbjgbcb")),T=r(a("cjhjibibig")),P=a("dhegcfddhg"),O=r(a("bdjjabfecc")),N=r(a("ebddggeaib")),I=r(a("bdcchebfge")),A=r(a("cfccjacgje")),w=r(a("dceicchccd")),R=r(a("cahfddcdga")),D=r(a("dhccahhefj")),L=r(a("bfgbdiffgd")),k=r(a("cgjdibiahi")),x=r(a("bcifhbgija")),G=r(a("didfdhbecg"));class U extends n.Component{constructor(e){super(e),this.fillerHeight=0,this.maybeOpenEphemeralNUX=()=>{var{chat:e}=this.props;(0,y.shouldShowNUX)(p.default.NUX.EPHEMERAL)&&e.isEphemeralSettingOn()&&f.default.ephemeralDrawer(e)},this.updateAnnounceGrpState=()=>{this.forceUpdate()},this.onComposeState=()=>{var e=this.props.chat.canSend;this.state.canCompose!==e&&(e||(this.fillerHeight=0),this.setState({canCompose:e}))},this.onComposeHeightChange=({input:e,overlay:t=0},a)=>{var i=this.refMsgPanel;if(i&&this.msgs){var r=this.msgs.getScrollBottom();if(void 0===e){if(a)return this.fillerHeight=t,void(this.refFiller&&(this.refFiller.style.height="".concat(this.fillerHeight,"px"),this.msgs.setScrollBottom(r)));this.fillerHeight+=t,t<0&&(this.refFiller&&(this.refFiller.style.height="".concat(this.fillerHeight,"px")),this.msgs&&this.msgs.setScrollBottom(r)),this.msgPanelAnimation&&(this.didCancel=!0,this.msgPanelAnimation.cancel()),this.msgPanelAnimation=(this.msgPanelAnimation||Promise.resolve()).then(()=>(0,x.default)(i,{translateY:t>0?[-t,0]:[0,t]},{duration:300,easing:[.1,.82,.25,1]})).cancellable().catchType(j.Unmount,()=>{}).then(()=>{t>0&&this.refFiller&&(this.refFiller.style.height="".concat(this.fillerHeight,"px")),i.style.transform="",this.msgs&&t>0&&this.msgs.setScrollBottom(r)}).catchType(Promise.CancellationError,()=>{(0,x.default)(i,"finish",!0)}).then(()=>{this.didCancel?this.didCancel=!1:this.msgPanelAnimation=void 0})}else this.msgs.onComposeHeightChange(e)}},this.onSelectMessages=()=>{this.state.selectable||this.setState({selectable:!0})},this.onCancelSelection=()=>{this.state.selectable&&(this.selectedMessages.unsetAll(),this.setState({selectable:!1}))},this.onMessageSelect=(e,t,a)=>{this.onSelectMessages();var i=this.selectedMessages.getSelected().pop(),r=a&&a.shiftKey;this.selectedMessages.setVal(e,t,!0),r&&this.selectMsgRange(i,e,t)},this.selectMsgRange=(e,t,a)=>{var{msgCollection:i}=this.props;if(e&&i){var r=i.indexOf(e);if(r)for(var s=i.indexOf(t),n=s>r?-1:1,o=r+(a?n:s<r?0:2*n);s!==o;)this.selectedMessages.setVal((0,R.default)(i.at(s),"msgCollection.at(currentSelectedIndex)"),a,!0),s+=n}},this.onPageUpDown=e=>{this.msgs.onPageUpDown(e)},this.onDragStart=()=>{this.state.canCompose&&(this.blockDrop=!0)},this.onDragEnd=()=>{this.state.canCompose&&(this.blockDrop=!1)},this.onDragEnter=e=>{if(this.state.canCompose){this.onCancelSelection();var t=new _.default(e.dataTransfer);this.ComposeBoxRef&&!this.blockDrop&&(t.hasType("Files")||t.hasType("text/uri-list")||t.hasType("text/html"))&&(this.ComposeBoxRef.saveComposeContentDebounced.flush(),f.default.attachMediaDrawer({chat:this.props.chat,initCaption:this.ComposeBoxRef.getCurrentComposeContent(),onComplete:this.ComposeBoxRef.updateTextAfterMediaDrawerClose}),e.stopPropagation(),e.preventDefault())}},this.setRefFiller=e=>{this.refFiller=e},this.setRefMsgPanel=e=>{this.refMsgPanel=e},this.handleSetRefHeader=e=>{this.refHeader=e},this.getHeaderOffset=e=>{if(this.refHeader){var t=this.refHeader.getBoundingClientRect();e((0,s.default)(t,["right","bottom"]))}else e(null)},this.closeGroupDescription=()=>{this.setState({showGroupDesc:!1})},this.getMsgs=(0,P.GetRef)("msgs",this);var{chat:t}=this.props;this.selectedMessages=new w.default([],e=>e.id.toString()),this.state={canCompose:t.canSend,selectable:!1,showGroupDesc:t.isGroup&&this.showGroupDesc()},this.openEvent=new I.default.WebcChatOpen({webcUnreadCount:t.unreadCount,webcWindowHeight:(0,S.default)()}),this.uiActionEvent=new I.default.UiAction({uiActionType:I.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0})}showGroupDesc(){if(!(C.default.supportsFeature(C.default.F.GROUPS_V_3)&&L.default.groupDescLength>0))return!1;var{chat:e}=this.props;return!(0,y.getSeenGroupDesc)(e.id)&&((0,y.setSeenGroupDesc)(e.id),0===e.unreadCount?!e.msgs.some(e=>e.type!==p.default.MSG_TYPE.E2E_NOTIFICATION&&e.type!==p.default.MSG_TYPE.GP2):!e.shouldShowUnreadDivider)}componentDidMount(){var{chat:e}=this.props;this.props.listeners.add(e,"change:canSend",this.onComposeState),this.props.listeners.add(e,"change:isReadOnly change:isAnnounceGrpRestrict",this.updateAnnounceGrpState),this.props.listeners.add(f.default,"get_conversation_header_offset",this.getHeaderOffset),this.props.listeners.add(e.msgs,"remove",e=>{this.selectedMessages.isSelected(e)&&this.onMessageSelect(e,!1)});var t=e.getReceivedVcardMsgs();t&&!t.isSynced&&t.sync(e),e.active=!0;var a=this.openEvent;if(a){this.openEvent=null,this.msgs&&(a.webcRenderedMessageCount=this.msgs.getRenderedMessageCount()),a.markWebcChatOpenT(),this._beforePaintRafId=requestAnimationFrame(()=>{this._beforePaintRafId=null,a.markWebcChatOpenBeforePaintT()});var i=this.props.rejectOnUnmount();(0,E.default)({signal:i}).then(()=>{i.isRejected()||(this.msgs&&(a.webcFinalRenderedMessageCount=this.msgs.getRenderedMessageCount()),a.markWebcChatOpenPaintedT(),a.commit())}).catchType(d.default,()=>{})}var r=this.uiActionEvent;r&&(r.markUiActionT(),r.commit(),this.uiActionEvent=void 0),e.attachMediaContents&&f.default.attachMediaDrawer({chat:e,animationName:"noop"}),L.default.ephemeralMessages&&(0,y.shouldShowNUX)(p.default.NUX.EPHEMERAL)&&e.isEphemeralSettingOn()&&f.default.ephemeralDrawer(e),L.default.ephemeralMessages&&(0,y.shouldShowNUX)(p.default.NUX.EPHEMERAL)&&(e.isGroup?this.props.listeners.add(e.groupMetadata,"change:ephemeralDuration",this.maybeOpenEphemeralNUX):e.isUser&&this.props.listeners.add(e,"change:ephemeralDuration",this.maybeOpenEphemeralNUX))}componentWillUnmount(){var{chat:e}=this.props;e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),e.active=!1,null!=this._beforePaintRafId&&cancelAnimationFrame(this._beforePaintRafId)}render(){var e,t,a,i,{chat:r,msgCollection:s,focusCtx:d,groupMetadata:f}=this.props;if(this.state.showGroupDesc&&f&&f.desc&&(i=n.createElement(k.default,{displayName:"GroupDesc",escapable:!0,requestDismiss:this.closeGroupDescription},n.createElement(v.default,{onClose:this.closeGroupDescription},n.createElement(M.default,{chat:r,groupMetadata:f})))),this.state.selectable)t=n.createElement(k.default,{displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},n.createElement(A.default,{chat:r,selectedMessages:this.selectedMessages,disableRevoke:!1,noSortOnForward:!1,onCancel:this.onCancelSelection})),e=n.createElement("footer",{className:b.default.footer}),a=n.createElement("div",{ref:this.setRefFiller,className:b.default.filler});else if(this.state.canCompose)e=n.createElement(h.default,{chat:r,ref:(0,P.GetRef)("ComposeBoxRef",this),onComposeHeightChange:this.onComposeHeightChange,onPageUpDown:this.onPageUpDown}),a=n.createElement("div",{ref:this.setRefFiller,style:{height:"".concat(this.fillerHeight,"px")},className:b.default.filler});else{var p,_;r.isGroup&&!r.isReadOnly&&r.isAnnounceGrpRestrict&&f?p=n.createElement(l.default,{chat:r,groupMetadata:f,mute:r.mute}):_=r.isGroup?f.support?O.default.t(1286):O.default.t(1498):r.isPSA?O.default.t(1703):O.default.t(1499,{contact:r.contact.formattedName}),e=n.createElement("footer",{className:b.default.footer},n.createElement("div",{"data-a8n":o.default.key("block-message"),className:b.default.footerMessage},p||_))}return n.createElement(n.Fragment,null,n.createElement(g.default,{wallpaperColor:this.props.wallpaperColor,showDoodle:this.props.chatPreference.showDoodle}),n.createElement(T.default,{chat:r,onSelectMessages:this.onSelectMessages,onRef:this.handleSetRefHeader}),n.createElement(G.default,{transitionName:"butterbar",className:b.default.subheader},i),n.createElement("div",{className:b.default.subheader},n.createElement(c.default,{chat:r})),n.createElement("div",{className:b.default.body,ref:this.setRefMsgPanel,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter},n.createElement(m.default,{ref:this.getMsgs,chat:r,selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,msgCollection:s,onSelectMessages:this.onSelectMessages,focusCtx:d,selectedMessages:this.selectedMessages,notifyChatRendered:this.props.notifyChatRendered,updateOpenedChatInfo:this.props.updateOpenedChatInfo})),a,e,n.createElement(G.default,{transitionName:"slide-up"},t),n.createElement(u.default,null))}}var F=(0,D.default)((0,N.default)(U));t.default=F},ebedjbfgdc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]}},ebefiffbbj:function(e,t){e.exports={container:"_3QMia",child:"_1kqM-"}},ebfbbaecji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")}},ebfebiicef:function(e,t){e.exports={button:"_3gSbb",buttonIcon:"zwbRq",nextButton:"_3WyzP",prevButton:"_2xh8o",resizeContainer:"_3gEar"}},ebffbebefe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.unstarAllMessages=function(e,t){return function e(t,i){var r=a("dbdfbgehgj").default,s=i?i.promises:r.promises,p=i?i.id:void 0;if(s.sendUnstarAll)return s.sendUnstarAll;var m=s.sendUnstarAll=(0,u.sendUnstarAll)(t,p),b=new o.ActionType(c.default.t(130)),v=m.then(()=>new o.ActionType(c.default.t(128))).catchType(l.ServerStatusCodeError,e=>{if(e.statusCode>=400)return new o.ActionType(c.default.t(124))}).catch(()=>(__LOG__(3)(g()),new o.ActionType(c.default.t(124),c.default.t(174),()=>e(t,i))));return d.default.openToast(n.createElement(o.ActionToast,{id:(0,o.genId)(),initialAction:b,pendingAction:v})),m.then(()=>{t.forEach(e=>{e.set("star",!1)}),i?(0,h.removeStarredMsgs)(t):(h.default.reset(),f.default.reset(),r.forEach(e=>{e.starredMsgs&&e.starredMsgs.reset()}))}).finally(()=>{s.sendUnstarAll=null})}(e,t?(0,p.unproxy)(t):t)};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=a("dheeaichcj"),d=r(a("ccbgfecegc")),l=a("bgihjbde"),c=r(a("bdjjabfecc")),u=a("eabhibhged"),f=r(a("dfgeejdaib")),h=i(a("djfhiceeje")),p=a("cjfegjecaj");function g(){var e=(0,s.default)(["models:chat:sendUnstarAll dropped"]);return g=function(){return e},e}},ebfffgeaff:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"cejgggcehb",7)).then(e=>e.default),"AttachMediaFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},ebfjgifffc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ebjaejiaba")),o=r(a("dighcbdehd")),d=i(a("dbdfbgehgj")),l=i(a("cjbhjhdaeh")),c=i(a("ccbgfecegc")),u=i(a("dhigahgdjb")),f=a("cdhbdacigj"),h=r(a("bgheieccaj")),p=i(a("ddajbaceej")),g=a("dgjddffcfg"),m=i(a("bhbdiadfhj")),b=i(a("bdjjabfecc")),v=i(a("cbbghihadb")),_=i(a("baabifghjg")),E=i(a("bfgbdiffgd")),j=r(a("bjhgigfbec")),y=i(a("ffjhaheei")),S="SEC_FREQUENT_CONTACTS",C="SEC_CHATS",M="SEC_CONTACTS",T="ROW_FREQUENT_CONTACTS",P="ROW_CHATS",O="ROW_CONTACTS";class N extends s.Component{constructor(...e){super(...e),this.setSearch=e=>{this.search=e},this.setList=e=>{this.list=e},this.state={filteredData:this.calculateFilteredData(this.props.searchText)},this._handleRef=e=>{this._refHotKey=e},this.onCancelSelection=()=>{this.props.selections.unsetAll()},this._handleSelect=(e,t,a)=>{var{selections:i,maxChats:r,active:n,onSelectionChanged:o,hasFrequentlyForwarded:d}=this.props;if(t&&"number"==typeof r&&i.getSelected().length>=r){var l=E.default.hfmStringChanges?b.default.t(624,{count:r,_plural:r}):b.default.t(623,{count:r,_plural:r}),u=d?l:b.default.t(622,{count:r,_plural:r});c.default.openToast(s.createElement(j.default,{id:(0,j.genId)(),msg:u}))}else i.setVal(e,t,a),n.setVal(e,a),o&&o(e,t)},this._handleIndexChange=e=>{var t;null===(t=this.list)||void 0===t||t.scrollIntoViewIfNeeded(e)},this._renderItem=e=>{switch(e.type){case S:return s.createElement(_.default,{header:b.default.t(1545)});case C:return s.createElement(_.default,{header:b.default.t(1704)});case M:return s.createElement(_.default,{header:b.default.t(1650)});case T:case P:case O:var t,{data:a}=e,i=!1;this.props.hasFrequentlyForwarded&&a.groupMetadata&&a.groupMetadata.noFrequentlyForwarded&&(i=!0,t=b.default.t(629));var r=()=>this._onChatClick(a);return s.createElement(l.default,{key:a.id.toString(),model:a,selections:this.props.selections},a instanceof n.default?s.createElement(o.default,{theme:i?"chat-checkbox-no-delete":"chat-checkbox",active:this.props.active,chat:a,mode:o.Mode.INFO,noContext:!0,onClick:r,secondary:t,showEphemeralIcon:this.props.showEphemeralIcon}):s.createElement(y.default,{contact:a,onSelect:r,customSecondaryText:t,active:this.props.active,showEphemeralIcon:this.props.showEphemeralIcon}));default:throw new h.UnknownDataError(e)}}}componentDidMount(){this.props.active.init(this._flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(e=>this.props.selections.setVal(e,!0))}componentDidUpdate(e){if(this.props.searchText!==e.searchText){var t=this.calculateFilteredData(this.props.searchText);this.setState({filteredData:t}),this.props.active.init(this._flattenData(t))}}calculateFrequentContacts(e){var{msgType:t,excludeChat:a}=this.props;return e||!m.default.supportsFeature(m.default.F.FREQUENT_CONTACTS)?[]:u.default.frequentContacts(t,a)}calculateFilteredChats(e){var t=e;if(t){t=b.default.accentFold(t);var a=(0,g.numberSearch)(t);return d.default.filter((function(e){return e.canSend&&e.shouldAppearInList&&e.contact.searchMatch(t,a)}))}return d.default.filter((function(e){return e.canSend&&e.shouldAppearInList}))}calculateFilteredContacts(e){var t=e,a=u.default.getFilteredContacts();if(!t)return a;t=b.default.accentFold(e);var i=(0,g.numberSearch)(t);return a.filter((function(e){return e.searchMatch(t,i)}))}calculateFilteredData(e){var t={};return{frequentContacts:this.calculateFrequentContacts(e).map(e=>{if(this.props.excludeBroadcast&&e.isBroadcast)return null;var a=e.isGroup||e.isBroadcast?d.default.get(e.id):e;return a&&(t[a.id]=!0),a}).filter(Boolean),chats:this.calculateFilteredChats(e).map(e=>{if(this.props.excludeBroadcast&&e.isBroadcast)return null;var a=e.isGroup||e.isBroadcast?e:e.contact;return t[a.id]?null:(t[a.id]=!0,a)}).filter(Boolean),contacts:this.calculateFilteredContacts(e).map(e=>t[e.id]?null:e).filter(Boolean)}}_flattenData(e){var{frequentContacts:t,chats:a,contacts:i}=e;return t.concat(a,i)}_isEmpty(){var{frequentContacts:e,chats:t,contacts:a}=this.state.filteredData;return!e.length&&!t.length&&!a.length}_getData(){var e=[],{frequentContacts:t,chats:a,contacts:i}=this.state.filteredData;return t.length&&(e.push({itemKey:S,type:S}),e.push(...t.map(e=>({itemKey:e.id.toString(),type:T,data:e})))),a.length&&(e.push({itemKey:C,type:C}),e.push(...a.map(e=>({itemKey:e.id.toString(),type:P,data:e})))),i.length&&(e.push({itemKey:M,type:M}),e.push(...i.map(e=>({itemKey:e.id.toString(),type:O,data:e})))),e}toggleFirst(e){var t,{frequentContacts:a,chats:i,contacts:r}=this.state.filteredData;if(a.length)t=a[0];else if(i.length)t=i[0];else{if(!r.length)return;t=r[0]}var s=!this.props.selections.isSelected(t);this._handleSelect(t,s,e)}focus(){this._refHotKey&&p.default.focus(this._refHotKey)}_onChatClick(e){var t=this.props.selections.isSelected(e);this._handleSelect(e,!t,!1)}_renderList(){return this._isEmpty()?this.props.searchText?s.createElement(f.Search,null):s.createElement(f.ListChats,null):s.createElement(h.default,{ref:this.setList,flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this._getData(),renderItem:this._renderItem})}render(){return s.createElement(v.default,{active:this.props.active,onLeave:this.props.onLeaveList,onRef:this._handleRef,onIndexChange:this._handleIndexChange},this._renderList())}}t.default=N},ebgbahdcjg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var a=t.getRangeAt(0);if(!a.collapsed||0!==a.startOffset)return!1;var i=a.startContainer;if(e===i)return!0;if(!e.contains(i))return!1;var r=i;do{if(r.previousSibling)return!1;r=r.parentNode}while(r!==e);return!0}},ebgdihifc:function(e,t){e.exports={container:"_1RHZR",noscroll:"b-lt8",centerItem:"bfduJ",padding:"_2ydmI",centerColumn:"_32gvZ"}},ebghecdhfg:function(e,t){e.exports={chat:"_3Pwfx",chatAvatar:"_22mTQ",chatBody:"_1C6Zl",chatDetails:"_2SEEg",chatMain:"_1c_mC",noDelete:"_3A6K1",chatSecondary:"_7W_3c",chatTitle:"_3Tw1q",chatStatus:"fqPQb",chatMeta:"_2gsiG",unread:"vwouH",active:"_1GGbM",chatDrag:"_1-e5U",idle:"_31SiM",isMuted:"_2Sy_N",themeMessage:"_1AWZi",themeSearch:"_3uP6b",themeDrawerList:"_2XSjg",themeStatus:"_3vT4i",themeCheckbox:"_3qF0b",themeIdentity:"wJ21F",themePlain:"_2jw57",themeAddItem:"_2aIZQ",themeAddItemPlaceholder:"_3K4Re",themeListNames:"_2Lv5N",member:"fmZ3r",themeLabel:"_1X6kV",groupV4Invite:"Td2Cm",cartProduct:"_27uRd",orderProduct:"_21N3G",product:"_3XUds",media:"_2Kn9-",listButton:"_1qJXa",listMsg:"_2_sC2",archivePanel:"_2Pc3g"}},ebibaajhjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bbfjdcedab")),l=r(a("hgigjbgie")),c=r(a("bdjjabfecc")),u=r(a("dcdbbhicce"));function f(){var e=(0,s.default)(["type: ",""]);return f=function(){return e},e}class h extends n.PureComponent{render(){var e,t,{msg:a}=this.props,{type:i}=a;switch(i){case l.default.MSG_TYPE.VIDEO:this.props.msg.isGif?(e=c.default.t(922),t=c.default.t(921)):(e=c.default.t(932),t=c.default.t(931));break;case l.default.MSG_TYPE.AUDIO:e=c.default.t(914),t=c.default.t(913);break;case l.default.MSG_TYPE.IMAGE:e=c.default.t(927),t=c.default.t(926);break;case l.default.MSG_TYPE.DOCUMENT:if(a.isVcardOverMmsDocument){e=c.default.t(916),t=c.default.t(915);break}e=c.default.t(919),t=c.default.t(918);break;case l.default.MSG_TYPE.STICKER:e=c.default.t(929),t=c.default.t(928);break;default:e=c.default.t(924),__LOG__(4,!1,new Error)(f(),i),SEND_LOGS("MediaMissingModal: unexpected message type")}return n.createElement(d.default,{title:e,onOK:()=>{o.default.closeModal()},okText:c.default.t(1649)},t)}}h.CONCERNS={msg:["type","isGif","isVcardOverMmsDocument"]};var p=(0,u.default)(h,h.CONCERNS);t.default=p},ebicahbfai:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("ebddggeaib")),d=i(a("cahfddcdga")),l=i(a("diffaiehid")),c=i(a("bcjcbbafcj")),u=r(a("bgeajihhc"));class f extends s.Component{constructor(...e){super(...e),this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(this.props.clearInterval(this.checkForSuccessInterval),this.checkForSuccessInterval=0,this.checkIteration=0)},this.checkForSuccess=()=>{if(u.default.state===u.STATE.CONNECTED){this.checkIteration++;var e=this.props.url;if(this.checkIteration>40)this.onPlayerError({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});else{var t=(0,d.default)(this._audioElement,"this._audioElement"),a=t.buffered;a&&a.length&&a.end(0)>0&&this.onPlaying({target:t})}}},this.onPlayerError=e=>{this.clearCheckForSuccess(),this.props.onError&&this.props.onError(e.target.src)},this.onOtherPlaying=e=>{e!==this&&(0,d.default)(this._audioElement,"this._audioElement").pause()},this.onPlaying=e=>{this.clearCheckForSuccess(),n.default.mediaPlaying(this),this.props.onPlay&&this.props.onPlay(e)},this._setRefAudio=e=>{this._audioElement=e}}componentDidMount(){var{listeners:e}=this.props,t=(0,d.default)(this._audioElement,"this._audioElement");e.add(t,"error",this.onPlayerError,!0),e.add(t,"playing",this.onPlaying),e.add(n.default,"mediaPlaying",this.onOtherPlaying),(c.default.isGecko||c.default.isSafari)&&(this.props.autoPlay?(this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)):this.props.autoPlay?this.startCheckForSuccess():e.add(t,"play",this.startCheckForSuccess))}render(){return s.createElement("audio",{ref:this._setRefAudio,src:this.props.url,className:this.props.className,onClick:this.props.onClick,controls:this.props.controls,preload:this.props.preload,type:this.props.type,autoPlay:this.props.autoPlay},this.props.children)}}var h=(0,o.default)((0,l.default)(f));t.default=h},ebicdfeje:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),d=i(a("bjigbaghc")),l=i(a("bdjjabfecc")),c=i(a("ebddggeaib")),u=i(a("ebfhdgffhf")),f=i(a("bgeajihhc"));class h extends s.Component{constructor(...e){super(...e),this.close=()=>{d.default.smbTos||n.default.closeModal()},this.logout=()=>{n.default.closeModal(),f.default.logout()}}componentDidMount(){this.props.listeners.add(d.default,"change:smbTos",this.close)}render(){var e=l.default.t(1720),t=l.default.t(868),a=this.logout;return s.createElement(o.default,{onOK:a,okText:t},e," ",s.createElement(u.default,null))}}var p=(0,c.default)(h);t.default=p},ebiheagbje:function(e,t,a){"use strict";function i({format:e},t,a){for(var i=[],r=function(e){var t=e,a=[];do{t.mutator&&a.push(t.mutator)}while(t.parent&&(t=t.parent));return a}(a),s=0;s<t.length;++s)(e||t[s][0].compatibility)&&(r.includes(t[s][0])||i.push(t[s]));return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){for(var s={children:[]},n=0,o=s,d=0,l=0;l<t.length;++l){for(var c=t[l],[u,f]=c;o.parent&&u>(d=o.match[2]);){if(n<=d&&o.children.push({type:"text",value:e.substring(n,d+1)}),n=o.match[3]+1,o.mutator.fragment){var{children:h}=o.parent;h.pop(),h.push.apply(h,o.children)}d!==o.match[3]&&o.parent.children.push({type:"delimiter",value:e.substring(d+1,n)}),o=o.parent}n<u&&o.children.push({type:"text",value:e.substring(n,u)});var[p,g]=r[c[4]],{mutates:m}=p;n=f,u!==f&&o.children.push({type:"delimiter",value:e.substring(u,f)});var b={children:[],match:c,mutator:p,opts:g,parent:o};if(m){var v=e.substring(c[1],c[2]+1),_=p.mutate(v,c[5]),E=i(p,r,b),j=(0,a("dfgcaedggj")._parse)(_,E);b.children=j.children,n=c[2]+1}o.children.push(b),o=b}do{if(o.match){var[,,y,S]=o.match;if(n<=y&&o.children.push({type:"text",value:e.substring(n,y+1)}),n=S+1,o.mutator.fragment){var{children:C}=o.parent;C.pop(),C.push.apply(C,o.children)}y!==S&&o.parent.children.push({type:"delimiter",value:e.substring(y+1,n)})}}while(o.parent&&(o=o.parent)&&o.parent);n!==e.length&&o.children.push({type:"text",value:e.substring(n)});return s}},ebjabaaifh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EMOJI_WIDTH=t.EMOJI_HEIGHT=t.SIDE_MARGIN=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=a("jagjbhcgf"),d=i(a("djegeegcbf")),l=i(a("cdfjfcdgbi")),c=i(a("ghiaifghj")),u=i(a("dfbhcehadj")),f=i(a("ddajbaceej")),h=i(a("dhfbfehaef")),p=i(a("ebddggeaib")),g=i(a("bjfdccaidi")),m=i(a("cgjdibiahi")),b=i(a("dcaffhdhce")),v=parseInt(c.default["-side-margin"],10);t.SIDE_MARGIN=v;var _=parseInt(c.default["-emoji-height"],10);t.EMOJI_HEIGHT=_;var E=parseInt(c.default["-emoji-width"],10);t.EMOJI_WIDTH=E;class j extends s.Component{constructor(...e){super(...e),this.state={skinTonePicker:null},this._lastFocusedElement=null,this._closeSkinTonePicker=()=>{var e=this.state.skinTonePicker&&this.state.skinTonePicker.anchor;e&&e instanceof HTMLElement&&this._focusElement(e),this.setState({skinTonePicker:null})},this._setEmojiVariant=(e,t,a)=>{S(e),u.default.setVariant(t,a),this._handleEmoji(t)},this._clearPickerTimer=()=>{this._pickerTimer&&clearTimeout(this._pickerTimer)},this._showContextMenu=(e,t,a)=>{var i=d.default.getSkinToneBase(e);i&&this.setState({skinTonePicker:{menu:s.createElement(g.default,{base:i,action:this._setEmojiVariant,unicode:e}),anchor:t,type:"picker",dirX:o.DirX.RIGHT,dirY:o.DirY.TOP,horizontal:!0,autoFocus:a,findFirstItem:!0}})},this._handleEmoji=e=>{var t=e;if(d.default.getSkinToneBase(t)){var a=u.default.getVariantIfExists(t);if(null!=a)t=a;else if(this.props.allowVariantPrompt)return!0}this.props.onEmoji(t)},this._handleEmojiArrowDown=e=>{S(e);var t=C(e);null!=t&&this.props.focusBelow&&this.props.focusBelow(t)},this._handleEmojiArrowLeft=e=>{S(e);var t=C(e);if(null!=t){var a=t-1;a<0?this.props.focusAbove(this.props.numColumns-1):this.focusEmojiAt(a)}},this._handleEmojiArrowRight=e=>{S(e);var t=C(e);if(null!=t){var a=t+1;a>=this.props.emojis.length?this.props.focusBelow&&this.props.focusBelow(0):this.focusEmojiAt(a)}},this._handleEmojiArrowUp=e=>{S(e);var t=C(e);null!=t&&this.props.focusAbove(t)},this._handleEmojiEnter=e=>{S(e);var t=C(e);this._selectEmojiAt(t)},this._handleClick=e=>{S(e);var t=C(e);this._selectEmojiAt(t)},this._handleContextMenu=e=>{S(e);var t=this._getEmojiUnicode(e);t&&e.target instanceof HTMLElement&&this._showContextMenu(t,e.target)},this._handleMouseDown=e=>{S(e);var t=e.target;if(t instanceof HTMLElement){var a=this._getEmojiUnicode(e);a&&this._startPickerTimer(a,t)}},this._setRefEmojis=e=>{this.refEmojis=e}}shouldComponentUpdate(e,t){return this.props.emojis!==e.emojis||this.state.skinTonePicker!==t.skinTonePicker}componentDidMount(){this.props.listeners.add(u.default,"add remove change:variant",()=>this.forceUpdate())}componentDidUpdate(e,t){t.skinTonePicker&&this.state.skinTonePicker&&this._closeSkinTonePicker()}focusEmojiAt(e){var t=this._getRefEmojiAt(e);t&&this._focusElement(t)}selectFirstEmoji(){this._selectEmojiAt(0)}restoreFocus(){this._lastFocusedElement&&this._focusElement(this._lastFocusedElement)}_focusElement(e){var t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||(f.default.focus(e,{preventScroll:!0}),this.props.onEmojiFocus(e),this._lastFocusedElement=e)}_selectEmojiAt(e){if(null!=e){var t=this.props.emojis[e];if(t){var a=this._getRefEmojiAt(e);if(a)this._clearPickerTimer(),this._handleEmoji(t)&&this._showContextMenu(t,a,!0)}}}_getEmojiUnicode(e){var t=C(e);if(null!=t){var a=this.props.emojis[t];return a||null}}_getRefEmojiAt(e){var t=this.props.emojis.length-1,a=Math.max(Math.min(e,t),0);if(null!=this.refEmojis)return this.refEmojis.children[a]}_startPickerTimer(e,t){this._clearPickerTimer(),this._pickerTimer=setTimeout(()=>{delete this._pickerTimer,this.props.listeners.addOnce(n.default,"window_click",S),this._showContextMenu(e,t)},250),this.props.listeners.addOnce(window,"mouseup",this._clearPickerTimer,!0)}render(){var e;this.state.skinTonePicker&&(e=s.createElement(m.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this._closeSkinTonePicker,requestRecentFocusOnUnmount:!1},s.createElement(b.default,{tooltip:this.state.skinTonePicker})));var{emojis:t}=this.props;return t.length?s.createElement("div",{className:c.default.panel},s.createElement(h.default,{onMouseDown:this._handleMouseDown,onClick:this._handleClick,onContextMenu:this._handleContextMenu,handlers:{up:this._handleEmojiArrowUp,down:this._handleEmojiArrowDown,left:this._handleEmojiArrowLeft,right:this._handleEmojiArrowRight,enter:this._handleEmojiEnter}},s.createElement("div",{ref:this._setRefEmojis,className:c.default.section},t.map((e,t)=>{var a=u.default.getVariantIfExists(e);return s.createElement(l.default,{element:"span",emoji:a||e,size:"large",key:e,tabIndex:"-1","data-emoji-index":t})}))),e):null}}var y=(0,p.default)(j);function S(e){e.preventDefault(),e.stopPropagation()}function C(e){if(!(e.target instanceof HTMLElement))return null;var t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}t.default=class extends y{focusEmojiAt(e){this.getComponent().focusEmojiAt(e)}selectFirstEmoji(){this.getComponent().selectFirstEmoji()}restoreFocus(){this.getComponent().restoreFocus()}}},ebjaejiaba:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getForwardedMessageFields=Be,t.default=t.CHAT_KIND=t.KIND=void 0;var s=r(a("ffedgcdgj")),n=r(a("dfadhaifh")),o=r(a("bcdejiigcg")),d=r(a("ddgaeajhag")),l=r(a("eicihhaba")),c=r(a("bhdddbafig")),u=r(a("bgejacgfdg")),f=r(a("begjbhhee")),h=r(a("bebajedcaf")),p=r(a("eaaagccfda")),g=i(a("ddhijeejag")),m=a("dheeaichcj"),b=r(a("djheacfeif")),v=a("dcaifjegcg"),_=r(a("bbehjhfdfe")),E=r(a("bdiiibjcij")),j=r(a("caedaejadb")),y=r(a("diajeiidei")),S=r(a("dbfjecijha")),C=r(a("ebcagbhefg")),M=r(a("becefacdff")),T=r(a("chbjajaddg")),P=r(a("cfadcbbiie")),O=r(a("ccbgfecegc")),N=r(a("bjigbaghc")),I=r(a("hgigjbgie")),A=r(a("beecadabde")),w=r(a("dhigahgdjb")),R=r(a("ccbihadedf")),D=a("chhdedhgfe"),L=a("bgihjbde"),k=r(a("cijheiibhg")),x=i(a("cajijabhgb")),G=a("ddbdgibbbi"),U=r(a("bhbdiadfhj")),F=r(a("ecjehifjdd")),B=r(a("bdjjabfecc")),V=a("debfcgabcb"),H=r(a("edjgaiicj")),W=a("cjahggceac"),K=r(a("bdcchebfge")),Y=r(a("cbcbdjdah")),q=r(a("biecbbiiee")),z=a("cbagjbgjfa"),Q=r(a("cffajefeag")),J=a("ccbagdhfbb"),X=r(a("dagdiahdfi")),Z=a("bcjidabgad"),$=r(a("cahfddcdga")),ee=a("icbibjcg"),te=r(a("ebbjbbjjg")),ae=a("hecjgdjhi"),ie=r(a("dhefcajhhb")),re=r(a("cfejjfjhca")),se=a("bfabbhgjga"),ne=a("dfejgefcge"),oe=a("cgddafdgie"),de=(a("dgbddfjdhi"),a("dcbafbaejf")),le=a("eabhibhged"),ce=r(a("bfgbdiffgd")),ue=i(a("djfhiceeje")),fe=r(a("ccehadbeci")),he=i(a("bgabgddgch")),pe=a("dcjbdhhjge"),ge=a("bhjegffigh"),me=r(a("bacbhehedf")),be=r(a("cfidecfjad")),ve=r(a("jccfhaecf")),_e=r(a("bgeajihhc"));function Ee(){var e=(0,n.default)(["chat.maybeUpdateEphemeralSetting updated chatId="," ephemeralDuration="," ephemeralSettingTimestamp=",""]);return Ee=function(){return e},e}function je(){var e=(0,n.default)(["chat.maybeUpdateEphemeralSetting called with invalid setting "," seconds for chat ",""]);return je=function(){return e},e}function ye(){var e=(0,n.default)(["chat.maybeUpdateEphemeralSetting should not be called for group ",""]);return ye=function(){return e},e}function Se(){var e=(0,n.default)(["chat.changeEphemeralDuration chatId="," ephemeralDuration=",""]);return Se=function(){return e},e}function Ce(){var e=(0,n.default)(["chat.changeEphemeralDuration should not be called for group ",""]);return Ce=function(){return e},e}function Me(){var e=(0,n.default)(["chat.updateEphemeralSettingTimestamp chatId="," ephemeralSettingTimestamp=",""]);return Me=function(){return e},e}function Te(){var e=(0,n.default)(["chat.updateEphemeralSettingTimestamp should not be called for group ",""]);return Te=function(){return e},e}function Pe(){var e=(0,n.default)(["chat.handleEphemeralSetting chatId="," ephemeralDuration="," ephemeralSettingTimestamp=",""]);return Pe=function(){return e},e}function Oe(){var e=(0,n.default)(["chat.handleEphemeralSetting called with invalid setting "," seconds for chat ",""]);return Oe=function(){return e},e}function Ne(){var e=(0,n.default)(["chat.handleEphemeralSetting should not be called for group ",""]);return Ne=function(){return e},e}function Ie(){var e=(0,n.default)(["chat:loadMsgs:error ",""]);return Ie=function(){return e},e}function Ae(){var e=(0,n.default)(["chat:onEmptyMRM failed\n",""],["chat:onEmptyMRM failed\\n",""]);return Ae=function(){return e},e}function we(){var e=(0,n.default)(["models:Chat:removeMsg 0 messages left, querying..."]);return we=function(){return e},e}function Re(){var e=(0,n.default)(["chat:preload failed\n",""],["chat:preload failed\\n",""]);return Re=function(){return e},e}function De(){var e=(0,n.default)(["models:chat:sendDismissChangeNumber dropped"]);return De=function(){return e},e}function Le(){var e=(0,n.default)(["chat:onNewMsg failed\n",""],["chat:onNewMsg failed\\n",""]);return Le=function(){return e},e}function ke(){var e=(0,n.default)(["chat:onPendingActionUpdate pendingAction value is invalid"]);return ke=function(){return e},e}function xe(){var e=(0,n.default)(["chat:onPendingActionUpdate pendingAction value is invalid"]);return xe=function(){return e},e}function Ge(){var e=(0,n.default)(["chat:unknown kind id:",""]);return Ge=function(){return e},e}var Ue={GROUP:"group",BROADCAST:"broadcast",CHAT:"chat"};t.CHAT_KIND=t.KIND=Ue;class Fe extends fe.default{constructor(...e){super(...e),this.id=(0,v.prop)(),this.t=(0,v.prop)(),this.unreadCount=(0,v.prop)(0),this.archive=(0,v.prop)(),this.isReadOnly=(0,v.prop)(),this.isAnnounceGrpRestrict=(0,v.prop)(),this.modifyTag=(0,v.prop)(),this.muteExpiration=(0,v.prop)(0),this.name=(0,v.prop)(),this.notSpam=(0,v.prop)(),this.pin=(0,v.prop)(),this.labels=(0,v.prop)(),this.changeNumberOldJid=(0,v.prop)(),this.changeNumberNewJid=(0,v.prop)(),this.lastReceivedKey=(0,v.prop)(),this.ephemeralDuration=(0,v.prop)(),this.ephemeralSettingTimestamp=(0,v.prop)(),this.createdLocally=(0,v.session)(),this.pendingAction=(0,v.session)(),this.formattedTitle=(0,v.session)(),this.active=(0,v.session)(),this.pausedTimerId=(0,v.session)(),this.presenceResendTimerId=(0,v.session)(),this.recording=(0,v.session)(),this.typing=(0,v.session)(),this.colors=(0,v.session)(),this.composeContents=(0,v.session)(()=>({})),this.attachMediaContents=(0,v.session)(),this.squelch=(0,v.session)(),this.pendingSeenCount=(0,v.session)(0),this.unreadMsgAnchor=(0,v.session)(),this.markedUnread=(0,v.session)(),this.trusted=(0,v.session)(),this.canSend=(0,v.session)(),this.promises=(0,v.session)(()=>({})),this.ftsCache=(0,v.session)(()=>({})),this.composeQuotedMsg=(0,v.session)(),this.composeQuotedMsgRemoteJid=(0,v.session)(),this.quotedMsgAdminGroupJid=(0,v.session)(),this.groupMetadata=(0,v.session)(),this.presence=(0,v.session)(),this.mute=(0,v.session)(),this.contact=(0,v.session)(),this.liveLocation=(0,v.session)(),this.liveLocationQueried=(0,v.session)(!1),this.ackedProps=(0,v.session)(()=>({})),this.mediaCount=(0,v.session)(0),this.linkCount=(0,v.session)(0),this.docCount=(0,v.session)(0),this.productCount=(0,v.session)(0),this.msgUnsyncedButtonReplyMsgs=(0,v.prop)(),this.vcardDismissed=(0,v.session)(!1),this.endOfHistoryTransfer=(0,v.session)(!1),this.kind=(0,v.derived)(this._kind),this.isUser=(0,v.derived)(this._isUser),this.isPSA=(0,v.derived)(this._isPSA),this.isGroup=(0,v.derived)(this._isGroup),this.isBroadcast=(0,v.derived)(this._isBroadcast),this.canUnread=(0,v.derived)(this._canUnread),this.hasUnread=(0,v.derived)(this._hasUnread,["unreadCount"]),this.optimisticUnreadCount=(0,v.derived)(this._optimisticUnreadCount,["unreadCount","pendingSeenCount"]),this.shouldShowUnreadDivider=(0,v.derived)(this._shouldShowUnreadDivider,["unreadCount","unreadMsgAnchor"]),this.shouldAppearInList=(0,v.derived)(this._shouldAppearInList,["createdLocally","msgs","msgsLength"]),this.previewMessage=(0,v.derived)(this._previewMessage,["msgs","msgsChanged"]),this.showChangeNumberNotification=(0,v.derived)(this._showChangeNumberNotification,["changeNumberOldJid","changeNumberNewJid","id","isUser"]),this.shouldShowUnreadInTitle=(0,v.derived)(this._shouldShowUnreadInTitle,["isGroup","archive","unreadCount","muteExpiration"])}initialize(){super.initialize(),this.addQueue=new F.default,this.sendQueue=new F.default,this._ephemeralMessagesToDelete=new Set,this._ephemeralMessageTimerIds=new Map,this._promises=null,this.msgs.msgLoadState.contextLoaded=!0,this.addChild("presence",te.default.gadd(this.id));var e=X.default.get(this.id);if(e?this.addChild("mute",e):this.addChild("mute",X.default.gadd({id:this.id,expiration:this.muteExpiration})),this.listenTo(this.mute,"change:expiration",this.updateMuteExpiration),this.addChild("contact",w.default.gadd(this.id)),this.name&&!this.contact.name){var t={name:this.name};(0,pe.updateLocal)(this.contact.id,t).then(()=>{this.contact.set(t)})}if(this.listenTo(this.contact,"change:name",this.updateTitle),this.listenTo(this.contact,"change:isContactBlocked",this.updateCanSend),this.isGroup&&(this.trusted=!0),this.isGroup||this.isBroadcast){var a,i=this.getGroupMetadataCollection();this.isBroadcast&&!i.get(this.id)&&(a=!0),this.addChild("groupMetadata",i.gadd(this.id)),this.listenTo(this.groupMetadata,"change:stale change:announce",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata.participants,"change:isAdmin add remove",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata,"change:trusted change:stale",this.isTrusted),this.listenTo(this.groupMetadata,"change:participants change:stale",this.updateReadOnly),this.listenTo(this.groupMetadata.participants,"change:contact.formattedShortName",this.updateTitle),this.updateReadOnly(),this.updateIsAnnounceGrpRestrict();var r=this.id;this.listenTo(this,"change:isReadOnly",(function(){this.isTrusted(),this.updateCanSend(),ie.default.update(r).catchType(L.WebdDrop,()=>{}),i.update(r).catchType(L.WebdDrop,()=>{})})),this.listenTo(this,"change:isAnnounceGrpRestrict",this.updateCanSend),a&&i.update(r).catchType(L.WebdDrop,()=>{})}else this.listenTo(this.presence,"change:isOnline",()=>(0,ee.presenceOnlineChanged)(this)),this.listenTo(this.contact,"change:isMyContact",this.isTrusted);var s=this.getCollection();s.notSpam[this.id]&&!this.notSpam&&(0,de.sendNotSpam)(this).catch(()=>{}),s.notSpam[this.id]=!!this.notSpam,this.notSpam||this.listenTo(this,"change:notSpam",this.onNotSpamChange),this.updateTitle(),this.isTrusted(),this.updateCanSend(),this.listenTo(this.msgs,"add",this.onNewMsg),this.listenTo(this.msgs,"update_sort_time",this.updateSortTime),this.listenTo(this.msgs,"bulk_add",this.addMediaMsgs),this.listenTo(this.msgs,"add remove change:ephemeralExpirationTimestamp",this._resetEphemeralMessageExpirationTimer),this.listenTo(this.msgs,"bulk_add",e=>{e.forEach(e=>{this._resetEphemeralMessageExpirationTimer(e)})}),this.listenTo(this,"change:msgs",this.resetMediaMsgs),this._saveAssignedColors=(0,p.default)(this.saveAssignedColors,1e3),this.listenTo(this,"change:active",this.onActiveUpdate),this.pendingAction=0,this.listenTo(this,"change:t change:modifyTag",this._clearFtsCache),this.listenTo(B.default,"locale_change",()=>{this.updateTitle()}),N.default.isSMB&&(0,V.initializeLabels)(this)}_kind(){return ve.default.isGroup(this.id)?Ue.GROUP:ve.default.isBroadcast(this.id)?Ue.BROADCAST:ve.default.isUser(this.id)?Ue.CHAT:void __LOG__(2)(Ge(),this.id.toString())}_isUser(){return ve.default.isUser(this.id)}_isPSA(){return ve.default.isPSA(this.id)}_isGroup(){return ve.default.isGroup(this.id)}_isBroadcast(){return ve.default.isBroadcast(this.id)}isSupportGroup(){return this.isGroup&&this.groupMetadata.support}_canUnread(){return!this.isBroadcast}_hasUnread(){return 0!==this.unreadCount}_optimisticUnreadCount(){var{unreadCount:e,pendingSeenCount:t}=this;return-1===e?e:Math.max(0,e-t)}_shouldShowUnreadDivider(){if(0===this.unreadCount)return!1;if(this.unreadMsgAnchor){var{msgChunk:e}=this.unreadMsgAnchor,t=e?e.getModelsArray():[];return this.unreadMsgAnchor!==t.find(e=>e.isUnreadType)}return!this.msgs.msgLoadState.noEarlierMsgs||this.msgs.filter(e=>e.isUnreadType).length!==this.unreadCount}_shouldAppearInList(){if(this._shouldAppearInListLatched)return!0;if(ve.default.isStatusV3(this.id))return!1;var e=this.msgs.some(e=>{var t=e.type===I.default.MSG_TYPE.GROUPS_V4_INVITE&&e.from.equals((0,G.getMaybeMeUser)()),a=e.type===I.default.MSG_TYPE.E2E_NOTIFICATION&&"encrypt"===e.subtype;return!t&&!a&&e.type!==I.default.MSG_TYPE.CALL_LOG&&!e.isBizNotification&&"change_number"!==e.subtype});return this._shouldAppearInListLatched=!this.createdLocally||e,this._shouldAppearInListLatched}_previewMessage(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&t.type!==I.default.MSG_TYPE.E2E_NOTIFICATION)return t}if(this.msgs.length>0)return this.msgs.last()}_showChangeNumberNotification(){if(!U.default.supportsFeature(U.default.F.CHANGE_NUMBER_V_2))return!1;var{changeNumberOldJid:e,changeNumberNewJid:t,id:a,isUser:i}=this;if(!i)return!1;if(!e&&!t)return!1;var r=w.default.get(t||a);return!r||!r.isMyContact}_shouldShowUnreadInTitle(){var e=!!this.muteExpiration;if(this.archive)return!1;if(this.unreadCount<=0)return!1;if(!this.isGroup)return!e;if(!e)return!0;if(!this.msgs||0===this.msgs.length)return!1;for(var t=!1,a=this.msgs,i=this.unreadCount,r=Math.max(0,a.length-i);r<a.length;r++){var s=this.msgs.at(r);if(s){var n=(0,G.getMaybeMeUser)();if(s.isMentioned(n)||s.isQuoted(n)){var o=this.getCollection().get(s.sender);if(!o||!o.muteExpiration){t=!0;break}}}}return t}set(e,t,a){return"string"==typeof e?"muteExpiration"===e&&this.mute&&this.mute.setMute(t):e.hasOwnProperty("muteExpiration")&&this.mute&&this.mute.setMute(e.muteExpiration),super.set(e,t,a)}addPendingAction(e){if(e.isPending()){var t=()=>{this.decPending()};e.then(t,t),this.pendingAction++}}decPending(){this.pendingAction>0?this.pendingAction--:(__LOG__(2)(xe()),this.pendingAction=0)}onActiveUpdate(){this.isGroup&&this.active&&(this.squelch=-1),this.presence.chatActive=this.active,this.active||this._ephemeralMessagesToDelete.forEach(e=>{this._ephemeralMessagesToDelete.delete(e),e.delete({skipUpdatingSortTime:!0,doNotResetLastReceived:!0})})}onPendingActionUpdate(){this.pendingAction<0&&(__LOG__(2)(ke()),this.pendingAction=0)}onNotSpamChange(){this.getCollection().notSpam[this.id]=this.notSpam,this.isTrusted(),this.notSpam&&this.stopListening(this,"change:notSpam")}hasMaybeSentMsgToChat(){return this.getAllMsgs().some(e=>e.isSentByMe)}isTrusted(){var e=!1;return this.isGroup?e=this.isReadOnly||this.notSpam||this.groupMetadata.isTrusted():this.isBroadcast?e=!0:this.isUser&&(e=this.notSpam||this.contact.isMyContact),!e&&this.hasMaybeSentMsgToChat()&&(e=!0),this.trusted=e}updateMuteExpiration(){var e=Number(this.mute.expiration);(0,ge.updateLocal)(this.id,{muteExpiration:e}).then(()=>this.muteExpiration=e)}updateTitle(){this.isBroadcast?this.formattedTitle=this.contact.name||this.groupMetadata.participants.map((function(e){return e.contact.formattedShortName})).join(", "):this.isUser?this.formattedTitle=this.contact.getFormattedUser()||"":this.isGroup&&(this.formattedTitle=this.contact.name)}title(){return this.isGroup?this.formattedTitle||B.default.t(1328):this.formattedTitle}updateCanSend(){return this.isReadOnly||this.isAnnounceGrpRestrict?this.canSend=!1:this.isUser?this.canSend=!(this.contact.isContactBlocked||this.isPSA):this.canSend=!0}delete(){super.delete(),this.getCollection().remove(this.id),this.cancelPendingPromises(),this.presence.delete(),this.liveLocation&&this.liveLocation.delete(),O.default.clearChat(this),this.groupMetadata&&this.groupMetadata.delete(),this.mediaMsgs&&this.mediaMsgs.delete(),this.linkMsgs&&this.linkMsgs.delete(),this.docMsgs&&this.docMsgs.delete(),this.productMsgs&&this.productMsgs.delete();var e=this.starredMsgs;e&&(e.delete(),e.stopListening(),e.reset()),this.receivedVcardMsgs&&this.receivedVcardMsgs.delete(),(0,G.deleteComposeContents)(this.id)}isDirty(){return 0!==this.unreadCount}resetMediaMsgs(){var{mediaMsgs:e,linkMsgs:t,docMsgs:a,productMsgs:i}=this;e&&(e.delete(),e.queryMedia(this)),t&&(t.delete(),t.queryLinks(this)),a&&(a.delete(),a.queryDocs(this)),i&&(i.delete(),i.queryProducts(this))}addMediaMsgs(e,t){if(e){var a=Array.isArray(e)?e:[e],i=[],r=[],s=[],n=[];a.forEach(e=>{e.isMedia&&i.push(e),e.asDoc&&s.push(e),e.linkPreview&&r.push(e),null!=e.asProduct&&n.push(e)}),this.mediaMsgs&&i.length&&this.mediaMsgs.add(i,t),this.linkMsgs&&r.length&&this.linkMsgs.add(r,t),this.docMsgs&&s.length&&this.docMsgs.add(s,t),this.productMsgs&&n.length&&this.productMsgs.add(n,t)}}onNewMsg(e){if(e){var t=Promise.resolve();e.isSentByMe&&!this.notSpam&&(t=(0,ge.updateLocal)(this.id,{notSpam:!0}).then(()=>this.notSpam=!0)),"i"!==e.eventType&&t.then(()=>{var t={};(t.t=e.t,this.promises.updateSortTime&&this.promises.updateSortTime.cancel(),this.updateMediasCountOnMsg(e),this.archive)&&(ce.default.enhancedArchive?C.default.assertGet("defaultPreference").unarchiveChatOnNewMessages&&!e.isSentByMe&&(t.archive=!1):t.archive=!1);return this.promises.setArchive&&this.promises.setArchive.cancel(),e.isSentByMe?this.markedUnread=!1:((0,_.default)({id:this.id,participant:e.author,type:"paused"},!1),"a"!==e.eventType&&"d"!==e.eventType||(t.unreadCount=this.unreadCount+1||1)),(0,ge.updateLocal)(this.id,t).then(()=>t)}).then(t=>{e.isSentByMeFromWeb&&e.promises.sendPromise?this.setAndKeepPrevious(t,e.promises.sendPromise):this.set(t);var a=R.default.get(this.id);if(a&&(a.timestamp=P.default.globalUnixTime()),"gp2"!==e.type||"add"!==e.subtype&&"create"!==e.subtype||this.getGroupMetadataCollection().trigger("group_participant_change_".concat((0,G.getMaybeMeUser)().toString()),this.id),!e.isSentByMe){switch(e.eventType){case"d":case"a":"d"===e.eventType&&O.default.alertNewMsg(e),this.msgs.length<I.default.MSG_PRELOAD_THRESHOLD&&this.loadEarlierMsgs(void 0,K.default.WEBC_QUERY_TRIGGER_TYPE.NEW_MESSAGE_PREFETCH).catchType(L.E404,()=>{}).catch(e=>{__LOG__(2)(Le(),e)});break;case"n":e.type===I.default.MSG_TYPE.CALL_LOG&&O.default.alertNewMsg(e);break;case"s":if("gp2"===e.type&&"add"===e.subtype&&(0,G.getMaybeMeUser)().equals(e.recipients[0])&&!this.contact.name)return;O.default.alertNewMsg(e),this.getGroupMetadataCollection().trigger("group_participant_change_".concat((0,G.getMaybeMeUser)().toString()),this.id)}var i=e.mediaData;!i||"image"!==i.type&&"video"!==i.type||O.default.newMediaMsg(e)}})}}canPin(){if(this.archive)return!1;var e=this.promises&&this.promises.setArchive;return(!e||!e.archive)&&U.default.supportsFeature(U.default.F.PIN)}canArchive(){return!this.isBroadcast||U.default.supportsFeature(U.default.F.ARCHIVE_BROADCAST)}sendDismissChangeNumber(){if(this.promises.sendDismissChangeNumber)return this.promises.sendDismissChangeNumber;var e=U.default.supportsFeature(U.default.F.MD_BACKEND)?Promise.resolve({status:200,_duplicate:null}):be.default.sendConversationDismissChangeNumber(this.id);this.promises.sendDismissChangeNumber=e;var t=new m.ActionType(B.default.t(40)),a=e.then(e=>200===e.status?new m.ActionType(B.default.t(39)):e.status>=400?new m.ActionType(B.default.t(38)):void 0).catch(()=>(__LOG__(3)(De()),new m.ActionType(B.default.t(38),B.default.t(174),this.sendDismissChangeNumber.bind(this))));return O.default.openToast(g.createElement(m.ActionToast,{id:(0,m.genId)(),initialAction:t,pendingAction:a})),e.then(e=>{if(200===e.status&&!e._duplicate)return(0,ge.updateLocal)(this.id,{changeNumberNewJid:void 0,changeNumberOldJid:void 0}).then(()=>{this.changeNumberOldJid=this.changeNumberNewJid=void 0})}).finally(()=>{this.promises.sendDismissChangeNumber=null})}setComposeContents(e){this.composeContents=e}getSessionPersistedComposeContents(){return(0,G.getComposeContents)(this.id)}getComposeContents(){return(0,h.default)(this.composeContents)?this.getSessionPersistedComposeContents()||{}:this.composeContents}setAttachMediaContents(e){this.attachMediaContents=e}preload(){1===this.msgs.length&&this.loadEarlierMsgs().catchType(L.E404,()=>{}).catch(e=>{__LOG__(2)(Re(),e)})}onEmptyMRM(){__LOG__(2)(we()),this.loadEarlierMsgs().catchType(L.E404,()=>{}).catch(e=>{__LOG__(2)(Ae(),e)})}loadEarlierMsgs(e,t){var a=e,i=null!=t?t:K.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL;if(a||(a=this.msgs),a.msgLoadState.noEarlierMsgs)return Promise.resolve();if(a.msgLoadState.isLoadingEarlierMsgs)return a.loadEarlierPromise;var r=a?a.head():null;return this._loadMsgs("before",a,i).then(e=>{var t=r?r.msgChunk:a;return t&&Array.isArray(e)&&e.length<I.default.PAGE_SIZE&&(t.msgLoadState.noEarlierMsgs=!0),t&&this.isMostRecentCMC(t)&&this.trigger("msgs:loadEarlier"),e})}isMostRecentCMC(e){return this.msgs===e}loadRecentMsgs(e){var t=e;return t||(t=this.msgs),this.isMostRecentCMC(t)?Promise.resolve():t.msgLoadState.isLoadingRecentMsgs?t.loadRecentPromise:this._loadMsgs("after",t,K.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL)}_loadMsgs(e,t,a){var i,r={};(i="after"===e?t.last():t.head())?r=i.id.clone():r.remote=this.id,r.count=I.default.PAGE_SIZE,r.direction=e;var s=(0,z.newMessageQueryEvent)(a);return this._loadMsgsPromiseLoop(i,t,q.default.findQuery.bind(q.default,r,{logOnSend:e=>{s.webcResponseBytes+=e.binarySize}}),e,s)}_updateMsgLoadState(e,t,a){var i=e&&e.msgChunk&&e.msgChunk!==t;t.msgLoadState.contextLoaded=!0,e&&i&&((0,$.default)(e.msgChunk,"msg.msgChunk").msgLoadState.contextLoaded=!0),"after"===a?t.msgLoadState.isLoadingRecentMsgs=!1:"before"===a?t.msgLoadState.isLoadingEarlierMsgs=!1:"around"===a&&(t.msgLoadState.isLoadingAroundMsgs=!1)}_loadMsgsPromiseLoop(e,t,a,i,r,s=!0){var n=performance.now();"after"===i?(t.msgLoadState.isLoadingRecentMsgs=!0,r.webcMessageQueryType=K.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_NEXT):"before"===i?(t.msgLoadState.isLoadingEarlierMsgs=!0,r.webcMessageQueryType=K.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_PREV):"around"===i&&(t.msgLoadState.isLoadingAroundMsgs=!0,r.webcMessageQueryType=K.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_AROUND),r.webcBrowserNetworkType=(0,Z.getEffectiveNetworkType)(),r.webcChatType=this.getWebcChatType(),"number"==typeof this.initialIndex&&(r.webcChatPosition=this.initialIndex);var o=Promise.loop((s,o,d)=>{var l=Promise.delay(he.expBackoff(d,12e4,1e3,.1));return("CONNECTED"===_e.default.stream?Promise.resolve():(0,me.default)(_e.default,"change:stream",()=>"CONNECTED"===_e.default.stream)).then(()=>this.regCancellablePromise(a()).then(a=>{var o;r.webcQueryT=Math.ceil(performance.now()-n),Array.isArray(a[0])?(o=a[0][0],a.forEach(e=>(0,z.logMessageCounts)(r,e))):(o=a[0],(0,z.logMessageCounts)(r,a)),o&&(r.webcEarliestMessageT=o.t,o.msgChunk===this.msgs&&(r.webcEarliestMessageIndex=this.msgs.length-1)),(0,k.default)().then(e=>{e&&(r.webcBrowserStorageQuotaBytes=e.quota,r.webcBrowserStorageQuotaUsedBytes=e.usage)}).finally(()=>r.commit()),this._updateMsgLoadState(e,t,i),s(a)})).catchConditional(e=>!(e instanceof Promise.CancellationError),a=>d>3||404===a?(this._updateMsgLoadState(e,t,i),__LOG__(3)(Ie(),String(a)),404===a?Promise.reject(new L.E404):Promise.reject(new x.GaveUpRetry("Gave up msg fetch after ".concat(d," tries")))):l)},0).catchType(x.GaveUpRetry,()=>[]).catchType(L.E404,e=>{if(s)return[];throw e});return"after"===i?t.loadRecentPromise=o:"before"===i?t.loadEarlierPromise=o:"around"===i&&(t.loadAroundPromise=o),o}getSearchContext(e,t){var a,i=null;e instanceof Y.default?i=e:e instanceof Q.default&&(a=e);var r=i?i.msgChunk:void 0,s=Math.trunc(I.default.PAGE_SIZE/3*2);if(!r||!r.msgLoadState.contextLoaded){r||(r=new S.default,this.msgChunks.push(r),i&&r.add(i));var n=i?i.id.clone():a.clone();n.count=s;var o=function(){if(i)return i.msgChunk;if(null!=a){var e=q.default.get(a);return e&&e.msgChunk?e.msgChunk:r}return r},d=(0,z.newMessageQueryEvent)(K.default.WEBC_QUERY_TRIGGER_TYPE.SEARCH_RESULT_CLICK);this._loadMsgsPromiseLoop(i,r,q.default.getContext.bind(q.default,n,o,e=>{d.webcResponseBytes+=e.binarySize}),"around",d,null==t).then(e=>{var t=o();t&&r&&t!==r&&this.notifyMsgCollectionMerge(t,r,t);var n=e[0],d=a?q.default.get(a):i;d&&Array.isArray(n)&&n.length<s&&((0,$.default)(d.msgChunk,"loadedMsg.msgChunk").msgLoadState.noEarlierMsgs=!0,r&&d.msgChunk!==r&&(r.msgLoadState.noEarlierMsgs=!0))}).catch(()=>{t&&(t.isQuotedMsgAvailable=!1)})}return{collection:r,msg:i,key:a,highlightMsg:!0}}sendStarMsgs(e,t){return this.promises.sendStarMsgs?this.promises.sendStarMsgs:this.promises.sendStarMsgs=(0,le.sendStarMsgs)(this.id,e,t).then(()=>{e.forEach(e=>{e.set("star",t)}),t?(0,ue.addStarredMsgs)(e):(0,ue.removeStarredMsgs)(e)}).finally(()=>{this.promises.sendStarMsgs=null})}sendRevokeMsgs(e,t){return this.promises.sendRevokeMsgs?this.promises.sendRevokeMsgs:this.promises.sendRevokeMsgs=Promise.all(e.map(e=>(0,se.sendRevoke)(e,t))).finally(()=>{this.promises.sendRevokeMsgs=null})}handleEphemeralSetting(e){if(this.isGroup)return __LOG__(4,!1,new Error)(Ne(),this.id.toString()),void SEND_LOGS("handle-ephemeral-setting");if((0,D.isEphemeralDurationAllowed)(e)){var t=e,a=null==this.ephemeralSettingTimestamp?1:this.ephemeralSettingTimestamp+1;(0,ge.updateLocal)(this.id,{ephemeralDuration:t,ephemeralSettingTimestamp:a}).then(()=>{this.ephemeralDuration=e,this.ephemeralSettingTimestamp=a,__LOG__(2)(Pe(),this.id.toString(),t,a)})}else __LOG__(2)(Oe(),e,this.id.toString())}updateEphemeralSettingTimestamp(e){if(this.isGroup)return __LOG__(4,!1,new Error)(Te(),this.id.toString()),void SEND_LOGS("update-ephemeral-setting-timestamp");(0,ge.updateLocal)(this.id,{ephemeralSettingTimestamp:e}).then(()=>{this.ephemeralSettingTimestamp=e,__LOG__(2)(Me(),this.id.toString(),e)})}changeEphemeralDuration(e){if(this.isGroup)return __LOG__(4,!1,new Error)(Ce(),this.id.toString()),void SEND_LOGS("change-ephemeral-duration");var t=this.contact;if(t.isUser&&t.isContactBlocked)throw new A.default("changing ephemeral setting for contact is blocked",t);var a={id:new Q.default({id:(0,re.default)(),remote:this.id,fromMe:!0}),from:(0,G.getMaybeMeUser)(),to:this.id,t:P.default.globalUnixTime(),type:I.default.MSG_TYPE.PROTOCOL,subtype:"ephemeral_setting",ephemeralDuration:e,local:!0,isNewMsg:!0,self:"out"};(0,oe.addAndSendMsgToChat)(this,a)[1].then(()=>{(0,ge.updateLocal)(this.id,{ephemeralDuration:e}).then(()=>{this.ephemeralDuration=e,__LOG__(2)(Se(),this.id.toString(),e)})})}maybeUpdateEphemeralSetting(e,t){if(this.isGroup)return __LOG__(4,!1,new Error)(ye(),this.id.toString()),void SEND_LOGS("handle-ephemeral-sync-response");if((0,D.isEphemeralDurationAllowed)(e)){var a=this.ephemeralSettingTimestamp||0,i=this.ephemeralDuration||0,r=this.id;(0,D.shouldUpdateEphemeralSetting)({oldDuration:i,oldSettingTimestamp:a,newDuration:e,newSettingTimestamp:t,chatId:r})&&(0,ge.updateLocal)(this.id,{ephemeralDuration:e,ephemeralSettingTimestamp:t}).then(()=>{this.ephemeralDuration=e,this.ephemeralSettingTimestamp=t,__LOG__(2)(Ee(),this.id.toString(),e,t)})}else __LOG__(2)(je(),e,this.id.toString())}sendDeleteMsgs(e,t){return this.promises.sendDeleteMsgs||(this.promises.sendDeleteMsgs=(0,ne.sendDeleteMsgs)(e,t,this.id).then(()=>(e.forEach(e=>{e.delete()}),e.length)).catchType(L.ServerStatusCodeError,()=>{var t=0;return e.forEach(e=>{(e.ack===I.default.ACK.FAILED||e.isExpired())&&(e.delete(),t++)}),t}).finally(()=>{this.promises.sendDeleteMsgs=null})),this.promises.sendDeleteMsgs}deleteMsgs(e,t){this.deleteMsgsBeforeMsgInclusive(void 0,!e,t)}deleteMsgsOlderThan(e,t,a){var i=this.msgs,r=i.head();!r||r.t>=e||((r=i.last())&&r.t<e?this.deleteMsgs(t,a):this.deleteMsgsPartial((function(i){return i&&(a&&!(0,J.msgMatchesType)(i,a)||i.star&&!t||i.t>=e||i.isPersistent)})))}deleteMsgsBeforeMsgInclusive(e,t=!1,a){var i;if(e){if(!this.msgs.get(e.id))return;i=this.msgs.indexOf(e)}else i=this.msgs.length;this.deleteMsgsPartial((function(e,r){return a&&!(0,J.msgMatchesType)(e,a)||e.msgChunk===this.msgs&&r>i||t&&e.star||e.isPersistent&&t}),!0)}deleteMsgsPartial(e,t=!1){var a=this.unreadCount;if(this.getAllCMCs().forEach(a=>{var i=a.filter((t,a,i)=>!e.apply(this,[t,a,i]));a.remove(i,void 0,t),i.forEach(e=>{e.delete()})}),(0,f.default)(this.msgChunks).forEach(e=>{0===e.length&&this.removeMsgsCollection(e)}),this.msgs.length>0){var i=a>this.msgs.length?this.msgs.length:a;(0,ge.updateLocal)(this.id,{unreadCount:i}).then(()=>{this.unreadCount=i,this.msgs.msgLoadState.noEarlierMsgs=!0})}}getFirstMsgWithStatus(){return this.msgs.getModelsArray().find((function(e){return!e.isNotification&&(e.isSentByMe||e.type===I.default.MSG_TYPE.PTT||e.isEphemeral)}))}getLastReceivedMsg(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&(!t.local||t.ack>I.default.ACK.CLOCK))return t}}getLastReceivedNonExpiredMsg(e){for(var t=this.msgs.length-1;t>=0;t--){var a=this.msgs.at(t);if(a&&(!a.local||a.ack>I.default.ACK.CLOCK)&&(!a.isEphemeral||null!=a.ephemeralExpirationTimestamp&&a.ephemeralExpirationTimestamp>e))return a}}getLastMsgKeyForAction(){var e,t=this.msgs.last();return t&&(e=!this.lastReceivedKey||t.id.fromMe&&t.local&&t.ack===I.default.ACK.CLOCK?t.id:this.lastReceivedKey),e||void 0}getLastTimestampMsg(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&"i"!==t.eventTypeFromMsgType())return t}}getWebcChatType(){switch(this.kind){case Ue.CHAT:return K.default.WEBC_CHAT_TYPE.INDIVIDUAL;case Ue.GROUP:return K.default.WEBC_CHAT_TYPE.GROUP;case Ue.BROADCAST:return K.default.WEBC_CHAT_TYPE.BROADCAST_LIST;default:throw new TypeError("Invalid Chat.kind ".concat(String(this.kind)))}}_resetEphemeralMessageExpirationTimer(e){if(ce.default.ephemeralMessages){b.default.clearTimeout(this._ephemeralMessageTimerIds.get(e)),this._ephemeralMessageTimerIds.delete(e),this._ephemeralMessagesToDelete.delete(e);var{ephemeralExpirationTimestamp:t}=e;if(null!=t&&this.msgs.includes(e)){var a=()=>{this._ephemeralMessageTimerIds.delete(e),this.active?this._ephemeralMessagesToDelete.add(e):e.delete({skipUpdatingSortTime:!0,doNotResetLastReceived:!0})};if(e.isExpired())a();else{var i=b.default.setGlobalTimeout(a,1e3*t);this._ephemeralMessageTimerIds.set(e,i)}}}}sendProductMessage(e,t){var a=this;return(0,s.default)((function*(){yield(0,ae.sendProductMessage)(a,e,t)}))()}sendGroupInviteMessage(e,t,a,i,r,s){var n=(0,G.getMaybeMeUser)(),o={ack:I.default.ACK.CLOCK,from:n,id:new Q.default({from:n,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:P.default.globalUnixTime(),to:this.id,type:"groups_v4_invite",isNewMsg:!0,inviteGrpJpegThum:s,inviteCode:a,inviteCodeExp:i,inviteGrp:e,inviteGrpName:t,comment:r};return(0,oe.addAndSendMsgToChat)(this,o)[1]}forwardMessages(e,t=!1){var a=this.id,i=this.contact;if(i.isUser&&i.isBlocked())return Promise.reject(new A.default("Forwarded to contact is blocked",i));var r=[];return Promise.each(e,e=>{if(e.isMMS&&!e.ctwaContext)return(0,W.forwardMediaMsg)(e,this,t);var i=Be(e),r=(0,G.getMaybeMeUser)(),s=new Q.default({from:r,to:a,id:(0,re.default)(),participant:void 0,selfDir:"out"});e.ctwaContext&&(i.body=e.ctwaContext.sourceUrl,i.type=I.default.MSG_TYPE.CHAT,i.mediaObject=void 0),ce.default.ephemeralMessages&&(this.isEphemeralSettingOn()&&(i.ephemeralDuration=this.getEphemeralSetting()),i.ephemeralSettingTimestamp=this.getEphemeralSettingTimestamp()),Object.assign(i,{id:s,from:r,t:P.default.globalUnixTime(),to:a,ack:I.default.ACK.CLOCK,participant:void 0,local:!0,self:"out",isNewMsg:!0,star:!1,isForwarded:e.isForwarded||!e.isSentByMe,forwardedFromWeb:!0,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:t}),(0,oe.addAndSendMsgToChat)(this,i)}).then(()=>r)}updateReadOnly(){var e=Promise.resolve();if(this.isGroup&&!this.groupMetadata.stale){var t=!1;U.default.supportsFeature(U.default.F.MD_BACKEND)||(t=!this.groupMetadata.participants.get((0,G.getMaybeMeUser)())),e=(0,ge.updateLocal)(this.id,{isReadOnly:t}).then(()=>this.isReadOnly=t)}e.then(()=>{this.isBroadcast&&this.updateTitle()})}updateIsAnnounceGrpRestrict(){if(this.isGroup&&!this.groupMetadata.stale){var e=this.groupMetadata.participants.get((0,G.getMaybeMeUser)()),t=e&&!e.isAdmin&&this.groupMetadata.announce;(0,ge.updateLocal)(this.id,{isAnnounceGrpRestrict:t}).then(()=>this.isAnnounceGrpRestrict=t)}}sortMsgs(e){var t=e.map(e=>{var t=(0,$.default)(e.msgChunk,"msg.msgChunk");return{msg:e,chunkT:(0,$.default)(t.at(0),"chunk.at(0)").t,index:t.indexOf(e)}});return(0,u.default)(t,["chunkT","index"]).map(e=>e.msg)}_updateAssignedColor(){if(this.colors){var e=this.groupMetadata.participants,t=this.colors,a=(0,c.default)(Object.keys(t),e.map(e=>e.id.toString()).map(H.default));a.forEach((function(e){delete t[e]})),a.length&&this._saveAssignedColors()}}loadAssignedColors(){return this.groupMetadata&&this.listenTo(this.groupMetadata.participants,"remove reset",this._updateAssignedColor),(0,G.getGroupParticipantAssignedColor)(this.id)||{}}saveAssignedColors(){var e=this.colors;e&&(0,G.setGroupParticipantAssignedColor)(this.id,e)}assignedColor(e){var t,a=this.colors||(this.colors=this.loadAssignedColors()),i=(0,H.default)(e.toString());if(t=a[i])return t;var r={};(0,l.default)(a,(e,t)=>{r[e]?r[e].push(t):r[e]=[t]});for(var s=Number.POSITIVE_INFINITY,n=1;n<I.default.NUM_COLORS;n++){if(!r[n]){t=n;break}r[n].length<s&&(s=r[n].length,t=n)}return a[i]=t,this._saveAssignedColors(),t}unstarAll(){var e=this.getAllMsgs();e.forEach(e=>{e&&(e.star=!1)}),(0,ue.removeStarredMsgs)(e)}constructMediaMsgs(e){return e?(this.getMediaMsgs().includes(e)||e.msgChunk===this.msgs?(t=this.getMediaMsgs()).hasMediaAfter=!1:t=new y.default,t.includes(e)||(e.msgChunk?t.add(e.msgChunk.filter(e=>e.isMedia)):t.add(e)),t):this.getMediaMsgs();var t}fts(e,t=1,a){if(1===t){var i=this.ftsCache[e];if(i)return i;var r=q.default.search(e,t,a,this.id);this.ftsCache[e]=r;var s=()=>{this.ftsCache[e]=null};return setTimeout(s,3e5),r.catch(s),r}return q.default.search(e,t,a,this.id)}_clearFtsCache(){this.ftsCache={}}updateSortTime(){this.promises.updateSortTime||(this.promises.updateSortTime=this.regCancellablePromise(Promise.delay(0)).then(()=>{var e=this.getLastTimestampMsg();return e?(this.t=e.t,Promise.resolve()):this.msgs.msgLoadState.noEarlierMsgs||this.pendingMsgs?Promise.resolve():this.loadEarlierMsgs()}).then(e=>{if(e){var t=this.getLastTimestampMsg();this.t=t?t.t:void 0}}).catch(()=>{}).finally(()=>{this.promises.updateSortTime=void 0}))}removeFromCollection(e){e.star&&(0,ue.removeStarredMsgs)([e]),e.isMedia&&this.mediaMsgs?this.mediaMsgs.remove(e):e.getLinks().length&&this.linkMsgs?this.linkMsgs.remove(e):e.asDoc&&this.docMsgs?this.docMsgs.remove(e):null!=e.asProduct&&this.productMsgs&&this.productMsgs.remove(e),this.updateMediasCountOnMsg(e,!0)}getMediaMsgs(){return this.mediaMsgs||(this.mediaMsgs=new y.default),this.mediaMsgs}getLinkMsgs(){return this.linkMsgs||(this.linkMsgs=new j.default),this.linkMsgs}getDocMsgs(){return this.docMsgs||(this.docMsgs=new E.default),this.docMsgs}getParticipantCount(){var e;return(null===(e=this.groupMetadata)||void 0===e?void 0:e.participants.length)||1}getProductMsgs(){return this.productMsgs||(this.productMsgs=new M.default),this.productMsgs}getReceivedVcardMsgs(){return this.contact.isMyContact||!this.contact.isUser?null:(this.receivedVcardMsgs||(this.receivedVcardMsgs=new T.default,this.receivedVcardMsgs.parent=this),this.receivedVcardMsgs)}dismissVcard(){this.vcardDismissed=!0}updateMediasCountOnMsg(e,t=!1){if(U.default.supportsFeature(U.default.F.MEDIAS_COUNT)){var a=t?-1:1;e.isMedia&&(this.mediaCount+=a);var i=e.getLinks().length;i&&(this.linkCount+=a*i),e.asDoc&&(this.docCount+=a)}}resetMediasCount(e){U.default.supportsFeature(U.default.F.MEDIAS_COUNT)&&(null!=e.mediaCount&&(this.mediaCount=e.mediaCount),null!=e.linkCount&&(this.linkCount=e.linkCount),null!=e.docCount&&(this.docCount=e.docCount))}getStarredMsgs(){var e=this.starredMsgs;return e||(this.starredMsgs=e=new ue.StarredMsgCollection,this.starredMsgs.add(ue.default.filter(e=>e.chat===this))),e}setAndKeepPrevious(e,t){var a=Object.keys(e);a.forEach(e=>{e in this.ackedProps||(this.ackedProps[e]=this[e])}),t.finally(()=>{a.forEach(e=>{delete this.ackedProps[e]})}),this.set(e)}getAckedPhoneProps(){return{wid:this.id,mute:this.mute.expiration,active:this.active,isReadOnly:this.isReadOnly,modifyTag:this.modifyTag,unreadCount:this.unreadCount,ephemeralDuration:this.ephemeralDuration,ephemeralSettingTimestamp:this.ephemeralSettingTimestamp,changeNumberOldJid:this.changeNumberOldJid,changeNumberNewJid:this.changeNumberNewJid,archive:"archive"in this.ackedProps?this.ackedProps.archive:this.archive,notSpam:"notSpam"in this.ackedProps?this.ackedProps.notSpam:this.notSpam,pin:"pin"in this.ackedProps?this.ackedProps.pin:this.pin}}regCancellablePromise(e){return this._promises||(this._promises=[]),this._promises.push(e),e.cancellable().finally(()=>{this._promises=(0,d.default)(this._promises,e),this._promises&&0===this._promises.length&&(this._promises=null)})}cancelPendingPromises(){this._promises&&this._promises.length>0&&(this._promises.forEach((function(e){e.cancel()})),this._promises=null)}matchFilter(e={}){return!!(0,h.default)(e)||(e.label?this.labels&&this.labels.includes(e.label):e.kind===I.default.SMB_SEARCH_FILTERS.UNREAD?!!this.hasUnread:e.kind===this.kind)}getEphemeralSetting(){if(!ce.default.ephemeralMessages)return null;var e=this.isGroup?this.groupMetadata.ephemeralDuration:this.ephemeralDuration;return null==e||0===e?null:e}getEphemeralSettingTimestamp(){return ce.default.ephemeralMessages?this.isGroup||0===this.ephemeralSettingTimestamp?null:this.ephemeralSettingTimestamp:null}isEphemeralSettingOn(){if(!ce.default.ephemeralMessages)return!1;var e=this.getEphemeralSetting();return null!=e&&0!==e}shouldShowEphemeralSetting(){if(!ce.default.ephemeralMessages)return!1;if(!ce.default.ephemeralMessagesSetting)return!1;if(!U.default.supportsFeature(U.default.F.EPHEMERAL_MESSAGES)&&!U.default.supportsFeature(U.default.F.MD_BACKEND))return!1;if(this.isGroup){var e=this.groupMetadata.participants.getSuperAdmin();if(e&&e.contact.isEnterprise)return!1;var t=this.groupMetadata.participants.get((0,G.getMaybeMeUser)());if(t&&!t.isAdmin&&!this.isEphemeralSettingOn())return!1}return!this.isBroadcast&&!this.contact.isEnterprise}getCollection(){return a("dbdfbgehgj").default}getGroupMetadataCollection(){return a("djaadchjch").default}}function Be(e){var t,a=["footer","buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync"];return(null===(t=e.quotedMsg)||void 0===t?void 0:t.type)!==I.default.MSG_TYPE.PRODUCT&&(a=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID",...a]),(0,o.default)(e.toJSON(),a)}Fe.Proxy="chat",Fe.idClass=ve.default;var Ve=(0,v.defineModel)(Fe);t.default=Ve},ebjgfjehcc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("bebajedcaf")),o=r(a("cehcfaibji")),d=a("dibgccbbif"),l=r(a("ecadedaajh")),c=r(a("bhbdcdbigh")),u=r(a("biaifggagf")),f=r(a("beafbeighe")),h=r(a("cjgfiijjee")),p=r(a("bjddijedhj")),g=a("bgihjbde"),m=i(a("cajijabhgb")),b=a("ddbdgibbbi"),v=r(a("bhbdiadfhj")),_=r(a("dgicehhija")),E=r(a("dagdiahdfi")),j=r(a("dbgbceihf")),y=r(a("cahfddcdga")),S=r(a("bechejbabh")),C=r(a("jdigiabic")),M=r(a("bfhfhbjdbf")),T=r(a("dfgbefbcjd")),P=r(a("fagbfehid")),O=r(a("jccfhaecf")),N=r(a("bgeajihhc"));function I(){var e=(0,s.default)(["BinaryProtocol read error stack: ",""]);return I=function(){return e},e}function A(){var e=(0,s.default)(["BinaryProtocol read error with tag ",", size: ",""]);return A=function(){return e},e}function w(){var e=(0,s.default)(["LogoutDrop error: ",""]);return w=function(){return e},e}function R(){var e=(0,s.default)(["TODO ",""]);return R=function(){return e},e}function D(){var e=(0,s.default)(["Wap:handle read invalid"]);return D=function(){return e},e}function L(){var e=(0,s.default)(["bin-recv:",""]);return L=function(){return e},e}function k(){var e=(0,s.default)(["wap:handle:query unknown ",""]);return k=function(){return e},e}function x(){var e=(0,s.default)(["bin-recv:",""]);return x=function(){return e},e}function G(){var e=(0,s.default)(["Wap:handle action unknown ",""]);return G=function(){return e},e}function U(){var e=(0,s.default)(["bin-recv:",""]);return U=function(){return e},e}function F(){var e=(0,s.default)(["Wap:handle:notice dropped"]);return F=function(){return e},e}function B(){var e=(0,s.default)(["bin-recv:",""]);return B=function(){return e},e}function V(){var e=(0,s.default)(["Wap:handle:status dropped"]);return V=function(){return e},e}function H(){var e=(0,s.default)(["Wap:handle:starredStickers dropped"]);return H=function(){return e},e}function W(){var e=(0,s.default)(["bin-recv:",""]);return W=function(){return e},e}function K(){var e=(0,s.default)(["Wap:handle:recentStickers dropped"]);return K=function(){return e},e}function Y(){var e=(0,s.default)(["bin-recv:",""]);return Y=function(){return e},e}function q(){var e=(0,s.default)(["bin-recv:",""]);return q=function(){return e},e}function z(){var e=(0,s.default)(["Wap:handle:stickerPack dropped"]);return z=function(){return e},e}function Q(){var e=(0,s.default)(["Wap:handle:action:call dropped"]);return Q=function(){return e},e}function J(){var e=(0,s.default)(["bin-recv:",""]);return J=function(){return e},e}function X(){var e=(0,s.default)(["bin-recv:",""]);return X=function(){return e},e}function Z(){var e=(0,s.default)(["Wap:handle:quickReply dropped"]);return Z=function(){return e},e}function $(){var e=(0,s.default)(["bin-recv:",""]);return $=function(){return e},e}function ee(){var e=(0,s.default)(["bin-recv:",""]);return ee=function(){return e},e}function te(){var e=(0,s.default)(["Wap:handle:label dropped"]);return te=function(){return e},e}function ae(){var e=(0,s.default)(["bin-recv:",""]);return ae=function(){return e},e}function ie(){var e=(0,s.default)(["Wap:handle:location dropped"]);return ie=function(){return e},e}function re(){var e=(0,s.default)(["bin-recv: ",""]);return re=function(){return e},e}function se(){var e=(0,s.default)(["Wap:handle action mute dropped"]);return se=function(){return e},e}function ne(){var e=(0,s.default)(["Wap:handle action battery dropped"]);return ne=function(){return e},e}function oe(){var e=(0,s.default)(["bin-recv: ",""]);return oe=function(){return e},e}function de(){var e=(0,s.default)(["bin-recv: ",""]);return de=function(){return e},e}function le(){var e=(0,s.default)(["Wap:handle action chat dropped"]);return le=function(){return e},e}function ce(){var e=(0,s.default)(["Wap:handle:action:contacts dropped"]);return ce=function(){return e},e}function ue(){var e=(0,s.default)(["bin-recv: ",""]);return ue=function(){return e},e}function fe(){var e=(0,s.default)(["bin-recv: ",""]);return fe=function(){return e},e}function he(){var e=(0,s.default)(["Wap:handle action contact dropped"]);return he=function(){return e},e}function pe(){var e=(0,s.default)(["Wap:handle action ack invalid"]);return pe=function(){return e},e}function ge(){var e=(0,s.default)(["bin-recv: ",""]);return ge=function(){return e},e}function me(){var e=(0,s.default)(["bin-recv: ",""]);return me=function(){return e},e}function be(){var e=(0,s.default)(["Wap:handle action bc update invalid"]);return be=function(){return e},e}function ve(){var e=(0,s.default)(["Wap:handle action cmd invalid"]);return ve=function(){return e},e}function _e(){var e=(0,s.default)(["bin-recv: ",""]);return _e=function(){return e},e}function Ee(){var e=(0,s.default)(["Wap:handle:action keys not array: ",""]);return Ee=function(){return e},e}function je(){var e=(0,s.default)(["Wap:handle action msg no meta.add"]);return je=function(){return e},e}function ye(){var e=(0,s.default)(["Wap:handle action msg before/after 0 msgs"]);return ye=function(){return e},e}function Se(){var e=(0,s.default)(["Wap:handle action msg "," dropped to 0"]);return Se=function(){return e},e}function Ce(){var e=(0,s.default)(["bin-recv: ",""]);return Ce=function(){return e},e}function Me(){var e=(0,s.default)(["Wap:handle action msg before/after dropped"]);return Me=function(){return e},e}function Te(){var e=(0,s.default)(["Wap:handle action msg last dropped to 0"]);return Te=function(){return e},e}function Pe(){var e=(0,s.default)(["bin-recv: ",""]);return Pe=function(){return e},e}function Oe(){var e=(0,s.default)(["Wap:handle action msg last dropped"]);return Oe=function(){return e},e}function Ne(){var e=(0,s.default)(["Wap:handle action msg relay dropped"]);return Ne=function(){return e},e}function Ie(){var e=(0,s.default)(["bin-recv: ",""]);return Ie=function(){return e},e}function Ae(){var e=(0,s.default)(["Wap:handle action msg relay length not 1"]);return Ae=function(){return e},e}function we(){var e=(0,s.default)(["Wap:handle non-preemptive response: ",""]);return we=function(){return e},e}function Re(){var e=(0,s.default)(["Wap:handle unknown response type: ",""]);return Re=function(){return e},e}function De(){var e=(0,s.default)(["bin-recv: ",",response,contact"]);return De=function(){return e},e}function Le(){var e=(0,s.default)(["bin-recv: ",",response,chat"]);return Le=function(){return e},e}function ke(){var e=(0,s.default)(["Wap:groupActionsByType unknown action: ",""]);return ke=function(){return e},e}function xe(){var e=(0,s.default)(["Wap:setSubProtocol unknown ",""]);return xe=function(){return e},e}function Ge(){var e=(0,s.default)(["wap:epochCount: "," epoch: ",""]);return Ge=function(){return e},e}function Ue(){var e=(0,s.default)(["wap:epochRecv: NEGATIVE"]);return Ue=function(){return e},e}function Fe(){var e=(0,s.default)(["wap:epochCount: "," epoch: ",""]);return Fe=function(){return e},e}var Be={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,__LOG__(2)(Fe(),this.epochCount,this.epoch),this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:__LOG__(3)(Ue()),__LOG__(2)(Ge(),this.epochCount,this.epoch)},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new c.default,this.N=this.BinaryProtocol.Node;else{if(null==e||0===e)throw __LOG__(3)(xe(),String(e)),new m.UpdateImmediately("".concat(this.version,"_unknown_version"));this.BinaryProtocol=new l.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){return new Promise(e=>{this.BinaryProtocol.dropAllBecauseLogout(),e()})},upgradeProtoVersion(e){if(e.BinaryProtocol instanceof c.default)for(var t=e.BinaryProtocol.getWriteQueue();t.length;){var{n:a,resolve:i,reject:r}=t.shift();this.BinaryProtocol.write(a).then(i).catch(r)}},delete:function(){this.epochCount=0,this.epoch=0},cannotReachPhone:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce((function(e,t){return e||t}),!1)?void 0:t},pruneUndefinedProps:function(e){for(var t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(v.default.supportsFeature(e)){for(var a=[],i=2;i<arguments.length;i++)a.push(arguments[i]);return this[t](...a)}},safeParseInt:function(e,t){var a=parseInt(this.N.attr(t,e),10);return Number.isNaN(a)?void 0:a},wrap:function(e){return t=>{if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;this.epochRecv(),e(t)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){return a=>{if(a&&"object"==typeof a&&"number"==typeof a.status){if(401===a.status)throw this.epochRecv(),new g.E401;if(a.status>=500)return a;this.epochRecv(),t(a)}else this.epochRecv(),e(a)}},binSend:function(e,t,a,i,r){var s=i.epochIneligible?a:e=>{this.epochRecv(),a(e)};return delete i.epochIneligible,this.BinaryProtocol.write(t).then(a=>{r.debugObj||(r.debugObj=t),r.metric=this.M[r.metricName],i.data=a,i.binaryOpts=r,N.default[e](i)}).catch(s)},msgGetTarget:function(e){return O.default.equals(e.from,(0,b.getMaybeMeUser)())?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?(0,d.encodeB64)(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,a){return["action",{type:e,epoch:this.epochSend(a)},t]},queryNode:function(e,t){var a=e;return a||(a={}),a.epoch=this.epochSend(),["query",a,t]},responseNode:function(e,t){var a=e;return a||(a={}),a.epoch=this.epochSend(),["response",a,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){var t={};if("action"!==this.N.tag(e))return t;var a=this.N.attr("add",e),i=this.N.attr("missing",e),r=this.N.attr("checksum",e);switch(a){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=a}switch(i){case"remove":t.missing=i}return r&&(t.checksum=r),t},groupActionsByType:function(e){var t,a,i={};if(!Array.isArray(e))return i;var r=e.length;for(a=0;a<r;a++)switch(t=e[a],this.N.tag(t)){case"broadcast":switch(this.N.attr("type",t)){case"create":case"add":case"remove":i.msg||(i.msg=[]),i.msg.push(t);break;case"modify":i.bcUpdate||(i.bcUpdate=[]),i.bcUpdate.push(t)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":i.msg||(i.msg=[]),i.msg.push(t);break;case"read":case"log":case"identity":i.cmd||(i.cmd=[]),i.cmd.push(t);break;case"received":i.ack||(i.ack=[]),i.ack.push(t);break;case"user":i.contact||(i.contact=[]),i.contact.push(t);break;case"contacts":i.contacts||(i.contacts=[]),i.contacts.push(t);break;case"chat":switch(this.N.attr("type",t)){case"mute":i.mute||(i.mute=[]),i.mute.push(t);break;default:i.chat||(i.chat=[]),i.chat.push(t)}break;case"battery":i.battery||(i.battery=[]),i.battery.push(t);break;case"location":i.location||(i.location=[]),i.location.push(t);break;case"label":i.label||(i.label=[]),i.label.push(t);break;case"group":i.group||(i.group=[]),i.group.push(t);break;case"quick_reply":i.quickReply||(i.quickReply=[]),i.quickReply.push(t);break;case"call":i.call||(i.call=[]),i.call.push(t);break;case"stickerPack":case"sticker_pack":i.stickerPack||(i.stickerPack=[]),i.stickerPack.push(t);break;case"recent_stickers":i.recentStickers||(i.recentStickers=[]),i.recentStickers.push(t);break;case"starred_stickers":i.starredStickers||(i.starredStickers=[]),i.starredStickers.push(t);break;case"status":i.status||(i.status=[]),i.status.push(t);break;case"notice":i.notice||(i.notice=[]),i.notice.push(t);break;default:__LOG__(3,!0)(ke(),this.N.toString(t))}return i},handleResponse:function(e,t,a){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":__LOG__(2)(Le(),e);var i=this.N.children(t)||[];if(Array.isArray(i)){for(var r=i.length,s=[],n=0;n<r;n++){var o=this.parseChat(i[n]);o&&s.push(o)}(0,f.default)([{cmd:"preempt",response:s,binarySize:a}])}break;case"contacts":__LOG__(2)(De(),e);var d=this.N.children(t);if(Array.isArray(d)){for(var l=d.length,c=[],u=0;u<l;u++){var h=this.parseContact(d[u]);h&&c.push(h)}(0,p.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:c,binarySize:a}])}break;default:__LOG__(3)(Re(),this.N.toString(t,!0))}else __LOG__(3)(we(),this.N.toString(t,!0))},handleActionMsg:function(e,t,a,i){var r=i.length;switch(a.add){case"relay":case"update":var s=this.parseMsg(i[0],"relay");if(1!==r&&__LOG__(3)(Ae()),s){__LOG__(2)(Ie(),[e,"action","msg",a.add,s.type,s.from,s.to,s.id,s.author].join(","));var n=this.msgGetTarget(s);(0,_.default)([{meta:a,chat:n,msg:s}])}else __LOG__(3)(Ne());break;case"last":for(var o=[],d=0;d<r;d++){var l=this.parseMsg(i[d],"last");l?o.push(l):__LOG__(3)(Oe())}if(o.length>0){__LOG__(2)(Pe(),[e,"action","msg","last",i.length].join(","));for(var c={recent:!0,meta:a,binarySize:t},u=0;u<o.length;u++)c[this.msgGetTarget(o[u])]=o[u];(0,_.default)([c])}else __LOG__(3)(Te());break;case"before":case"after":case"unread":if(r>0){for(var f=[],h=0;h<r;h++){var p=this.parseMsg(i[h],a.add);p?f.push(p):__LOG__(3)(Me())}if(f.length>0){var g=this.msgGetTarget(f[0]);__LOG__(2)(Ce(),[e,"action","msg",a.add,g,f.length].join(",")),(0,_.default)([{meta:a,chat:g,msgs:f,binarySize:t}])}else __LOG__(3)(Se(),a.add)}else __LOG__(3)(ye());break;default:__LOG__(3)(je())}},handleAction:function(e,t,i){var r=this.actionGetMeta(t),s=this.groupActionsByType(this.N.children(t)),d=Object.keys(s);if(Array.isArray(d)){var l=d.length;if(0!==l||"last"!==r.add)for(var c=0;c<l;c++){var g=d[c],m=s[g],b=m.length;switch(g){case"msg":this.handleActionMsg(e,i,r,m,t);break;case"cmd":for(var O=0;O<b;O++){var N=this.parseCmd(m[O]);if(N){var I=(0,o.default)(N).join(",");__LOG__(2)(_e(),[e,"action","cmd",I].join(",")),a("dhggbbghfb").handle([N])}else __LOG__(3)(ve())}break;case"bcUpdate":for(var A=[],w=0;w<b;w++){var R=this.parseBCUpdate(m[w]);R?A.push(R):__LOG__(3)(be())}if(__LOG__(2)(me(),[e,"action","bcUpdate",A.length].join(",")),A.length>0)a("djaadchjch").default.handle(A);break;case"ack":for(var D=0;D<b;D++){var L=this.parseAck(m[D]);L?(__LOG__(2)(ge(),[e,"action","ack",L.to,L.id,L.ack].join(",")),(0,_.default)([L])):__LOG__(3)(pe())}break;case"contact":for(var k=[],x=0;x<b;x++){var je=this.parseContact(m[x]);je?k.push(je):__LOG__(3)(he())}if(__LOG__(2)(fe(),[e,"action","contact",k.length,r.missing].join(",")),k.length>0){var ye=[k];(r.missing||r.checksum)&&ye.push(r),(0,p.default)(ye)}break;case"contacts":var Se=this.parseContacts(m[0]);__LOG__(2)(ue(),[e,"action","contacts"].join(",")),Se?(0,p.default)([Se]):__LOG__(3)(ce());break;case"chat":for(var Ce=[],Me=0;Me<b;Me++){var Te=this.parseChat(m[Me]);Te?Ce.push(Te):__LOG__(3)(le())}__LOG__(2)(de(),[e,"action","chat",Ce.length].join(",")),Ce.length>0&&(0,f.default)([Ce]);break;case"battery":var Pe=this.parseBattery(m[0]);Pe?(__LOG__(2)(oe(),[e,"action","battery",Pe.battery,Pe.plugged].join(",")),(0,h.default)([Pe])):__LOG__(3)(ne());break;case"mute":for(var Oe=[],Ne=0;Ne<b;Ne++){var Ie=this.parseChat(m[Ne]);Ie?Oe.push(Ie):__LOG__(3)(se())}__LOG__(2)(re(),[e,"action","mute",Oe.length].join(",")),Oe.length>0&&E.default.handle(Oe);break;case"location":for(var Ae=[],we=0;we<b;we++){var Re=this.parseLocation(m[we]);Re?Ae.push(Re):__LOG__(3)(ie()),__LOG__(2)(ae(),[e,"action,location",Ae.length].join()),Ae.length>0&&a("cdcijfdgje").default.handle(Ae)}break;case"label":for(var De=[],Le=0;Le<b;Le++){var ke=this.callFeatureFlagFun(v.default.F.LABELS_DISPLAY,"parseLabel",m[Le]);ke?De.push(ke):__LOG__(3)(te()),__LOG__(2)(ee(),[e,"action,label",De.length].join()),De.length>0&&a("bijffg").default.handle({checksum:r.checksum,labels:De})}break;case"group":for(var xe=0;xe<b;xe++){var Ge=this.callFeatureFlagFun(v.default.F.GROUPS_V_4_JOIN_PERMISSION,"parseInviteUpdate",m[xe]);if(__LOG__(2)($(),[e,"action,group_v4_pending_invites",Ge&&Ge.length].join()),void 0!==Ge)a("djaadchjch").default.handlePendingInvite({gid:Ge.gid,participants:Ge.participants})}break;case"quickReply":for(var Ue=[],Fe=0;Fe<b;Fe++){var Be=this.callFeatureFlagFun(v.default.F.QUICK_REPLIES_QUERY,"parseQuickReply",m[Fe]);Be?Ue.push(Be):__LOG__(3)(Z()),__LOG__(2)(X(),[e,"action,quickReply",Ue.length].join()),Ue.length>0&&S.default.handle({checksum:r.checksum,quickReplies:Ue})}break;case"call":var Ve=this.callFeatureFlagFun(v.default.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",m[0]);__LOG__(2)(J(),[e,"action","call"].join()),Ve?u.default.handle([Ve]):__LOG__(3)(Q());break;case"stickerPack":case"sticker_pack":for(var He=[],We=0;We<b;We++){var Ke=this.callFeatureFlagFun(v.default.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",m[We]);Ke?(He.push(Ke),P.default.sync(r.checksum)):__LOG__(3)(z()),__LOG__(2)(q(),[e,"action,stickerPack",He.length].join())}break;case"recentStickers":if(v.default.isRecentStickersEnabled())for(var Ye=0;Ye<b;Ye++){var qe=(0,M.default)(m[Ye],this.N);qe?(C.default.setChecksum(r.checksum),C.default.remove(qe),__LOG__(2)(Y(),[e,"action,recentStickers",qe].join())):__LOG__(3)(K())}break;case"starredStickers":if(v.default.isStarredStickersEnabled())for(var ze=0;ze<b;ze++){var Qe=(0,T.default)(m[ze],this.N);if(Qe){var{type:Je,filehash:Xe,sticker:Ze}=Qe,$e=a("difbicaihd").default;switch(Je){case"add":$e.add((0,y.default)(Ze,"sticker"),{at:0},!0);break;case"delete":$e.remove(Xe)}__LOG__(2)(W(),[e,"action,starredStickers",Je,Xe].join())}else __LOG__(3)(H())}break;case"status":for(var et=[],tt=0;tt<b;tt++){var at=this.callFeatureFlagFun(v.default.F.STATUS_RANKING,"parseStatusRankingScores",m[tt]);at&&at.length?et.push(...at):__LOG__(3)(V()),__LOG__(2)(B(),[e,"action,status",et.length].join()),et.length>0&&a("bgcdajbhif").default.handle([{type:"score",scores:et}])}break;case"notice":for(var it=[],rt=0;rt<b;rt++){var st=this.callFeatureFlagFun(v.default.F.USER_NOTICE,"parseNotice",m[rt]);st?!(0,n.default)(st)&&it.push(st):__LOG__(3)(F()),__LOG__(2)(U(),[e,"action,notice",it.length].join()),j.default.handleResponse(it)}break;default:__LOG__(3)(G(),g)}}else(0,_.default)([{recent:!0,meta:r,binarySize:i}])}else __LOG__(3)(Ee(),typeof d)},handleQuery:function(e,t){var a=this,i=this.N.children(t);if(Array.isArray(i))for(var r=function(t){var r=i[t],s=a.N.tag(r);__LOG__(2)(x(),[e,"query",s].join());var n=void 0;switch(s){case"call":n=a.callFeatureFlagFun(v.default.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",r);break;default:__LOG__(3)(k(),s)}n||(n=Promise.resolve(a.errorNode(501))),n.then(t=>{a.BinaryProtocol.write(t).then(i=>{N.default.send({tag:e,data:i,onSend:a.wrap(()=>{}),onDrop:a.wrap(()=>{}),retryOn5xx:!0,binaryOpts:{debugString:["response",s].join(),debugObj:t,metricName:"QUERY_RESPONSE",ackRequest:!0}})}).catch(()=>{a.epochRecv()})})},s=0;s<i.length;s++)r(s)},handle:function(e,t,i,r){return this.BinaryProtocol.read(e).then(e=>{switch(this.N.tag(e)){case"response":this.handleResponse(i,e,r,t);break;case"action":this.handleAction(i,e,r,t);break;case"query":this.handleQuery(i,e,r);break;case"read":var s=this.parseCmd(e);if(s){var n=(0,o.default)(s).join();__LOG__(2)(L(),[i,"action",n].join()),a("dhggbbghfb").handle([s])}else __LOG__(3)(D());break;default:__LOG__(3,!0)(R(),this.N.toString(e,!0))}return!0}).catchType(g.LogoutDrop,e=>{__LOG__(3)(w(),e.toString())}).catch(e=>{throw __LOG__(1)(A(),i,r),__LOG__(1)(I(),e.stack||""),new Error("BinaryProtocol read error: ".concat(e))})}};t.default=Be},ebjgibdfjb:function(e,t){e.exports={mediaPanelHeader:"_3Xthh",info:"_3kv5L",productNameIcon:"fj5iW",productName:"_1K-lz",mediaPanelTools:"_1721n",infoName:"_1N1WW"}},ebjjeedfha:function(e,t){e.exports={bubble:"_1U8Mj",hasCaption:"Sr-4w",meta:"wkwk0",isPSA:"_2sPuA",isPsa:"_2sPuA",author:"m90g3",forwarded:"_17xx9",forwardedIndicator:"_3CJft",hasAuthor:"CphTm",quote:"_1PFQs"}},ecadedaajh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ddfeabiaci")),o=r(a("bccgihhja")),d=r(a("chjegajjid")),l=r(a("dfeigegibg")),c=r(a("dfbcdcdgad")),u=r(a("bgchgjadcf")),f=r(a("cchbfbgdii")),h=r(a("bahajbigbf")),p=r(a("ebedjbfgdc")),g=r(a("bbccjbdggc")),m=i(a("cajijabhgb")),b=r(a("bhbdiadfhj")),v=r(a("cfcbahcge")),_=r(a("dcgbijfbij")),E=r(a("bajjbhjaec")),j=r(a("bceidbcgfe")),y=r(a("ccbddcbied")),S=r(a("jaiabagge"));function C(){var e=(0,s.default)(["binaryProtocol unknown version: ",""]);return C=function(){return e},e}function M(){var e=(0,s.default)(["binaryProtocol deprecated version: ",""]);return M=function(){return e},e}var T=(e,t)=>{if(Array.isArray(e)&&t)return e.concat(t)},P=(e,t)=>{if(e.Dictionary){var a={};(0,o.default)(a,t.Dictionary,e.Dictionary,T),e.Dictionary=a}return(0,n.default)(e,t)},O={OutputStream:_.default,Writer:y.default,InputStream:v.default,Reader:E.default,Dictionary:l.default,Crypto:d.default},N=P({Dictionary:c.default},O),I=P({Dictionary:u.default},N),A=P({Dictionary:f.default},I),w=P({Dictionary:h.default},A),R=P({Dictionary:p.default},w),D=P({Writer:S.default,Reader:j.default,Dictionary:g.default},R),L={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},k={v5:O,v6:N,v7:I,v8:A,v9:w,v10:R,v11:D};t.default=class{constructor(e){var t="number"==typeof e?"v".concat(e):e;if(L[t])throw __LOG__(3)(M(),t),new m.DeprecatedProtocolVersion("bp_deprecated_version");var i=k[t];if(!i)throw __LOG__(3)(C(),t),new m.UpdateImmediately("bp_unknown_version");var r=i.OutputStream,s=new i.Writer(i.Dictionary),n=i.InputStream,o=new i.Reader(i.Dictionary),d=i.Crypto;this.Node=a("ebagcghdei").default,b.default.supportsFeature(b.default.F.MD_BACKEND)||(this.read=e=>d.decrypt(e).then(e=>o.readNode(new n(e)))),this.write=e=>Promise.callSynchronously(()=>{var t=new r;return s.writeNode(t,e),d.encrypt(t.toBuffer())}),this.dropAllBecauseLogout=()=>d.dropAllBecauseLogout()}}},ecafecbdig:function(e,t){e.exports={voipFloater:"_2JtTA"}},ecagbdjcba:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cfadcbbiie")),o=i(a("bjigbaghc")),d=a("ffbhijacg"),l=i(a("dcdbbhicce"));class c extends s.PureComponent{render(){var e,{children:t,className:a,contact:i,msg:r,onClick:l,style:c}=this.props,u=n.default.timeStr(r.t);return i.isMe&&(e=o.default.pushname),e=e||i.formattedUser||"",s.createElement(d.CopyableDiv,{className:a,onClick:l,prePlainText:"[".concat(u,"] ").concat(e,": "),style:c},t)}}c.CONCERNS={contact:["formattedUser","name","isMe"],msg:["senderObj","t"]};var u=(0,l.default)(c,c.CONCERNS);t.default=u},ecajcacdce:function(e,t,a){"use strict";var i=a("ebjighhbai");Object.defineProperty(t,"__esModule",{value:!0}),t.encodeProto=function(e,t,a=new r.default){return(0,d.checkValid)(e,t),m(a,t,e),c=void 0,a},t.encodeErrorInfo=function(){return void 0!==c?"Last encoded value for ".concat(c):"No information known"};var r=i(a("bfefjaegfe")),s=i(a("cbcfcdbhba")),n=a("bfbidjgiag"),o=a("igcihijgb"),d=a("cidhhgciaa"),l=a("cdiijcehcb"),c=void 0;function u(e,t){e.writeVarInt(t)}function f(e,t){if("number"==typeof t&&t<4503599627370496&&t>=-4503599627370496)e.writeVarInt(t>=0?2*t:2*-t-1);else{var a,i=new r.default;"number"==typeof t?(a=t<0,i.writeVarInt(a?-t:t)):(a=(0,l.hexLongIsNegative)(t),i.writeVarIntFromHexLong(a?(0,l.negateHexLong)(t):t));var s=i.peek(()=>i.readByteArray()),n=s.byteLength;if(a){var o,d=0;do{o=s[d],s[d]=128&o|(127&o)-1&127,d++}while(255===s[d-1])}for(var c=a?1:0,u=0;u<n;u++){var f=s[u],h=128&f|(63&f)<<1|c;c=(64&f)>>6,s[u]=h}1===c&&(s[n-1]|=128,i.writeInt8(1)),e.writeBinary(i)}}function h(e,t){"number"==typeof t?e.writeVarInt(t):e.writeVarIntFromHexLong(t)}var p=[void 0,u,h,u,h,f,f,(e,t)=>{e.writeVarInt(t?1:0)},u,(e,t)=>{"number"==typeof t?e.writeUint64(t,!0):e.writeHexLong(t,!0)},(e,t)=>{"number"==typeof t?e.writeInt64(t,!0):e.writeHexLong(t,!0)},(e,t)=>{e.writeFloat64(t,!0)},function(e,t){e.writeVarInt(r.default.numUtf8Bytes(t)),e.writeString(t)},function(e,t){e.writeVarInt(t.byteLength),e.writeBuffer(t)},function(e,t,a){e.writeWithVarIntLength((e,t)=>m(e,t,a),t)},(e,t)=>{e.writeUint32(t,!0)},(e,t)=>{e.writeInt32(t,!0)},(e,t)=>{e.writeFloat32(t,!0)}],g=p.map(e=>{if(null!=e)return(e,a)=>{e.writeWithVarIntLength(t,a)};function t(t,a){for(var i=0;i<a.length;i++)e(t,a[i])}});function m(e,t,a){for(var{names:i,fields:r,types:d,meta:l}=(0,s.default)(a),{internalDefaults:u}=a,f=0;f<i.length;f++){var h=i[f],m=t[h];if(void 0===m&&u&&(m=u[h]),void 0!==m){c=h;var b=r[f],v=d[f],_=v&n.TYPE_MASK,E=l[f],j=8*b|(0,o.typeToEncType)(v);if(v&n.FLAGS.PACKED){if(m.length>0)e.writeVarInt(j),(0,g[_])(e,m,E)}else if(v&n.FLAGS.REPEATED)for(var y=0;y<m.length;y++){e.writeVarInt(j),(0,p[_])(e,m[y],E)}else{e.writeVarInt(j),(0,p[_])(e,m,E)}}}}},ecbafeecfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bcdafjgefj")),o=i(a("dhhhjaejje"));class d extends o.default{}function l(e){return e.reduce((e,t,a)=>{var i="jsx-child-".concat(a);return void 0===t?e:"string"==typeof t?[...e,t]:[...e,s.cloneElement(t,{key:i})]},[])}t.default=d,d.onText=n.default,d.onDelimiter=()=>{},d.onRoot=e=>l(e),d.onMutator=(e,t,a,i)=>e.jsx(l(t),a,i)},ecbchdhdcg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("dcdbaegdhb")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=r(a("iecijehdi")),c=r(a("cifgdghbhg")),u=r(a("bhicbecjj")),f=r(a("ecagbdjcba")),h=r(a("dbdfbgehgj")),p=r(a("ccbgfecegc")),g=r(a("bbfjdcedab")),m=r(a("hgigjbgie")),b=r(a("dhigahgdjb")),v=r(a("dchbafijaf")),_=r(a("dhggdfijcg")),E=r(a("gfebgebbi")),j=r(a("eiighchhi")),y=r(a("bhbdiadfhj")),S=a("gaifbabbj"),C=r(a("bdjjabfecc")),M=r(a("dcjigehfeb")),T=r(a("ebibaajhjh")),P=(a("ccfjbcbbga"),r(a("deeafjfccb"))),O=r(a("jcacjdahc")),N=r(a("dhefcajhhb")),I=r(a("cdahjdgdad")),A=r(a("dcdbbhicce")),w=a("cjfegjecaj"),R=r(a("dgdcjccfdi")),D=r(a("cdeahgaaii")),L=r(a("ccddejdgfb")),k=r(a("caedchihhc")),x=a("cjjdjbcgjh"),G=r(a("egdhadcih"));class U extends d.Component{constructor(...e){super(...e),this.onMessageClick=e=>{var t=(0,x.vcardWids)(this.props.vcard);if(t){var{vcard:a}=this.props;t.length>1&&a?p.default.openModal(d.createElement(G.default,{icon:d.createElement(R.default,{name:"chat",directional:!0}),vcard:a,onCancel:()=>p.default.closeModal(),onSelect:t=>this.openContactChat(t,e)})):t.length>0&&this.openContactChat(t[0],e)}},this.openContactChat=(e,t)=>{var i=y.default.supportsFeature(y.default.F.QUERY_VNAME)&&!b.default.get(e);h.default.find(e).then(r=>{this.props.onMessageClick&&this.props.onMessageClick(),p.default.closeModal(),p.default.openChatFromUnread(r).then(e=>{if(e){if(t){var i=a("ccfehggbjf").default;p.default.openDrawerRight(d.createElement(i,{chat:r,key:"info-".concat(r.id.toString())}),"slide-left",D.default.Manager.top)}p.default.focusChatTextInput(r)}}),i&&(0,I.default)(e.toString()).then(t=>{if(t){var{biz:a,bizInfo:i}=t;a&&(0,L.default)(e,i)}})})},this.onViewContact=()=>{var{msg:e,vcard:t}=this.props;t?p.default.openModal(d.createElement(v.default,{vcard:t})):p.default.openModal(d.createElement(g.default,{onCancel:()=>p.default.closeModal(),onOK:()=>{p.default.closeModal(),j.default.initDownload((0,w.unproxy)(e.unsafe()))},okText:C.default.t(1493),cancelText:C.default.t(1497),title:C.default.t(521)},C.default.t(520)))},this.onAddToGroupClick=()=>{var e=(0,x.vcardWids)(this.props.vcard);if(e){var{vcard:t}=this.props;e.length>1&&t?p.default.openModal(d.createElement(G.default,{icon:d.createElement(R.default,{name:"add-user",directional:!0}),vcard:t,onCancel:()=>p.default.closeModal(),onSelect:this.addContactToGroup})):e.length>0&&this.addContactToGroup(e[0])}},this._showMediaMissing=()=>{p.default.openModal(d.createElement(T.default,{msg:this.props.msg.unsafe()}))},this._getBubbleActionItems=(e,t)=>{var a={label:C.default.t(882),onClick:()=>this.onMessageClick(!1),title:e?C.default.t(885,{author:e}):C.default.t(882)};return t?[a,{label:C.default.t(1385),onClick:()=>this.onMessageClick(!0)}]:[a,{label:C.default.t(185),onClick:this.onAddToGroupClick}]}}addContactToGroup(e){b.default.find(e).then(e=>{p.default.openModal(d.createElement(l.default,{contact:e,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})})}render(){var e,t,a,{downloadMedia:i,mediaStage:r,msg:l,vcard:h}=this.props;if(h){e=(0,x.vcardWids)(h);var p=l.type===m.default.MSG_TYPE.VCARD?l.vcardFormattedName:null;t=(0,n.default)(p||(0,x.vcardGetNameFromParsed)(h)||C.default.t(216),{length:120,omission:C.default.t(1131)}),e&&e.length>0&&(a=d.createElement(u.default,{items:this._getBubbleActionItems(t,(0,x.vcardIsBiz)(h))}))}var g=this.props.displayAuthor&&!l.isSentByMe&&l.isGroupMsg?d.createElement("div",{className:k.default.author},d.createElement(c.default,{msg:l.unsafe(),contact:l.senderObj})):null,b=this.props.quotedMsg?d.createElement("div",{className:k.default.quote},this.props.quotedMsg):null,v=(0,o.default)(k.default.bubble,{[k.default.hasAuthor]:g,[k.default.hasQuote]:b,[k.default.isPreview]:this.props.displayType===m.default.DISP_TYPE.MSG_INFO,[k.default.isGallery]:this.props.displayType===m.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===m.default.DISP_TYPE.CONTACT_CARD||this.props.displayType===m.default.DISP_TYPE.GALLERY}),j=l.type===m.default.MSG_TYPE.DOCUMENT&&l.isVcardOverMmsDocument&&r===M.default.STAGE.ERROR_MISSING,y=j||!this.props.placeholder&&(h||l.chat.isTrusted()),T=y?j?this._showMediaMissing:this.onViewContact:()=>{},I=S.Configuration.Compatibility({selectable:!0}),A=this.props.placeholder?d.createElement(F,{downloadMedia:i,mediaStage:r}):d.createElement(O.default,{size:49,thumb:(0,x.vcardThumbnail)(h),wid:N.default.getThumbnailWidFromVcard(h)}),w=this.props.placeholder?d.createElement(B,{mediaStage:r}):d.createElement(E.default,{text:t,element:"div",className:k.default.name,selectable:!0,dirMismatch:l.rtl!==C.default.isRTL(),direction:l.dir,formatters:I});return this.props.placeholder&&(a=r===M.default.STAGE.ERROR_MISSING?d.createElement(u.default,{items:this._getBubbleActionItems().map(e=>(0,s.default)((0,s.default)({},e),{},{onClick:this._showMediaMissing}))}):d.createElement(u.default,{items:[],placeholder:!0})),d.createElement(f.default,{className:v,contact:l.senderObj,msg:l.unsafe()},g,b,d.createElement(_.default,{msg:l.unsafe(),wrapperClass:k.default.ctwaContext}),d.createElement("div",{className:k.default.vcard,role:y?"button":null,onClick:T},d.createElement("div",{className:k.default.avatar},A),d.createElement("div",{className:k.default.body},w),d.createElement("div",{className:k.default.meta},d.createElement(P.default,{msg:l}))),a)}}function F(e){var{downloadMedia:t,mediaStage:a}=e;if(!a)return d.createElement(H,{downloadMedia:t});switch(a){case M.default.STAGE.NEED_POKE:case M.default.STAGE.INIT:return d.createElement(H,{downloadMedia:t});case M.default.STAGE.FETCHING:case M.default.STAGE.REUPLOADING:case M.default.STAGE.DECRYPTING:return d.createElement(V,{animate:!0,type:"profileImage"});case M.default.STAGE.RESOLVED:return d.createElement(V,{type:"profileImage"});case M.default.STAGE.ERROR_MISSING:return d.createElement(H,{downloadMedia:()=>{}});default:return d.createElement(V,{animate:!0,type:"profileImage"})}}function B(e){var{mediaStage:t}=e;if(!t)return d.createElement(V,{type:"body"});switch(t){case M.default.STAGE.NEED_POKE:case M.default.STAGE.INIT:return d.createElement(V,{type:"body"});case M.default.STAGE.FETCHING:case M.default.STAGE.REUPLOADING:case M.default.STAGE.DECRYPTING:return d.createElement(V,{animate:!0,type:"body"});case M.default.STAGE.RESOLVED:case M.default.STAGE.ERROR_MISSING:default:return d.createElement(V,{type:"body"})}}function V(e){var{animate:t,type:a}=e,i=[k.default.placeholder,"profileImage"===a?k.default.placeholderImage:k.default.placeholderText,t?k.default.placeholderAnimation:null].filter(Boolean);return d.createElement("div",{className:(0,o.default)(i)})}function H(e){var{downloadMedia:t}=e;return d.createElement(R.default,{name:"audio-download",className:k.default.vcardDownloadStageIcon,onClick:()=>{t&&t()}})}U.CONCERNS={msg:["vcardFormattedName","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat","isVcardOverMmsDocument","type"]};var W=(0,A.default)(U,U.CONCERNS);t.default=W},ecbejhejff:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("iidhbgeed")),n=r(a("dbafiicfja")),o=i(a("ddhijeejag")),d=r(a("cefccdiabc")),l=r(a("dbdfbgehgj")),c=r(a("ccbgfecegc")),u=a("hhcjfgifh"),f=r(a("cbdjghedc")),h=r(a("gfebgebbi")),p=a("djaiggcdb"),g=r(a("bdjjabfecc")),m=r(a("jcacjdahc")),b=r(a("dhefcajhhb")),v=a("cbhhehcjbb"),_=r(a("dgdcjccfdi")),E=r(a("ceebdecegj")),j=a("cjjdjbcgjh"),y=r(a("djbfhebjhe")),S=a("dcbdjheea");class C extends o.Component{openChat(e){c.default.closeModal(),l.default.find((0,S.createUserWid)(e)).then(e=>{c.default.openChatFromUnread(e).then(t=>{t&&c.default.focusChatTextInput(e)})})}sendEmail(e){var t="mailto:".concat(e);(0,p.openExternalLink)(t)}openLocation(e){var t=(0,n.default)((0,s.default)(e),encodeURIComponent).join(", "),a="https://maps.google.com/maps/search/".concat(t,"?hl=").concat(g.default.getLocale());(0,p.openExternalLink)(a)}getHeader(){var{parsedVcard:e}=this.props,t=(0,j.vcardWids)(e),a=o.createElement(h.default,{text:(0,j.vcardGetNameFromParsed)(e),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),i=(0,j.vcardGetOrganizationString)(e),r=o.createElement(m.default,{thumb:this.props.thumbnail,size:u.DETAIL_IMAGE_SIZE.SMALL,wid:b.default.findThumbnailWid(t)});return o.createElement(d.default,{image:r,theme:"plain",primary:a,secondary:i})}render(){var e=this.props.parsedVcard,t=(0,s.default)(e.TEL,e=>e.properties.waid),a=(0,s.default)(e.TEL,e=>!e.properties.waid),i=(0,n.default)(t,e=>{var t=e.properties.waid[0],a=o.createElement(_.default,{name:"chat",onClick:()=>this.openChat(t)}),i=o.createElement(v.SelectableSpan,{selectable:!0},(0,y.default)(t));return o.createElement(f.default,{title:i,icon:a,key:"vCard-".concat(String(e.index))},(0,j.vcardGetType)(e))}),r=(0,n.default)(e.EMAIL,e=>o.createElement(f.default,{title:g.default.forceLTR(e.value),onClick:()=>this.sendEmail(e.value),key:"vCard-".concat(String(e.index))},(0,j.vcardGetType)(e))),d=(0,n.default)(e.ADR,e=>{var t=e.value.join(" ");return o.createElement(f.default,{title:t,onClick:()=>this.openLocation(e.value),key:"vCard-".concat(String(e.index))},(0,j.vcardGetType)(e))}),l=(0,n.default)(a,e=>o.createElement(f.default,{title:g.default.forceLTR(e.value),key:"vCard-".concat(String(e.index))},(0,j.vcardGetType)(e))),c=(0,n.default)(e.SERVICE,e=>o.createElement(f.default,{title:e.value,key:"vCard-".concat(String(e.index))},(0,j.vcardGetType)(e))),u=(0,n.default)(e.BDAY,e=>o.createElement(f.default,{title:(0,j.vcardGetDate)(e.value),key:"vCard-".concat(String(e.index))},g.default.t(1360))),h=(0,n.default)(e.NICKNAME,e=>o.createElement(f.default,{title:e.value,key:"vCard-".concat(String(e.index))},g.default.t(1372))),p=this.getHeader();return o.createElement("div",null,p,o.createElement("div",{className:E.default.content},i,r,d,l,u,h,c))}}t.default=C},ecbfjecdii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BIZ_SYSTEM_MSG_SUBTYPES=void 0;t.BIZ_SYSTEM_MSG_SUBTYPES=["blue_msg_e2e_identity_unavailable","blue_msg_bsp_fb_to_bsp_premise","blue_msg_bsp_fb_to_self_fb","blue_msg_bsp_fb_to_self_premise","blue_msg_bsp_fb_unverified","blue_msg_bsp_fb_unverified_to_bsp_premise_verified","blue_msg_bsp_fb_unverified_to_self_fb_verified","blue_msg_bsp_fb_unverified_to_self_premise_verified","blue_msg_bsp_fb_verified","blue_msg_bsp_fb_verified_to_bsp_premise_unverified","blue_msg_bsp_fb_verified_to_self_fb_unverified","blue_msg_bsp_fb_verified_to_self_premise_unverified","blue_msg_bsp_premise_to_self_premise","blue_msg_bsp_premise_unverified","blue_msg_bsp_premise_unverified_to_self_premise_verified","blue_msg_bsp_premise_verified","blue_msg_bsp_premise_verified_to_self_premise_unverified","blue_msg_consumer_to_bsp_fb_unverified","blue_msg_consumer_to_bsp_premise_unverified","blue_msg_consumer_to_self_fb_unverified","blue_msg_consumer_to_self_premise_unverified","blue_msg_self_fb_to_bsp_premise","blue_msg_self_fb_to_self_premise","blue_msg_self_fb_unverified","blue_msg_self_fb_unverified_to_bsp_premise_verified","blue_msg_self_fb_unverified_to_self_premise_verified","blue_msg_self_fb_verified","blue_msg_self_fb_verified_to_bsp_premise_unverified","blue_msg_self_fb_verified_to_self_premise_unverified","blue_msg_self_premise_to_bsp_premise","blue_msg_self_premise_unverified","blue_msg_self_premise_verified","blue_msg_to_bsp_fb","blue_msg_to_consumer","blue_msg_to_self_fb","blue_msg_unverified_to_bsp_fb_verified","blue_msg_unverified_to_bsp_premise_verified","blue_msg_unverified_to_self_fb_verified","blue_msg_unverified_to_verified","blue_msg_verified_to_bsp_fb_unverified","blue_msg_verified_to_bsp_premise_unverified","blue_msg_verified_to_self_fb_unverified","blue_msg_verified_to_unverified"]},eccaijejjj:function(e,t){e.exports={description:"_2Bna1",containerAllow:"m5wQq",icon:"_2hAGM",title:"_1sEN-",controls:"_1yudf",topCenter:"_1c84-",topLeft:"aZLJn",bottomCenter:"_1svDN"}},eccbdafcc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FETCH_STATE=void 0;var r=i(a("dagbcgeifg")),s=i(a("dfadhaifh")),n=i(a("ffedgcdgj")),o=i(a("cgeedcdffb")),d=a("dgeaihgdfh"),l=i(a("eefddgbia")),c=i(a("cjbdijighi")),u=i(a("bbifffbcca")),f=a("ddihieeaee"),h=i(a("cjddiecjhh"));function p(){var e=(0,s.default)(["Assertion failed!"]);return p=function(){return e},e}function g(){var e=(0,s.default)(["mediaHosts.sendQueryMediaConn error: ",""]);return g=function(){return e},e}function m(){var e=(0,s.default)(["mediaHosts.sendQueryMediaConn aborted"]);return m=function(){return e},e}t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var b=new class{constructor(){var e=this;this._fetch=(0,c.default)(()=>"all",function(){var t=(0,n.default)((function*({signal:t}){try{var a=yield(0,f.sendQueryMediaConn)(t);e._err=null,e._data={auth:a.auth,authExpirationTime:new Date(a.queryStartTime.getTime()+a.authTTL),authTTL:a.authTTL,hosts:a.hosts.map(e=>new l.default(e)),hostsRefreshTime:new Date(a.queryStartTime.getTime()+a.ttl),queryStartTime:a.queryStartTime}}catch(t){if(e._data=null,e._err=t,"AbortError"===t.name)return void __LOG__(2)(m());__LOG__(3,!0)(g(),function(e){var{name:t,message:a,stack:i}=e,s=(0,r.default)(e,["name","message","stack"]),n=(0,u.default)(e),o=n.slice(n.indexOf("\n")+1),d=0===Object.keys(s).length?"":" "+JSON.stringify(s,(e,t)=>e&&"object"==typeof t?String(t):t);return"".concat(e.name||"Error",": ").concat(e.message).concat(d,"\n").concat(o)}(t)),__LOG__(4,!1,new Error)(p()),SEND_LOGS("Error fetching mms hosts")}}));return function(){return t.apply(this,arguments)}}()),this._reset()}getHostsInfo({directPath:e,encFilehash:t,operation:a,type:i,signal:r}){var s=this;return(0,n.default)((function*(){var n={signal:r||(new o.default).signal};if(yield s._refreshIfStale(n),!s._data)throw new d.NoMediaHostsError("no fetched data");var l=s._data.auth,c=s._data.hosts,{selectedHost:u,fallbackHost:f}=(0,h.default)({directPath:e,encFilehash:t,hosts:c,operation:a,type:i});if(!u)throw new d.NoMediaHostsError("no selected host");return{auth:l,selectedHost:u,fallbackHost:f}}))()}_isExpiredOrMissing(){return!this._data||new Date>=this._data.authExpirationTime}_needsRefresh(){if(!this._data)return!0;if(new Date>=this._data.hostsRefreshTime)return!0;var{authTTL:e,queryStartTime:t}=this._data,a=Math.floor(.8*e),i=new Date(t.getTime()+a);return new Date>=i}_refreshIfStale(e){var t=this;return(0,n.default)((function*(){return t._isExpiredOrMissing()?(t._reset(),yield t._fetch(e),!0):!!t._needsRefresh()&&(t._fetch(e),!1)}))()}_reset(){this._data=null,this._err=null}};t.default=b},ecccfihhge:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("bbfjdcedab")),l=i(a("hgigjbgie")),c=i(a("dhigahgdjb")),u=i(a("hhcjfgifh")),f=i(a("gfebgebbi")),h=a("cdhbdacigj"),p=a("bgihjbde"),g=r(a("cajijabhgb")),m=a("bejbgaghc"),b=i(a("cdjgehfdbd")),v=i(a("chffigdgba")),_=i(a("bdjjabfecc")),E=a("dgjfidhijd"),j=i(a("dhccahhefj")),y=a("bjcegba"),S=0,C=1,M=2;class T extends s.Component{constructor(...e){super(...e),this.state={state:S,status:void 0,groupMetadata:void 0,subject:void 0},this.onViewGroup=e=>{var t;e?t=e:this.state.groupMetadata&&(t=this.state.groupMetadata.id),t&&o.default.openChatFromUnread(n.default.assertGet(t)),o.default.closeModal()},this.onJoinGroup=()=>{(0,m.joinGroupViaInvite)(this.props.groupCode).then(e=>{o.default.openChatFromUnread(e).then(t=>{t&&o.default.focusChatTextInput(e)}),o.default.closeModal()}).checkpoint(this.props.rejectOnUnmount()).catchType(g.Unmount,()=>{}).catchType(p.ServerStatusCodeError,e=>{this.setState({state:M,status:e.status})})},this.onCancel=()=>{o.default.closeModal()}}componentDidMount(){(0,y.queryGroupInviteInfo)(this.props.groupCode).checkpoint(this.props.rejectOnUnmount()).then(e=>{var{status:t,subject:a,groupMetadata:i,inGroup:r}=e;r?this.onViewGroup(i.id):this.setState({status:t,groupMetadata:i,subject:a,state:C})}).catchType(p.ServerStatusCodeError,e=>{this.setState({status:e.status,state:M})}).catchType(g.Unmount,()=>{})}render(){var e,t,{groupCode:a}=this.props,{state:i,status:r,groupMetadata:o,subject:p}=this.state,g={cancelText:_.default.t(677),onCancel:this.onCancel,onOK:void 0,okText:void 0};if(i===S)e=s.createElement(h.LoadingWithText,{text:_.default.t(678)});else if(i===C&&o){var m,j=o.participants,y=o.size||j.length,M=j.filter(e=>!!c.default.assertGet(e.id).name),T=o.desc?s.createElement("div",{className:b.default.metadataDesc},o.desc):null;m=M.length?s.createElement("div",{className:b.default.participantList},s.createElement("div",{className:b.default.participantsTitle},_.default.t(686,{count:y,_plural:y})," ","•"," ",_.default.t(679,{count:M.length,_plural:M.length})),s.createElement("div",{className:b.default.participantsContainer},M.map(e=>s.createElement("div",{key:e.id.toString(),className:b.default.participantWrapper},s.createElement(u.default,{id:e.id}),s.createElement(f.default,{className:b.default.participantText,text:e.contact.formattedName}))))):s.createElement("div",{className:b.default.emptyContentContainer},s.createElement("span",{className:b.default.participantsText},_.default.t(686,{count:y,_plural:y})),s.createElement("span",{className:b.default.contactsText}," ","•"," ",_.default.t(679,{count:M.length,_plural:M.length})));var P="".concat(l.default.GROUP_INVITE_URL).concat(a);e=s.createElement("div",null,s.createElement("div",{className:b.default.metadataContainer},s.createElement(v.default,{fallbackSVG:"default-group",size:82,imgProps:{src:P}}),s.createElement("div",{className:b.default.metadataText},s.createElement(f.default,{className:b.default.metadataTitle,text:p}),T)),m);var O=n.default.get(o.id),N=!!O&&!O.isReadOnly;g.onOK=N?this.onViewGroup:this.onJoinGroup,g.okText=N?_.default.t(698):_.default.t(683),t=E.FlexModalType}else{var I;switch(r){case 401:I=_.default.t(672);break;case 404:I=_.default.t(673);break;case 410:I=_.default.t(674);break;case 419:I=_.default.t(675);break;default:I=_.default.t(676)}g.cancelText=_.default.t(1649),e=s.createElement("div",null,I)}return s.createElement(d.default,{cancelText:g.cancelText,onCancel:g.onCancel,onOK:g.onOK,okText:g.okText,type:t},e)}}var P=(0,j.default)(T);t.default=P},ecceajhjba:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logBusinessProfileCatalogView=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logChatCatalogView=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_CHAT_CATALOG_ICON_CLICK,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_CHAT,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logProfileProductClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logCarouselViewMoreClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListView=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListDetailClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailImageClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailLinkClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logFullImageView=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logImageNavigate=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDetailView=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProduct=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductInquiryClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductMsgClick=function(e,t){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDeepLinkOpen=function(e,t,a){new r.default.CatalogView({catalogViewAction:r.default.CATALOG_VIEW_ACTION.ACTION_SHARE_PRODUCT_LINK_CLICK,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_DEEPLINK,productId:e,catalogOwnerJid:t,catalogSessionId:a}).commit()},t.logShareProductCopyLinkClick=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_COPY_LINK_CLICK,catalogSessionId:t,productId:e.id.toString()}).commit()},t.logShareProductViaWALinkClick=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_SHARE_PRODUCT_VIA_WA_LINK_CLICK,catalogSessionId:t,productId:e.id.toString()}).commit()},t.logCatalogAttachmentButtonClick=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_LIST_IMPRESSION,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_ATTACHMENT_PANEL,catalogSessionId:e}).commit()},t.logProductMessageSent=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_SEND_PRODUCT_MESSAGE,catalogSessionId:t,productId:e.id.toString()}).commit()},t.logSendCatalogClick=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_SEND_CATALOG_CLICK,catalogSessionId:e}).commit()},t.logShareCatalogCopyLinkClick=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_COPY_LINK_CLICK,catalogSessionId:e}).commit()},t.logShareCatalogViaWALinkClick=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_SHARE_CATALOG_VIA_WA_LINK_CLICK,catalogSessionId:e}).commit()},t.logAddProductClick=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_CLICKED,catalogSessionId:e,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS}).commit()},t.logAddProductSuccess=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_SUCCESS,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logAddProductFailed=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_ADD_FAILED,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logEditProductClick=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_CLICKED,productId:e.id.toString(),catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:t}).commit()},t.logEditProductSuccess=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_SUCCESS,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,productId:e.id.toString(),catalogSessionId:t}).commit()},t.logEditProductFailed=function(e,t,a){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_EDIT_FAILED,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,productId:e.id.toString(),errorCode:a,catalogSessionId:t}).commit()},t.logDeleteProductClick=function(e,t,a){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_CLICKED,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,productId:e.id.toString(),productCount:t,catalogSessionId:a}).commit()},t.logDeleteProductSuccess=function(e,t,a){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_SUCCESS,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,productId:e.id.toString(),productCount:t,catalogSessionId:a}).commit()},t.logDeleteProductFailed=function(e,t,a,i){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_PRODUCT_DELETE_FAILED,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,productId:e.id.toString(),productCount:t,errorCode:i,catalogSessionId:a}).commit()},t.logCreateProductCatalogClick=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logCreateProductCatalogSuccess=function(e){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG_SUCCESS,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,catalogSessionId:e}).commit()},t.logCreateProductCatalogFailed=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_CREATE_PRODUCT_CATALOG_FAILED,catalogEntryPoint:r.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS,errorCode:t,catalogSessionId:e}).commit()};var r=i(a("bdcchebfge"))},ecceiefjaj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=function(e,t,a){if(!o.default.supportsFeature(o.default.F.VIDEO_PLAYBACK_URL))return!1;if(a)return!1;if(e===n.ExtendedTextMessagePreviewType.VIDEO&&t){var i=d.default.withoutWww(d.default.hostname(t));if(i===s.default.HOSTNAME.INSTAGRAM||i===s.default.HOSTNAME.STREAMABLE||i===s.default.HOSTNAME.FACEBOOK||i===s.default.HOSTNAME.FBWATCH||i===s.default.HOSTNAME.FBWATCH_ALT||i===s.default.HOSTNAME.LASSOVIDEOS||i===s.default.HOSTNAME.LASSO_SHORTENED||i===s.default.HOSTNAME.SHARECHAT)return!0}if(t)for(var l in r.URL_PATTERNS.ONLINE_VIDEO_URL)for(var c=r.URL_PATTERNS.ONLINE_VIDEO_URL[l],u=0;u<c.length;u++)if(c[u].test(d.default.withoutWww(t)))return!0;return!1};var r=a("ihfehgab"),s=i(a("hgigjbgie")),n=a("cabeijgaif"),o=i(a("bhbdiadfhj")),d=i(a("edbaidcaf"))},eccjgeceej:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryBusinessProfile=function(e){var t,a=(0,r.getBusinessProfileQueryVersion)();s.default.supportsFeature(s.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach here"))):t=n.default.queryBusinessProfile(e,a);return t};var r=a("eeafbbfci"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},ecddiajibj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bhfiaijfhc")),n=a("dehfadfiij"),o=r(a("bbiacghfif")),d=r(a("hgigjbgie")),l=r(a("dhigahgdjb")),c=r(a("djegeegcbf")),u=r(a("bjjjaabahb")),f=i(a("bjcgcdejaa")),h=r(a("cdahgajfeb")),p=r(a("bhbdiadfhj")),g=r(a("cadaffihj")),m=r(a("cadjjhjjci")),b=r(a("jjaddhidj")),v=r(a("cjacjbhhib")),_=r(a("bhibffdbgg")),E=r(a("bdiibihgae")),j=r(a("bfjchhccjd")),y=r(a("bgeafedbjd")),S=r(a("bhfcdbibdf")),C=r(a("ijdahidij")),M=r(a("ccdccbedad")),T=r(a("bhccfhjdga")),P=a("cbhhehcjbb"),O=r(a("bcjcbbafcj")),N=a("dcbdjheea"),I=2*d.default.MAX_PUSHNAME_LENGTH,A=/\u200B((\d+)@c\.us)\u200B/g,w={Enter:u.default.ENTER,Tab:u.default.TAB,ArrowUp:u.default.UP,ArrowDown:u.default.DOWN};class R extends s.default{constructor(...e){super(...e),this.serializers=[["span[data-mention-jid]",e=>(function(e){if(!e.hasChildNodes())return;for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),"​".concat(e.getAttribute("data-mention-jid")||"","​"))]],this.parsers=[e=>e.replace(A,(e,t)=>{var a=l.default.get(t);if(!a)return t;var i=!a.isMyContact&&a.notifyName?a.notifyName:a.formattedName,r=(0,P.createSelectableElement)("span");r.dataset.mentionJid=a.id.toString();var s=document.createElement("span");s.className="at-symbol",s.appendChild(document.createTextNode("@"));var o=document.createElement("span");return o.setAttribute("dir",(0,n.dir)(i)||"auto"),o.appendChild(document.createTextNode(i)),r.appendChild(s),r.appendChild(o),r.dataset.originalName=r.textContent||"",r.dataset.plainText=r.textContent||"",r.dataset.appTextTemplate="​".concat(t,"​"),r.outerHTML})],this.serialize=(e,t)=>(t.mentionedJidList=[],[e.replace(A,(e,a,i)=>(t.mentionedJidList.push((0,N.createWid)(a)),"@".concat(i))),t]),this.handleSelect=e=>{var t=window.getSelection();if(function(e,t){var{anchorNode:a,anchorOffset:i}=t;a&&a===e.containerRef&&(a=a.childNodes[i],i=a.textContent.length);if(!a||a&&a.nodeType!==Node.TEXT_NODE)return!1;var r=a.textContent.slice(i),s=a;for(;0===r.length;){if(!(s=s.nextSibling)||s.nodeType!==Node.TEXT_NODE)return!1;r=s.textContent}return" "===r.charAt(0)}(this.ctx,t)&&t.modify("move","forward","character"),U(this.ctx,t,!0)){t=window.getSelection();var{refInput:a}=this.ctx,{mentionAfterEnd:i}=a?D(a):{};i&&G(i),this.ctx.replaceSelection("​".concat(e.id.toString(),"​ ")),this.handle(u.default.INACTIVE)}},this.hooks={[g.default.CHANGE](e,{refInput:t}){if(O.default.isGecko)for(var a=t.querySelectorAll("[data-mention-jid]"),i=0;i<a.length;++i){var{nextSibling:r}=a[i];r&&(r instanceof Element&&"BR"===r.tagName&&"_moz"===r.getAttribute("type")&&r.remove())}},[g.default.INPUT]({refInput:e}){var t=e.querySelectorAll("[data-mention-jid]");if(t.length)for(var a=0;a<t.length;++a){var i=t[a];if(i.textContent!==i.getAttribute("data-original-name")){var r=i.querySelector(".at-symbol"),s=i.querySelector("span [dir]"),n=window.getSelection(),o=n.focusOffset,d=n.focusNode&&n.focusNode.parentNode&&n.focusNode.parentNode.className,l=i.parentNode,c=document.createDocumentFragment();r&&c.appendChild(document.createTextNode(r.textContent)),s&&c.appendChild(document.createTextNode(s.textContent));var u="at-symbol"===d?c.firstChild:c.lastChild;if(1===c.childNodes.length&&c.lastChild&&(o="@"===c.lastChild.textContent?1:0),l.replaceChild(c,i),n.rangeCount<=0)return;var f=n.getRangeAt(0);f.setEnd(u,o),f.collapse(!1),n.removeAllRanges(),n.addRange(f)}}}},this.handlers={onKeyDown(e,t){var{key:a}=e;if(!this.ctx.isComposing&&("Backspace"===a||"Delete"===a&&(0,_.default)(e))){var i=window.getSelection();if(i.isCollapsed){var{key:r}=e,{mentionBeforeStart:s,mentionAfterEnd:n}=D(this.ctx.refInput),o=null;if("Delete"===r&&n&&(o=n),"Backspace"===r&&s&&(o=s),o){i.removeAllRanges();var d=document.createRange();d.selectNode(o),i.addRange(d),L(this.ctx.refInput),window.setTimeout(()=>{(0,C.default)()},0)}}else L(this.ctx.refInput)}var l=w[e.key];return!!l&&this.handle(l,[e,t])},onKeyPress(){return this.ctx.isComposing||L(this.ctx.refInput),!1},onBlur(){return this.handle(u.default.INACTIVE),!1},onSelect(e,t){var a=p.default.supportsFeature(p.default.F.MENTIONS_OUT);if(O.default.isTrident||this.ctx.isComposing||!a)return!1;var i=window.getSelection();i.isCollapsed&&i.rangeCount>0&&i.anchorNode&&function(e,t){var{anchorNode:a,anchorOffset:i}=t;if(a&&a===e.refInput){if(0===i)return!0;a=a.childNodes[t.getRangeAt(0).startOffset],i=(0,y.default)(a)?a.textContent.length:0}if((0,v.default)(a,"br"))return!0;if(!a)return!1;if(!(0,y.default)(a))return!1;if("\n"===a.textContent)return!0;var r=a.textContent.slice(0,i);if(""===r){var s=(0,f.default)(a,f.DIR.PREV);if(!s)return!0;if(!(0,y.default)(s))return!1;r=s.textContent}return"\n"===r.charAt(r.length-1)}(t,i)&&(0,C.default)();var r=U(this.ctx,i);if(!r||i.focusNode&&i.focusNode.parentElement&&(0,E.default)(i.focusNode.parentElement.parentElement))return this.handle(u.default.INACTIVE),!1;var s=r.slice(1);return this.handle(u.default.SEARCH,[s]),!1},onPaste(){return L(this.ctx.refInput),!1}}}}function D(e){var t=window.getSelection();if(0===t.rangeCount)return{};var a,i,r,s,n,d,l=t.getRangeAt(0),{startContainer:c,startOffset:u,endContainer:h,endOffset:p}=l,g=h instanceof HTMLElement?h.childNodes.length===p:h.textContent&&h.textContent.length===p;0===u&&(a=c===e?e.childNodes[u]:(0,o.default)(c,t=>t&&t!==e&&(t.parentElement===e||(0,j.default)(t,0))?[t.parentElement]:[],t=>t&&t.parentElement===e)),g&&(i=h===e?e.childNodes[p]:(0,o.default)(h,t=>t&&t!==e&&(t.parentElement===e||(0,j.default)(t,-1))?[t.parentElement]:[],t=>t&&t.parentElement===e));var m=(0,f.default)(a,f.DIR.PREV);(0,E.default)(m)&&(r=m),(0,E.default)(a)&&(s=a),(0,E.default)(i)&&(n=i,l.collapsed&&(r=r||n));var b=(0,f.default)(i,f.DIR.NEXT);return(0,E.default)(b)&&(d=b,l.collapsed&&(s=s||d)),{mentionBeforeStart:r,mentionAfterStart:s,mentionBeforeEnd:n,mentionAfterEnd:d}}function L(e){var{mentionBeforeStart:t,mentionAfterStart:a,mentionBeforeEnd:i,mentionAfterEnd:r}=D(e);if(t||a||i||r){var s=window.getSelection(),n=s.getRangeAt(0),o=n.collapsed,d=!1;if(t){var l=x(t);d=!0,n.setStartAfter(l),n.collapsed&&n.setEndAfter(l)}if(a){var c=G(a);d=!0,n.setStartBefore(c),o&&n.setEndBefore(c)}if(!o){if(i){var u=x(i);d=!0,n.setEndAfter(u)}if(r){var f=G(r);d=!0,n.setEndBefore(f)}}d&&(s.removeAllRanges(),s.addRange(n))}}function k(){var e=document.createElement("span");return e.textContent="​",e.contentEditable="false",setTimeout(()=>(0,S.default)(e),0),e}function x(e){var t=k();return(0,m.default)(t,e),t}function G(e){var t=k();return(0,b.default)(t,e),t}function U(e,t,a=!1){var i=(0,h.default)(e.refInput,"BACKWARD");if((0,E.default)(i))return"";var r=null,s="",n=0,o=null;return(0,M.default)(e,t,(e,t,a)=>{if("@"===r){if(c.default.isEmoji(e))return o=s,!0;if(/\W/.test(e))return o=a.slice(t+1)+s,!0}if(0===t&&(s=a+s),r=e,(n+=1)>=I)return!0}),!o&&n<I&&"@"===r&&(o=s),a&&o&&o.length&&(0,T.default)(t,o.length),o}t.default=R},ecdfgaagba:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"storeMessages",{enumerable:!0,get:function(){return i.storeMessages}}),Object.defineProperty(t,"storeInitialSyncMessages",{enumerable:!0,get:function(){return i.storeInitialSyncMessages}}),Object.defineProperty(t,"starMessages",{enumerable:!0,get:function(){return i.starMessages}}),Object.defineProperty(t,"unstarMessages",{enumerable:!0,get:function(){return i.unstarMessages}}),Object.defineProperty(t,"updateMessage",{enumerable:!0,get:function(){return i.updateMessage}}),Object.defineProperty(t,"processRevokeMsg",{enumerable:!0,get:function(){return i.processRevokeMsg}}),Object.defineProperty(t,"msgFindQuery",{enumerable:!0,get:function(){return r.msgFindQuery}}),Object.defineProperty(t,"getMsgByMsgKey",{enumerable:!0,get:function(){return r.getMsgByMsgKey}}),Object.defineProperty(t,"getMsgsByMsgKey",{enumerable:!0,get:function(){return r.getMsgsByMsgKey}}),Object.defineProperty(t,"queryVcard",{enumerable:!0,get:function(){return r.queryVcard}}),Object.defineProperty(t,"removeMessagesFromHistory",{enumerable:!0,get:function(){return s.removeMessagesFromHistory}});var i=a("ddjdjjicid"),r=a("caijdjeaba"),s=a("digfibghde")},eceedbidfb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s.apply(this,arguments)};var r=i(a("ffedgcdgj"));function s(){return(s=(0,r.default)((function*(){var e=window.caches;if(null!=e){var t=yield e.keys();yield Promise.all(t.map(t=>e.delete(t)))}}))).apply(this,arguments)}},eceegjifj:function(e,t){e.exports={wrapper:"_22G9m",icon:"_3geLx",verifiedText:"_2TuHB",divider:"_3lMUf"}},ecegjefcbc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SIZE=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("jjhbchhce")),l=r(a("cdfjfcdgbi")),c=r(a("djegeegcbf")),u=a("bbicdddbdj"),f=r(a("bhbcdbjdeg")),h=r(a("dbgeigbaja")),p=r(a("ebddggeaib")),g=a("cbhhehcjbb"),{getGlyphIdFromUnicode:m,getEmojiPath:b,cacheEmoji:v,isEmojiCached:_}=c.default,E=u.LARGE_EMOJI_SIZE;t.SIZE=E;var j="large",y="xlarge";class S extends n.Component{constructor(e){super(e),this.onHighResLoaded=()=>{var e=m(this.props.emoji);null!=e&&v(e),this.setState({highResLoaded:!0})};var t=m(e.emoji),a=Boolean(null!=t&&_(t));this.state={highResLoaded:a}}componentDidMount(){this.props.listeners.add(window,"dpichange",()=>{var e=m(this.props.emoji),t=Boolean(null!=e&&_(e));this.setState({highResLoaded:t})})}render(){var{emoji:e,size:t,animation:a,element:i,selectable:r}=this.props,{highResLoaded:c}=this.state,u=m(e);if(null==u)return null;var p,v=(0,s.default)({[h.default.medium]:t===E.MEDIUM,[h.default.large]:t===E.LARGE,[h.default.xlarge]:t===E.XLARGE});p=t===E.XLARGE?y:j;var _=b(u,p)[d.default.currentRes];if(c&&a)return n.createElement(i,{className:h.default.animation},n.createElement(g.SelectableImg,{alt:e,className:(0,s.default)(h.default.highRes,v),draggable:!1,plainText:e,selectable:Boolean(r),src:o.default.ONE_BY_ONE_TRANS_GIF}),n.createElement(f.default,{className:(0,s.default)(h.default.highRes,v,h.default.heartbeat),draggable:!1,selectable:!1,src:_}));var S=c?void 0:n.createElement(l.default,{key:"low-res",className:(0,s.default)(h.default.lowRes,v),emoji:e,selectable:r}),C=n.createElement(l.default,{key:"high-res",className:(0,s.default)(h.default.highRes,v,{[h.default.invisible]:!c}),emoji:e,selectable:r,src:_,onLoad:this.onHighResLoaded});return n.createElement("span",{className:h.default.wrapper},S,C)}}S.defaultProps={animation:!1,element:"div",size:E.MEDIUM};var C=(0,p.default)(S);t.default=C},eceibhbeff:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cbjgeibhdg")),s=a("biiigbhida"),n=a("ccfjbcbbga"),o=i(a("bdcchebfge"));class d{constructor(e){this.itemCount=e.itemCount,this.purgesSoFar=e.purgesSoFar,this.sizeLimit=e.sizeLimit,this.startTime=null!=e.startTime?e.startTime:window.performance.now()}increaseItemCount(){this.itemCount++}decreaseItemCount(){this.itemCount--}increasePurgesSoFar(){this.purgesSoFar++}commitMetric(){new o.default.WebcMediaBlobCachePurge({mediaBlobCacheItemCount:this.itemCount,mediaBlobCachePurgesSoFar:this.purgesSoFar,mediaBlobCacheSizeLimit:this.sizeLimit,mediaBlobCacheUptimeT:Math.round(window.performance.now()-this.startTime)}).commit()}reset(){this.itemCount=0,this.purgesSoFar=0,this.startTime=window.performance.now()}}var l=new class{constructor(e=25e7){if(this.getOrCreateURL=e=>{if(this._filehashToUrl[e])return this.touch(e),this._filehashToUrl[e];var t=this.get(e);if(!t)throw new Error("There is no blob matching filehash: ".concat(e,"."));var a=window.URL.createObjectURL(t);return this._filehashToUrl[e]=a,a},this.revokeURL=(e,t)=>{if(t){if(this._filehashToUrl[e]!==t)throw new Error("The url provided does not match the filehash.");delete this._filehashToUrl[e],window.URL.revokeObjectURL(t)}},null!=e&&e<0)throw new Error("Size limit cannot be a negative number.");this._metricHelper=new d({itemCount:0,purgesSoFar:0,sizeLimit:e,startTime:null}),this._usageCounts={},this._filehashToUrl={},this._lruCache=new r.default({sizeLimit:e,getSize:e=>e.size,onEvict:e=>{this._filehashToUrl[e]&&0===this._getUsageCount(e)&&(this.revokeURL(e,this._filehashToUrl[e]),(0,s.getOrCreateMediaObject)(e).consolidate({downloadStage:n.DOWNLOAD_STAGE.INIT})),this._metricHelper.increasePurgesSoFar(),this._metricHelper.commitMetric()},onAdd:()=>{this._metricHelper.increaseItemCount()},shouldEvict:e=>0===this._getUsageCount(e),onDelete:()=>{this._metricHelper.decreaseItemCount()},onClear:()=>{this._metricHelper.reset()}})}get(e){return this._lruCache.get(e)}has(e){return this._lruCache.has(e)}touch(e){this.get(e)}put(e,t){this._lruCache.put(e,t)}clear(){this._usageCounts={},Object.keys(this._filehashToUrl).forEach(e=>{this._filehashToUrl[e]&&this.revokeURL(e,this._filehashToUrl[e])}),this._filehashToUrl={},this._lruCache.clear()}increaseUsageCount(e){this._usageCounts[e]=this._getUsageCount(e)+1}decreaseUsageCount(e){var t=this._getUsageCount(e);if(t<=0)throw new Error("Cannot decrease the usageCount to a negative number.");this._usageCounts[e]=t-1,0===this._usageCounts[e]&&delete this._usageCounts[e]}_getUsageCount(e){return this._usageCounts[e]||0}};t.default=l},ecfabjjeda:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("ccbgfecegc")),l=r(a("ebddggeaib")),c=r(a("cfeahhdfce"));function u(){var e=(0,s.default)(["Neither the height nor the width of video should have zero value"]);return u=function(){return e},e}class f extends o.PureComponent{constructor(...e){super(...e),this._videoRef=null,this._onPlayTriggered=!1,this.setRefVideo=e=>{this._videoRef&&this.props.listeners.remove(this._videoRef,"playing",this.onPlay),this._videoRef=e,e&&("srcObject"in e&&this.props.srcObject?e.srcObject=this.props.srcObject:this.props.src&&(e.src=this.props.src),this.props.listeners.add(e,"playing",this.onPlay),this.props.autoPlay&&e.play())},this.onPlay=()=>{var e=this._videoRef;e&&(e.videoHeight&&e.videoWidth||this._onPlayTriggered||(this._onPlayTriggered=!0,e.pause(),e.play(),__LOG__(4,!1,new Error)(u()),SEND_LOGS("non-zero height and width")),e.videoHeight&&e.videoWidth&&this.props.onPlay&&(this.props.onPlay(e),this._onPlayTriggered=!1),this.props.muted||d.default.mediaPlaying(this))},this.onOtherPlaying=e=>{e!==this&&this._videoRef&&this._videoRef.pause()},this.onLoadedMetadata=e=>{this.props.onLoadedMetadata&&this.props.onLoadedMetadata(e)}}componentDidMount(){this.props.controls&&this.props.listeners.add(d.default,"mediaPlaying",this.onOtherPlaying)}underlyingVideo(){return this._videoRef}play(){var e=this._videoRef;e&&e.paused&&e.play()}pauseAndReset(){var e=this._videoRef;e&&(e.currentTime=0,e.paused||e.pause())}getDuration(){return null==this._videoRef?null:this._videoRef.duration}render(){var e=this.props;return o.createElement("video",{ref:this.setRefVideo,className:(0,n.default)(c.default.video,e.className),muted:e.muted,controls:e.controls,controlsList:e.controlsList,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,onLoadedMetadata:this.onLoadedMetadata,style:e.style},e.children)}}var h=f;t.Component=h;var p=(0,l.default)(f);t.default=p},ecfbbhgaja:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ccbgfecegc")),o=a("bgddggdhc"),d=a("ddbdgibbbi"),l=i(a("ebddggeaib")),c=a("ecceajhjba"),u=i(a("cjfgjjgdgj")),f=i(a("dijbdcjfhj")),h=i(a("dchhjffcdj")),p=a("cjfegjecaj"),g=i(a("bcifhbgija")),m=i(a("didfdhbecg"));class b extends s.Component{constructor(e){super(e),this.onKeyDown=e=>{37===e.keyCode?this.onPrev(e):39===e.keyCode&&this.onNext(e)},this.onNext=e=>{if(e&&e.stopPropagation(),!this.state.imgZoomed){var{productImageCollection:t}=this.props,a=t.length,i=this.state.activeImgIndex;this.onSelectThumb((i+1)%a)}},this.onPrev=e=>{if(e&&e.stopPropagation(),!this.state.imgZoomed){var{productImageCollection:t}=this.props,a=t.length,i=this.state.activeImgIndex,r=i-1<0?a-1:(i-1)%a;this.onSelectThumb(r)}},this.onImgZoomIn=e=>{this.setState({imgZoomed:e})},this.endFlow=()=>{n.default.closeModalMedia()},this.willEndFlow=()=>{this.refThumbsContainer&&(0,g.default)(this.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},this.onSelectThumb=e=>{if(e!==this.state.activeImgIndex){var t,{product:a,sessionId:i}=this.props;(null===(t=(0,d.getMaybeMeUser)())||void 0===t?void 0:t.equals(a.catalogWid))||(0,c.logImageNavigate)((0,p.unproxy)(a),i)}this.setState({activeImgIndex:e})},this.scrollToActive=(e=!1)=>{var t=this.refThumbsContainer,a=(0,o.forbiddenFindDOMNode)(this.refThumbs),i=(0,o.forbiddenFindDOMNode)(this.refActiveThumb);if(t&&a&&i){var r=0;i instanceof HTMLElement&&(r=i.clientWidth/2-t.clientWidth/2),(0,g.default)(a,"stop");var s=0;e&&(s=300),(0,g.default)(i,"scroll",{duration:s,container:a,offset:r,axis:"x",easing:[.1,.82,.25,1]})}},this.setRefActiveThumb=e=>this.refActiveThumb=e,this.setRefThumbsContainer=e=>this.refThumbsContainer=e,this.setRefThumbs=e=>this.refThumbs=e,this.getThumbs=()=>{var{productImageCollection:e}=this.props,t=e.toArray().map((e,t)=>{var a=t===this.state.activeImgIndex;return s.createElement(h.default,{theme:"viewerFlow",active:a,ref:a?this.setRefActiveThumb:null,key:"product-image-".concat(t),mediaData:e.mediaData,onClick:this.onSelectThumb.bind(this,t)})});return[s.createElement("div",{className:u.default.thumbPadding,key:"padding-left"}),t,s.createElement("div",{className:u.default.thumbPadding,key:"padding-right"})]},this.zoomIn=!0;var{activeProductImage:t,productImageCollection:a}=this.props;this.state={activeImgIndex:a.toArray().indexOf(t),imgZoomed:!1}}UNSAFE_componentWillMount(){this.props.listeners.add(window,"keydown",this.onKeyDown)}componentDidMount(){var e;this.zoomIn=!1,this.scrollToActive(),this.refThumbsContainer&&(0,g.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]});var{product:t,sessionId:a}=this.props;(null===(e=(0,d.getMaybeMeUser)())||void 0===e?void 0:e.equals(t.catalogWid))||(0,c.logFullImageView)((0,p.unproxy)(t),a)}componentDidUpdate(e,t){var a,{product:i,sessionId:r}=e;t.activeImgIndex!==this.state.activeImgIndex&&(this.scrollToActive(!0),(null===(a=(0,d.getMaybeMeUser)())||void 0===a?void 0:a.equals(i.catalogWid))||(0,c.logFullImageView)((0,p.unproxy)(i),r))}render(){var e=this.getThumbs(),{product:t,productImageCollection:a}=this.props,i=a.length,r=this.state.activeImgIndex,n=r>0?this.onPrev:null,o=r+1<i?this.onNext:null;return s.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},s.createElement("div",{className:u.default.thumbsContainer,ref:this.setRefThumbsContainer},s.createElement("div",{className:u.default.scrollContainer,dir:"ltr"},s.createElement(m.default,{className:u.default.viewerThumbs,ref:this.setRefThumbs,transitionName:"thumb-scale"},e))),s.createElement(f.default,{mediaData:a.toArray()[this.state.activeImgIndex].mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:o,onPrev:n,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,zoomIn:this.zoomIn,product:t}))}}var v=(0,l.default)(b);t.default=v},ecffadehg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.markExited=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve()},t.sendExitGroup=function(e){var t;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!t)return Promise.reject(new Error("sendExitGroup: not supported when not build with MD_BACKEND"))}else t=n.default.leaveGroup(e).then(e=>200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate});return t};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},ecffbdieca:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("cdhbdacigj"),o=i(a("bdjjabfecc")),d=i(a("idcacif")),l=i(a("dgdcjccfdi"));function c(e){return s.createElement("div",null,s.createElement("div",{className:d.default.circle},s.createElement(l.default,{name:"live-location-refresh"})),s.createElement("div",{className:d.default.text},e.text))}function u(e){var{error:t,text:a,retry:i}=e;return s.createElement("div",{className:d.default.container,onClick:t?i:null},t?s.createElement(c,{text:a}):s.createElement(n.Loading,null))}u.defaultProps={text:o.default.t(793),retry:()=>window.location.reload()};var f=u;t.default=f},ecfgahegjj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ciaceeihfd")),d=r(a("ecdebjcgfa"));class l extends n.Component{render(){var{className:e}=this.props;return n.createElement("div",{className:(0,s.default)(o.default.container,e)},n.createElement(d.default,{size:50,stroke:3,color:"solidwhite"}))}}t.default=l},ecgbgejhaj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ccjgiajgj")),n=r(a("eaaagccfda")),o=i(a("ddhijeejag")),d=r(a("cabihhjgfd")),l=r(a("ccbgfecegc")),c=a("ddbdgibbbi"),u=r(a("ebddggeaib")),f=(0,n.default)((e,t)=>{(0,c.setVideoVolumeSettings)(e,t)},500);class h extends o.PureComponent{constructor(...e){super(...e),this.videoRef=null,this.setRefVideo=e=>{if(this.videoRef!==e&&(this.videoRef=e,e)){var t=(0,c.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}},this.onVolumeChange=()=>{var e=this.videoRef;if(e){var t=e.getVolume(),a=e.getMuted();f(t,a),this.props.onVolumeChange({volume:t,muted:a})}},this.onOtherPlaying=e=>{e!==this&&this.videoRef&&this.videoRef.pause()},this.onPlaying=()=>{l.default.mediaPlaying(this),this.props.onPlaying()},this.setStartTime=()=>{this.videoRef&&"number"==typeof this.props.startTime&&this.videoRef.setCurrentTime(this.props.startTime)},this.play=()=>{var e=this.videoRef;e&&e.getPaused()&&e.play()},this.pause=()=>{var e=this.videoRef;e&&(e.getPaused()||e.pause())},this.getPaused=()=>!this.videoRef||this.videoRef.getPaused(),this.onLoadedMetadata=e=>{null!=this.props.startTime&&this.setStartTime();var t=(0,s.default)(e.target,["duration","volume","muted","videoWidth","videoHeight"]);this.props.onLoadedMetadata(t,e)},this.getCurrentTime=()=>this.videoRef?this.videoRef.getCurrentTime():0,this.setCurrentTime=e=>{this.videoRef&&this.videoRef.setCurrentTime(e)},this.getDuration=()=>this.videoRef?this.videoRef.getDuration():0,this.getVolume=()=>this.videoRef?this.videoRef.getVolume():0,this.setVolume=e=>{this.videoRef&&this.videoRef.setVolume(e)},this.getMuted=()=>!!this.videoRef&&this.videoRef.getMuted(),this.setMuted=e=>{this.videoRef&&this.videoRef.setMuted(e)},this.onProgress=()=>{if(this.videoRef){var e=this.videoRef.getBuffered(),t=[];if(e)for(var a=0;a<e.length;a++)t.push([e.start(a),e.end(a)]);this.props.onProgress(t)}},this.onTimeUpdate=e=>{var t=e.target.currentTime;this.props.onTimeUpdate(t)},this.onError=e=>{var t=this.videoRef&&this.videoRef.refVideo&&this.videoRef.refVideo.error?this.videoRef.refVideo.error.code:null;null!=t||null==e.code?this.props.onError(t):this.props.onError(e.code)}}componentDidMount(){this.props.listeners.add(l.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(l.default,"pttRecording",this.pause)}componentWillUnmount(){f.flush()}componentDidUpdate(e){e.startTime!==this.props.startTime&&this.setStartTime()}render(){return o.createElement(d.default,{ref:this.setRefVideo,src:this.props.url,poster:this.props.poster,className:this.props.className,onVolumeChange:this.onVolumeChange,onEnded:this.props.onEnded,onError:this.onError,onPause:this.props.onPause,onPlaying:this.onPlaying,onProgress:this.onProgress,onTimeUpdate:this.onTimeUpdate,onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},this.props.children)}}var p=(0,u.default)(h);t.default=class extends p{constructor(...e){super(...e),this.play=()=>{this.getComponent().play()},this.pause=()=>{this.getComponent().pause()},this.getPaused=()=>this.getComponent().getPaused(),this.getCurrentTime=()=>this.getComponent().getCurrentTime(),this.setCurrentTime=e=>{this.getComponent().setCurrentTime(e)},this.getDuration=()=>this.getComponent().getDuration(),this.getVolume=()=>this.getComponent().getVolume(),this.setVolume=e=>{this.getComponent().setVolume(e)},this.getMuted=()=>this.getComponent().getMuted(),this.setMuted=e=>{this.getComponent().setMuted(e)}}}},ecghacihc:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MAX_QUANTITY=void 0;var r=i(a("dcaifjegcg"));t.MAX_QUANTITY=99;class s extends r.default{constructor(...e){super(...e),this.id=(0,r.prop)(),this.priceAmount1000=(0,r.prop)(),this.currency=(0,r.prop)(),this.name=(0,r.prop)(),this.quantity=(0,r.prop)(),this.imageCdnUrl=(0,r.prop)()}getCollection(){return a("dhefebafbj").default}}s.Proxy="cart-item";var n=(0,r.defineModel)(s);t.default=n},ecgjcjejjj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bhaghghai")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("ddajbaceej")),l=a("bacfccchhf"),c=r(a("dhfbfehaef")),u=r(a("ebddggeaib")),f=r(a("dfgeejdaib")),h=r(a("cggabbgadb")),p=r(a("dgbccbdcgd")),g=r(a("dgdcjccfdi")),m="RIGHT",b="LEFT";class v extends o.Component{constructor(...e){super(...e),this.state={curIndex:0,direction:m},this.msgLength=0,this.starredPreviewRef={},this.selectionIndex=0,this.onSlideLeft=()=>this.hasLeft()?new Promise(e=>{this.setState({curIndex:this.state.curIndex-1,direction:b},()=>{e(!0)})}):Promise.resolve(!1),this.onSlideRight=()=>this.hasRight()?new Promise(e=>{this.setState({curIndex:this.state.curIndex+1,direction:m},()=>{e(!0)})}):Promise.resolve(!1),this.setRef=e=>{this._ref=e},this.hasRight=()=>this.state.curIndex+4<this.msgLength,this.hasLeft=()=>this.state.curIndex>0,this.handleLeftArrow=e=>{this.onSlideLeft().then(t=>{this.selectionIndex=t?this.selectionIndex:this.selectionIndex-1,this.selectionIndex<0?this.stopEvent(e):(this.stopEvent(e),this.focusStarredGif())})},this.handleRightArrow=e=>{this.onSlideRight().then(t=>{this.selectionIndex=t?this.selectionIndex-1:this.selectionIndex;var a=Object.keys(this.starredPreviewRef).length;if(this.selectionIndex<3&&this.selectionIndex<a-1)this.selectionIndex=this.selectionIndex+1;else{if(!this.hasRight())return void this.stopEvent(e);this.selectionIndex=3}this.stopEvent(e),this.focusStarredGif()})},this.stopEvent=e=>{e&&(e.preventDefault(),e.stopPropagation())},this.handleEnter=e=>{this.stopEvent(e),this.starredPreviewRef[this.selectionIndex].component.gifRef.handleClick()},this.focusStarredGif=()=>{var e,t,a,i=null===(e=this.starredPreviewRef[this.selectionIndex])||void 0===e||null===(t=e.component)||void 0===t||null===(a=t.gifRef)||void 0===a?void 0:a.messagePreviewRef;i&&d.default.focus(i)},this.initSelection=()=>{this.selectionIndex=0,this.focusStarredGif()}}componentDidMount(){var e=f.default;this.props.listeners.add(e,"add remove reset",()=>{this.forceUpdate()}),e.isSynced||e.sync()}getClientHeight(){return this._ref&&this._ref.clientHeight}hasGifs(){return Boolean(this._ref&&this._ref.childNodes.length)}isStarredGif(e){return!!e&&(!!this._ref&&this._ref.contains(e))}render(){var e={left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},t=(0,s.default)(f.default.toArray(),"filehash");if(this.msgLength=t.length,0===t.length)return o.createElement("div",null);if(t.length<=4){var a=0,i=t.map((e,t)=>(a+=Math.round(e.mediaData.aspectRatio*l.TARGET_GIF_HEIGHT),o.createElement(h.default,{key:e.filehash,ref:e=>this.starredPreviewRef[t]=e,msg:e,onSend:this.props.onSend})));return a+=(i.length-1)*l.GAP_SIZE,o.createElement(c.default,{className:p.default.section,handlers:e},o.createElement("div",{ref:this.setRef,className:p.default.searchRow,style:{maxWidth:"".concat(a,"px")}},i))}var r=this.hasLeft(),d=this.hasRight(),u=r?this.onSlideLeft:null,m=d?this.onSlideRight:null,b=(0,n.default)(p.default.pager,p.default.pagerLeft,{[p.default.pagerDisabled]:!r}),v=(0,n.default)(p.default.pager,p.default.pagerRight,{[p.default.pagerDisabled]:!d}),_=o.createElement("div",{className:b,onClick:u},o.createElement(g.default,{name:"chevron-left-alt"})),E=o.createElement("div",{className:v,onClick:m},o.createElement(g.default,{name:"chevron-right-alt"})),j=t.slice(this.state.curIndex,this.state.curIndex+4).map((e,t)=>o.createElement(h.default,{key:e.filehash,ref:e=>this.starredPreviewRef[t]=e,msg:e,onSend:this.props.onSend}));return o.createElement("div",{className:p.default.section},o.createElement(c.default,{onRef:this.setRef,className:p.default.searchRow,handlers:e},_,o.createElement("div",{className:p.default.body},j),E))}}var _=(0,u.default)(v);t.default=class extends _{getClientHeight(){return this.getComponent().getClientHeight()}hasGifs(){return this.getComponent().hasGifs()}isStarredGif(e){return this.getComponent().isStarredGif(e)}}},echfhaajdf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("ddfeabiaci")),o=i(a("jccjeieeg")),d=a("ddbdgibbbi"),l=i(a("cffajefeag"));function c(){var e=(0,s.default)(["expected tag: user, received tag: ",", tag id: ",""]);return c=function(){return e},e}function u(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return u=function(){return e},e}function f(){var e=(0,s.default)(["bin-recv: response,msg"]);return f=function(){return e},e}var h={version:"11",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29},msgFindQuery:function(e,t,a,i){var s=e;return new Promise((e,n)=>{var o,d="";switch(s){case"after":t.id||(s="before");case"before":o={type:"message",kind:s,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d=[t instanceof l.default?t.toString():t.remote,t.count].join();break;case"search":o={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},t.label?o=(0,r.default)((0,r.default)({},o),{},{label:t.label}):t.filter&&(o=(0,r.default)((0,r.default)({},o),{},{filter:t.filter})),d=["search",t.page,t.count,t.jid,t.label].join();break;case"star":o={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d="starred";break;case"media":o={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},d="media"}var c=this.queryNode(o,void 0);this.binSend("sendEphemeral",c,n,{onSend:this.binWrap(a=>{this.BinaryProtocol.read(a).then(a=>{var i=[],r=this.N.children(a);if(__LOG__(2)(f()),"response"===this.N.tag(a)&&("message"===this.N.attr("type",a)||"star"===this.N.attr("type",a)||"search"===this.N.attr("type",a)||"media_message"===this.N.attr("type",a)||"label"===this.N.attr("type",a))){if(Array.isArray(r)){var n,o=r.length;for(n=0;n<o;n++){var d=this.parseMsg(r[n],"response");if(d)switch(s){case"star":("gif"!==t.media||"video"===d.type&&d.isGif)&&i.push(d);break;case"media":"document"===t.media&&"document"===d.type||"url"===t.media&&"chat"===d.type?i.push(d):t.media||i.push(d);break;default:i.push(d)}}}"search"===this.N.attr("type",a)||"label"===this.N.attr("type",a)?i={eof:"true"===this.N.attr("last",a),messages:i}:"media"!==s||t.media||(i={docCount:parseInt(this.N.attr("document",a),10)||void 0,linkCount:parseInt(this.N.attr("url",a),10)||void 0,mediaCount:parseInt(this.N.attr("media",a),10)||void 0,messages:i})}e(i)}).catch(n)},e),onDrop:this.wrap(n),logOnSend:a,onTag:i,tagToCancel:t.tagToCancel},{debugString:"query,message,"+d,metricName:"search"===s?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t,a=parseInt(this.N.attr("t",e),10)||0,i=this.N.attr("id",e),r=this.N.attr("jid",e),s="true"===this.N.attr("owner",e),n=this.N.attr("participant",e),o="video"===this.N.attr("kind",e),c=this.N.attr("type",e);switch(c){case"miss":o&&(c="miss_video")}try{t=new l.default({fromMe:s,remote:r,id:i,participant:n})}catch(e){return void __LOG__(3)(u(),e.stack)}var f=(0,d.getMaybeMeUser)(),h={id:t,t:a,participant:n,type:"call_log",subtype:c,from:s?f:r,to:s?r:f},p=[!i,!a,!r,"miss"!==c&&"miss_video"!==c];return this.dropIfConditionMet(p,h)}},queryVcard:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"vcard",jid:e},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var a=[],i=this.N.children(e);if("response"===this.N.tag(e)&&"vcard"===this.N.attr("type",e)&&Array.isArray(i))for(var r=i.length,s=0;s<r;s++){var n=this.parseMsg(i[s],"response");!n||"vcard"!==n.type&&"multi_vcard"!==n.type||a.push(n)}t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,vcard,".concat(e),metricName:"QUERY_VCARD",ackRequest:!1})})},parseContact:function(e){if("user"!==this.N.tag(e))return __LOG__(4,!1,new Error)(c(),this.N.tag(e),this.N.attr("id",e)),void SEND_LOGS("wap-unexpected-tag");var t=this.N.attr("jid",e),a=this.N.attr("name",e),i=this.N.attr("short",e)||void 0,r=this.N.attr("type",e)||"in";return this.dropIfConditionMet([!t,"in"!==r&&"out"!==r&&!!r],{id:t,name:a,type:r,shortName:i})},parseContacts:function(e){if("contacts"===this.N.tag(e)){var t,a,i,r,s,n=this.N.attr("type",e),o=this.N.children(e);switch(n){case"frequent":if(Array.isArray(o)){a=o.length;for(var d=0;d<a;d++)switch(s=o[d],i=this.N.tag(s)){case"image":case"video":case"message":(r=this.N.attr("jid",s))&&(t||(t={type:"frequent"}),t[i]?t[i].push(r):t[i]=[r])}}}return t}}},p=(0,n.default)(h,o.default);t.default=p},ecigjabbeb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("chieajfcec")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"fgghedjgb",7)).then(e=>e.default),"GroupInviteLinkDrawer");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(684),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},eciicfcjdi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("cahfddcdga")),o=a("eaibdijehg"),d=a("bhgfchijhg"),l=i(a("cjcghajbag")),c=i(a("jccfhaecf"));class u extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.afterCursor=(0,s.prop)(),this.index=(0,s.prop)(),this.fetchedFromServer=(0,s.session)(),this._products=(0,s.session)(),this._msgs=(0,s.session)()}initialize(){super.initialize(),this.productCollection=new l.default,this.msgProductCollection=new l.default,this.listenTo(this,"change:_products",this.triggerProductUpdate),this.listenTo(this,"change:_msgs",this.triggerMsgUpdate),this.triggerProductUpdate(),this.triggerMsgUpdate()}triggerProductUpdate(){this._products&&this.productCollection.add(this._products,{merge:!0}),this._products=void 0}triggerMsgUpdate(){this._msgs&&this.msgProductCollection.add(this._msgs,{merge:!0}),this._msgs=void 0}markProductCollectionOld(){this.productCollection.forEach(e=>e.markOld())}addProduct(e){var{id:t}=this;return(0,o.addProduct)(e).then(e=>{var a=this.productCollection.at(0);e.catalogWid=t,e.index=a?a.index-1:0;var i=this.productCollection.add(e,{merge:!0,at:0})[0];return(0,n.default)(i,"addedProduct")})}editProduct(e){return(0,o.editProduct)(e).then(e=>{var t=this.productCollection.add(e,{merge:!0})[0];return(0,n.default)(t,"editedProduct")})}updateProduct(e){return(0,o.queryProduct)(this.id,e).then(e=>{var t=(0,d.mapProductResponseToModel)(e.data);this.productCollection.add(t,{merge:!0})})}getCollection(){return a("ejegihaeh").default}}u.Proxy="catalog",u.idClass=c.default;var f=(0,s.defineModel)(u);t.default=f},ecjbgcddb:function(e,t){e.exports={body:"_3vBQf",bubbleIn:"_3oJv6",bubbleOut:"_4M-J2",bodyIcon:"_22vlH",bodyIconMultiline:"_180cm",bodyText:"_2eoVT"}},edagdaii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgPosition=void 0;t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"}},eddibaagi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("cfjbaecadg")),n=a("chfjcfcide"),o=a("cgffhfegce"),d=a("bfjfabigie"),l=i(a("cjbdijighi")),c=i(a("bdcchebfge")),u=i(a("jejigijij")),f=i(a("ibfdghaig"));function h(){var e=(0,r.default)(["uploadManager.encryptAndUpload: error"]);return h=function(){return e},e}function p(){var e=(0,r.default)(["uploadManager.encryptAndUpload: success"]);return p=function(){return e},e}function g(){var e=(0,r.default)(["uploadManager.encryptAndUpload: start"]);return g=function(){return e},e}function m(){var e=(0,r.default)(["uploadManager._getExistingOrUpload: error"]);return m=function(){return e},e}function b(){var e=(0,r.default)(["uploadManager._getExistingOrUpload: success"]);return b=function(){return e},e}function v(){var e=(0,r.default)(["uploadManager._getExistingOrUpload: start"]);return v=function(){return e},e}function _(){var e=(0,r.default)(["uploadManager.checkIfAlreadyUploaded: error"]);return _=function(){return e},e}function E(){var e=(0,r.default)(["uploadManager.checkIfAlreadyUploaded: success"]);return E=function(){return e},e}function j(){var e=(0,r.default)(["uploadManager.checkIfAlreadyUploaded: start"]);return j=function(){return e},e}function y(e,t,a,i){var r=new c.default.MediaUpload2({mediaId:(0,d.generateMediaEventId)(),connectionType:c.default.CONNECTION_TYPE.HOSTNAME,overallMediaType:(0,d.getMetricMediaType)(e),overallMmsVersion:4,overallAttemptCount:a,networkStack:c.default.NETWORK_STACK_TYPE.NATIVE,overallUploadMode:c.default.MEDIA_UPLOAD_MODE_TYPE.REGULAR,overallIsForward:i,overallUploadOrigin:t});return{onArrayBufferCreated:function(e){r.set({overallMediaSize:e})},onCheckExistingError:function(e){e instanceof n.HttpStatusCodeError&&r.set({resumeHttpCode:e.status})},onCheckExistingSuccess:function(){r.set({overallUploadResult:c.default.MEDIA_UPLOAD_RESULT_TYPE.DUPLICATE,overallIsFinal:!0,resumeHttpCode:200}),r.markOverallCumT(),r.commit()},onUploadHostFound:function({hostName:e,hostClass:t,failCount:a}){r.set({overallDomain:e,overallConnectionClass:t,overallRetryCount:a})},onUploadSuccess:function(){r.set({resumeHttpCode:404,overallUploadResult:c.default.MEDIA_UPLOAD_RESULT_TYPE.OK,overallIsFinal:!0,uploadHttpCode:200,finalizeHttpCode:200}),r.markOverallCumT(),r.commit()},onUploadError:function(e){r.set({overallUploadResult:(0,d.getMetricUploadErrorResultType)(e),overallIsFinal:!0});var t=(0,d.getStatusCode)(e);null!=t&&(r.uploadHttpCode=t,r.finalizeHttpCode=t),r.markOverallCumT(),r.commit(),(0,d.logErrorUnknownDetails)(r,e)},onUploadAttemptSuccess:function(e){r.set({overallT:e})},onUploadAttemptError:function(e,t,a){var i=new c.default.MediaUpload2(r);i.set({mediaId:(0,d.generateMediaEventId)(),overallUploadResult:(0,d.getMetricUploadErrorResultType)(e),overallIsFinal:!1,overallT:t,overallRetryCount:a});var s=(0,d.getStatusCode)(e);null!=s&&(r.uploadHttpCode=s),r.markOverallCumT(),i.commit(),(0,d.logErrorUnknownDetails)(r,e)}}}var S=new class{constructor(){this.checkIfAlreadyUploaded=(0,l.default)(e=>e.encFilehash,e=>{var{encFilehash:t,type:a}=e;return __LOG__(2)(j()),u.default.checkIfUploadExists(e).catchType(n.MediaNotFoundError,()=>null).then(e=>(__LOG__(2)(E()),e)).catch(e=>{throw __LOG__(3)(_()),e})}),this._memoizedUpload=(0,l.default)(e=>e.encFilehash,e=>{var{ciphertextHmac:t,encFilehash:a,type:i,signal:r,onUploadHostFound:s,onUploadAttemptSuccess:n,onUploadAttemptError:o,onUploadSuccess:d}=e;return u.default.upload({ciphertextHmac:t,encFilehash:a,type:i,signal:r,onUploadHostFound:s,onUploadAttemptSuccess:n,onUploadAttemptError:o}).then(e=>(d(),e))}),this._getExistingOrUpload=(0,l.default)(e=>e.encFilehash,e=>{var{ciphertextHmac:t,encFilehash:a,signal:i,type:r,onCheckExistingSuccess:s,onCheckExistingError:n,onUploadHostFound:o,onUploadAttemptSuccess:d,onUploadAttemptError:l,onUploadSuccess:c}=e;return __LOG__(2)(v()),this.checkIfAlreadyUploaded({encFilehash:a,type:r,signal:i}).catch(e=>{throw n(e),e}).then(e=>e?(s(),e):this._memoizedUpload({ciphertextHmac:t,encFilehash:a,type:r,signal:i,onUploadHostFound:o,onUploadAttemptSuccess:d,onUploadAttemptError:l,onUploadSuccess:c})).then(e=>(__LOG__(2)(b()),e)).catch(e=>{throw __LOG__(3)(m()),e})})}encryptAndUpload(e){var{blob:t,signal:a,type:i,userUploadAttemptCount:r,forwardedFromWeb:n,uploadOrigin:d}=e;__LOG__(2)(g());var{onCheckExistingSuccess:l,onCheckExistingError:c,onUploadHostFound:u,onUploadAttemptSuccess:m,onUploadAttemptError:b,onUploadSuccess:v,onArrayBufferCreated:_,onUploadError:E}=y(i,d,r,n);return(t instanceof Blob?(0,o.blobToArrayBuffer)(t):Promise.resolve(t)).then(t=>{var r,n;if(_(t.byteLength),null!=e.mediaKey&&null!=e.mediaKeyTimestamp)r=e.mediaKey,n=e.mediaKeyTimestamp;else{var o=(0,f.default)();r=o.key,n=o.timestamp}return(0,s.default)({type:i,plaintext:t,mediaKey:r}).then(({ciphertextHmac:t,hash:s,sidecar:o,firstFrameSidecar:d})=>(e.mediaKey?this._getExistingOrUpload({ciphertextHmac:t,encFilehash:s,type:i,signal:a,onCheckExistingSuccess:l,onCheckExistingError:c,onUploadHostFound:u,onUploadAttemptSuccess:m,onUploadAttemptError:b,onUploadSuccess:v}):this._memoizedUpload({ciphertextHmac:t,encFilehash:s,type:i,signal:a,onUploadHostFound:u,onUploadAttemptSuccess:m,onUploadAttemptError:b,onUploadSuccess:v})).then(e=>({directPath:e.directPath,encFilehash:s,mediaKey:r,mediaKeyTimestamp:n,sidecar:o,firstFrameSidecar:d,url:e.url,handle:e.handle})))}).then(e=>(__LOG__(2)(p()),e)).catch(e=>{throw __LOG__(3)(h()),E(e),e})}unencryptedUpload(e){var{file:t,hash:a,type:i,signal:r,uploadOrigin:s}=e,{onCheckExistingSuccess:n,onCheckExistingError:o,onUploadHostFound:d,onUploadAttemptSuccess:l,onUploadAttemptError:c,onUploadSuccess:u}=y(i,s,0,!1);return this._getExistingOrUpload({ciphertextHmac:t,encFilehash:a,type:i,signal:r,onCheckExistingSuccess:n,onCheckExistingError:o,onUploadHostFound:d,onUploadAttemptSuccess:l,onUploadAttemptError:c,onUploadSuccess:u})}};t.default=S},edfbdbajd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"ddfaijbfgj",7)).then(e=>e.default),"SendProductFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(935),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},edfgfbdfg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s.createElement("div",{className:n.default.loadingSpinner},s.createElement(o.default,{color:"default",size:24,stroke:6}))};var s=r(a("ddhijeejag")),n=i(a("didjefci")),o=i(a("ecdebjcgfa"))},edgdahgdh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bagdbbeecc")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"debhhgegij",7)).then(e=>e.default),"QuotedStatusV3Flow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},edgfejedb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleVideoStreamingRequest=function({action:e,message:t}){switch(e){case n.default.REQUEST_STREAMING_INFO:return function(e){var t=l.default.get(e);return t?(0,o.videoStreamingInfo)(t):null}(t.key);case n.default.EXP_BACKOFF:return a("bgabgddgch").expDelaySec(t.generation,60).then(()=>c.default.waitIfOffline({signal:(new s.default).signal}));case n.default.REQUEST_RMR:return function(e){var t=l.default.get(e.key);return t?t.downloadMedia(!0,d.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING).then(()=>Promise.reject("downloaded media instead of streaming")):null}(t);case n.default.SEND_STREAMING_CHUNK:var i,r=t.msgKey,u=l.default.get(r);if(!u)return void delete h[r.toString()];h.hasOwnProperty(r)?i=h[r.toString()]:h[r.toString()]=i=new f(u.size),i.push(t.data),i.isComplete()&&((0,o.manuallySetMedia)({msg:u,media:i.serialize(),rmrReason:d.default.WEBC_RMR_REASON_CODE.VIDEO_STREAMING}),delete h[r.toString()]);break;default:return Promise.reject("Invalid Video Streaming Action")}};var r=i(a("dfadhaifh")),s=i(a("cgeedcdffb")),n=i(a("bbaibbdgdj")),o=a("cjahggceac"),d=i(a("bdcchebfge")),l=i(a("biecbbiiee")),c=i(a("bbgcdfeifh"));function u(){var e=(0,r.default)(["video buffer falsy size: ",""]);return u=function(){return e},e}class f{constructor(e){this.ranges=[],this.buffer=[],this.size=e,e||__LOG__(3)(u(),e)}push(e){this.buffer.push(e),this.add(e.start,e.end)}add(e,t){for(var a=e,i=this.ranges,r=0;r<i.length;r++){var[s,n]=i[r];if(!(a>n+1)){if(t+1<s)return i.splice(r,0,[a,t]);for(;r+1<i.length;){var[o,d]=i[r+1];if(t+1<o)break;a=Math.min(a,s),i.splice(r,1),s=o,n=d}return void(i[r]=[Math.min(a,s),Math.max(t,n)])}}return i.push([a,t])}isComplete(){var e=this.ranges,t=this.size;return!!t&&(1===e.length&&0===e[0][0]&&e[0][1]===t-1)}serialize(){for(var e=new Uint8Array(this.size),t=this.buffer,a=0;a<t.length;a++){var{start:i,buffer:r}=t[a];e.set(new Uint8Array(r),i)}return e}}var h={}},ediaiijfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cccehdaiaf"));class s extends r.default{constructor(){super(),this.openPiP=(e,t,a)=>{this.manager&&this.manager.openPiP(e,t,a)},this.closePiP=()=>{this.manager&&this.manager.closePiP()},this.pausePiP=()=>{this.manager&&this.manager.pausePiP()},this.openYoutubePiP=(e,t,a,i)=>{this.manager&&this.manager.openYoutubePiP(e,t,a,i)},this.closeYoutubePiP=()=>{this.manager&&this.manager.closeYoutubePiP()},this.openOgVideoPiP=(e,t,a,i,r)=>{this.manager&&this.manager.openOgVideoPiP(e,t,a,i,r)},this.closeOgVideoPiP=()=>{this.manager&&this.manager.closeOgVideoPiP()},this.isOpened=e=>!!this.manager&&this.manager.isOpened(e)}register(e){this.manager=e}unregister(){this.manager=null}didOpen(e){this.trigger("".concat(e.id.toString(),"_pip_did_open"))}didClose(e){this.trigger("".concat(e.id.toString(),"_pip_did_close"))}didError(e){this.trigger("".concat(e.id.toString(),"_pip_did_error"))}}var n=new s;t.default=n},eeafbbfci:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getBusinessProfileQueryVersion=function(){return 23&r.default.webBizProfileOptions};var r=i(a("bfgbdiffgd"))},eebiehgif:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{dir:t,footer:a,isFromTemplate:i,msg:r,rtl:f,type:h}=e,p=f!==l.default.isRTL();if(i&&a){var g=(0,s.default)(u.default.footer,{[u.default.isMedia]:h!==o.default.MSG_TYPE.CHAT,[u.default.dirMismatch]:p});return n.createElement(c.default,{className:g,spacer:!0,msg:r},n.createElement(d.default,{text:a,direction:t,dirMismatch:p,selectable:!0}))}return null};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("gfebgebbi")),l=r(a("bdjjabfecc")),c=r(a("fjgaiebfh")),u=r(a("dfedgcaghc"))},eecfidjif:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CartItemCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("ecghacihc"));class n extends r.default{}t.CartItemCollection=n,n.model=s.default;var o=n;t.default=o},eedfiddec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("eabehhacha")),o=a("cgejchjdhj"),d=i(a("bbaacgghch")),l=i(a("ddajbaceej")),c=a("dhegcfddhg"),u=i(a("dhfbfehaef")),f=i(a("cajagfhdgb")),h=i(a("ebddggeaib")),p=i(a("cbcbdjdah")),g=i(a("biecbbiiee")),m=i(a("gjbhafcjg")),b=a("dfdjcjidfg"),v=i(a("dcdbbhicce")),_=a("cjfegjecaj"),E=i(a("dfjcfdigb")),j=a("hjbbdjjdf");class y extends s.PureComponent{constructor(...e){super(...e),this.onSearch=()=>{this.setState({searchText:this.props.searchQuery.trimmed})},this.onActiveChange=e=>{if("focus"===e){var t,a=null===(t=this.cell)||void 0===t?void 0:t.getCellFrameDivRef();a&&(l.default.focus(a),(0,o.scrollIntoViewIfNeeded)(a))}this.setState({active:!!e})},this.onClick=e=>{var t=this.props.onClick;if((0,j.isFunction)(t)){var{msg:a,chat:i}=this.props,r=g.default.assertGet(a.id),s=i.getSearchContext(r);s.msg=r,t(e,(0,_.unproxy)(i),s)}},this.onMouseDown=e=>{0===e.button&&this.onClick(e)},this.onEnter=e=>{e.preventDefault(),e.stopPropagation(),d.default.shouldIndicateFocus(),this.onClick(e)},this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this.cell)||void 0===t||t.indicateFocus()}}static getDerivedStateFromProps(e){var{active:t,msg:a,searchQuery:i}=e,r=t&&t.value instanceof p.default&&t.value.id.equals(a.id);return{searchText:i.trimmed,active:r}}componentDidMount(){this.initListeners(this.props)}componentDidUpdate(e){this.initListeners(this.props,e)}initListeners(e,t){var{listeners:a,active:i,msg:r,searchQuery:s}=e;t&&t.searchQuery&&t.searchQuery!==s&&a.remove(s,b.SEARCH_EVENT,this.onSearch),!s||t&&s===t.searchQuery||a.add(s,b.SEARCH_EVENT,this.onSearch);var n=t?t.msg.id:null;n&&!r.id.equals(n)&&(t&&t.active&&a.remove(t.active,t.msg.id.toString(),this.onActiveChange),i&&a.add(i,r.id.toString(),this.onActiveChange))}render(){var{msg:e,chat:t,searchQuery:a,filterPreset:i}=this.props,{active:r}=this.state,o=s.createElement(E.default,{msg:e}),d=s.createElement(f.default,{msg:e.safe(),msgType:"FTSMessage",searchQuery:a.highlighted}),l={enter:this.onEnter};return s.createElement(u.default,{handlers:l,onFocus:this.indicateFocus},s.createElement(n.default,{ref:(0,c.GetRef)("cell",this),contextEnabled:()=>!1,theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!r,primary:s.createElement(m.default,{chat:t,labels:e.labels,firstLabel:null==i?void 0:i.label,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:o,secondary:d,onClick:this.onClick}))}}y.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle","groupMetadata"]};var S=(0,h.default)((0,v.default)(y,y.CONCERNS));t.default=S},eedjceied:function(e,t){e.exports={container:"_162SC",clickable:"_2O2sb",caption:"_2AOoe",author:"_2rA1i",meta:"_1U1Z4",hasCaption:"RwSis",actionButton:"_1GsZH",thumb:"SpdXA",avatar:"_11y0H",map:"_3DaQ2",overlay:"SwzBg",expired:"x-UvS",thumbBody:"_1Vtv6",quote:"_2ptNS",status:"fMR4l",statusIcon:"_1_WV2",statusText:"_2PnFV",stopLocation:"_34y4N",viewLocation:"_3u0zz",hidden:"_38qMc"}},eeebhdeed:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.renderLabelSvg=p,t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("gfebgebbi")),d=a("eajdbbfgfg"),l=r(a("bijffg")),c=r(a("cabhgdgbae")),u=r(a("ebddggeaib")),f=r(a("dgdcjccfdi"));class h extends n.PureComponent{constructor(...e){super(...e),this.updateLabels=()=>{this.forceUpdate()}}componentDidMount(){this.props.listeners.add(l.default,"label_updated_".concat(this.props.labels[0]),this.updateLabels)}render(){var{labels:e,showName:t,renderAsCircle:a}=this.props;if(!(0,d.canDisplayLabel)())return null;var i=e[0],r=l.default.get(i);if(!r||!r.name)return null;if(1===e.length){var u=t?n.createElement("span",{className:c.default.name},n.createElement(o.default,{text:r.name})):null,h=(0,s.default)({[c.default.container]:!t&&!a,[c.default.containerCircleIconFull]:!!a,[c.default.containerFull]:t&&!a,[c.default.labelFilter]:"label-filter"===this.props.theme,[c.default.drawerTitle]:"drawer-title"===this.props.theme}),g=a?{backgroundColor:r.hexColor}:{},m=a?n.createElement(f.default,{name:"label",className:c.default.icon}):p(r.hexColor);return n.createElement("div",{className:h},n.createElement("div",{className:(0,s.default)(c.default.iconContainer,{[c.default.circleIcon]:a}),style:g},m),u)}return n.createElement("div",{className:c.default.container},n.createElement("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15"},n.createElement("path",{fill:r.hexColor,d:"M11.208,3.925H2.236C1.556,3.925,1,4.565,1,5.357v7.213C1,13.362,1.556,14,2.236,14h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,4.53C11.993,4.162,11.622,3.925,11.208,3.925z"}),n.createElement("path",{fill:"currentColor",d:"M15.541,7.832L13.164,3.93 c-0.423-0.698-1.15-1.142-1.956-1.142H2.595V2.432C2.595,1.64,3.151,1,3.831,1h9.1c0.414,0,0.782,0.237,1.005,0.605l2.696,4.433 L15.541,7.832z"})))}}function p(e){return n.createElement("svg",{key:2,width:"18px",height:"12px",viewBox:"0 0 18 12",className:c.default.icon},n.createElement("path",{fill:e||"#ffffff",d:"M11.208,0.925H2.236C1.556,0.925,1,1.565,1,2.357V9.57C1,10.362,1.556,11,2.236,11h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,1.53C11.993,1.162,11.622,0.925,11.208,0.925z"}))}var g=(0,u.default)(h);t.default=g},eefddgbia:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HOST_TYPE=void 0;var i=a("bihjffdjjj"),r=new Set(i.MEDIA_TYPE_VALUES),s=Object.freeze({PRIMARY:"primary",FALLBACK:"fallback"});t.HOST_TYPE=s;t.default=class{constructor(e){this.hostname=e.hostname,this.ips=e.ips||[],this.type=e.type,this.class=e.class;var{supportedDownloadTypes:t,supportedUploadTypes:a}=function(e){var t,a,i,s,n=e||[];for(var o of n){var d,l;if(o.download)for(var c of(i=null!==(d=i)&&void 0!==d?d:new Set,o.download))i.add(c);if(o.upload)for(var u of(s=null!==(l=s)&&void 0!==l?l:new Set,o.upload))s.add(u)}return{supportedDownloadTypes:null!==(t=i)&&void 0!==t?t:r,supportedUploadTypes:null!==(a=s)&&void 0!==a?a:r}}(e.rules);this._supportedDownloadTypes=t,this._supportedUploadTypes=a}isFallback(){return this.type===s.FALLBACK}supportsDownloadMediaType(e){return this._supportedDownloadTypes.has(e)}supportsUploadMediaType(e){var t="product-catalog-image"===e?"product":e;return this._supportedUploadTypes.has(t)}}},eegidcced:function(e,t){e.exports={controlsSummary:"W5UJr",container:"_3uORI",btnActive:"_3rUJU"}},eehjjeabe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BoldFirstWord",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Bold",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Emoticon",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Intern",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Italic",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Mention",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"RawMention",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Strikethrough",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"TextMention",{enumerable:!0,get:function(){return m.default}});var r=i(a("dbaedajgf")),s=i(a("bfifighhia")),n=i(a("dacicgjcai")),o=i(a("idgifdccc")),d=i(a("beagfhhiea")),l=i(a("bedcejaea")),c=i(a("dbbfeecced")),u=i(a("dfehedcfdb")),f=i(a("bbeifbebhh")),h=i(a("cbhbjajgac")),p=i(a("ccfjghjbdi")),g=i(a("dfaebdhdda")),m=i(a("bbacdcchfi"))},efajhdaja:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("cffajefeag"));class o extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.unsyncedButtonReplies=(0,s.prop)()}}o.Proxy="msgButtonReplyMsg",o.idClass=n.default;var d=(0,s.defineModel)(o);t.default=d},efcjbgccg:function(e,t){e.exports={pane:"_2AuNk",previewPane:"_3JFjp",header:"_3drwd",title:"_3t5Np"}},efebdigbb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cagaiadjai")),o=i(a("dhfbfehaef")),d=i(a("bdjjabfecc")),l=i(a("cbedabhaa")),c=i(a("dgjfidhijd")),u=i(a("gjbhafcjg"));class f extends s.Component{constructor(...e){super(...e),this.blockContact=e=>{e.stopPropagation(),e.preventDefault(),this.props.onBlock()},this.onCancel=e=>{e.stopPropagation(),e.preventDefault(),this.props.onCancel()},this.reportSpamBlock=e=>{e.stopPropagation(),e.preventDefault(),this.props.onReportSpamBlock()}}render(){var e=s.createElement(n.default,{a8nText:"popup-controls-block",type:"primary",onClick:this.blockContact,key:0},d.default.t(249)),t=s.createElement(n.default,{a8nText:"popup-controls-report-spam",type:"plain",onClick:this.reportSpamBlock,key:1},d.default.t(1145)),a=s.createElement(n.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.onCancel,key:2},d.default.t(1497)),i={enter:this.blockContact,escape:this.onCancel},r=s.createElement(u.default,{contact:this.props.contact}),f=s.createElement(l.default,{id:250,params:{contact:r}});return s.createElement(o.default,{handlers:i},s.createElement(c.default,{children:f,actions:[t,e,a]}))}}t.default=f},efjaifahj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("chihecbaj")),o=i(a("dcdbbhicce")),d=i(a("ggihajihg"));class l extends s.PureComponent{constructor(...e){super(...e),this._downloadMedia=()=>this.props.stickerPack.downloadMedia(),this._renderStickerPackIcon=e=>{var{id:t,name:a}=this.props.stickerPack;return s.createElement(d.default,{id:t,name:a,url:e})},this._renderPlaceholder=()=>this._renderStickerPackIcon(null)}componentDidMount(){this._downloadMedia()}render(){return s.createElement(n.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPlaceholder,downloadMedia:this._downloadMedia},this._renderStickerPackIcon)}}l.CONCERNS={stickerPack:["id","name"],mediaData:["renderableUrl","mediaStage"]};var c=(0,o.default)(l,l.CONCERNS);t.default=c},efjdfifih:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cagaiadjai")),d=r(a("ccbgfecegc")),l=r(a("hgigjbgie")),c=i(a("djaiggcdb")),u=r(a("bdjjabfecc")),f=a("dbcedfihd"),h=r(a("ebddggeaib")),p=r(a("dgjfidhijd")),g=a("dbbhhgjjbg"),m=r(a("dcdbbhicce")),b=r(a("bfebcgehdb")),v=r(a("dgdcjccfdi")),_=r(a("dabefiefg")),{QUICK_REPLY:E,URL:j,CALL:y}=l.default.TEMPLATE_BUTTON_SUBTYPE;function S(e,t){var a=(0,f.findLink)(e,!1,t.from);if(a&&a.suspiciousCharacters)return d.default.openModal(n.createElement(b.default,{link:a}));var i=n.createElement(o.default,{a8nText:"popup-controls-go",type:"primary",onClick:()=>function(e){(0,c.openExternalLink)(e),d.default.closeModal()}(e),key:0},u.default.t(1546)),r=n.createElement(o.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:()=>d.default.closeModal(),key:1},u.default.t(1497)),s=l.default.TEMPLATE_URL_START+l.default.TEMPLATE_URL_END;d.default.openModal(n.createElement(p.default,{title:u.default.t(1062),actions:[r,i]},n.createElement("div",null,u.default.t(1063)),n.createElement(c.default,{href:e,isLongTemplateUrl:e.length>s},e)))}class C extends n.PureComponent{constructor(...e){super(...e),this.handleClick=e=>{var t,{subtype:a,url:i,displayText:r,selectionId:s,id:l}=e;a===y?(t=n.createElement(o.default,{a8nText:"popup-controls-ok",type:"primary",onClick:()=>d.default.closeModal(),key:0},u.default.t(1649)),d.default.openModal(n.createElement(p.default,{actions:[t]},u.default.t(354)))):a===j&&i?S(i,this.props.msg):a===E&&(0,g.sendTextMsgToChat)(this.props.chat,r,{quotedMsg:this.props.msg,selectedIndex:parseInt(l,10),selectedId:s}).then(()=>{e.selected=!0})}}componentDidMount(){var{msg:e}=this.props;e.buttons&&e.buttons.length&&e.buttons.forEach(e=>this.props.listeners.add(e,"change:selected",()=>this.forceUpdate()))}render(){var e,{msg:t}=this.props;return t.buttons&&(e=t.buttons.map(e=>{var t;switch(e.subtype){case y:t=n.createElement(v.default,{name:"hsm-call",className:_.default.icon});break;case j:t=n.createElement(v.default,{name:"hsm-link",className:_.default.icon})}var a=e.selected?void 0:()=>this.handleClick(e);return n.createElement("button",{key:e.id,className:(0,s.default)(_.default.actionButton,{[_.default.firstButton]:0===parseInt(e.id,10)&&e.subtype!==E,[_.default.disabled]:e.selected}),onClick:a},t,n.createElement("span",{className:_.default.actionText},e.displayText))})),n.createElement("div",{className:(0,s.default)({[_.default.quickReply]:t.isQuickReply,[_.default.callUrl]:!t.isQuickReply})},n.createElement("div",{className:_.default.buttonContainer},e))}}C.CONCERNS={msg:["buttons","isQuickReply","from"]};var M=(0,h.default)((0,m.default)(C,C.CONCERNS));t.default=M},egbcjfjag:function(e,t){e.exports={container:"XukK_"}},egccfhbgc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{displayAuthor:t,displayType:a,msg:i,trusted:r}=e,s=i.mediaData,{handleClick:E,stateIcon:j}=(0,m.default)(s.mediaStage,i);if((0,n.useEffect)(()=>{i.downloadMedia(!1,h.default.WEBC_RMR_REASON_CODE.MSG_RENDER)},[i]),!s.isViewOnceCompatible())return __LOG__(4,!1,new Error)(v(),s.type),SEND_LOGS("View once incompatible mediaData type"),null;var y=s.type===u.OUTWARD_TYPES.IMAGE?c.default.t(1389):c.default.t(1391),S=s.mediaStage===u.STAGE.NEED_POKE?" · "+c.default.filesize(s.size):null;return n.createElement("div",{className:b.default.bubble},n.createElement(f.default,{displayType:a,msg:i,showAuthor:t,trusted:r},n.createElement(g.default,{className:b.default.clickableContainer,onClick:E},n.createElement(d.default,{outgoingMsg:i.isSentByMe},n.createElement(l.FlexRow,{className:b.default.deepContainerContent,align:"center"},n.createElement(l.FlexItem,{className:b.default.preview,grow:0},n.createElement(o.default,{mediaData:s,height:_,width:_,blurRadius:12})),n.createElement(l.FlexItem,{className:b.default.content,grow:1},n.createElement("h3",{className:b.default.contentHeader},c.default.t(1387)),n.createElement("p",{className:b.default.contentMeta},n.createElement(p.default,{ariaLabel:c.default.t(1388),className:b.default.contentIcon,name:"view-once"}),y,S)),null!=j?n.createElement(l.FlexItem,{className:b.default.stateIcon,grow:0},j):null)))))};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("cghbidagdd")),d=(r(a("hgigjbgie")),r(a("dgdjggfgea"))),l=a("hcabbffbb"),c=r(a("bdjjabfecc")),u=a("ccfjbcbbga"),f=r(a("bgacbgiij")),h=r(a("bdcchebfge")),p=r(a("dgdcjccfdi")),g=r(a("bchiiahecb")),m=r(a("cghjdidgij")),b=r(a("cfaggciggj"));function v(){var e=(0,s.default)(["mediaType: ",""]);return v=function(){return e},e}var _=parseInt(b.default["-view-once-height"],10)},egdhadcih:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("iidhbgeed")),n=i(a("ddhijeejag")),o=r(a("dahagdijgh")),d=r(a("bjheffjbgd")),l=i(a("bjjhgjdbhd")),c=r(a("cbdjghedc")),u=r(a("bdjjabfecc")),f=i(a("dgjfidhijd")),h=a("cjjdjbcgjh"),p=r(a("dgjdhjcbbf")),g=r(a("djbfhebjhe")),m=a("dcbdjheea");class b extends n.Component{renderContacts(){return(0,s.default)(this.props.vcard.TEL,e=>e.properties.waid).map(e=>{var t=(0,m.createUserWid)(e.properties.waid[0]);return n.createElement("div",{className:p.default.container,key:"vCard-".concat(e.value)},n.createElement(c.default,{title:(0,g.default)(t),onClick:()=>this.onSelect(t),icon:this.props.icon},(0,h.vcardGetType)(e)))})}onSelect(e){this.props.onSelect(e)}render(){return n.createElement(f.default,{type:f.BoxModalType},n.createElement(o.default,null,n.createElement(l.default,{onCancel:this.props.onCancel,type:l.DRAWER_HEADER_TYPE.POPUP,title:u.default.t(421)}),n.createElement(d.default,null,this.renderContacts())))}}t.default=b,b.defaultProps={onCancel:()=>{},onSelect:()=>{}}},ehbhbffch:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cefccdiabc")),o=i(a("dhigahgdjb")),d=i(a("hhcjfgifh")),l=i(a("gfebgebbi")),c=i(a("bdjjabfecc")),u=a("cadfgefaja"),f=i(a("gjbhafcjg")),h=i(a("ebjgibdfjb")),p=i(a("dcdbbhicce")),g=i(a("dgdcjccfdi")),m=a("dhhjhedjij");class b extends s.PureComponent{render(){var e,{product:t}=this.props,a=o.default.get(t.catalogWid);if(a){var i=s.createElement(f.default,{contact:a,selectable:!0,showBusinessCheckmark:!0}),r=s.createElement(d.default,{id:a.id,size:40}),p=s.createElement("div",{className:h.default.productName},s.createElement(g.default,{className:h.default.productNameIcon,name:"business-description",display:"inline"}),s.createElement(l.default,{text:t.name,titlify:!0,ellipsify:!0}));e=s.createElement(n.default,{idle:!0,image:r,primary:i,secondary:p,theme:"media"})}else e=s.createElement(m.TextSpan,{theme:"large",className:h.default.infoName},s.createElement(l.default,{text:t.name,titlify:!0,ellipsify:!0}));return s.createElement("div",{className:h.default.mediaPanelHeader},s.createElement("div",{className:h.default.info},e),s.createElement("div",{className:h.default.mediaPanelTools},s.createElement(u.MenuBar,{key:"media-panel-header",theme:"strong"},s.createElement(u.MenuBarItem,{a8nText:"btn-close",icon:s.createElement(g.default,{name:"x-viewer"}),title:c.default.t(1507),onClick:this.props.onClose}))))}}b.CONCERNS={mediaData:["renderableUrl"],product:["name","catalogWid"]};var v=(0,p.default)(b,b.CONCERNS);t.default=v},ehhfjdhja:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.encFilehash,e.type,__LOG__(2)(c()),(0,n.default)(e).then(e=>{if("complete"!==e.resume)throw new s.MediaNotFoundError("mmsCheckIfUploadExists");if(!e.directPath)throw new s.HttpInvalidResponseError("mmsCheckIfUploadExists: missing directPath");if(!e.url)throw new s.HttpInvalidResponseError("mmsCheckIfUploadExists: missing url");return{directPath:e.directPath,url:e.url,handle:e.handle}}).then(e=>(__LOG__(2)(l()),e)).catch(e=>{throw e instanceof s.MediaNotFoundError?__LOG__(2)(d()):__LOG__(3)(o()),e})};var r=i(a("dfadhaifh")),s=a("chfjcfcide"),n=i(a("bfajgaaffa"));function o(){var e=(0,r.default)(["mmsCheckIfUploadExists: error"]);return o=function(){return e},e}function d(){var e=(0,r.default)(["mmsCheckIfUploadExists: expected error"]);return d=function(){return e},e}function l(){var e=(0,r.default)(["mmsCheckIfUploadExists: success"]);return l=function(){return e},e}function c(){var e=(0,r.default)(["mmsCheckIfUploadExists: start"]);return c=function(){return e},e}},ehibfjica:function(e,t){e.exports={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",bubble:"_3Um8Y",vendor:"_3ZdmS",meta:"_2QpTA",hasCaption:"_3Gi58",author:"_2kRCX",forwarded:"_4u9nQ",forwardedIndicator:"-ozGM",hasAuthor:"_3ji37",quote:"_3PdhZ",thumb:"QnPmY",caption:"VnkDL",isPSA:"_2e6b3",isPsa:"_2e6b3",thumbVideo:"_1deXH",thumbImage:"_14qwl",isGallery:"J0xG0",isInfo:"KnYL4",ctwaContext:"_1YcLc"}},eicbjgeai:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfiaijfhc")),s=i(a("ccbgfecegc")),n=i(a("bhibffdbgg"));class o extends r.default{constructor(...e){super(...e),this.handlers={onKeyDown(e){return!this.ctx.isComposing&&(!(" "!==e.key||!(0,n.default)(e))&&(!this.ctx.value.length&&(s.default.scrollMessages(),!0)))}}}}var d=new o;t.default=d},eicdedgie:function(e,t){e.exports={sticky:"_24Y5a"}},eigdejjai:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MsgInfoCollection=void 0;var s=r(a("cgcgbfbffj")),n=r(a("bdhgicebce")),o=a("cjggfjjegd"),d=a("fcaefbfaf"),l=r(a("cffajefeag")),c=i(a("bgeajihhc"));class u extends s.default{_initializeStaleCollection(){this.listenTo(c.default,"change:stream",()=>{c.default.stream===c.STREAM.DISCONNECTED&&this.forEach(e=>{e.settled||e.set("stale",!0)})})}_find(e){var t=a("biecbbiiee").default.get(e);return t?t.isSentByMe?(0,o.sendQueryMsgInfo)(t):Promise.reject("message not sent by me"):Promise.reject("No message found for id: ".concat(e))}updateInfo(e,t,a,i,r,s){var n=new l.default({from:t,to:a,id:e,participant:r}),o=new l.default({from:t,to:a,id:e}),c=this.get(n)||this.get(o);if(c)return(0,d.updateMsgInfo)(c,i,r,s)}}t.MsgInfoCollection=u,u.model=n.default,u.staleCollection=!0;var f=new u;t.default=f},eihchghee:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendCreateGroup=function(e,t,a,i,o,d){var l;if(s.default.supportsFeature(s.default.F.MD_BACKEND)){if(!l)return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"))}else l=n.default.createGroup(e,t,a,i,o,d).then(e=>200===e.status?e:Promise.reject(new r.ServerStatusCodeError(e.status)));return l};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},eiighchhi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("dgdjiicfdg")),o=i(a("ddhijeejag")),d=r(a("bfigfgcaaj")),l=r(a("ccbgfecegc")),c=r(a("bbfjdcedab")),u=r(a("hgigjbgie")),f=a("dcajjifiic"),h=r(a("dfijbgdefb")),p=r(a("bdjjabfecc")),g=r(a("eceibhbeff")),m=r(a("cfdjcihjjd")),b=r(a("bbhejgbajf"));function v(){var e=(0,s.default)(["Download failed, error: ",""]);return v=function(){return e},e}function _(){var e=(0,s.default)(["Assertion failed! ",""]);return _=function(){return e},e}function E(){var e=(0,s.default)(["Assertion failed! ",""]);return E=function(){return e},e}function j(){var e=(0,s.default)(["Assertion failed!"]);return j=function(){return e},e}function y(){var e=(0,s.default)(["Failed to get download data!"]);return y=function(){return e},e}var S=new class{_getDownloadData(e){var t=Array.isArray(e)?e:[e];return Promise.map(t,e=>{if(e.isGif)return this._mp4ToGif(e);if(e.type===u.default.MSG_TYPE.VCARD)return this._getVcardDownloadData(e);if(e.type===u.default.MSG_TYPE.MULTI_VCARD)return this._getMultiVcardDownloadData(e);if(e.mediaData.mediaBlob)return{name:h.default.getDefaultName(e),url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob.forceToBlob()};var t=e.mediaData.filehash,a=g.default.get(t);return a?{name:h.default.getDefaultName(e),url:g.default.getOrCreateURL(t),blob:a}:Promise.reject("Unable to download because blob cannot be found")}).then(e=>e.length>1?(0,b.default)(e).then(e=>{var t={t:Math.round(Date.now()/1e3),type:"unknown",mimetype:"application/zip",isVcardOverMmsDocument:!1};return{blob:e,name:h.default.getDefaultName(t)}}):e[0]).catch(()=>{__LOG__(3)(y())})}_mp4ToGif(e){return new Promise((function(){throw new Error("unimplemented")})).then((t,a)=>({url:t,blob:a,name:"WhatsApp-Image-".concat(n.default.unix(e.t).format("YYYYMMDD"),".gif")})).catch(()=>({url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob.forceToBlob(),name:h.default.getDefaultName(e)}))}_getVcardDownloadData(e){return{name:h.default.getDefaultName(e),blob:new Blob([e.body],{type:"text/vcard"})}}_getMultiVcardDownloadData(e){return{name:h.default.getDefaultName(e),blob:new Blob([e.vcardList.map(e=>e.vcard).join("\n")],{type:"text/vcard"})}}initDownload(e){var t=e;if(!window.Modernizr.adownload){var a=p.default.t(1793,{chrome_homepage:u.default.BROWSER_LINK.CHROME,firefox_homepage:u.default.BROWSER_LINK.FIREFOX,opera_homepage:u.default.BROWSER_LINK.OPERA});return l.default.openModal(o.createElement(c.default,{onOK:()=>l.default.closeModal(),okText:p.default.t(1649)},a)),__LOG__(4,!1,new Error)(j()),void SEND_LOGS("safari, adownload is false in download mgr")}d.default.startDownloading(),this._getDownloadData(t).then(e=>{e.url||e.blob||(__LOG__(4,!1,new Error)(E(),Array.isArray(t)?"download a zip file":"download ".concat(t.id.toString()," type ").concat(t.type," with state ").concat(t.mediaData&&t.mediaData.mediaStage)),SEND_LOGS("download-url-creation-error"));var a=e.url||window.URL.createObjectURL(e.blob),i=(0,f.createDataLink)(a);i.download=e.name,i.style.display="none",Array.isArray(t)&&1===t.length&&(t=t[0]),i.href||(__LOG__(4,!1,new Error)(_(),Array.isArray(t)?"download a zip file":"download ".concat(t.id.toString()," type ").concat(t.type," with state ").concat(t.mediaData&&t.mediaData.mediaStage)),SEND_LOGS("no-download-url")),document.body&&document.body.appendChild(i),i.click(),document.body&&document.body.removeChild(i),e.url||(0,m.default)(100).then(()=>{window.URL.revokeObjectURL(i.href)})}).catch(e=>{__LOG__(3)(v(),String(e))})}};t.default=S},ejegihaeh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CatalogCollection=void 0;var r=i(a("cgcgbfbffj")),s=i(a("eciicfcjdi")),n=a("eaibdijehg"),o=a("hjbbdjjdf"),d=a("dcbdjheea");class l extends r.default{addMsgAsProduct(e){var t=e.businessOwnerJid&&(0,d.createWid)(e.businessOwnerJid);if(t){var a=this.get(t),i=a&&e.productId&&a.msgProductCollection.get(e.productId),r=a&&e.productId&&a.productCollection.get(e.productId);if(!(r&&r.t&&r.t>=e.t||i&&i.fetchedFromServer)){var s={id:e.productId,url:e.url,name:e.title,description:e.description,imageCdnUrl:{rawUrl:e.mediaData.renderableUrl},catalogWid:t,reviewStatus:"",currency:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,productMsgMediaData:e.mediaData,imageCount:null!=e.productImageCount&&0!==e.productImageCount?e.productImageCount:1,fetchedFromServer:!1,t:e.t};return super.add({id:t,afterCursor:void 0,_msgs:[s],stale:!0,fetchedFromServer:!!r},{merge:!0})}}}_queryProduct({catalogWid:e,productId:t,productMsgMediaData:a}){return(0,n.queryProduct)(e,t).then(t=>{if(!t.data)return super.add({id:e,afterCursor:void 0});var{data:i}=t;if(!i.image_cdn_urls||i.image_cdn_urls[0].value.includes("https://static.whatsapp.net"))return Promise.reject(new Error("CatalogCollection:findProduct:_queryProduct ".concat(i.image_cdn_urls?"Product image contains static image":"Could not find image_cdn_urls for product")));var r=[{id:i.id,url:i.url,name:i.name,description:i.description,additionalImageCdnUrl:i.additional_image_cdn_urls.map(e=>({rawUrl:e[1].value})),imageCdnUrl:{rawUrl:i.image_cdn_urls[1].value},catalogWid:e,reviewStatus:i.capability_to_review_status.length&&i.capability_to_review_status[0].value,currency:i.currency,priceAmount1000:null==i.price?null:10*i.price,retailerId:i.retailer_id,productMsgMediaData:a,imageCount:i.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3}];return super.add({id:e,afterCursor:void 0,_products:r,_msgs:r},{merge:!0})})}findProduct({catalogWid:e,productId:t,productMsgMediaData:a}){return t?this._queryProduct({catalogWid:e,productId:t,productMsgMediaData:a}):Promise.reject(new Error("CatalogCollection:findProduct Received productId type ".concat(void 0===t?"undefined":"null")))}_queryCatalog(e,t,a){var i=e?e.index:0;return(0,n.queryCatalog)(t,a,10).then(e=>{if(!e.data.length)return{id:t,afterCursor:void 0};var a=[];return e.data.forEach((e,r)=>{e.image_cdn_urls&&!e.image_cdn_urls[0].value.includes("https://static.whatsapp.net")&&a.push({id:e.id,url:e.url,name:e.name,description:e.description,additionalImageCdnUrl:e.additional_image_cdn_urls.map(e=>({rawUrl:e[1].value})),imageCdnUrl:{rawUrl:e.image_cdn_urls[1].value},catalogWid:t,reviewStatus:e.capability_to_review_status.length?e.capability_to_review_status[0].value:null,currency:e.currency,priceAmount1000:null==e.price?null:10*e.price,retailerId:e.retailer_id,productMsgMediaData:null,imageCount:e.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1,index:i+r})}),{id:t,afterCursor:e.paging.cursors.after,_products:a,fetchedFromServer:!0,index:i+a.length}})}_findQuery(e){var t=this.get(e),a=t&&!t.stale?t.afterCursor:void 0;return this._queryCatalog(t,e,a)}_find(e){return this._findQuery(e)}findCarouselCatalog(e){var t=this.get(e),a=(0,o.isString)(e)?(0,d.createWid)(e):e;return t&&t.set({index:0}),this._queryCatalog(t,a,void 0).then(e=>(t&&t.markProductCollectionOld(),super.add(e,{merge:!0})))}findNextProductPage(e){return this.update(e).then(e=>(Array.isArray(e)?e[0]:e).productCollection.getProductModels())}}t.CatalogCollection=l,l.model=s.default,l.staleCollection=!0;var c=new l;t.default=c},ejhahcjef:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=r(a("cbfghigjc")),o=r(a("bgeijhbbad")),d=r(a("ceffhbhahb")),l=i(a("ddhijeejag")),c=r(a("fhgchaefa")),u=r(a("ccbgfecegc")),f=r(a("bbfjdcedab")),h=r(a("hgigjbgie")),p=r(a("dhggdfijcg")),g=r(a("dgdjggfgea")),m=a("dccghhaddh"),b=r(a("eajgjhcbje")),v=r(a("gfebgebbi")),_=a("cgffhfegce"),E=r(a("eiighchhi")),j=a("hcabbffbb"),y=r(a("bdjjabfecc")),S=r(a("dcjigehfeb")),C=r(a("ebibaajhjh")),M=r(a("bgacbgiij")),T=r(a("bdcchebfge")),P=a("cedhgehjef"),O=r(a("dcdbbhicce")),N=a("cjfegjecaj"),I=i(a("bjhgigfbec")),A=(0,o.default)(P.MIMETYPES,e=>"document"===e.msgType);function w(e){e&&(e.stopPropagation(),e.preventDefault())}class R extends l.PureComponent{constructor(...e){super(...e),this.showMediaMissing=e=>{w(e),u.default.openModal(l.createElement(C.default,{msg:this.props.msg.unsafe()}))},this.downloadMedia=e=>{if(w(e),Modernizr.adownload)this.props.msg.downloadMedia(!0,T.default.WEBC_RMR_REASON_CODE.MSG_CLICK).catch(()=>{}).then(()=>{switch(this.props.mediaData.mediaStage){case S.default.STAGE.RESOLVED:case S.default.STAGE.ERROR_UNSUPPORTED:this.props.msg.isVcardOverMmsDocument||(this.displayToast(),E.default.initDownload((0,N.unproxy)(this.props.msg.unsafe())));break;case S.default.STAGE.ERROR_MISSING:this.showMediaMissing()}});else{var t=y.default.t(1793,{chrome_homepage:h.default.BROWSER_LINK.CHROME,firefox_homepage:h.default.BROWSER_LINK.FIREFOX,opera_homepage:h.default.BROWSER_LINK.OPERA});u.default.openModal(l.createElement(f.default,{onOK:()=>u.default.closeModal(),okText:y.default.t(1649)},l.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))}},this.cancelDownload=e=>{w(e),this.props.msg.cancelDownload()},this.cancelUpload=e=>{w(e),this.props.msg.cancelUpload()},this.resumeUpload=e=>{w(e),this.props.msg.resumeUpload()},this.resumeRemoteUpload=e=>{w(e),this.props.msg.resumeRemoteUpload()}}displayToast(){var{mediaData:e}=this.props,t=e.filename||y.default.t(1347);u.default.openToast(l.createElement(I.default,{msg:y.default.t(515,{name:t}),id:(0,I.genId)()}))}render(){var e,t,a,i,{displayAuthor:r,displayType:o,msg:u,mediaData:f,quotedMsg:E,trusted:C}=this.props;if(f.pageCount>0){var T=y.default.t(1525,{count:f.pageCount,_plural:f.pageCount});t=l.createElement("span",{className:b.default.metaValue,title:T},T)}if(f.size>0){var O=y.default.filesize(f.size);a=l.createElement("span",{className:b.default.metaValue,title:O},O)}var N,I,w,R=b.default.filetypeIcon;A.hasOwnProperty(f.mimetype)&&(N=null===(w=A[f.mimetype].ext)||void 0===w?void 0:w.toLowerCase(),I=f.mimetype);var D=f.filename?(0,_.getFileExtension)(f.filename):null;if((!N||D&&N!==D)&&(N=D,I=(0,n.default)(P.EXT_TO_MIME,N)),R=(0,d.default)(R,I&&(0,n.default)(A,[I,"icon"])||"icon-doc-generic"),N){var L=N.toUpperCase();i=l.createElement("span",{"data-meta-key":"type","data-testid":"type",className:b.default.metaValue,title:L},L)}var k=(f.preview||f.fullPreviewData)&&this.props.trusted?l.createElement("div",{className:b.default.thumb,style:{backgroundImage:'url("'.concat((null===(e=f.fullPreviewData)||void 0===e?void 0:e.url())||f.preview.url(),'")')}}):null,x=f.filename||y.default.t(1347),G=null,U={onClick:()=>{}};switch(f.mediaStage){case S.default.STAGE.RESOLVED:case S.default.STAGE.ERROR_UNSUPPORTED:U.onClick=this.downloadMedia,G=l.createElement(m.Download,{onClick:U.onClick});break;case S.default.STAGE.FETCHING:G=l.createElement(m.PendingCancel,{outgoingMsg:u.isSentByMe}),U.onClick=this.cancelDownload;break;case S.default.STAGE.NEED_POKE:case S.default.STAGE.INIT:U.onClick=this.downloadMedia,G=l.createElement(m.Download,{onClick:U.onClick});break;case S.default.STAGE.UPLOADING:G=l.createElement(m.PendingCancel,{outgoingMsg:u.isSentByMe}),U.onClick=this.cancelUpload;break;case S.default.STAGE.NEED_UPLOAD:G=l.createElement(m.Upload,null),U.onClick=this.resumeUpload;break;case S.default.STAGE.REMOTE_NEED_UPLOAD:G=l.createElement(m.Upload,null),U.onClick=this.resumeRemoteUpload;break;case S.default.STAGE.ERROR_TOO_LARGE:break;case S.default.STAGE.ERROR_MISSING:U.onClick=this.showMediaMissing;break;case S.default.STAGE.SENDING:G=u.isFailed?null:l.createElement(m.Pending,{outgoingMsg:u.isSentByMe});break;default:G=l.createElement(m.Pending,{outgoingMsg:u.isSentByMe})}var F=u.isFromTemplate&&u.caption,B=F?null:l.createElement("div",{className:b.default.docMeta},t,i,a);return l.createElement("div",{className:(0,d.default)({[b.default.bubble]:!F,[b.default.templateBubble]:F,[b.default.isPreview]:o===h.default.DISP_TYPE.MSG_INFO,[b.default.isGallery]:o===h.default.DISP_TYPE.STARRED_MSGS||o===h.default.DISP_TYPE.GALLERY})},l.createElement(M.default,{displayType:o,msg:u,quotedMsg:E,showAuthor:r,hideCaption:!u.isFromTemplate,trusted:C},l.createElement(p.default,{msg:u.unsafe(),wrapperClass:b.default.ctwaContext}),l.createElement(c.default,(0,s.default)({className:b.default.container,title:y.default.t(1539,{name:x})},U),k,l.createElement(g.default,{outgoingMsg:u.isSentByMe,position:null!=k?"bottom":void 0},l.createElement(j.FlexRow,{className:b.default.deepContainerContent,align:"center"},l.createElement(j.FlexItem,{className:b.default.icon},l.createElement("div",{className:R})),l.createElement(j.FlexItem,{className:b.default.text,grow:1},l.createElement(v.default,{text:x,dirMismatch:u.rtl!==y.default.isRTL(),direction:"auto"})),l.createElement(j.FlexItem,{grow:0},G)))),B))}}R.CONCERNS={msg:["ack","caption","dir","isFromTemplate","isFailed","isSentByMe","rtl","senderObj","subtype","type","isVcardOverMmsDocument","mediaData"],mediaData:["mediaStage","filename","pageCount","size","mimetype","preview","fullPreviewData"]};var D=(0,O.default)(R,R.CONCERNS);t.default=D},ejiicdbii:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProfileCollection=t.CATALOG_EXISTS=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("cgcgbfbffj")),o=i(a("defecifdhg")),d=a("bfgacchdii"),l=a("dbagfiiic");function c(){var e=(0,s.default)(["Store:BusinessProfile:handle Received invalid update from server"]);return c=function(){return e},e}function u(){var e=(0,s.default)(["Store:BusinessProfile:find No businessProfile found for ",""]);return u=function(){return e},e}function f(){var e=(0,s.default)(["Received invalid business profile response"]);return f=function(){return e},e}t.CATALOG_EXISTS="catalog_exists";class h extends n.default{_find(e){var t=this.gadd(e);return(0,d.queryBusinessProfile)([{wid:t.id,tag:t.tag}]).then(t=>{if(!Array.isArray(t))return __LOG__(3)(f()),null;if(0===t.length)return __LOG__(1)(u(),String(e)),{id:e};var a=t[0],{wid:i,tag:s}=a,n={id:i,tag:s},{profile:o}=a;return o?(0,r.default)((0,r.default)({},(0,l.parseBusinessProfile)({id:a.wid,profile:o})),n):n})}onResume(){this.filter(e=>e.stale&&e.hasObservers()).map(e=>this.find(e.id))}handle([e]){e&&null!=e.tag||__LOG__(3)(c());var t=this.gadd(e.wid);e.tag!==t.tag&&t.markStale()}}t.BusinessProfileCollection=h,h.model=o.default,h.staleCollection=!0;var p=new h;t.default=p},ejjijcgeb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh"));function s(){var e=(0,r.default)(["bin-recv: response,video_playback_url"]);return s=function(){return e},e}var n={queryVideoPlaybackUrl:function(e){return new Promise((t,a)=>{var i=this.queryNode({type:"video",url:e},void 0);this.binSend("sendEphemeral",i,a,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{__LOG__(2)(s());var a=void 0;if("response"===this.N.tag(e)&&"video"===this.N.attr("type",e)){var i=this.N.attr("url",e);i&&(a={url:i})}t(a)}).catch(a)},t),onDrop:this.wrap(a)},{debugString:"query,video_playback_url",metricName:"QUERY_URL"})})}};t.default=n},facgffi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddfeabiaci")),s=i(a("ciaibaaibf")),n=i(a("bhbdiadfhj")),o=i(a("ccjaadabd")),d=i(a("cfejjfjhca")),l=i(a("dbjijgajai")),c=a("bbjghgfabf"),u=i(a("jccfhaecf")),f={version:"16",M:o.default,parseMsgStubProto:function(e,t){var a=c.WebMessageInfoStubType;switch(e.messageStubType){case a.REVOKE:return t.type="revoked",t;case a.CIPHERTEXT:return t.type="ciphertext",t;case a.OVERSIZED:return t.type="oversized",t;case a.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgGp2:function(){},parseMsgBroadcast:function(){},parseMsgNotification:function(){},parseMsgSecurity:function(){},parseMsgCallLog:function(){},parseMsgStubTemplate:function(e,t){var a=c.WebMessageInfoStubType;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(t=>e.messageStubType===a.GROUP_CREATE||e.messageStubType===a.GROUP_CHANGE_SUBJECT?t:this.decodeJid(t)):void 0,e.messageStubType){case a.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case a.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case a.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case a.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case a.VERIFIED_HIGH:t.subtype="verified_high";break;case a.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case a.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case a.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case a.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case a.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case a.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case a.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case a.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case a.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case a.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case a.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case a.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case a.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.recipients=[],t.templateParams=void 0;break;case a.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case a.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.recipients=[],t.body=t.templateParams[0],t.templateParams=void 0;break;case a.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite",t.recipients=[];break;case a.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description",t.recipients=[];break;case a.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.recipients=[],t.body=t.templateParams[0];break;case a.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.recipients=[],t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case a.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case a.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case a.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0]instanceof u.default?t.templateParams[0].toString():t.templateParams[0],t.templateParams=void 0;break;case a.E2E_IDENTITY_UNAVAILABLE:t.subtype="blue_msg_e2e_identity_unavailable";break;case a.E2E_DEVICE_CHANGED:t.type="e2e_notification",t.subtype="device",t.body=t.templateParams[0]instanceof u.default?t.templateParams[0].toString():t.templateParams[0],t.devicesAdded=parseInt(t.templateParams[1],10),t.devicesRemoved=parseInt(t.templateParams[2],10),t.templateParams=void 0;break;case a.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case a.E2E_ENCRYPTED_NOW:t.type="e2e_notification",t.subtype="encrypt_now";break;case a.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case a.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case a.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case a.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case a.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case a.CHANGE_EPHEMERAL_SETTING:t.type="gp2",t.subtype="ephemeral",t.author=t.templateParams[1],t.recipients=[];break;case a.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(n.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case a.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(n.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case a.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case a.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case a.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case a.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case a.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case a.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case a.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case a.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case a.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case a.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case a.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case a.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case a.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case a.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case a.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case a.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case a.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;case a.BLUE_MSG_BSP_FB_TO_BSP_PREMISE:t.subtype="blue_msg_bsp_fb_to_bsp_premise";break;case a.BLUE_MSG_BSP_FB_TO_SELF_FB:t.subtype="blue_msg_bsp_fb_to_self_fb";break;case a.BLUE_MSG_BSP_FB_TO_SELF_PREMISE:t.subtype="blue_msg_bsp_fb_to_self_premise";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED:t.subtype="blue_msg_bsp_fb_unverified";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_bsp_premise_verified";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_FB_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_self_fb_verified";break;case a.BLUE_MSG_BSP_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_fb_unverified_to_self_premise_verified";break;case a.BLUE_MSG_BSP_FB_VERIFIED:t.subtype="blue_msg_bsp_fb_verified";break;case a.BLUE_MSG_BSP_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_bsp_premise_unverified";break;case a.BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_self_fb_unverified";break;case a.BLUE_MSG_BSP_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_fb_verified_to_self_premise_unverified";break;case a.BLUE_MSG_BSP_PREMISE_TO_SELF_PREMISE:t.subtype="blue_msg_bsp_premise_to_self_premise";break;case a.BLUE_MSG_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_premise_unverified";break;case a.BLUE_MSG_BSP_PREMISE_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_premise_unverified_to_self_premise_verified";break;case a.BLUE_MSG_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_bsp_premise_verified";break;case a.BLUE_MSG_BSP_PREMISE_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_bsp_premise_verified_to_self_premise_unverified";break;case a.BLUE_MSG_CONSUMER_TO_BSP_FB_UNVERIFIED:t.subtype="blue_msg_consumer_to_bsp_fb_unverified";break;case a.BLUE_MSG_CONSUMER_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_consumer_to_bsp_premise_unverified";break;case a.BLUE_MSG_CONSUMER_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_consumer_to_self_fb_unverified";break;case a.BLUE_MSG_CONSUMER_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_consumer_to_self_premise_unverified";break;case a.BLUE_MSG_SELF_FB_TO_BSP_PREMISE:t.subtype="blue_msg_self_fb_to_bsp_premise";break;case a.BLUE_MSG_SELF_FB_TO_SELF_PREMISE:t.subtype="blue_msg_self_fb_to_self_premise";break;case a.BLUE_MSG_SELF_FB_UNVERIFIED:t.subtype="blue_msg_self_fb_unverified";break;case a.BLUE_MSG_SELF_FB_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_self_fb_unverified_to_bsp_premise_verified";break;case a.BLUE_MSG_SELF_FB_UNVERIFIED_TO_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_self_fb_unverified_to_self_premise_verified";break;case a.BLUE_MSG_SELF_FB_VERIFIED:t.subtype="blue_msg_self_fb_verified";break;case a.BLUE_MSG_SELF_FB_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_fb_verified_to_bsp_premise_unverified";break;case a.BLUE_MSG_SELF_FB_VERIFIED_TO_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_fb_verified_to_self_premise_unverified";break;case a.BLUE_MSG_SELF_PREMISE_TO_BSP_PREMISE:t.subtype="blue_msg_self_premise_to_bsp_premise";break;case a.BLUE_MSG_SELF_PREMISE_UNVERIFIED:t.subtype="blue_msg_self_premise_unverified";break;case a.BLUE_MSG_SELF_PREMISE_VERIFIED:t.subtype="blue_msg_self_premise_verified";break;case a.BLUE_MSG_TO_BSP_FB:t.subtype="blue_msg_to_bsp_fb";break;case a.BLUE_MSG_TO_CONSUMER:t.subtype="blue_msg_to_consumer";break;case a.BLUE_MSG_TO_SELF_FB:t.subtype="blue_msg_to_self_fb";break;case a.BLUE_MSG_UNVERIFIED_TO_BSP_FB_VERIFIED:t.subtype="blue_msg_unverified_to_bsp_fb_verified";break;case a.BLUE_MSG_UNVERIFIED_TO_BSP_PREMISE_VERIFIED:t.subtype="blue_msg_unverified_to_bsp_premise_verified";break;case a.BLUE_MSG_UNVERIFIED_TO_SELF_FB_VERIFIED:t.subtype="blue_msg_unverified_to_self_fb_verified";break;case a.BLUE_MSG_UNVERIFIED_TO_VERIFIED:t.subtype="blue_msg_unverified_to_verified";break;case a.BLUE_MSG_VERIFIED_TO_BSP_FB_UNVERIFIED:t.subtype="blue_msg_verified_to_bsp_fb_unverified";break;case a.BLUE_MSG_VERIFIED_TO_BSP_PREMISE_UNVERIFIED:t.subtype="blue_msg_verified_to_bsp_premise_unverified";break;case a.BLUE_MSG_VERIFIED_TO_SELF_FB_UNVERIFIED:t.subtype="blue_msg_verified_to_self_fb_unverified";break;case a.BLUE_MSG_VERIFIED_TO_UNVERIFIED:t.subtype="blue_msg_verified_to_unverified";break;default:t.templateParams=void 0}return t},sendCallOffer:function(e){return new Promise((t,a)=>{var i=(0,d.default)(),r=l.default.formatCallOffer(this,i,e);this.binSend("send",r,a,{tag:i,onSend:this.wrap(e=>{t(e)},t),onDrop:this.wrap(a),retryOn5xx:!0,isCallOffer:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:r,struct:e},metricName:"CALL"})})}},h=(0,r.default)(f,s.default);t.default=h},faeabjacf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({msg:e,date:t,unread:a,album:i},l,c,u,f,h){var p,g=[],m=0;for(m=0;!p&&m<l.length;m++)p=l[m];m--;var b=!1,v=!1,_=p?(0,n.default)(p):0,E=0,j=m;for(;p;){v||g.push(t(p,E++)),p===u&&a&&g.push(a(f));for(var y=void 0,S=m+1;!y&&S<l.length;S++)y=l[S];var C=void 0,M=void 0,T=void 0,P=[],O=!1,N=void 0,I=!1,A=null;if(p.asGroupedSticker&&!o(p,h)){P.push(p),I=p===c,A=0;var w=l[j=m+1];w&&w.asGroupedSticker&&(0,r.canBeGroupedAsAlbum)(p,w)&&w!==u&&!o(w,h)&&(P.push(w),y=l[j+1],O=!0,N=!0,w===c&&(I=!0,A=1))}if(p.asAlbumAsset&&!o(p,h)){P.push(p);var R=p,D=void 0;for(I=p===c,j=m;j<l.length-1&&P.length<s.default.ALBUM_MAX_SIZE&&(R=l[j],(D=l[j+1])&&D.asAlbumAsset&&(0,r.canBeGroupedAsAlbum)(R,D)&&D!==u&&!o(D,h));j++)P.push(D),D===c&&(I=!0);P.length>=s.default.ALBUM_MIN_SIZE&&(O=!0,N=!1,y=l[j+1])}if(y?(T=(0,n.default)(y),C=(M=T===_)&&(0,r.canBeGroupedWithNext)(p,y)&&y!==u):(C=!1,M=!1,T=0),O){var L=void 0;L=N?P.reduce((e,t)=>"".concat(e,"-").concat(t.id.toString()),"grouped-sticker-"):d(P),g.push(i(P,L,b,C,I,A)),p=l[m=j+1],b=C,v=M,_=T}else g.push(e(p,p===c,b,C)),m++,b=C,v=M,_=T,p=y}return g};var r=a("dejbbcaghh"),s=i(a("hgigjbgie")),n=i(a("cdagfedaaf"));function o(e,t){return null==t||e.t>t.t}function d(e){var t=e.length,a=e[0]?e[0].id.toString():"",i=e[t-1]?e[t-1].id.toString():"";return"album-".concat(a,"-").concat(i,"-").concat(t)}},fagbfehid:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerPackCollection=t.PAGE_FETCH_STATE=t.PAGE_SIZE_POPUP=t.PAGE_SIZE_COMPOSE_BOX=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=i(a("ffedgcdgj")),o=i(a("dfacahcafg")),d=i(a("ccjgiajgj")),l=i(a("cgcgbfbffj")),c=i(a("cdaedfafjc")),u=i(a("cfidecfjad"));function f(){var e=(0,s.default)(["StickerPack page fetch promise cancelled: ",""]);return f=function(){return e},e}t.PAGE_SIZE_COMPOSE_BOX=9;t.PAGE_SIZE_POPUP=6;var h={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};t.PAGE_FETCH_STATE=h;class p extends l.default{constructor(){super(),this.checksum=null,this._pageFetchPromises={},this.pageFetchStates={},this._handleChecksumChange=()=>{Object.keys(this.pageFetchStates).forEach(e=>this._resetFetchPageStateAndPromise(parseInt(e,10))),this._resetRangeWithPlaceholders(0,this.length),this.fetchAt(0,!1,!0)},this.listenTo(this,"change:checksum",this._handleChecksumChange)}createPlaceholder(e){return p.createPlaceholder(e)}preFetch(){var e=this;return(0,n.default)((function*(){yield e.fetchAt(0).then(()=>Promise.all(e.filter(e=>e.isFirstParty).map(e=>e.stickers.fetch())))}))()}fetchAt(e,t,a){return this._fetchPageWithIndex(e,Boolean(t),Boolean(a))}hasFetchedData(){return Object.keys(this.pageFetchStates).some(e=>this.pageFetchStates[parseInt(e,10)]===h.SUCCESS)}isFetchingData(){return Object.keys(this.pageFetchStates).some(e=>this.pageFetchStates[parseInt(e,10)]===h.PENDING)}pageWithIndex(e){return p.pageWithIndex(e)}reset(){return this.setChecksum(null,{silent:!0}),Object.keys(this.pageFetchStates).forEach(e=>this._resetFetchPageStateAndPromise(parseInt(e,10))),super.reset()}sync(e){this.setChecksum(e)}setChecksum(e,t){return this.checksum!==e&&(this.checksum=e,t&&t.silent||this.trigger("change:checksum",e),!0)}_fetchPageWithIndex(e,t,a){var i=this.pageWithIndex(e);return this._fetchPage(i,t,a)}_fetchPage(e,t,a){var i,r=this.pageFetchStates[e];if(t&&r!==h.PENDING&&(i=this._pageFetchPromises[e])&&(i.cancel(),delete this._pageFetchPromises[e]),i=this._pageFetchPromises[e])return i;var s=this.length;return this._insertPagePlaceholders(e),this._setFetchPageState(e,h.PENDING),this._pageFetchPromises[e]=u.default.queryStickerPacks(e,9).cancellable().then(t=>{var i=this._parseStickerPacksRes(e,t),r=a||this.setChecksum(t.checksum,{silent:!0}),n=9*(e-1),o=9*(e+0);this._resetRange(n,o,i),r&&(this._resetRangeWithPlaceholders(0,n),this._resetRangeWithPlaceholders(Math.min(n+i.length,o),t.count));var d=this.length;s!==d&&this.trigger("change:length",d),this._setFetchPageState(e,h.SUCCESS)}).catch(t=>{if(t instanceof Promise.CancellationError)return __LOG__(2)(f(),e),void this._unsetFetchPageStateAndPromise(e);this._setFetchPageState(e,h.ERROR)}),this._pageFetchPromises[e]}_insertPagePlaceholders(e){var t=e-1;this._resetRangeWithPlaceholders(9*t,9*(t+1))}_parseStickerPacksRes(e,t){if(200!==t.status||!t.data)throw new Error("sticker packs query error");return t.data.map((t,a)=>(0,r.default)((0,r.default)({},(0,d.default)(t,["id","mimetype","name","url","mediaKey","filehash","directPath"])),{},{uploadhash:t.encFilehash,page:e,index:9*(e-1)+a}))}_resetRangeWithPlaceholders(e,t){this._resetRange(e,t,(0,o.default)(t-e,t=>p.createPlaceholder(e+t)))}_resetRange(e,t,a){this._forEachInRange(e,t,(t,i)=>{var r=a[i-e];if(t)if(r)t.id===r.id?(this.remove(t,{silent:!0}),this.add(r)):(this.remove(t),this.add(r));else for(var s=t;s;)this.remove(s),s=this.at(i);else r&&this.add(r)})}_forEachInRange(e,t,a){for(var i=e;i<t;i++){a(this.at(i),i)}}_resetFetchPageStateAndPromise(e){e in this.pageFetchStates&&(this.pageFetchStates[e]===h.PENDING?this._pageFetchPromises[e].cancel():this._unsetFetchPageStateAndPromise(e))}_setFetchPageState(e,t){this.pageFetchStates[e]!==t&&(this.pageFetchStates[e]=t,this.trigger("change:pageFetchStates",e,t))}_unsetFetchPageState(e){e in this.pageFetchStates&&(delete this.pageFetchStates[e],this.trigger("change:pageFetchStates",e))}_unsetFetchPageStateAndPromise(e){delete this._pageFetchPromises[e],this._unsetFetchPageState(e)}}t.StickerPackCollection=p,p.model=c.default,p.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},p.createPlaceholder=function(e){return c.default.createPlaceholder({index:e,page:this.pageWithIndex(e)})},p.pageWithIndex=function(e){return Math.floor(e/9)+1};var g=new p;t.default=g},fagcacbjb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("dabjhbacff")),d=r(a("cbhefjadgb")),l=r(a("ecjbgcddb")),c=r(a("ceiagggjad")),u=r(a("cabffcdjbg")),f=r(a("dhajdfhjdc")),h=a("bbjghgfabf");class p extends n.PureComponent{constructor(...e){super(...e),this.state={isMultilineText:!1},this.setRefText=e=>{e&&this.setState({isMultilineText:e.getBoundingClientRect().height>20})}}render(){var e,{paymentStatus:t,expiryTimestamp:a}=this.props,i=(0,s.default)({[l.default.bubbleOut]:this.props.isSentByMe,[l.default.bubbleIn]:!this.props.isSentByMe}),r=null!=t&&t!==h.PaymentInfoStatus.UNKNOWN_STATUS;if(this.props.hasCaption)e=n.createElement("div",{ref:this.setRefText},n.createElement("div",null,n.createElement(u.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})),n.createElement(c.default,{paymentStatus:t,expiryTimestamp:a}));else if(r){var p;e=n.createElement("div",{ref:this.setRefText},n.createElement("div",null,n.createElement(u.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})),n.createElement(f.default,{msg:null===(p=this.props.msg)||void 0===p?void 0:p.unsafe()},n.createElement(c.default,{paymentStatus:t,expiryTimestamp:a})))}else{var g;e=n.createElement(f.default,{msg:null===(g=this.props.msg)||void 0===g?void 0:g.unsafe()},n.createElement("span",{ref:this.setRefText},n.createElement(u.default,{subtype:this.props.subtype,receiverJid:this.props.receiverJid})))}return n.createElement("div",{className:i},n.createElement(o.default,{currency:this.props.currency,amount1000:this.props.amount1000}),n.createElement("div",{className:l.default.body},n.createElement("div",{className:(0,s.default)(l.default.bodyIcon,{[l.default.bodyIconMultiline]:this.state.isMultilineText})},n.createElement(d.default,{currency:this.props.currency,subtype:this.props.subtype,paymentStatus:this.props.paymentStatus})),n.createElement("div",{className:l.default.bodyText},e)))}}t.default=p},fahgabfbb:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=a("cbhhehcjbb");function n({children:e,selectable:t}){return r.createElement(s.SelectableCode,{selectable:t,appTextTemplate:"```${appText}```"},e)}n.defaultProps={children:""};var o=n;t.default=o},fajbchaji:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("bacehaajgh")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=a("bcdeiabhcf"),l=r(a("hgigjbgie")),c=r(a("bhbdiadfhj")),u=r(a("cihjfgjegj")),f=r(a("bdjjabfecc")),h=r(a("dighddcfg")),p=r(a("bcifhbgija")),g=r(a("bcjcbbafcj")),m=a("dgdcjccfdi").default;class b extends n.PureComponent{constructor(...e){super(...e),this.imgRef=n.createRef(),this.txtRef=n.createRef(),this._refContainer=n.createRef()}componentDidMount(){var e=this.imgRef.current,t=this.txtRef.current;this.props.animate?((0,p.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,p.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e&&(e.style.opacity="1"),t&&(t.style.opacity="1"))}animatePanel(e,t){var a,i,r=null===(a=this._refContainer)||void 0===a||null===(i=a.current)||void 0===i?void 0:i.clientWidth;return null!=r&&e!==t&&(0,d.animateConversationPanel)(this._refContainer.current,r/(e-t))}containsDOMNode(e){var t;return!!(null===(t=this._refContainer)||void 0===t?void 0:t.current)&&this._refContainer.current.contains(e)}render(){var e,t,a={["data-asset-intro-image-".concat(this.context.theme)]:!0};return c.default.supportsFeature(c.default.F.MD_BACKEND)||(e=n.createElement("div",(0,s.default)({ref:this.imgRef,className:u.default.image},a)),t=n.createElement(n.Fragment,null,n.createElement("h1",{"data-a8n":o.default.key("intro-title"),className:u.default.title},f.default.t(776)),n.createElement("div",{"data-a8n":o.default.key("intro-text"),className:u.default.text},f.default.t(772)))),n.createElement("div",{className:u.default.intro,ref:this._refContainer},n.createElement("div",{className:u.default.body},e,n.createElement("div",{ref:this.txtRef,className:u.default.textContainer},t,n.createElement(v,null))))}}b.contextType=h.default;var v=()=>{var e,t='<a href="https://www.whatsapp.com/download" target="_blank">'.concat(f.default.t(773),"</a>");switch(g.default.os){case l.default.OS_TYPE.MAC:e=f.default.t(774,{get_it_here:t});break;case l.default.OS_TYPE.WINDOWS:e=f.default.t(775,{get_it_here:t})}return e?n.createElement(_,null,n.createElement("span",{className:u.default.secondaryIcon},n.createElement(m,{name:"laptop"})),n.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:u.default.secondaryTextBody})):null},_=({children:e})=>n.createElement("div",{className:u.default.secondary},n.createElement("div",{className:u.default.divider}),n.createElement("div",{className:u.default.secondaryText},e)),E=b;t.default=E},fbiiiagai:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,i=(0,r.useRef)(),o=!0===t.disabled?n:e;return[e=>{i.current=e},{"aria-checked":t.indeterminate?"mixed":t.checked,"aria-disabled":null!==(a=t.disabled)&&void 0!==a?a:void 0,onClick:o,onKeyPress:function(e){var t;(0,s.default)(e)&&(e.stopPropagation(),e.preventDefault(),null===(t=i.current)||void 0===t||t.click())},role:"checkbox",tabIndex:t.disabled?-1:0}]};var r=a("ddhijeejag"),s=i(a("bfbihdhebi"));function n(){}},fcaefbfaf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgInfo=function(e,t,a,i){s.default.supportsFeature(s.default.F.MD_BACKEND);return function(e,t,a,i){var r=e.id;if(!o.default.isUser(r.remote)){if(t!==d.RECEIVED){var s=e.delivery.get(a);s&&e.delivery.remove(s)}if(t!==d.READ){var n=e.read.get(a);n&&e.read.remove(n)}if(t!==d.PLAYED){var l=e.played.get(a);l&&e.played.remove(l)}}t===d.PLAYED?(e.played.get(a)||(e.playedRemaining-=1),e.played.add({id:a,t:i})):t===d.READ?(e.delivery.get(a)||(e.readRemaining-=1),e.read.add({id:a,t:i})):t===d.RECEIVED&&(e.delivery.get(a)||(e.deliveryRemaining-=1),e.delivery.add({id:a,t:i}))}((0,n.unproxy)(e),t,a,i)};var r=i(a("hgigjbgie")),s=i(a("bhbdiadfhj")),n=a("cjfegjecaj"),o=i(a("jccfhaecf")),{ACK:d}=r.default},fcejjgddj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THEMES=void 0;var s=r(a("dhgeffcgbg")),n=i(a("ddhijeejag")),o=r(a("ceffhbhahb")),d=r(a("dbhcghjhji")),l={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU"};t.THEMES=l;class c extends n.PureComponent{constructor(...e){super(...e),this._handleClick=e=>{this.props.onClick&&this.props.onClick(this.props.sectionId,e)}}_getStyle(e){return(0,s.default)(this._style,e)||(this._style=e),this._style}render(){var{theme:e,title:t}=this.props;return n.createElement("div",{ref:this.props.onRef,role:"button",className:(0,o.default)(d.default.tab,{[d.default.menu]:e===l.MENU,[d.default.carousel]:e===l.CAROUSEL||e===l.CAROUSEL_END,[d.default.carouselEnd]:e===l.CAROUSEL_END,[d.default.selected]:this.props.selected}),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:t},this.props.children)}}t.default=c},fcfchiagj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("dcaifjegcg")),o=r(a("hgigjbgie")),d=r(a("dhigahgdjb")),l=a("bgihjbde"),c=a("ddbdgibbbi"),u=r(a("bhbdiadfhj")),f=r(a("dfhgffbdig")),h=r(a("dhhbbaegif")),p=r(a("cfidecfjad")),g=r(a("jccfhaecf"));function m(){var e=(0,s.default)(["models:groupMetadata:participantCollection:revokeGroupV4AddInvite failed"]);return m=function(){return e},e}class b extends n.default{constructor(...e){super(...e),this.participants=(0,n.collection)(f.default),this.pendingParticipants=(0,n.collection)(h.default),this.id=(0,n.prop)(),this.creation=(0,n.prop)(),this.owner=(0,n.prop)(),this.desc=(0,n.prop)(),this.descId=(0,n.prop)(),this.descTime=(0,n.prop)(),this.descOwner=(0,n.prop)(),this.restrict=(0,n.prop)(),this.announce=(0,n.prop)(),this.noFrequentlyForwarded=(0,n.prop)(),this.ephemeralDuration=(0,n.prop)(),this.size=(0,n.prop)(),this.support=(0,n.prop)(),this.stale=(0,n.session)(!0),this.trusted=(0,n.session)(!0),this.inviteCode=(0,n.session)(),this.groupInviteCodePromise=(0,n.session)(),this.revokeGroupInvitePromise=(0,n.session)(),this.revokeGroupV4AddInvitePromise=(0,n.session)(),this.groupInviteLink=(0,n.derived)(this._groupInviteLink,["inviteCode"])}_groupInviteLink(){return this.inviteCode?"".concat(o.default.GROUP_INVITE_LINK_URL).concat(this.inviteCode):null}delete(){super.delete(),this.getCollection().remove(this.id),this.participants.delete()}canSetSubject(){return!!this.participants.iAmMember()&&((this.participants.iAmAdmin()||!u.default.supportsFeature(u.default.F.GROUPS_V_3)||!0!==this.restrict)&&!this.support)}canSetDescription(){return!!u.default.supportsFeature(u.default.F.GROUPS_V_3)&&(!(!this.participants.iAmMember()||!this.participants.iAmAdmin()&&this.restrict)&&!this.support)}canSetGroupProperty(){return!!u.default.supportsFeature(u.default.F.GROUPS_V_3)&&(!!this.participants.iAmAdmin()&&!this.support)}initialize(){n.default.prototype.initialize.call(this),this.listenTo(this.participants,"change:isAdmin change:isSuperAdmin change:contact.isMyContact sort remove reset",this.isTrusted),this.listenTo(this.participants,"add remove reset",this.triggerParticipantsChange),this.listenTo(this,"change:owner",this.isTrusted),this.isTrusted()}triggerParticipantsChange(){this.trigger("change:participants")}isTrusted(){if(this.stale)return this.trusted;if(!this.owner)return this.trusted=!1;var e=(0,c.getMaybeMeUser)();if(g.default.equals(this.owner,e))return this.trusted=!0;if(this.owner){var t=d.default.get(this.owner);if(t&&t.isMyContact)return this.trusted=!0}return this.trusted=!1}revokeGroupV4AddInvite(e){if(this.revokeGroupV4AddInvitePromise)return this.revokeGroupV4AddInvitePromise;var t=this.id.toString(),a=(0,c.getMaybeMeUser)().toString(),{pendingParticipants:i}=this;return this.revokeGroupV4AddInvitePromise=p.default.revokeGroupV4Invite(e,t,a).then(t=>(t.status>=200&&t.status<300&&i.remove(e),t.status)).catch(()=>{__LOG__(3)(m())}).finally(()=>{this.revokeGroupV4AddInvitePromise=null})}queryGroupV4PendingInvite(){if(u.default.supportsFeature(u.default.F.MD_BACKEND))return Promise.resolve();var e=(0,c.getMaybeMeUser)().toString(),t=this.id.toString();return p.default.findGroupPendingInvitesFromPhone(e,t).then(e=>{this.collection&&this.collection.add({id:this.id,pendingParticipants:e.participants},{merge:!0})}).catchType(l.WebdDrop,()=>{})}getCollection(){return a("djaadchjch").default}}b.Proxy="groupMetadata",b.idClass=g.default;var v=(0,n.defineModel)(b);t.default=v},fdcggefjc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bfefjaegfe")),s=i(a("cgdegjdhfe"));function n(e){return(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2}function o(e){return(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}var d=/[^\x00-\x7F]/g;t.default=class{constructor(){this.files=[],this.filenameCount={}}add(e,t,a=new Date){var i=function(e){return e.replace(/\\/,"/").replace(d,"")}(t);this.filenameCount[i]>=0?(this.filenameCount[i]+=1,i=i.replace(/\.(\w+)$/," ("+this.filenameCount[i]+").$1")):this.filenameCount[i]=0,this.files.push([e,{crc:(0,s.default)(e),path:i,date:a}])}create(){var e=0,t=0,a=0,i=[],s=[];this.files.forEach(d=>{var[l]=d,c=l.size(),u=function([e,{path:t,crc:a,date:i}]){var s=new r.default(void 0,!0);return s.ensureCapacity(30+t.length),s.writeUint32(67324752),s.writeUint8(10),s.writeUint8(0),s.writeUint16(0),s.writeUint16(0),s.writeUint16(n(i)),s.writeUint16(o(i)),s.writeUint32(a),s.writeUint32(e.size()),s.writeUint32(e.size()),s.writeUint16(t.length),s.writeUint16(0),s.writeString(t),s}(d),f=function([e,{path:t,crc:a,date:i}],s){var d=new r.default(void 0,!0);return d.ensureCapacity(46+t.length),d.writeUint32(33639248),d.writeUint8(10),d.writeUint8(0),d.writeUint8(10),d.writeUint8(0),d.writeUint16(0),d.writeUint16(0),d.writeUint16(n(i)),d.writeUint16(o(i)),d.writeUint32(a),d.writeUint32(e.size()),d.writeUint32(e.size()),d.writeUint16(t.length),d.writeUint16(0),d.writeUint16(0),d.writeUint16(0),d.writeUint16(0),d.writeUint32(0),d.writeUint32(s),d.writeString(t),d}(d,a),h=u.size()+c;a+=h,e+=h+f.size(),t+=f.size(),s.push(u,l),i.push(f)});var d,l,c,u,f=(d=this.files.length,l=t,c=a,(u=new r.default(void 0,!0)).ensureCapacity(22),u.writeUint32(101010256),u.writeUint16(0),u.writeUint16(0),u.writeUint16(d),u.writeUint16(d),u.writeUint32(l),u.writeUint32(c),u.writeUint16(0),u),h=new r.default(void 0,!0);return h.ensureCapacity(e+f.size()),h.write(...s,...i,f),h}}},fdfeibjga:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCtwaContextData=function(e){var t,{phone:a,sourceUrl:i,context:n}=e;if(!a||!i||!n)return Promise.reject(new Error("Invalid params passed to fetchCtwaContextData"));r.default.supportsFeature(r.default.F.MD_BACKEND)?t||(t=Promise.reject(new Error("Should not reach fetchCtwaContextData MD"))):t=s.default.queryCtwaContext(a,n,i);return t};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},fefafaaeh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.reduce((e,t)=>{var{handlers:a}=t;return a?(Object.keys(a).forEach(i=>{e[i]||(e[i]=[]);var r=a[i];null!=r&&e[i].push([t,r])}),e):e},{});return Object.keys(a).reduce((e,i)=>{var r=a[i];return e[i]=function(e,t){return a=>{e.some(([e,i])=>{var r=i.call(e,a,t);return!!a.defaultPrevented||!0===r&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!0)})}}(r,t),e},{})}},ffahjhaig:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=i(a("ddhijeejag")),o=r(a("cdbddjfbcd")),d=r(a("cjhcbjdgc")),l=r(a("cjdgedgdgf")),c=d.default.prefix("transform"),u=d.default.prefix("transition");class f extends n.Component{constructor(...e){super(...e),this.state={shouldAnimate:!0,prevItemKey:null,prevRowOffset:null}}static getDerivedStateFromProps(e,t){return(0,s.default)((0,s.default)({},t),{},{prevItemKey:e.data.itemKey,prevRowOffset:e.data.offset,shouldAnimate:h(e,t)})}shouldComponentUpdate(e,t){return this.props.animate!==e.animate||this.props.zIndex!=this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,o.default)(this.props.data,e.data)}render(){var{data:e,zIndex:t}=this.props,{shouldAnimate:a}=this.state,i=a?"".concat(c," ").concat(200,"ms ease-in-out"):"none",r="horizontal"===this.props.listDirection?{width:e.width,[c]:"translateX(".concat(e.offset,"px)")}:{height:e.height,[c]:"translateY(".concat(e.offset,"px)")},o=(0,s.default)({zIndex:t,[u]:i},r),d=this.props.renderItem(e);return n.createElement("div",{className:l.default.item,style:o},d)}}function h(e,t){if(!e.animate)return!1;var{prevItemKey:a}=t;return e.data.itemKey===a&&e.data.offset!==t.prevRowOffset}t.default=f},ffjhaheei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("dfdebdgdei"),o=i(a("ieeidjijb")),d=i(a("dgebcfedgb")),l=i(a("bdjjabfecc")),c=i(a("ebddggeaib")),u=i(a("dcdbbhicce")),f=i(a("cgjdibiahi")),h=i(a("dfciadajdf"));class p extends s.Component{constructor(...e){super(...e),this.state={contextMenu:null},this.unblockContactTrigger=e=>{var{contact:t}=this.props,a=[s.createElement(d.default,{a8n:"unblock-contact-in-multi-select",key:"unblock",action:this.unblockContact},l.default.t(459,{contact:t.shortName||t.name}))];e.event&&e.event.persist(),this.setState({contextMenu:{contactId:t.id.toString(),menu:a,anchor:e.anchor,event:e.event}})},this.closeContextMenu=()=>{this.setState({contextMenu:null})},this.unblockContact=()=>{var{contact:e}=this.props;this.closeContextMenu(),e.addPendingAction((0,n.unblockContact)(e)).then(()=>this.props.onSelect()).catch(()=>{})},this.onSelect=e=>{if(!this.props.disabled)if(this.props.allowBlockedContacts)this.props.onSelect();else{var{contact:t}=this.props;this.state.contextMenu?this.closeContextMenu():t.isContactBlocked?this.unblockContactTrigger({event:e}):this.props.onSelect()}}}render(){var e,{disabled:t,customSecondaryText:a,contact:i,active:r,allowBlockedContacts:n,showEphemeralIcon:d}=this.props;return this.state.contextMenu&&(e=s.createElement(f.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0},s.createElement(h.default,{contextMenu:this.state.contextMenu}))),s.createElement(s.Fragment,null,s.createElement(o.default,{theme:t||i.isContactBlocked&&!n?"chat-checkbox-no-delete":"chat-checkbox",active:r,contact:i,onClick:t?null:this.onSelect,secondary:i.isContactBlocked&&!n?l.default.t(458):a||null,waitIdle:!0,showEphemeralIcon:d}),e)}}p.CONCERNS={contact:["id","isGroup","isContactBlocked","pendingAction","shortName","name"]};var g=(0,c.default)((0,u.default)(p,p.CONCERNS));t.default=g},fgceiichf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null,a=e.msg.showForwarded(),i=t?n.createElement("div",{className:c.default.author},n.createElement(o.default,{msg:e.msg.unsafe(),contact:e.msg.senderObj})):null,r=e.displayType===d.default.DISP_TYPE.GALLERY||e.hideMeta?null:n.createElement("div",{className:c.default.meta},n.createElement(u.default,{msg:e.msg})),f=a?n.createElement(l.default,{msg:e.msg.unsafe(),className:c.default.forwardedIndicator}):null,h=e.quotedMsg?n.createElement("div",{className:c.default.quote},e.quotedMsg):null,p=(0,s.default)(c.default.bubble,{[c.default.forwarded]:a,[c.default.hasAuthor]:t,[c.default.hasCaption]:e.hasCaption,[c.default.isPSA]:e.msg.isPSA});return n.createElement("div",{className:p},i,f,h,e.children,r)};var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("cifgdghbhg")),d=r(a("hgigjbgie")),l=r(a("dfhddecjbi")),c=r(a("ebjjeedfha")),u=r(a("deeafjfccb"))},fghiifea:function(e,t){e.exports={container:"_3O9Gs",link:"_1sgbl",title:"_2WlU_",address:"wr-3y",hasURL:"_3xan6",hasUrl:"_3xan6",text:"_14KgP",author:"_2Qbvx",forwarded:"_3cpH3",forwardedIndicator:"_3xnsG",hasAuthor:"WsoDT",meta:"_2ECu3",thumb:"_2GtsX",thumbBody:"RD7ti",quote:"_3o9Wj",hasCaption:"_1Lbsv",caption:"_3LsXA",ctwaContext:"_2Ide5",ctwaContainerWidth:"_3hwXd"}},fhbcihae:function(e,t){e.exports={listUser:"_3LtPa",header:"_2O84H",listControls:"_1eNef"}},fheibeebe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("bbicgeccjj"));function n(){var e=(0,r.default)(["Unable to open cache: ",", error: ",""]);return n=function(){return e},e}function o(){var e=(0,r.default)(["Tried to delete a non-existent cache: ",""]);return o=function(){return e},e}function d(){var e=(0,r.default)(["Unable to delete. This error can occur if abstract method doDel gets called."]);return d=function(){return e},e}function l(){var e=(0,r.default)(["Unable to put. This error can occur if abstract method doPut gets called."]);return l=function(){return e},e}function c(){var e=(0,r.default)(["Unable to get. This error can occur if abstract method doGet gets called."]);return c=function(){return e},e}var u={ignoreSearch:!0,ignoreMethod:!0,ignoreVary:!0};class f extends s.default{constructor(e){super(),this._encodeKey=e=>{var t=encodeURIComponent(e),a=encodeURIComponent(this.storeName);return"https://_media_cache_v2_.whatsapp.com/".concat(a,"_").concat(t)},this.storeName=e}doGet(e){var t=this._encodeKey(e);return this.cacheStore?Promise.resolve(this.cacheStore.match(t,u).then(e=>e?e.arrayBuffer():null)):(__LOG__(3)(c()),Promise.reject(new Error("Unable to get")))}doPut(e,t){var a=this._encodeKey(e);return this.cacheStore?Promise.resolve(this.cacheStore.put(a,new Response(t)).then(()=>t)):(__LOG__(3)(l()),Promise.reject(new Error("Unable to put in cache")))}doDel(e){var t=this._encodeKey(e);return this.cacheStore?this.cacheStore.delete(t,u).then(()=>{}):(__LOG__(3)(d()),Promise.reject(new Error("Unable to delete")))}doClear(){return Promise.resolve(caches.delete(this.storeName).then(e=>{e||__LOG__(2)(o(),this.storeName)}))}doOpen(){return Promise.resolve(caches.open(this.storeName).then(e=>{this.cacheStore=e})).catch(e=>(this.cacheStore=null,__LOG__(3)(n(),this.storeName,e),Promise.reject(e)))}doClose(){return this.cacheStore=null,Promise.resolve()}}t.default=f},fhfcaggag:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=Promise.resolve().then(()=>{var a,i,r=e.size(),f=t.asDocument?n.FILETYPE.DOCUMENT:(0,n.typeFromMimetype)(e.type()),h=null!==(a=t.isVcardOverMmsDocument)&&void 0!==a&&a;if(r>function(e,t){if(e===n.FILETYPE.DOCUMENT)return o.default.supportsFeature(o.default.F.VCARD_OVER_MMS)&&t?1024*u.default.vcardMaxSizeKb:u.default.maxFileSize;return u.default.media}(f,h))return Promise.reject(new d.default(e));if(r<=0)return Promise.reject(new s.MediaFileEmpty);switch(null!=t.gifAttribution?i=t.gifAttribution:t.asGif&&(i=0),f){case"image":return c.processRawImage(e).then(({blob:e,width:t,height:a,preview:i})=>({type:l.OUTWARD_TYPES.IMAGE,mediaBlob:e,mimetype:"image/jpeg",fullWidth:t,fullHeight:a,preview:i}));case"video":case"audio":return c.processRawAudioVideo(e,!!t.isPtt,t.precomputedFields,t.asGif,i,e.type());case"document":return c.processRawDocument(e,t.filename,h,t.documentPageCount);default:throw new Error("Received unsupported mediaType: "+f)}});return e.retain(),e.autoreleaseWhenPromiseCompletes(a),a};var s=r(a("cajijabhgb")),n=a("cgffhfegce"),o=i(a("bhbdiadfhj")),d=i(a("cieaaiahhf")),l=a("ccfjbcbbga"),c=r(a("bccggdcfj")),u=i(a("bfgbdiffgd"))},fiijdaaid:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("effbcehec")),d=r(a("hgigjbgie")),l=r(a("dgebcfedgb")),c=r(a("cbdcjfiefg")),u=r(a("bbaacgghch")),f=a("eajdbbfgfg"),h=r(a("bdjjabfecc")),p=r(a("bijffg")),g=r(a("eeebhdeed")),m=r(a("djcafcbiic")),b=r(a("ebddggeaib")),v=r(a("bdcchebfge")),_=r(a("biecbbiiee")),E=r(a("cahfddcdga")),j=r(a("ecdebjcgfa")),y=r(a("dgdcjccfdi")),S=r(a("diffaiehid")),C=r(a("cgjdibiahi")),M=r(a("dfciadajdf")),T=r(a("didfdhbecg")),P=()=>{};class O extends n.Component{constructor(...e){super(...e),this.state={searchText:"",searchLabel:null,searchKind:null,isSearching:!1,contextMenu:null},this._emojiInputComponent=(0,c.default)(),this.refInput=n.createRef(),this.refContainer=n.createRef(),this.disableOnBlur=!1,this.onBlur=()=>{this.disableOnBlur||this.props.setTimeout(()=>{this.state.searchText||this.state.searchLabel||this.state.searchKind||this.onCancel()},0)},this._handleChange=e=>{this.setState({searchText:e},()=>{this.props.onSearch(e,{label:this.state.searchLabel,kind:this.state.searchKind})})},this.renderSmbSearchKindDropDownItem=(e,t,a)=>{var i="chat_filter_".concat(e);return n.createElement(l.default,{a8n:i,key:i,action:this.updateSearchFilter.bind(this,{kind:e})},n.createElement("div",{className:m.default.kind},n.createElement(y.default,{name:t}),n.createElement("div",{className:m.default.kindName},a)))},this.renderMsgTypeFilter=()=>"chat-msg-search"===this.props.type?[]:[n.createElement("div",{className:m.default.filterTitle,key:"chat_filter_kind_header"},h.default.t(1506)),this.renderSmbSearchKindDropDownItem(d.default.SMB_SEARCH_FILTERS.UNREAD,"search-unread",h.default.t(1254)),this.renderSmbSearchKindDropDownItem(d.default.SMB_SEARCH_FILTERS.GROUP,"group",h.default.t(1618)),this.renderSmbSearchKindDropDownItem(d.default.SMB_SEARCH_FILTERS.BROADCAST,"search-broadcasts",h.default.t(1253))],this.renderFilterLabels=()=>{var e=p.default.toArray().reduce((e,t)=>t.name&&t.count&&0!==t.count?[...e,n.createElement(l.default,{a8n:"label_item_".concat(t.id),key:"label_item_".concat(t.id),action:this.updateSearchFilter.bind(this,{label:t.id})},n.createElement("button",{className:m.default.labels},n.createElement(g.default,{labels:[t.id],showName:!0,theme:"label-filter"})))]:e,[]);return e.length>0?[n.createElement("div",{className:m.default.filterTitle,key:"chat_filter_label_header"},h.default.t(1256)),...e]:[]},this.renderFilterSelectorMenu=()=>[...this.renderMsgTypeFilter(),...this.renderFilterLabels()],this.onCancel=()=>{var e=this.refInput&&this.refInput.current;e&&!this.state.contextMenu&&(e.reset(),e.blur(),this.setState({searchLabel:null,searchKind:null,isSearching:!1}),this.props.onSearch("",void 0))},this.onReset=e=>{var t;e.stopPropagation(),this.focus();var a=null===(t=this.refInput)||void 0===t?void 0:t.current;a&&(a.reset(),this.setState({searchLabel:null,searchKind:null}),this.props.onSearch("",void 0))},this._handleSearchButtonClick=()=>{this.focus()},this.onSearchOn=()=>{this.setState({isSearching:!0}),this.props.setTimeout(this.focus,0)},this.focus=()=>{(0,E.default)(this.refInput.current,"this.refInput.current").focus()},this.showFilterSelector=e=>{var t,{smbFilterSession:a}=this.props;a&&(t=a.newSessionId(),new v.default.ChatFilterEvent({actionType:v.default.CHAT_FILTER_ACTION_TYPES.OPEN,sessionId:t}).commit()),e.stopPropagation(),this.setState({contextMenu:{menu:this.renderFilterSelectorMenu(),anchor:e.target}})},this.closeContextMenu=()=>{this.setState({contextMenu:null})},this.updateSearchFilter=e=>{var{smbFilterSession:t}=this.props;this.state.contextMenu&&this.closeContextMenu(),this.setState({searchLabel:e.label,searchKind:e.kind}),t&&function(e,t){new v.default.ChatFilterEvent({actionType:v.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:I(t),sessionId:e}).commit()}(t.sessionId,e),this.props.onSearch("",e)},this.labelSelectorMouseEnter=()=>{(0,f.canDisplayLabel)()&&(this.disableOnBlur=!0)},this.labelSelectorMouseLeave=()=>{this.disableOnBlur=!1},this.onContextClose=()=>{this.setState({contextMenu:null})},this.constructSearchPlaceholder=e=>n.createElement("div",{"data-a8n":o.default.key("input-placeholder"),className:m.default.labelSearchPlaceholder},e)}componentWillUnmount(){this.onCancel()}componentDidMount(){this.checkIfActive(),this.props.listeners.add(_.default,d.default.NEW_MSG_SENT,()=>{(this.state.searchKind||this.state.searchLabel)&&this.onCancel()})}componentDidUpdate(){this.checkIfActive()}indicateFocus(){u.default.shouldIndicateFocus(),u.default.maybeIndicateFocus(this.refContainer.current)}checkIfActive(){if(this.state.isSearching&&!this.state.searchText&&!this.state.searchLabel&&!this.state.searchKind){var e=this.refContainer&&this.refContainer.current;e&&e.contains(document.activeElement)||this.onCancel()}}cursorIsAtEnd(){return(0,E.default)(this.refInput.current,"this.refInput.current").cursorIsAtEnd()}select(){(0,E.default)(this.refInput.current,"this.refInput.current").select()}reset(){var e,t=null===(e=this.refInput)||void 0===e?void 0:e.current;t&&t.reset()}render(){var e,{loading:t,placeholder:a,spellCheck:i,listFilterEnabled:r}=this.props,{isSearching:l,searchText:c,searchLabel:u,searchKind:g}=this.state,b=null;l&&(t?b=n.createElement("div",{className:m.default.iconSpinner,key:"icon-clear-search",onClick:this.onReset},n.createElement(j.default,{size:20,stroke:5,color:"highlight"})):c.length||u||g?b=n.createElement("button",{className:m.default.iconCloseSearch,key:"icon-clear-search",onClick:this.onReset},n.createElement(y.default,{name:"x-alt"})):(0,f.canDisplayLabel)()&&r&&(b=n.createElement("button",{className:m.default.iconLabelSelect,key:"icon-select-label",onClick:this.showFilterSelector},n.createElement(y.default,{name:"filter"})))),l&&(e=n.createElement(C.default,{displayName:"ListSearch",escapable:!0,requestDismiss:this.onCancel,requestFocus:this.focus}));var v,_,E=a||h.default.t(1205),S=l?this.onCancel:this._handleSearchButtonClick,O=(0,s.default)(m.default.listSearch,{[m.default.active]:l||u||g});this.state.contextMenu&&(v=n.createElement(C.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},n.createElement(M.default,{contextMenu:this.state.contextMenu}))),!c&&(0,f.canDisplayLabel)()&&(u?_=this.constructSearchPlaceholder(h.default.t(791,{labelName:p.default.assertGet(u).name})):g===d.default.SMB_SEARCH_FILTERS.GROUP?_=this.constructSearchPlaceholder(h.default.t(1255)):g===d.default.SMB_SEARCH_FILTERS.UNREAD?_=this.constructSearchPlaceholder(h.default.t(1257)):g===d.default.SMB_SEARCH_FILTERS.BROADCAST&&(_=this.constructSearchPlaceholder(h.default.t(1252))));var N=this._emojiInputComponent;return n.createElement("div",{ref:this.refContainer,onMouseEnter:this.labelSelectorMouseEnter,onMouseLeave:this.labelSelectorMouseLeave,className:O},n.createElement("button",{"data-a8n":o.default.key("icon-search-morph"),className:m.default.iconSearchMorph,onMouseDown:S},n.createElement("div",{className:(0,s.default)(m.default.iconMorph,m.default.iconMorphBack)},n.createElement(y.default,{name:"back"})),n.createElement("div",{className:(0,s.default)(m.default.iconMorph,m.default.iconMorphSearch)},n.createElement(y.default,{name:"search"}))),n.createElement(T.default,{transitionName:"pop"},b,v),n.createElement("div",{"data-a8n":o.default.key("input-placeholder"),className:m.default.inputPlaceholder},c?null:E),_,n.createElement("label",{className:m.default.contInputSearch},n.createElement(N,{a8n:"chat-list-search",ref:this.refInput,theme:"list-search",tabOrder:d.default.TAB_ORDERS.CHAT_LIST_SEARCH,spellCheck:i,onBlur:this.onBlur,onFocus:l?P:this.onSearchOn,onChange:l?this._handleChange:P,onEnter:this.props.onEnter})),e)}}var N=(0,S.default)((0,b.default)(O));function I(e){switch(e.kind){case d.default.SMB_SEARCH_FILTERS.UNREAD:return v.default.CHAT_FILTER_TYPES.UNREAD;case d.default.SMB_SEARCH_FILTERS.GROUP:return v.default.CHAT_FILTER_TYPES.GROUP;case d.default.SMB_SEARCH_FILTERS.BROADCAST:return v.default.CHAT_FILTER_TYPES.BROADCAST_LIST;default:return v.default.CHAT_FILTER_TYPES.OTHER_LABELS}}t.default=class extends N{focus(){this.getComponent().focus()}cursorIsAtEnd(){return this.getComponent().cursorIsAtEnd()}reset(){this.getComponent().reset()}select(){this.getComponent().select()}}},fijchafde:function(e,t){e.exports={section:"_2qtwQ",control:"_2OxJ8",label:"_1xPNW",metaText:"_1ldVm"}},fjehahjbc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t,a,o){var d,f=e.split("."),h=!1;if(f.forEach(e=>{if(h=!e.match(u)){if(d)return null;d=e}}),!d||h)return null;for(var p=[],g=!0,m=(0,i.toArray)(d),b=0;b<m.length;b++){var v=m[b];if(!(g=g&&c(v))&&s[v]){if(p.length>=2)return null;p.push(v)}}if(g)return l(a)||l(t)||o.some(e=>function(e){return n.has(e)}(e))?null:new Set(m);if(!p.length)return null;var _=p.filter(e=>{var i=s[e];if(null==i)return!1;if(o.some(e=>i.includes(e)))return!1;for(var n=new Set,d=0;d<i.length;d++){var l=r.LANGUAGE_TO_REGIONS[i[d]];if(null!=l)for(var c=0;c<l.length;c++)n.add(l[c])}return!n.has(a)&&!n.has(t)});return _.length?new Set(_):null};var i=a("cceefdgcfe"),r=a("dibidhdcdg"),s={"í":["ast","ksf","bas","ca","cs","dua","nl","ee","ewo","fo","fr","gl","kl","hu","is","ga","dyo","kea","kkj","nmg","lkt","lag","ln","lu","mas","nnh","jgo","pt","qu","seh","sk","es","to","vai","vi","wae","cy","fy","yav","yo"],"î":["af","agq","bss","bfd","bas","bkv","btt","nl","igb","ewo","fr","fur","gaj","gby","kl","jab","atg","jbu","kkj","naq","ksh","ku","nmb","lmp","ln","mda","mg","mas","mzm","jgo","nin","ann","ro","sg","scn","srn","yer","tr","wa","cy","yav","yle"],"ü":["agg","ast","az","br","ca","co","cs","nl","etr","et","fr","gl","de","tof","god","hu","tbd","geb","ksh","kup","nds","lb","arn","oc","sg","sk","es","gsw","dts","tr","tk","vo","wa","wae","fy","yll"],"ċ":["mt"],"ī":["agq","bss","bfd","bas","bkv","btt","ddn","igb","kjy","ich","gux","haw","jab","iby","idu","jbu","kub","nmg","lv","mda","mi","mas","mql","nin","prg","gd","to","yba","yav"],"ı":["az","crh","tr"],"ļ":["lv"],"ł":["dsb","nv","pl","hsb"],"š":["bs","hr","cs","dzg","et","fi","smn","geb","khq","ses","kun","lkt","lv","lt","dsb","se","nso","prg","sr","sh","sms","sk","sl","taq","twq","tuq","hsb","wqe","dje"],"ƙ":["ckl","ank","ha","ikx","kai","hia","mbu","anc","nin","pip","tal","tan","wja","wji"],"ǀ":["naq"],"ǁ":["naq"],"ȯ":["liv"],"ɑ":["fmp","dud","tmh"],"ɓ":["fub","yay","bkc","bjt","bcn","bas","bsq","bmq","fue","bys","bwr","cky","fuq","ckl","asg","dbq","dnj","dgh","dow","dua","enn","ff","gby","gba","gmm","ank","gde","gkp","jgk","ha","hbb","ikx","kkj","hig","kzr","kai","kpe","nmg","hia","ffm","mbo","mbu","mif","mzm","mua","sur","anc","fuv","nin","dgi","pbi","pip","fuf","cla","sav","srr","sld","sok","tal","tan","yer","ttr","tik","kdl","tsw","vai","vut","wja","wji","fuh","gnd"],"ḍ":["tzm","kab","okr","shi","tmh","taq"],"ṛ":["tzm","kab","shi"],"ṭ":["tzm","kab","shi","tmh","taq"],"ẉ":[],"ạ":["izi","yaz","blt","vi"],"ẹ":["yay","bom","bin","mfn","dzg","igb","enn","gkn","iby","ikk","ikw","izi","okr","yaz","blt","tan","tuq","vi","yo"],"ị":["avu","mfn","igb","enn","iby","ig","ige","ikk","ikw","izi","okr","blt","tan","vi"]},n=new Set(["abq","ab","ady","av","az","ba","be","bs","bg","bua","ce","ckt","cu","cv","crh","dar","dng","myv","evn","gag","inh","kbd","xal","krc","kaa","kk","kjh","kca","ky","kv","koi","kpy","kum","lbe","lez","mk","mns","chm","mdf","mn","ttt","gld","yrk","nog","os","ru","rue","sr","sh","cjs","alt","tab","tg","tt","tkr","tk","tyv","ude","udm","uk","uz","mrj","sah"]),o=new Set(["374","994","375","387","359","995","7","383","996","389","373","976","382","381","992","993","380","998"]),d="авгекмнорстухшщьѕіјѡѵүһӏԁԛԝԧꚙ";function l(e){return o.has(e)}function c(e){return d.includes(e)}var u=new RegExp("^[a-z0-9-]+$")},fjgaiebfh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=a("eajdbbfgfg"),l=r(a("bdjjabfecc")),c=r(a("cfafcfbaej")),u=r(a("bfgbdiffgd")),f=r(a("dcdbbhicce"));class h extends n.PureComponent{render(){var e,t=this.props,a=void 0===t.spacer||t.spacer;if(t.msg.rtl!==l.default.isRTL()&&"placeholder"!==t.theme&&(a=!1),a){var i;switch(t.msg.type){case o.default.MSG_TYPE.REVOKED:i=[t.msg.broadcast,t.msg.labels&&t.msg.labels.length&&(0,d.canDisplayLabel)()];break;default:i=[t.msg.broadcast,t.msg.isEphemeral&&u.default.ephemeralMessages,t.msg.isSentByMe,t.msg.labels&&t.msg.labels.length&&(0,d.canDisplayLabel)(),t.msg.star]}var r=i.filter(Boolean).length,f=[c.default.icons1,c.default.icons2,c.default.icons3,c.default.icons4],h=r>0?f[r-1]:"";e=n.createElement("span",{className:(0,s.default)(c.default.spacer,h)})}var p=(0,s.default)(c.default.text,t.className,{[c.default.placeholderIn]:"placeholder"===t.theme&&!t.msg.isSentByMe,[c.default.placeholderOut]:"placeholder"===t.theme&&t.msg.isSentByMe,[c.default.template]:t.msg.isFromTemplate});return n.createElement("div",{className:p,dir:t.msg.dir},t.children,e)}}h.CONCERNS={msg:["broadcast","dir","isFromTemplate","isEphemeral","isSentByMe","labels","rtl","star","type"]};var p=(0,f.default)(h,h.CONCERNS);t.default=p},gabccaieg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgcgbfbffj")),s=i(a("ccicaaeiaa")),n=a("ddbdgibbbi"),o=i(a("bjgdagjjci"));class d extends r.default{constructor(){super(),this.listenTo(this,"change:disabled",e=>{e.disabled&&this.removeParticipant(e)})}delete(){this.forEach(e=>this.removeParticipant(e))}validLocations(){return this.filter(e=>e.valid)}removeParticipant(e){this.remove(e),e.delete()}}t.default=d,d.model=o.default,d.comparator=(e,t)=>{var a=(0,n.getMaybeMeUser)();return e.contact.id.equals(a)?-1:t.contact.id.equals(a)?1:(0,s.default)(e.contact,t.contact)}},gacgicgcd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.MessageListButton=function({children:e,onClick:t,title:a}){return s.createElement("div",{className:o.default.wrapper},s.createElement("div",{className:o.default.button,title:a,onClick:t},e))},t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("bdjjabfecc")),o=i(a("ddacjbabei")),d=i(a("ecdebjcgfa")),l=i(a("dgdcjccfdi"));class c extends s.PureComponent{render(){var e,t,a,i=this.props.direction;if("earlier"===i&&this.props.isLoadingEarlierMsgs||"recent"===i&&this.props.isLoadingRecentMsgs||"around"===i&&this.props.isLoadingAroundMsgs)e=s.createElement(d.default,{stroke:6,size:24,color:"highlight"}),t=n.default.t(837);else{switch(i){case"earlier":t=n.default.t(834);break;case"recent":t=n.default.t(835);break;default:t=n.default.t(837)}e=s.createElement(l.default,{name:"refresh"}),a=this.props.loadMoreMsgs}return s.createElement("div",{className:o.default.wrapper},s.createElement("div",{className:o.default.button,title:t,onClick:a},e))}}t.default=c},gaedacdgf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("hgigjbgie")),l=r(a("cbeagicbc")),c=r(a("gfebgebbi")),u=i(a("djaiggcdb")),f=r(a("bdjjabfecc")),h=r(a("ebddggeaib")),p=i(a("cfbhddjcif")),g=r(a("cbcbdjdah")),m=r(a("cffajefeag")),b=r(a("ediaiijfe")),v=r(a("cjfibjfdc")),_=r(a("cfejjfjhca")),E=r(a("dgdcjccfdi")),j=i(a("bjhgigfbec")),y=r(a("edbaidcaf")),S=r(a("gcjjfccef")),C=r(a("cfidecfjad")),M="PREVIEW",T="FLOATER";class P extends n.Component{constructor(e){super(e),this.setRefThumbnailWrapper=e=>{this.refThumbnailWrapper=e},this.getThumbnailWrapperRect=()=>this.refThumbnailWrapper?this.refThumbnailWrapper.getBoundingClientRect():null,this.setPreviewMode=()=>{this.state.mode!==M&&this.setState({mode:M})},this.setFloaterMode=()=>{this.state.mode!==T&&this.setState({mode:T})},this.handleCtwaSourceButtonClick=e=>{e.preventDefault(),e.stopPropagation(),(0,u.openExternalLink)(this.props.context.sourceUrl)};var t=e.msg;if(t.type===d.default.MSG_TYPE.VIDEO){var a=e.msg.toJSON(),i=new m.default({fromMe:e.msg.id.fromMe,remote:e.msg.id.remote,id:(0,_.default)()});a.id=i,t=new g.default(a)}var r=b.default.isOpened(t)?T:M;this.state={mode:r,msg:t}}componentDidMount(){this.props.listeners.add(b.default,"".concat(this.state.msg.id.toString(),"_pip_did_open"),this.setFloaterMode),this.props.listeners.add(b.default,"".concat(this.state.msg.id.toString(),"_pip_did_close"),this.setPreviewMode)}render(){var e,t=this.props.context.description?n.createElement("div",{className:S.default.description,title:this.props.context.description},n.createElement(c.default,{text:this.props.context.description})):null,a=y.default.withoutWww(y.default.hostname(this.props.context.sourceUrl)),i=n.createElement("div",{className:S.default.source},n.createElement(c.default,{text:a})),r=(0,s.default)(S.default.body,{[S.default.noThumb]:!this.props.context.thumbnail}),h=(0,s.default)(S.default.preview,{[S.default.bubbleIn]:!this.state.msg.isSentByMe,[S.default.bubbleOut]:this.state.msg.isSentByMe}),g=this.state.mode===M?n.createElement("div",{className:S.default.mediaStateControlsWrapper},n.createElement(p.Play,null)):null,m=this.state.mode===T?n.createElement(v.default,{icon:n.createElement(E.default,{name:"video-pip-large"})},f.default.t(1090)):null;e=this.props.context.thumbnail||this.props.context.thumbnailUrl?n.createElement("img",{className:(0,s.default)(S.default.thumbnail,{[S.default.youtubeThumbnail]:!1}),src:this.props.context.thumbnail?"data:image/jpeg;base64,".concat(this.props.context.thumbnail):this.props.context.thumbnailUrl}):n.createElement("div",{className:S.default.thumbnailPlaceholder});var _=(0,s.default)(S.default.attribution,l.default.clickable),P=a===d.default.HOSTNAME.INSTAGRAM,O=n.createElement("div",{className:_,onClick:this.handleCtwaSourceButtonClick},n.createElement(E.default,{name:P?"logo-instagram":"logo-facebook"}));return n.createElement("div",{className:h},n.createElement("div",{ref:this.setRefThumbnailWrapper,className:S.default.thumbnailWrapper,onClick:()=>{b.default.openOgVideoPiP("",this.props.context.thumbnail||"",this.state.msg,0,this.getThumbnailWrapperRect()),C.default.queryVideoPlaybackUrl(this.props.context.mediaUrl).then(e=>{if(b.default.isOpened(this.state.msg)){if(!e.url)throw new Error("Url is missing in response.");b.default.openOgVideoPiP(e.url,this.props.context.thumbnail||"",this.state.msg,0,null)}}).catch(()=>{b.default.closeOgVideoPiP(),o.default.openToast(n.createElement(j.default,{id:(0,j.genId)(),msg:f.default.t(1088),action:{actionText:f.default.t(1089),onAction:()=>{(0,u.openExternalLink)(this.props.context.sourceUrl)}}}))})}},O,e,g,m),n.createElement(u.default,{className:r,href:this.props.context.sourceUrl},n.createElement("div",{className:S.default.title,title:this.props.context.title},n.createElement(c.default,{text:this.props.context.title})),t,i))}}var O=(0,h.default)(P);t.default=O},gaifbabbj:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var r=i(a("cehdgbej"));t.Configuration=r},gajjccach:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t[e]()}},gbbacfeci:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusCollection=void 0;var r=i(a("cgcgbfbffj")),s=a("bgihjbde"),n=i(a("dieafdcbjb")),o=a("bijjheifie"),d=i(a("jccfhaecf")),l=a("dcbdjheea");class c extends r.default{onResume(){this.filter(e=>e.hasObservers()).forEach(e=>{this.find(e.id).catchType(s.WebdDrop,()=>{})})}_find(e){var t=e instanceof d.default?e:(0,l.createWid)(e);return(0,o.getStatus)(t)}handle([e]){var t=this.get(e.id);t&&(t.status=e.status,t.stale=!1)}}t.StatusCollection=c,c.model=n.default,c.idClass=d.default,c.staleCollection=!0,c.resumeOnAvailable=!0;var u=new c;t.default=u},gbbgfdbji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeBridge=function(){return new i.DynamicRouter};var i=a("debhgjgfcf")},gbfcbchfd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dhhhjaejje"));class s extends r.default{}t.default=s,s.onDelimiter=e=>e,s.onMutator=(e,t)=>t.join(""),s.onRoot=e=>e.join(""),s.onText=e=>e},gcabcaica:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupActionWap=function(){return c.apply(this,arguments)},t.handleGroupActionMD=function(){n.default.supportsFeature(n.default.F.MD_BACKEND);return Promise.reject(new Error("handleGroupActionMD: only supported on MD"))},t.handleGroupCreation=function(){n.default.supportsFeature(n.default.F.MD_BACKEND);return Promise.reject(new Error("handleGroupCreation: should not be called in wap mode"))};var r=i(a("dfadhaifh")),s=i(a("ffedgcdgj")),n=i(a("bhbdiadfhj")),o=a("cicdfhbegf"),d=a("dcjbdhhjge");function l(){var e=(0,r.default)(["model:chat: unknown chat for ",", action ",""]);return l=function(){return e},e}function c(){return(c=(0,s.default)((function*(e,t){var{chatId:i,author:r}=e,s=a("dbdfbgehgj").default.get(i);if(s){if(t.action===o.GROUP_ACTIONS.SUBJECT){var n={name:t.subject};yield(0,d.updateLocal)(s.contact.id,n)}(0,o.handleGroupAction)(s,r,t)}else __LOG__(3)(l(),i.toString(),JSON.stringify(t))}))).apply(this,arguments)}},gchbeeadb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("hhegggegb")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("hejdgecbj")),l=r(a("bgheieccaj")),c=r(a("bfchfhibba")),u=r(a("dbfjeecgih")),f=r(a("bejgabcbdi")),h=r(a("ebddggeaib")),p=a("bhjichhiec"),g=r(a("bechejbabh")),m=r(a("bcegddjcgj")),b=r(a("dibffhffdb")),v=r(a("cgjdibiahi")),_=r(a("didfdhbecg")),E={query:"",results:[],active:!1,offset:0};class j extends o.Component{constructor(...e){super(...e),this.state=E,this.flatListController=new u.default,this.setRefList=e=>{this.list=e},this.onUpdate=y(()=>this.onFilter(this.state.query),this),this.onFilter=e=>{g.default.synced()||this.syncIfNeeded();var t=g.default.filterShortcuts(e);t.length&&(0,p.logFilterEvent)(t.length),this.setState({query:e,results:t,active:!0,offset:0})},this.onInactive=y(()=>{this.setState(E)},this),this.onSelect=y(()=>this.handleSelect(this.state.offset),this),this.onUp=y(()=>{var e=Math.max(this.state.offset-1,0);this.setOffset(e)},this),this.onDown=y(()=>{var e=this.state.results.length-1,t=Math.min(this.state.offset+1,e);this.setOffset(t)},this),this.onBackspace=()=>{var e=window.getSelection().toString();this.lastInsertedText&&e===this.lastInsertedText&&(0,p.logCancelEvent)()},this.onEscape=()=>{this.setState(E)},this.syncIfNeeded=(0,s.default)(()=>{g.default.synced()||g.default.sync()},1e3),this.renderItem=e=>{var{index:t,quickReply:a}=e;return o.createElement(m.default,{key:a.id,quickReply:a,query:this.state.query,selected:t===this.state.offset,onMouseDown:e=>e.preventDefault(),onMouseUp:()=>this.handleSelect(t),onMouseEnter:()=>this.setOffset(t,!0)})}}componentDidMount(){var{plugin:e}=this.props;e.registerHandler(this,d.default.ENTER,this.onSelect),e.registerHandler(this,d.default.TAB,this.onSelect),e.registerHandler(this,d.default.FILTER,this.onFilter),e.registerHandler(this,d.default.INACTIVE,this.onInactive),e.registerHandler(this,d.default.UP,this.onUp),e.registerHandler(this,d.default.DOWN,this.onDown),e.registerHandler(this,d.default.BACKSPACE,this.onBackspace),this.props.listeners.add(g.default,"add remove change:shortcut",this.onUpdate)}componentWillUnmount(){var{plugin:e}=this.props;e.unregisterHandler(this,d.default.ENTER),e.unregisterHandler(this,d.default.TAB),e.unregisterHandler(this,d.default.FILTER),e.unregisterHandler(this,d.default.INACTIVE),e.unregisterHandler(this,d.default.UP),e.unregisterHandler(this,d.default.DOWN),e.unregisterHandler(this,d.default.BACKSPACE),this.syncIfNeeded.cancel()}setOffset(e,t=!1){e!==this.state.offset&&this.setState({offset:e},()=>{!t&&this.list&&this.list.scrollIntoViewIfNeeded(e)})}handleSelect(e){var t=this.state.results[e];t&&t.id&&(this.lastInsertedText=t.message,(0,p.logSelectEvent)(),this.props.plugin.handleSelect(t))}renderList(){var{results:e,query:t,offset:a}=this.state,i=e.map((e,i)=>({height:52,itemKey:e.id,contentKey:"".concat(t).concat(i===a?"-selected":""),index:i,quickReply:e}));return e.length?o.createElement(v.default,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:this.onEscape},o.createElement("div",{className:(0,n.default)(b.default.overlayContainer)},o.createElement(c.default,{className:b.default.resultsContainer,flatListControllers:[this.flatListController]},o.createElement(l.default,{ref:this.setRefList,data:i,flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem})))):null}render(){return o.createElement(_.default,{component:"div",className:b.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}function y(e,t){return(a,i)=>!(!t.state.active||!t.state.results.length)&&((!a||!(0,f.default)(a))&&(e.call(t,a,i),!0))}var S=(0,h.default)(j);t.default=S},gchfjdjij:function(e,t,a){e.exports=a.p+"img/rooms-2x_909204b15b49fc2ef16b123e8afc3bf0.jpg"},gchhabjba:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var a=new DataView(e),i=new DataView(t),r=0;r<a.byteLength;r++)if(a.getUint8(r)!==i.getUint8(r))return!1;return!0}},gcjjfccef:function(e,t){e.exports={preview:"_1d7uX",bubbleIn:"AHXHx",bubbleOut:"_25c1-",title:"_3npkZ",description:"ZX2_R",source:"oeihF",body:"_27ApE",noThumb:"_1CONW",thumbnailWrapper:"-TIEh",thumbnail:"_3pQdt",youtubeThumbnail:"_2v5ky",thumbnailPlaceholder:"ERsr1",mediaStateControlsWrapper:"_2FNv4",attribution:"_26UyZ"}},gdgchefji:function(e,t){},gdjchhcha:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MediaPickerChangeTypes=void 0;var r=i(a("cdfdfciehj")),s=i(a("bjcbijhief")),n=i(a("bdcchebfge"));t.MediaPickerChangeTypes={mediaPickerCroppedRotated:"mediaPickerCroppedRotated",mediaPickerDrawing:"mediaPickerCroppedRotated",mediaPickerStickers:"mediaPickerCroppedRotated",mediaPickerText:"mediaPickerCroppedRotated"};t.default=class{constructor(){this.mediaByTypeAndOrigin=new Map,this.mediaEventReverseIndex=new Map,this.chatRecipients=null}pauseTimer(){this.mediaByTypeAndOrigin.forEach(e=>{e.onPause()})}resumeTimer(){this.mediaByTypeAndOrigin.forEach(e=>{e.onResume()})}_getKey(e,t){return"".concat(e,"_").concat(t)}_commitLog(e){new n.default.MediaPicker((0,r.default)((0,r.default)({},e),{},{chatRecipients:this.chatRecipients})).commit()}_processNewMedia(e,t,a){var i=this._getKey(t,a),r=this.mediaByTypeAndOrigin.get(i);if(r)r.onAdd(e),this.mediaEventReverseIndex.set(e,r);else{var n=new s.default(e,t,a);this.mediaByTypeAndOrigin.set(i,n),this.mediaEventReverseIndex.set(e,n)}}logChange(e,t){var a=this.mediaEventReverseIndex.get(e);a&&a.onChange(e,t)}logDelete(e){var t=this.mediaEventReverseIndex.get(e);t&&t.onDelete(e)}logSend(){this.mediaByTypeAndOrigin.forEach(e=>{this._commitLog(e.onSend())})}logCancel(){this.mediaByTypeAndOrigin.forEach(e=>{this._commitLog(e.onCancel())})}logAdd(e,t,a){this.mediaEventReverseIndex.get(e)||this._processNewMedia(e,t,a)}}},geiiceahh:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=a("cbhhehcjbb");function n({children:e,selectable:t}){return r.createElement(s.SelectableDel,{selectable:t,appTextTemplate:"~${appText}~"},e)}n.defaultProps={children:""};var o=n;t.default=o},gejedaee:function(e,t,a){e.exports=function(){return new Worker(a.p+"8ae29a69fd6667592fcc.worker.js")}},gfebgebbi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EMOJI_SIZE=void 0;var s=r(a("cdfdfciehj")),n=r(a("eaaagccfda")),o=r(a("ceffhbhahb")),d=i(a("ddhijeejag")),l=i(a("dehfadfiij")),c=r(a("ccbgfecegc")),u=r(a("djegeegcbf")),f=r(a("bgagejacgg")),h=r(a("daabecicc")),p=a("gaifbabbj"),g=r(a("bdjjabfecc")),m=r(a("ebddggeaib")),b=r(a("cahfddcdga")),v=r(a("cbhhehcjbb")),_=a("cdejbeiiha"),E=r(a("bcjcbbafcj")),j={SMALL:"SMALL",LARGE:"LARGE"};t.EMOJI_SIZE=j;function y(e){return u.default.containsEmoji(e.substring(0,4096))}class S extends d.PureComponent{constructor(...e){super(...e),this.state={text:this.props.text||"",ellipsified:null},this.refContainer=d.createRef(),this.registeredListener=!1,this.registerResizeListener=()=>{this.registeredListener||(this.registeredListener=!0,this.props.listeners.add(window,"resize",this._recompute),this.props.listeners.add(c.default,"resize",this._recompute))},this.unregisterResizeListener=()=>{this.registeredListener&&(this.registeredListener=!1,this.props.listeners.remove(window,"resize",this._recompute),this.props.listeners.remove(c.default,"resize",this._recompute))},this._recompute=(0,n.default)(()=>{this.setState({ellipsified:null},this.ellipsify)},10),this.ellipsifyCheck=()=>y(this.state.text)&&this.ellipsify(),this.ellipsify=()=>{var e=this.refContainer.current;if(e){var t=(0,b.default)(e.parentElement,"node.parentElement"),a=e.querySelectorAll("img");if(a.length){var i=e.clientWidth;e.style.overflow="visible";var r=e.clientWidth!==i;if(e.style.overflow="hidden",r){var s=Boolean(g.default.isRTL())===Boolean(this.props.dirMismatch),n=a[function(e,t,a){var i=0;for(;i<e.length;){var r=e[i];if(a&&r.offsetLeft+r.clientWidth>=t)break;if(!a&&r.offsetLeft<=t)break;i++}return i}(a,s?t.clientWidth-function(e,t){for(var a=0,{childNodes:i}=e,r=0;r<i.length;r++){var s=i[r];if(s===t)break;a+=s instanceof Element?s.clientWidth:0}return a}(t,e)-12:12,s)];this.setState({ellipsified:M(e,n)})}}}},this.buildBidiModel=e=>e.reduce((e,t)=>{if("string"==typeof t){var a=t.split(/(\r?\n|\r)/g).map(e=>({dir:l.dir(e),content:e}));return e.concat(a)}return e.push({content:t}),e},[]),this.explodeOutputByLines=e=>{var{direction:t}=this.props,a=[],i=this.buildBidiModel(e),r=[],s=t;"auto"!==t&&"inherit"!==t||(s=null);for(var n=e=>{var i=null==s||null==t||s===t,n=i?null:s,o=!i||"rtl"===s!==g.default.isRTL()?f.default.dirMismatch:null;a.push(d.createElement("span",{key:e,dir:n,className:o},r))},o=0;o<i.length;o++){var l=i[o];s!==l.dir&&null!=s&&void 0!==l.dir&&(n(o),r=[]),void 0!==l.dir&&(s=l.dir),r.push(l.content)}return n(i.length),a},this.componentDidMount=()=>{!E.default.supportsEmojiEllipsification&&this.props.ellipsify&&y(this.state.text)&&this.registerResizeListener(),!E.default.supportsEmojiEllipsification&&this.props.ellipsify&&this.ellipsifyCheck()},this.render=()=>{if(!this.state.text)return null;var{onClick:e,ellipsify:t,dirMismatch:a,inferLinesDirection:i,inlineblock:r,direction:s,textLimit:n,multiline:l}=this.props,c=this.state.ellipsified?this.state.ellipsified:this.state.text,u="inherit"===s?null:s||"auto",g=!!this.props.selectable,m=this.props.formatters||p.Configuration.EmojiOnly({selectable:g}),b=n||1/0;t&&c.length>4096&&b>4096&&(b=4096);var E=(0,o.default)(this.props.className,{[f.default.ellipsify]:!!t,[f.default.inlineblock]:!!r,[f.default.clickable]:!!e,[f.default.dirMismatch]:a&&!i,[f.default.multiline]:l}),j=(0,h.default)(c,m,_.JSXSerializer,void 0,b),y=this.props.inferLinesDirection?this.explodeOutputByLines(j):j;return d.createElement(v.default,{className:E,dir:u,element:this.props.element,noInvisibleSpace:this.props.noInvisibleSpace,onClick:e,ref:this.refContainer,selectable:g,title:this.props.titlify?this.state.text:void 0},y,this.state.ellipsified||c.length>b?"…":null)}}getWidth(){var e=this.refContainer.current;return e?e.getBoundingClientRect().width:0}static getDerivedStateFromProps(e,t){var a,i=null,r=null!==(a=e.text)&&void 0!==a?a:"";return r!==t.text&&(i={text:r}),E.default.supportsEmojiEllipsification||!e.ellipsify||null==i||y(r)||(i=(0,s.default)((0,s.default)({},i),{},{ellipsified:null})),i}componentDidUpdate(e,t){!E.default.supportsEmojiEllipsification&&this.props.ellipsify&&t.text!==this.state.text&&(y(this.state.text)?(this._recompute(),this.registerResizeListener()):this.unregisterResizeListener())}componentWillUnmount(){this._recompute.cancel()}}S.defaultProps={element:"span",emojiSize:j.SMALL,textLimit:1/0};var C=(0,m.default)(S);function M(e,t,a={found:!1}){if(e===t)return a.found=!0,"";if(e instanceof HTMLImageElement)return e.alt;if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;for(var i=function(e){if(e instanceof Element)switch(e.tagName){case"CODE":return"```";case"STRONG":return"*";case"EM":return"_";case"DEL":return"~";default:return""}return""}(e),r="",s=0;s<e.childNodes.length&&(r+=M(e.childNodes[s],t,a),!a.found);)s++;return i?"".concat(i).concat(r).concat(i):r}t.default=class extends C{getWidth(){return this.getComponent().getWidth()}}},gfgihaeab:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cccehdaiaf"));class s extends r.default{constructor(e){super(),this.isSelectable=e}setSelectable(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}t.default=s},ggcdageid:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bfjchjfbhj",7)).then(e=>e.default),"NewGroupFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},ggdiceega:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cgcgbfbffj")),s=i(a("cbcbdjdah"));class n extends r.default{}t.default=n,n.model=s.default,n.comparator=function(e,t){return t.t-e.t}},ggihajihg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("chffigdgba")),o=i(a("bhiibehgda"));var d=function({id:e,name:t,url:a}){return s.createElement("div",{className:o.default.container,"data-id":e},s.createElement(n.default,{fallbackSVG:"sticker",wrapOptions:{wrapperClassName:o.default.stickerPackIconWrapper,centerWrapperChild:!0},className:o.default.stickerPackContainer,size:"NONE",roundContainer:!1,imgProps:{src:a||"",alt:t,draggable:!1}}))};t.default=d},ghaddceii:function(e,t){e.exports={suspiciousHostname:"YnNmr",suspiciousCharacter:"_3MwMv",explanation:"_3xFPk",url:"_3Q5PX"}},ghcjgacii:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("cagaiadjai")),o=i(a("ccbgfecegc")),d=i(a("bjigbaghc")),l=a("cgejchjdhj"),c=a("hcabbffbb"),u=i(a("dhfbfehaef")),f=i(a("ebddggeaib")),h=i(a("bdcchebfge")),p=i(a("dgjfidhijd")),g=i(a("dbgbceihf")),m=i(a("dcdbbhicce")),b=i(a("dgdcjccfdi")),v=a("dhhjhedjij"),_=i(a("dighddcfg")),E=i(a("bhifhcjhce")),j=i(a("bgeajihhc")),y=()=>{};class S extends s.PureComponent{constructor(e){super(e),this._shouldShowModal=()=>null!=g.default.noticeId&&null!=g.default.blockingModal&&!0===g.default.blocking,this.handleNoticeBlockingModalChange=()=>{this._shouldShowModal()&&(this.state.blockingModalDisplayed||(new h.default.UserNotice({userNoticeId:g.default.noticeId,userNoticeContentVersion:g.default.policyVersion,userNoticeEvent:h.default.USER_NOTICE_EVENT.BLOCKING_MODAL_APPEAR}).commit(),this.setState({blockingModalDisplayed:!0})))},this.handleNoticeIdChange=()=>{this.setState({blockingModalDisplayed:!1})},this.close=()=>{g.default.blocking||o.default.closeModal()},this.logout=()=>{o.default.closeModal(),j.default.logout()},this.refresh=()=>{location.reload()},this.state={blockingModalDisplayed:!1}}componentDidMount(){this.props.listeners.add(g.default,"change:blocking",this.close),this.props.listeners.add(g.default,"change:noticeId",this.handleNoticeIdChange),this.props.listeners.add(g.default,"change:blockingModal change:blocking",this.handleNoticeBlockingModalChange),this.handleNoticeBlockingModalChange()}getClickHandler(e){if(e){if("logout"===e.action)return this.logout;if("refresh"===e.action)return this.refresh}return y}renderButton(e,t=!1){if(null==e)return null;var a="UserNoticeModalPopup-".concat(e.action,"Btn"),i="popup-controls-".concat(e.action);return s.createElement(n.default,{a8nText:i,type:t?"primary":"plain",onClick:this.getClickHandler(e),key:a},e.label)}render(){var{notice:e}=this.props,{blockingModal:t}=e;if(!t||!this._shouldShowModal())return null;var a,{iconSvg:i,iconDescription:r="",title:n,body:o,primaryButton:f,secondaryButton:h}=t;i&&(a="light"===this.context.theme?i.light:i.dark);var g=s.createElement(b.default,{name:"alert-notice",ariaLabel:r}),m=a&&(0,l.sanitizeNoticeSVG)(a),_=m?s.createElement("span",{"aria-label":r,dangerouslySetInnerHTML:{__html:m}}):g,j=this.renderButton(h),y=this.renderButton(f,!0),S={enter:this.getClickHandler(f)},C=n?(0,l.sanitizeNoticeText)(n):null,M=o?(0,l.sanitizeNoticeText)(o):null;return s.createElement(u.default,{handlers:S},s.createElement("div",{className:d.default.isSMB?E.default.noticeSmbContainer:E.default.noticeContainer},s.createElement(p.default,{actions:[j,y],type:"flex"},s.createElement("div",{className:E.default.noticeModalContentWrapper},s.createElement(c.FlexRow,{className:E.default.noticeSvgWrapper,align:"center",justify:"center"},_),s.createElement(v.TextDiv,{theme:"popup-title",className:E.default.headerText},s.createElement("div",{dangerouslySetInnerHTML:{__html:C}})),s.createElement(v.TextDiv,{theme:"plain",className:E.default.bodyText},s.createElement("div",{dangerouslySetInnerHTML:{__html:M}}))))))}}S.CONCERNS={notice:["noticeId","blocking","blockingModal"]},S.contextType=_.default;var C=(0,f.default)((0,m.default)(S,S.CONCERNS));t.default=C},ghgddggfc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("ijjajdfig")),d=r(a("ecjegjabde")),l=r(a("ddajbaceej")),c=r(a("dhfbfehaef")),u=r(a("bbdfdihgc")),f=r(a("ebddggeaib")),h=i(a("fagbfehid")),p=r(a("bdaijaaagh")),g=r(a("dgdcjccfdi"));class m extends n.PureComponent{constructor(...e){super(...e),this.state={numItems:this.props.specialItemsCount+h.default.length},this._handleLengthChange=()=>{this.setState({numItems:this.props.specialItemsCount+h.default.length})},this._setRefContainer=e=>{this._refContainer=e},this._renderItem=e=>this.props.recentStickersEnabled&&0===e?n.createElement(g.default,{name:"panel-recent"}):this.props.starredStickersEnabled&&1===e?n.createElement(g.default,{name:"panel-starred"}):n.createElement(p.default,{index:e-this.props.specialItemsCount})}componentDidMount(){this.props.listeners.add(h.default,"change:length",this._handleLengthChange),this._handleLengthChange()}focus(){this._refContainer&&(this.hasFocus()||l.default.focus(this._refContainer))}hasFocus(){return!!this._refContainer&&this._refContainer===document.activeElement}render(){var{numItems:e}=this.state,{displayLocation:t}=this.props,a=h.PAGE_SIZE_COMPOSE_BOX;return"DROPDOWN"===t&&(a=h.PAGE_SIZE_POPUP),n.createElement(c.default,{onRef:this._setRefContainer,handlers:(0,d.default)({down:this.props.onFocusBelow,"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},n.createElement(o.default,{className:(0,s.default)({[u.default.shadow]:this.props.shadow}),numItems:e,numColumns:a,onItemClick:this.props.onItemClick,renderItem:this._renderItem,selectedIndex:this.props.selectedStickerPackIndex}))}}var b=(0,f.default)(m);t.default=class extends b{focus(){this.getComponent().focus()}}},ghiaifghj:function(e,t){e.exports={"-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px","-side-margin":"12px",sideMargin:"12px",panel:"_2O6m_",section:"_2DzhA"}},gigfajjic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationSeen=function(e,t,a){var i;s.default.supportsFeature(s.default.F.MD_BACKEND)?i||(i=Promise.reject(new Error("Should not reach here"))):i=n.default.sendConversationSeen(e.id,t,a).then(e=>{var{status:t,_duplicate:a}=e;return 200!==t?Promise.reject(new r.ServerStatusCodeError(t)):{_duplicate:a}});return i},t.sendConversationUnseen=function(e,t){return s.default.supportsFeature(s.default.F.MD_BACKEND)?Promise.resolve():n.default.sendConversationUnseen(e,t).then(e=>{var{status:t}=e;if(200!==t)return Promise.reject(new r.ServerStatusCodeError(t))})},t.markConversationSeen=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve()},t.markConversationUnseen=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve()};var r=a("bgihjbde"),s=i(a("bhbdiadfhj")),n=i(a("cfidecfjad"))},gjbhafcjg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.chat&&!e.chat.isUser){var{chat:t}=e,a=(0,n.default)(e,["chat"]);return l.createElement(S,(0,s.default)({chat:t,groupMetadata:t.groupMetadata},a))}var i,r;if(e.chat){var{chat:o}=e,d=(0,n.default)(e,["chat"]);i=o.contact,r=d}else{var{contact:c}=e;d=(0,n.default)(e,["contact"]);i=c,r=d}return l.createElement(j,(0,s.default)({contact:i},r))},t.GroupNameClass=t.ContactNameClass=void 0;var s=r(a("bacehaajgh")),n=r(a("dagbcgeifg")),o=r(a("dfadhaifh")),d=r(a("ceffhbhahb")),l=i(a("ddhijeejag")),c=r(a("gfebgebbi")),u=a("dgjddffcfg"),f=r(a("bhbdiadfhj")),h=a("gaifbabbj"),p=r(a("eeebhdeed")),g=r(a("degifadiej")),m=r(a("ddbcdaiche")),b=r(a("dcdbbhicce")),v=r(a("dgdcjccfdi"));function _(){var e=(0,o.default)(["displayName:",",\nformattedName:",",\nname:",",\nformattedShortName:",",\nformattedUser:",""]);return _=function(){return e},e}class E extends l.PureComponent{render(){var e,{element:t,contact:a,highlightText:i,titlify:r,ellipsify:s,you:n,selectable:o,useShortName:b,useDisplayName:E,onClick:j,showLabel:y,showBusinessCheckmark:S,showNotifyName:C,firstLabel:M}=this.props;i&&(e=h.Configuration.Search({terms:[i]}));var T,P=(0,d.default)(a.isPSA?m.default.psa:null);if(!(T=E&&a.displayName?a.displayName:b&&a.formattedShortName?a.formattedShortName:n&&a.isMe?a.formattedName:C&&!a.name&&a.notifyName?"~".concat(a.notifyName):a.formattedUser))return __LOG__(4,!1,new Error)(_(),T,a.formattedName,a.name,a.formattedShortName,a.formattedUser),SEND_LOGS("display name is null or undefined"),"";var O=l.createElement(c.default,{text:(0,u.replaceMultipleSpaces)(T),element:t,className:P,formatters:e,titlify:r,ellipsify:s,direction:"auto",selectable:o,inlineblock:!0,onClick:j}),N=this.props.labels||a.labels;N&&M&&(0,g.default)(N,M);var I=y&&N&&l.createElement("div",{className:m.default.labels},l.createElement(p.default,{labels:N,showName:!1}));return a.isPSA||f.default.supportsFeature(f.default.F.VNAME_V_2)&&S&&a.showBusinessCheckmark?l.createElement("span",{className:m.default.verified},O,l.createElement("div",{className:m.default.icon},l.createElement(v.default,{name:"psa-verified"})),I):I?l.createElement("span",{className:m.default.hasLabels},O,I):O}}t.ContactNameClass=E,E.CONCERNS={contact:["isPSA","formattedUser","formattedName","formattedShortName","displayName","showBusinessCheckmark","labels","name","notifyName","isMe"]},E.defaultProps={element:"span"};var j=(0,b.default)(E,E.CONCERNS);class y extends l.PureComponent{render(){var e,{element:t,chat:a,groupMetadata:i,highlightText:r,titlify:s,ellipsify:n,onClick:o,showLabel:f,firstLabel:b}=this.props;r&&(e=h.Configuration.SearchGroupName({terms:[r]}));var _=this.props.labels||a.labels;_&&b&&(0,g.default)(_,b);var E=f&&_?l.createElement("div",{className:m.default.labels},l.createElement(p.default,{labels:_,showName:!1})):null,j=l.createElement(c.default,{text:(0,u.replaceMultipleSpaces)(a.title()),element:t,formatters:e,titlify:s,ellipsify:n,direction:"auto",inlineblock:!0,onClick:o});return i.support?l.createElement("div",{className:(0,d.default)({[m.default.verified]:!0,[m.default.hasLabels]:!!E})},j,l.createElement("div",{className:m.default.icon},l.createElement(v.default,{name:"psa-verified"})),E):E?l.createElement("div",{className:m.default.hasLabels},j,E):j}}t.GroupNameClass=y,y.CONCERNS={chat:["formattedTitle","labels"],groupMetadata:["support"]};var S=(0,b.default)(y,y.CONCERNS)},gjhhbhigc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class i{static match(){throw new Error("Subclasses of `Mutator` must override `match()`")}static mutate(e){return e}}t.default=i,i.nestable=!0,i.format=!0,i.fragment=!1,i.compatibility=!1,i.mutates=!1},habihjdae:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.logOrderMessageClick=function(e,t){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_ORDER_MESSAGE_CLICK,catalogSessionId:e,orderId:t}).commit()},t.logOrderListImpression=function(e,t,a){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_ORDER_LIST_IMPRESSION,catalogSessionId:e,orderId:t,productCount:a}).commit()},t.logOrderListItemClick=function(e,t,a){new r.default.CatalogBiz({catalogBizAction:r.default.CATALOG_BIZ_ACTION.ACTION_ORDER_LIST_ITEM_CLICK,catalogSessionId:e,orderId:t,productId:a}).commit()};var r=i(a("bdcchebfge"))},hadcdcjij:function(e,t){e.exports={bodyContainer:"_1mjNh",gifPanel:"_1nSOb",panelBody:"_1E4E4",panelBodyError:"_29MJb"}},hadecdfeb:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),s=a("cbhhehcjbb");function n({children:e,selectable:t}){return r.createElement(s.SelectableEm,{selectable:t,appTextTemplate:"_${appText}_"},e)}n.defaultProps={children:""};var o=n;t.default=o},hagbbjbah:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TLD=void 0;t.TLD="abb|abbott|abudhabi|ac|academy|accountant|accountants|actor|ad|adult|ae|aero|af|africa|ag|agency|ai|al|am|amsterdam|ao|apartments|app|ar|archi|army|art|as|asia|associates|at|attorney|au|auction|audi|audio|auto|aws|ax|az|ba|baby|band|bank|bar|barcelona|barclaycard|barclays|basketball|bayern|bb|bd|be|beer|berlin|best|bet|bf|bg|bh|bi|bible|bid|bike|bingo|bio|biz|bj|black|blog|blue|bm|bn|bnpparibas|bo|boats|bot|boutique|box|br|bradesco|brother|bs|bt|build|builders|business|buzz|bw|by|bz|ca|cab|cafe|cam|camera|camp|canon|capital|car|cards|care|careers|cars|casa|cash|casino|cat|cbs|cc|cd|center|cern|cf|cfa|cg|ch|chat|cheap|chrome|church|ci|city|ck|cl|claims|cleaning|click|clinic|clothing|cloud|club|cm|cn|co|coach|codes|coffee|college|com|community|company|computer|construction|consulting|contractors|cool|coop|corsica|country|coupons|courses|cr|credit|creditcard|cricket|cu|cv|cx|cy|cyou|cz|dance|data|date|dating|de|deals|delivery|dental|dentist|desi|design|dev|dhl|diet|digital|direct|directory|discount|dj|dk|dm|do|doctor|dog|domains|download|dz|earth|ec|eco|edeka|edu|education|ee|eg|email|energy|engineering|equipment|es|estate|et|eu|eus|events|exchange|expert|exposed|express|fail|faith|family|fan|fans|farm|fashion|feedback|fi|film|finance|financial|fish|fit|fitness|fj|flights|flowers|fm|fo|football|forex|forsale|foundation|fr|fun|fund|furniture|futbol|fyi|ga|gal|gallery|game|games|garden|gb|gd|gdn|ge|gg|gh|gi|gift|gifts|gives|gl|glass|gle|global|globo|gm|gn|gold|golf|goog|google|gop|gov|gp|gq|gr|graphics|gratis|green|group|gs|gt|guide|guru|gy|haus|health|healthcare|help|hitachi|hk|hm|hn|holdings|holiday|honda|horse|hospital|host|hosting|house|how|hr|ht|hu|icu|id|ie|il|im|immo|in|inc|info|ink|institute|insure|int|international|investments|io|iq|ir|is|ist|istanbul|it|java|je|jewelry|jm|jo|jobs|jp|ke|kg|kh|ki|kim|kitchen|kiwi|kn|koeln|kpmg|kr|krd|kred|kw|ky|kyoto|kz|la|land|lat|law|lawyer|lb|lc|leclerc|legal|lgbt|li|life|lighting|limited|link|live|lk|llc|loan|lol|london|love|lr|ls|lt|ltd|lu|luxe|luxury|lv|ly|ma|madrid|management|market|marketing|markets|mba|mc|md|me|media|melbourne|men|menu|mg|miami|mil|mk|ml|mm|mn|mo|mobi|mobile|moda|moe|mom|monash|money|monster|mortgage|moscow|movie|mp|mr|ms|mt|mu|museum|mv|mw|mx|my|mz|na|nagoya|name|nc|ne|net|network|news|nf|ng|ngo|ni|nico|ninja|nl|no|np|nr|nrw|ntt|nu|nyc|nz|observer|off|om|one|ong|onl|online|ooo|org|organic|ovh|pa|page|paris|partners|parts|party|pe|pet|pf|pg|ph|pharmacy|photo|photography|photos|pics|pictures|pink|pizza|pk|pl|place|plumbing|plus|pm|pn|poker|porn|post|pr|press|pro|prod|productions|promo|properties|ps|pt|pub|pw|py|qa|quebec|racing|radio|re|realestate|realtor|realty|recipes|red|ren|rent|rentals|repair|report|rest|restaurant|review|reviews|rip|ro|rocks|rodeo|rs|ru|rugby|run|rw|sa|sale|salon|sandvik|sarl|saxo|sb|sbi|sc|scb|school|science|scot|sd|se|security|sener|services|sex|sexy|sg|sh|sharp|shiksha|shoes|shop|shopping|show|si|singles|site|sk|ski|sl|sm|sn|sncf|so|social|software|solar|solutions|sony|soy|space|sport|sr|srl|st|store|stream|studio|study|style|su|sucks|supply|support|surf|sv|swiss|sx|sy|sydney|systems|taipei|tatar|tattoo|tax|taxi|tc|team|tech|technology|tel|tennis|teva|tf|tg|th|tienda|tips|tirol|tj|tk|tl|tm|tn|to|today|tokyo|tools|top|tours|town|toyota|toys|tr|trade|trading|training|travel|tt|tube|tv|tw|tz|ua|ug|uk|university|uno|us|uy|uz|va|vacations|vanguard|vc|ve|vegas|ventures|vet|vg|vi|video|villas|vin|vip|vision|vlaanderen|vn|vote|voto|vu|wales|wang|watch|webcam|weber|website|wedding|wf|wien|wiki|win|wine|work|works|world|ws|wtf|xin|xyz|yandex|ye|yoga|yokohama|youtube|yt|za|zm|zone|zw|бел|дети|москва|онлайн|орг|рус|рф|сайт|укр|بازار|भारत|বাংলা"},hajhefagc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bafhagiedc")),l=i(a("cfcfdeifjb")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"ecgechdigh",7)).then(e=>e.default),"PhotoPicker");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(d.default,{svgName:"default-user",error:Boolean(e.error),retry:e.retry}),delay:o.default.LOADABLE_DELAY}),f=(0,n.default)({loader:c,loading:e=>s.createElement(d.default,{svgName:"default-group",error:Boolean(e.error),retry:e.retry}),delay:o.default.LOADABLE_DELAY});class h extends s.PureComponent{render(){return this.props.type===l.default.PROFILE?s.createElement(u,this.props):s.createElement(f,this.props)}}t.default=h},hbhjdibhf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.findCommonGroups=function(e){var t=(0,l.unproxy)(e),{commonGroups:i,id:r,promises:u}=t;if(u.findCommonGroups)return u.findCommonGroups;if(i&&!i.stale)return Promise.resolve();return u.findCommonGroups=(0,d.default)(r).then(e=>{var o=(0,s.default)(e.map(e=>a("dbdfbgehgj").default.get(e)));return i?(i.set(o),i.stale=!1):t.commonGroups=new n.default(o,r),!0}).catchType(o.ServerStatusCodeError,e=>(__LOG__(3)(c(),e.status),Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status)))).finally(()=>{u.findCommonGroups=null})};var r=i(a("dfadhaifh")),s=i(a("jcfacighg")),n=i(a("cjabddhidj")),o=a("bgihjbde"),d=i(a("dhiihbhcb")),l=a("cjfegjecaj");function c(){var e=(0,r.default)(["models:Contact:findCommonGroups error: ",""]);return c=function(){return e},e}},hceegfedj:function(e,t){e.exports={context:"kA6WR",contextIn:"_1lcup",contextOut:"N7Dyd",contextIcon:"_1qGcR",contextSpecial:"_NAbm",contextInverse:"_1BRpM",contextMedia:"_2_CMk",contextMediaLtr:"_1E3AZ",contextMediaRtl:"_2mU8N",contextMediaDocument:"_1uz89",contextIconMedia:"_BnPi",contextDoc:"_260jV",contextPtt:"_2M6wy",contextPttFix:"f75q7",contextMultiVcard:"_271l8",contextStickerAuthor:"_3RxmC",contextStickerTransparent:"_2Nfr3",badge:"_3BvVm",contextStickerInverse:"x_Mgr"}},hcfegac:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.__playPromise)return e.__playPromise;var t=new Promise((t,a)=>{function i(a){e.removeEventListener("playing",i),e.removeEventListener("error",r),e.videoHeight&&e.videoWidth||i(a),delete e.__playPromise,t(a)}function r(t){e.removeEventListener("playing",i),e.removeEventListener("error",r),delete e.__playPromise,a(t)}e.addEventListener("playing",i),e.addEventListener("error",r);var s,n=e.play();(s=n)&&"function"==typeof s.then&&(e.removeEventListener("playing",i),e.removeEventListener("error",r),n.then(()=>{delete e.__playPromise,t()}).catch(t=>{delete e.__playPromise,a(t)}))});return e.__playPromise=t,t}},hddfjdhii:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SMILEYS_PEOPLE:["😀","😃","😄","😁","😆","😅","😂","🤣","☺️","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲","🥱","😴","🤤","😪","😵","🤐","🥴","🤢","🤮","🤧","😷","🤒","🤕","🤑","🤠","😈","👿","👹","👺","🤡","💩","👻","💀","☠️","👽","👾","🤖","🎃","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🤲","👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🤟","🤘","👌","🤏","👈","👉","👆","👇","☝️","✋","🤚","🖐️","🖖","👋","🤙","💪","🦾","🖕","✍️","🙏","🦶","🦵","🦿","💄","💋","👄","🦷","👅","👂","🦻","👃","👣","👁️","👀","🧠","🗣️","👤","👥","👶","👧","🧒","👦","👩","🧑","👨","👩‍🦱","🧑‍🦱","👨‍🦱","👩‍🦰","🧑‍🦰","👨‍🦰","👱‍♀️","👱","👱‍♂️","👩‍🦳","🧑‍🦳","👨‍🦳","👩‍🦲","🧑‍🦲","👨‍🦲","🧔","👵","🧓","👴","👲","👳‍♀️","👳","👳‍♂️","🧕","👮‍♀️","👮","👮‍♂️","👷‍♀️","👷","👷‍♂️","💂‍♀️","💂","💂‍♂️","🕵️‍♀️","🕵️","🕵️‍♂️","👩‍⚕️","🧑‍⚕️","👨‍⚕️","👩‍🌾","🧑‍🌾","👨‍🌾","👩‍🍳","🧑‍🍳","👨‍🍳","👩‍🎓","🧑‍🎓","👨‍🎓","👩‍🎤","🧑‍🎤","👨‍🎤","👩‍🏫","🧑‍🏫","👨‍🏫","👩‍🏭","🧑‍🏭","👨‍🏭","👩‍💻","🧑‍💻","👨‍💻","👩‍💼","🧑‍💼","👨‍💼","👩‍🔧","🧑‍🔧","👨‍🔧","👩‍🔬","🧑‍🔬","👨‍🔬","👩‍🎨","🧑‍🎨","👨‍🎨","👩‍🚒","🧑‍🚒","👨‍🚒","👩‍✈️","🧑‍✈️","👨‍✈️","👩‍🚀","🧑‍🚀","👨‍🚀","👩‍⚖️","🧑‍⚖️","👨‍⚖️","👰","🤵","👸","🤴","🦸‍♀️","🦸","🦸‍♂️","🦹‍♀️","🦹","🦹‍♂️","🤶","🎅","🧙‍♀️","🧙","🧙‍♂️","🧝‍♀️","🧝","🧝‍♂️","🧛‍♀️","🧛","🧛‍♂️","🧟‍♀️","🧟","🧟‍♂️","🧞‍♀️","🧞","🧞‍♂️","🧜‍♀️","🧜","🧜‍♂️","🧚‍♀️","🧚","🧚‍♂️","👼","🤰","🤱","🙇‍♀️","🙇","🙇‍♂️","💁‍♀️","💁","💁‍♂️","🙅‍♀️","🙅","🙅‍♂️","🙆‍♀️","🙆","🙆‍♂️","🙋‍♀️","🙋","🙋‍♂️","🧏‍♀️","🧏","🧏‍♂️","🤦‍♀️","🤦","🤦‍♂️","🤷‍♀️","🤷","🤷‍♂️","🙎‍♀️","🙎","🙎‍♂️","🙍‍♀️","🙍","🙍‍♂️","💇‍♀️","💇","💇‍♂️","💆‍♀️","💆","💆‍♂️","🧖‍♀️","🧖","🧖‍♂️","💅","🤳","💃","🕺","👯‍♀️","👯","👯‍♂️","🕴️","👩‍🦽","🧑‍🦽","👨‍🦽","👩‍🦼","🧑‍🦼","👨‍🦼","🚶‍♀️","🚶","🚶‍♂️","👩‍🦯","🧑‍🦯","👨‍🦯","🧎‍♀️","🧎","🧎‍♂️","🏃‍♀️","🏃","🏃‍♂️","🧍‍♀️","🧍","🧍‍♂️","👫","👭","👬","👩‍❤️‍👨","👩‍❤️‍👩","👨‍❤️‍👨","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👨‍👩‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧‍👧","👨‍👨‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧‍👧","👩‍👦","👩‍👧","👩‍👧‍👦","👩‍👦‍👦","👩‍👧‍👧","👨‍👦","👨‍👧","👨‍👧‍👦","👨‍👦‍👦","👨‍👧‍👧","🧶","🧵","🧥","🥼","🦺","👚","👕","👖","🩲","🩳","👔","👗","👙","👘","🥻","🩱","🥿","👠","👡","👢","👞","👟","🥾","🧦","🧤","🧣","🎩","🧢","👒","🎓","⛑️","👑","💍","👝","👛","👜","💼","🎒","🧳","👓","🕶️","🥽","🌂"],ANIMALS_NATURE:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐽","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🐛","🦋","🐌","🐞","🐜","🦟","🦗","🕷️","🕸️","🦂","🐢","🐍","🦎","🦖","🦕","🐙","🦑","🦐","🦞","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🐊","🐅","🐆","🦓","🦍","🦧","🐘","🦛","🦏","🐪","🐫","🦒","🦘","🐃","🐂","🐄","🐎","🐖","🐏","🐑","🦙","🐐","🦌","🐕","🐩","🦮","🐕‍🦺","🐈","🐓","🦃","🦚","🦜","🦢","🦩","🕊️","🐇","🦝","🦨","🦡","🦦","🦥","🐁","🐀","🐿️","🦔","🐾","🐉","🐲","🌵","🎄","🌲","🌳","🌴","🌱","🌿","☘️","🍀","🎍","🎋","🍃","🍂","🍁","🍄","🐚","🌾","💐","🌷","🌹","🥀","🌺","🌸","🌼","🌻","🌞","🌝","🌛","🌜","🌚","🌕","🌖","🌗","🌘","🌑","🌒","🌓","🌔","🌙","🌎","🌍","🌏","🪐","💫","⭐","🌟","✨","⚡","☄️","💥","🔥","🌪️","🌈","☀️","🌤️","⛅","🌥️","☁️","🌦️","🌧️","⛈️","🌩️","🌨️","❄️","☃️","⛄","🌬️","💨","💧","💦","☔","☂️","🌊","🌫️"],FOOD_DRINK:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🌽","🥕","🧄","🧅","🥔","🍠","🥐","🥯","🍞","🥖","🥨","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗","🍖","🦴","🌭","🍔","🍟","🍕","🥪","🥙","🧆","🌮","🌯","🥗","🥘","🥫","🍝","🍜","🍲","🍛","🍣","🍱","🥟","🦪","🍤","🍙","🍚","🍘","🍥","🥠","🥮","🍢","🍡","🍧","🍨","🍦","🥧","🧁","🍰","🎂","🍮","🍭","🍬","🍫","🍿","🍩","🍪","🌰","🥜","🍯","🥛","🍼","☕","🍵","🧃","🥤","🍶","🍺","🍻","🥂","🍷","🥃","🍸","🍹","🧉","🍾","🧊","🥄","🍴","🍽️","🥣","🥡","🥢","🧂"],ACTIVITY:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🥅","⛳","🪁","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️","⛹️","⛹️‍♂️","🤺","🤾‍♀️","🤾","🤾‍♂️","🏌️‍♀️","🏌️","🏌️‍♂️","🏇","🧘‍♀️","🧘","🧘‍♂️","🏄‍♀️","🏄","🏄‍♂️","🏊‍♀️","🏊","🏊‍♂️","🤽‍♀️","🤽","🤽‍♂️","🚣‍♀️","🚣","🚣‍♂️","🧗‍♀️","🧗","🧗‍♂️","🚵‍♀️","🚵","🚵‍♂️","🚴‍♀️","🚴","🚴‍♂️","🏆","🥇","🥈","🥉","🏅","🎖️","🏵️","🎗️","🎫","🎟️","🎪","🤹‍♀️","🤹","🤹‍♂️","🎭","🩰","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🪕","🎻","🎲","♟️","🎯","🎳","🎮","🎰","🧩"],TRAVEL_PLACES:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🦯","🦽","🦼","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","⛽","🚧","🚦","🚥","🚏","🗺️","🗿","🗽","🗼","🏰","🏯","🏟️","🎡","🎢","🎠","⛲","⛱️","🏖️","🏝️","🏜️","🌋","⛰️","🏔️","🗻","🏕️","⛺","🏠","🏡","🏘️","🏚️","🏗️","🏭","🏢","🏬","🏣","🏤","🏥","🏦","🏨","🏪","🏫","🏩","💒","🏛️","⛪","🕌","🕍","🛕","🕋","⛩️","🛤️","🛣️","🗾","🎑","🏞️","🌅","🌄","🌠","🎇","🎆","🌇","🌆","🏙️","🌃","🌌","🌉","🌁"],OBJECTS:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🧰","🔧","🔨","⚒️","🛠️","⛏️","🔩","⚙️","🧱","⛓️","🧲","🔫","💣","🧨","🪓","🔪","🗡️","⚔️","🛡️","🚬","⚰️","⚱️","🏺","🔮","📿","🧿","💈","⚗️","🔭","🔬","🕳️","🩹","🩺","💊","💉","🩸","🧬","🦠","🧫","🧪","🌡️","🧹","🧺","🧻","🚽","🚰","🚿","🛁","🛀","🧼","🪒","🧽","🧴","🛎️","🔑","🗝️","🚪","🪑","🛋️","🛏️","🛌","🧸","🖼️","🛍️","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","🧧","✉️","📩","📨","📧","💌","📥","📤","📦","🏷️","📪","📫","📬","📭","📮","📯","📜","📃","📄","📑","🧾","📊","📈","📉","🗒️","🗓️","📆","📅","🗑️","📇","🗃️","🗳️","🗄️","📋","📁","📂","🗂️","🗞️","📰","📓","📔","📒","📕","📗","📘","📙","📚","📖","🔖","🧷","🔗","📎","🖇️","📐","📏","🧮","📌","📍","✂️","🖊️","🖋️","✒️","🖌️","🖍️","📝","✏️","🔍","🔎","🔏","🔐","🔒","🔓"],SYMBOLS:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🆓","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","🔟","🔢","#️⃣","*️⃣","⏏️","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","⏫","⏬","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","↪️","↩️","⤴️","⤵️","🔀","🔁","🔂","🔄","🔃","🎵","🎶","➕","➖","➗","✖️","♾️","💲","💱","™️","©️","®️","👁️‍🗨️","🔚","🔙","🔛","🔝","🔜","〰️","➰","➿","✔️","☑️","🔘","🔴","🟠","🟡","🟢","🔵","🟣","⚫","⚪","🟤","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","🟥","🟧","🟨","🟩","🟦","🟪","⬛","⬜","🟫","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","💬","💭","🗯️","♠️","♣️","♥️","♦️","🃏","🎴","🀄","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"],FLAGS:["🏳️","🏴","🏴‍☠️","🏁","🚩","🏳️‍🌈","🏳️‍⚧️","🇺🇳","🇦🇫","🇦🇽","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇨🇻","🇧🇶","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇨🇮","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇸🇿","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇯🇲","🇯🇵","🎌","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇰🇵","🇲🇰","🇲🇵","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇻🇮","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🇺🇸","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]}},hecjgdjhi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.sendProductMessage=function(){return b.apply(this,arguments)};var s=r(a("cdfdfciehj")),n=r(a("ffedgcdgj")),o=i(a("ddhijeejag")),d=a("biheibdage"),l=r(a("dbjacfjdhg")),c=r(a("ccbgfecegc")),u=r(a("hgigjbgie")),f=r(a("bdjjabfecc")),h=r(a("bdcchebfge")),p=r(a("cahfddcdga")),g=i(a("bjhgigfbec"));function m(e,t){var a=(0,p.default)(new l.default({chatParticipantCount:t}),"new AttachMediaCollection({\n  chatParticipantCount\n})");return a.processAttachments([{file:e}],h.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY).then(()=>{if(a.canSend()){var e=a.getPreviewableMedias();if(1===e.length){var[t]=e;return t.caption||(t.caption=void 0),t}}})}function b(){return(b=(0,n.default)((function*(e,t,a){var i=t.getHeadImageFile();if(!i)throw c.default.openToast(o.createElement(g.default,{msg:f.default.t(1109),id:(0,g.genId)()})),new Error("Tried to send product message. Media file is not available.");var r=e.getParticipantCount(),n=yield m(i,r);if(!n)throw c.default.openToast(o.createElement(g.default,{msg:f.default.t(1109),id:(0,g.genId)()})),new Error("Tried to send product message. Media data is not available.");var l={quotedMsg:a,caption:n.caption,addEvenWhilePreparing:n.previewable&&n.state===d.ATTACH_MEDIA_STATE.PROCESSING,useBasePropsType:!0},h={businessOwnerJid:t.catalogWid.toString({legacy:!0}),productId:t.id.toString(),url:t.url,productImageCount:t.productImageCollection.length,title:t.name,description:t.description,currencyCode:t.currency,priceAmount1000:t.priceAmount1000,type:u.default.MSG_TYPE.PRODUCT};0===t.priceAmount1000&&(h.priceAmount1000=null,h.currencyCode=null),n.sendToChat(e,(0,s.default)((0,s.default)({},l),{},{productMsgOptions:h}))}))).apply(this,arguments)}},hehfdhhai:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{templateParams:t,id:a}=e;switch(e.subtype){case"non_verified_transition":return u.default.t(1646);case"unverified_transition":return u.default.t(1755);case"verified_transition":return u.default.t(1761);case"verified_low_unknown":return u.default.t(1759);case"verified_high":return u.default.t(1757);case"verified_initial_unknown":return u.default.t(1728);case"verified_initial_low":return u.default.t(1726,{businessName:(0,c.default)(e)});case"verified_initial_high":return u.default.t(1724,{businessName:(0,c.default)(e)});case"verified_transition_any_to_none":return u.default.t(1732);case"verified_transition_any_to_high":return u.default.t(1730,{businessName:(0,c.default)(e)});case"verified_transition_high_to_low":return u.default.t(1734,{businessName:(0,c.default)(e)});case"verified_transition_high_to_unknown":return u.default.t(1736,{businessName:(0,c.default)(e)});case"verified_transition_unknown_to_low":return u.default.t(1744,{businessName:(0,c.default)(e)});case"verified_transition_low_to_unknown":return u.default.t(1738,{businessName:(0,c.default)(e)});case"verified_transition_none_to_low":return u.default.t(1740);case"verified_transition_none_to_unknown":return u.default.t(1742);case"change_number":var i=t[0],r=n.default.get(i),m=r&&r.isMyContact?r.formattedName:(0,p.default)(i);return h.default.equals(e.chat.id,i)?u.default.t(393,{name:m}):u.default.t(392,{name:m});case"payment_transaction_status_update_failed":return u.default.t(1686,{receiverName:(0,g.default)(t[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_request_cancelled":var b=t[0],v=(0,g.default)(b),_=t[1],E=parseInt(t[2],10),j=o.format(_,E),y={contactName:v,currencyAndAmount:j,_plural:E/1e3};return e.id.fromMe?u.default.t(1654,y):u.default.t(1653,y);case"payment_transaction_status_update_refunded":return u.default.t(1688,{receiverName:(0,g.default)(t[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_status_update_refund_failed":return u.default.t(1687,{receiverName:(0,g.default)(t[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_status_receiver_pending_setup":var S=t[0],C=(0,g.default)(S),M=t[1],T=parseInt(t[2],10),P=o.format(M,T);return u.default.t(1683,{senderName:C,currencyAndAmount:P,_plural:T/1e3});case"payment_transaction_status_receiver_success_after_hiccup":return u.default.t(1684,{senderName:(0,g.default)(t[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_action_account_setup_reminder":return u.default.t(1652,{senderName:(0,g.default)(t[0])});case"payment_action_send_payment_reminder":return u.default.t(1660,{receiverName:(0,g.default)(t[0])});case"payment_action_send_payment_invitation":return u.default.t(1659,{receiverName:(0,g.default)(t[0])});case"payment_action_request_declined":var O=t[0],N=(0,g.default)(O),I=t[1],A=parseInt(t[2],10),w=o.format(I,A),R={contactName:N,currencyAndAmount:w,_plural:A/1e3};return e.id.fromMe?u.default.t(1656,R):u.default.t(1655,R);case"payment_action_request_expired":var D=t[0],L=(0,g.default)(D),k=t[1],x=(0,g.default)(k),G=t[2],U=parseInt(t[3],10),F=o.format(G,U);return h.default.equals(D,(0,l.getMaybeMeUser)())?u.default.t(1658,{receiverName:x,currencyAndAmount:F,_plural:U/1e3}):u.default.t(1657,{senderName:L,currencyAndAmount:F,_plural:U/1e3});case"biz_verified_transition_top_to_bottom":return u.default.t(247,{businessName:(0,c.default)(e)});case"biz_verified_transition_bottom_to_top":return u.default.t(245,{businessName:(0,c.default)(e)});case"biz_intro_top":var B=e.id.remote;return h.default.isOfficialBizAccount(B)?u.default.t(1055):u.default.t(228,{businessName:(0,c.default)(e)});case"biz_intro_bottom":return u.default.t(226);case"biz_name_change":return u.default.t(233,{businessName:(0,c.default)(e)});case"biz_move_to_consumer_app":return u.default.t(231);case"biz_two_tier_migration_top":return u.default.t(242,{businessName:(0,c.default)(e)});case"biz_two_tier_migration_bottom":return u.default.t(240);case"blue_msg_e2e_identity_unavailable":return u.default.t(1215);case"blue_msg_bsp_fb_to_bsp_premise":return u.default.t(264,{businessName:(0,c.default)(e)});case"blue_msg_bsp_fb_to_self_fb":return u.default.t(265,{businessName:(0,c.default)(e)});case"blue_msg_bsp_fb_to_self_premise":return u.default.t(266,{businessName:(0,c.default)(e)});case"blue_msg_bsp_fb_unverified":return u.default.t(267);case"blue_msg_bsp_fb_unverified_to_bsp_premise_verified":var V=(0,c.default)(e);return(0,d.default)(a.remote,V)?u.default.t(268,{businessName:V}):u.default.t(269,{businessName:V});case"blue_msg_bsp_fb_unverified_to_self_fb_verified":var H=(0,c.default)(e);return(0,d.default)(a.remote,H)?u.default.t(270,{businessName:H}):u.default.t(271,{businessName:H});case"blue_msg_bsp_fb_unverified_to_self_premise_verified":return u.default.t(272,{businessName:(0,c.default)(e)});case"blue_msg_bsp_fb_verified":var W=(0,c.default)(e);return(0,d.default)(a.remote,W)?u.default.t(273,{businessName:W}):u.default.t(274,{businessName:W});case"blue_msg_bsp_fb_verified_to_bsp_premise_unverified":return u.default.t(275,{businessName:(0,c.default)(e)});case"blue_msg_bsp_fb_verified_to_self_fb_unverified":return u.default.t(276,{businessName:(0,c.default)(e)});case"blue_msg_bsp_fb_verified_to_self_premise_unverified":return u.default.t(277,{businessName:(0,c.default)(e)});case"blue_msg_bsp_premise_to_self_premise":return u.default.t(278,{businessName:(0,c.default)(e)});case"blue_msg_bsp_premise_unverified":return u.default.t(279);case"blue_msg_bsp_premise_unverified_to_self_premise_verified":return u.default.t(280,{businessName:(0,c.default)(e)});case"blue_msg_bsp_premise_verified":var K=(0,c.default)(e);return(0,d.default)(a.remote,K)?u.default.t(281,{businessName:K}):u.default.t(282,{businessName:K});case"blue_msg_bsp_premise_verified_to_self_premise_unverified":return u.default.t(283,{businessName:(0,c.default)(e)});case"blue_msg_consumer_to_bsp_fb_unverified":return u.default.t(284,{businessName:(0,c.default)(e)});case"blue_msg_consumer_to_bsp_premise_unverified":return u.default.t(285,{businessName:(0,c.default)(e)});case"blue_msg_consumer_to_self_fb_unverified":return u.default.t(286,{businessName:(0,c.default)(e)});case"blue_msg_consumer_to_self_premise_unverified":return u.default.t(287,{businessName:(0,c.default)(e)});case"blue_msg_self_fb_to_bsp_premise":return u.default.t(288,{businessName:(0,c.default)(e)});case"blue_msg_self_fb_to_self_premise":return u.default.t(289,{businessName:(0,c.default)(e)});case"blue_msg_self_fb_unverified":return u.default.t(290);case"blue_msg_self_fb_unverified_to_bsp_premise_verified":var Y=(0,c.default)(e);return(0,d.default)(a.remote,Y)?u.default.t(291,{businessName:Y}):u.default.t(292,{businessName:Y});case"blue_msg_self_fb_unverified_to_self_premise_verified":return u.default.t(293,{businessName:(0,c.default)(e)});case"blue_msg_self_fb_verified":var q=(0,c.default)(e);return(0,d.default)(a.remote,q)?u.default.t(294,{businessName:q}):u.default.t(295,{businessName:q});case"blue_msg_self_fb_verified_to_bsp_premise_unverified":return u.default.t(296,{businessName:(0,c.default)(e)});case"blue_msg_self_fb_verified_to_self_premise_unverified":return u.default.t(297,{businessName:(0,c.default)(e)});case"blue_msg_self_premise_to_bsp_premise":return u.default.t(298,{businessName:(0,c.default)(e)});case"blue_msg_self_premise_unverified":return u.default.t(299);case"blue_msg_self_premise_verified":return u.default.t(300,{businessName:(0,c.default)(e)});case"blue_msg_to_bsp_fb":return u.default.t(301,{businessName:(0,c.default)(e)});case"blue_msg_to_consumer":return u.default.t(302,{businessName:(0,c.default)(e)});case"blue_msg_to_self_fb":return u.default.t(303,{businessName:(0,c.default)(e)});case"blue_msg_unverified_to_bsp_fb_verified":var z=(0,c.default)(e);return(0,d.default)(a.remote,z)?u.default.t(304,{businessName:z}):u.default.t(305,{businessName:z});case"blue_msg_unverified_to_bsp_premise_verified":var Q=(0,c.default)(e);return(0,d.default)(a.remote,Q)?u.default.t(306,{businessName:Q}):u.default.t(307,{businessName:Q});case"blue_msg_unverified_to_self_fb_verified":var J=(0,c.default)(e);return(0,d.default)(a.remote,J)?u.default.t(308,{businessName:J}):u.default.t(309,{businessName:J});case"blue_msg_unverified_to_verified":return u.default.t(310,{businessName:(0,c.default)(e)});case"blue_msg_verified_to_bsp_fb_unverified":return u.default.t(311,{businessName:(0,c.default)(e)});case"blue_msg_verified_to_bsp_premise_unverified":return u.default.t(312,{businessName:(0,c.default)(e)});case"blue_msg_verified_to_self_fb_unverified":return u.default.t(313,{businessName:(0,c.default)(e)});case"blue_msg_verified_to_unverified":return u.default.t(314,{businessName:(0,c.default)(e)});default:return f.default.isElectron?u.default.t(1338):u.default.t(1341)}};var s=r(a("cfadcbbiie")),n=r(a("dhigahgdjb")),o=i(a("bjgiedaj")),d=r(a("chhcifaahi")),l=a("ddbdgibbbi"),c=r(a("cbjgaedjgd")),u=r(a("bdjjabfecc")),f=r(a("bcjcbbafcj")),h=r(a("jccfhaecf")),p=r(a("djbfhebjhe")),g=r(a("bcbdbebgci"))},hejdgecbj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,i(a("chgaccicf")).default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0});t.default=r},hfebefdji:function(e,t){e.exports={bubble:"_3-1wf",isGallery:"_1aBse",isPreview:"_1_Oij",quote:"_1G93Y",hasAuthor:"_3GMcc",vcard:"_33q8K",author:"_34Eif",hasQuote:"_3d0fe",body:"_1FJb0",avatar:"J4cfU",meta:"nqxyC",name:"_2b6oa",image:"_32ds_"}},hfeceeah:function(e,t){e.exports={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",footer:"_2ig1U",positioningContainer:"_3pk0T",overlayContainer:"_1O6cA",blockCompose:"_3SvgF",inputContainer:"DuUXI",boxPanelWrapper:"rN1v9",attachButtonContainer:"bDS3i",childPadding:"_3qpzV",disabled:"_3G8xP",btnSend:"_2Ujuu",focusAnimation:"_1WoQE",focusAnimationKeyframes:"Bg09t"}},hfgahggjd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AudioSession=t.OUTPUT_DEVICES=t.AUDIO_EVENTS=void 0;var r=i(a("cccehdaiaf"));t.AUDIO_EVENTS={OUTPUT_ROUTES_CHANGED:"OUTPUT_ROUTES_CHANGED"};t.OUTPUT_DEVICES={UNKNOWN:0,LINE_OUT:1,HEADPHONES:2,BLUETOOTH:3,INTERNAL_RECEIVER:4,INTERAL_SPEAKER:5,HDMI:6,REMOTE:7,BLUETOOTH_LE:8,BLUETOOTH_HANDS_FREE:9,USB:10,CAR:11};t.AudioSession=class{constructor(){}startUse(){}endUse(){}};class s extends r.default{constructor(){super()}startAudioSession(){}isRoutingToOutput(){return!1}get isRoutingToSpeaker(){return null}get outputRoutes(){return[]}get isBluetoothInputAvailable(){return null}overrideOutputRoute(){return Promise.resolve()}}var n=new s;t.default=n},hfifjaejc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){return(0,s.queryServerProps)().then(e=>{n.default.updateProps(e)}).catchType(r.ServerStatusCodeError,()=>{}).catchType(r.WebdDrop,()=>{})};var r=a("bgihjbde"),s=a("ciggibedij"),n=i(a("bfgbdiffgd"))},hgbgeecgi:function(e,t){e.exports={title:"rVfWm",block:"_3hvlJ",illustration:"_1HK_D"}},hgeacfdgi:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"OUTPUT_DEVICES",{enumerable:!0,get:function(){return r.OUTPUT_DEVICES}}),Object.defineProperty(t,"CALL_TYPES",{enumerable:!0,get:function(){return s.CALL_TYPES}}),Object.defineProperty(t,"CALL_UI_STATES",{enumerable:!0,get:function(){return o.CALL_UI_STATES}}),t.default=void 0;var r=a("hfgahggjd"),s=i(a("bgdcgdigif")),n=a("dcaifjegcg"),o=a("jgidicjf"),d=new((0,n.defineModel)(s.default));t.default=d},hhcfehghc:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.updateParticipants=function(){return n.apply(this,arguments)},t.addParticipants=function(){return o.apply(this,arguments)},t.removeParticipants=function(){s.default.supportsFeature(s.default.F.MD_BACKEND);return Promise.resolve()},t.demoteParticipants=function(){return d.apply(this,arguments)},t.promoteParticipants=function(){return l.apply(this,arguments)};var r=i(a("ffedgcdgj")),s=i(a("bhbdiadfhj"));function n(){return(n=(0,r.default)((function*(){s.default.supportsFeature(s.default.F.MD_BACKEND),yield Promise.resolve()}))).apply(this,arguments)}function o(){return(o=(0,r.default)((function*(){s.default.supportsFeature(s.default.F.MD_BACKEND),yield Promise.resolve()}))).apply(this,arguments)}function d(){return(d=(0,r.default)((function*(){s.default.supportsFeature(s.default.F.MD_BACKEND),yield Promise.resolve()}))).apply(this,arguments)}function l(){return(l=(0,r.default)((function*(){s.default.supportsFeature(s.default.F.MD_BACKEND),yield Promise.resolve()}))).apply(this,arguments)}},hhcjfgifh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getSize=N,t.getDefaultIcon=A,t.default=t.DetailImageCommon=t.DETAIL_IMAGE_QUALITY=t.DETAIL_IMAGE_SIZE=void 0;var s=r(a("bacehaajgh")),n=r(a("cdfdfciehj")),o=r(a("ceffhbhahb")),d=a("djfeeacgad"),l=i(a("ddhijeejag")),c=r(a("ecfgahegjj")),u=r(a("dbdfbgehgj")),f=r(a("dhigahgdjb")),h=r(a("cfjfgadghf")),p=i(a("cajijabhgb")),g=r(a("bdighhfebd")),m=r(a("bhbcdbjdeg")),b=r(a("ebddggeaib")),v=r(a("dcdbbhicce")),_=a("cjfegjecaj"),E=r(a("dgdcjccfdi")),j=r(a("jccfhaecf")),y={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"};t.DETAIL_IMAGE_SIZE=y;var S={LOW:"LOW",HIGH:"HIGH"};t.DETAIL_IMAGE_QUALITY=S;class C extends l.PureComponent{constructor(e){super(e),this.retriedAfter403=!1,this.state={loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:null},this.onLoad=()=>{this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel(),this.setState({loading:!1,loaded:!0}),this.props.onLoad&&this.props.onLoad()},this.onError=e=>{if(this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel(),e instanceof p.ServerStatusError){var{profilePicThumb:t}=this.props;switch(e.status){case 403:t.markStale({eurl:!0}),this.retriedAfter403||(this.retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}this.setState({loading:!1,loaded:!1})},this.enableSpinner="business"!==e.theme,e.loader&&this.enableSpinner&&(this.showSpinnerTimeout=new d.ShiftTimer(()=>{this.setState({showSpinner:!0})}),this.showSpinnerTimeout.onOrAfter(100))}static getDerivedStateFromProps(e,t){return t.profilePicThumbImg!==e.profilePicThumbImg?{loading:!0,loaded:!1,showSpinner:!1,profilePicThumbImg:e.profilePicThumbImg}:{profilePicThumbImg:e.profilePicThumbImg}}componentDidUpdate(e){e.profilePicThumbImg!==this.props.profilePicThumbImg&&this.showSpinnerTimeout&&this.showSpinnerTimeout.onOrAfter(100)}componentWillUnmount(){this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel()}shouldShowSpinner(){var{profilePicThumb:e,loader:t}=this.props,{loading:a,showSpinner:i}=this.state;return!!this.enableSpinner&&(!!t&&i&&a&&!(!(0,_.unproxy)(e).stale&&!this.props.profilePicThumbImg))}render(){var{profilePicThumbImg:e,spinnerClassName:t,imgClassName:a,alt:i}=this.props,{loading:r,loaded:s}=this.state,d={[h.default.isLoaded]:!r};a&&(d=(0,n.default)((0,n.default)({},d),{},{[a]:"string"==typeof a}));var u,f,p=(0,o.default)(h.default.avatarImage,d);this.shouldShowSpinner()&&(u=l.createElement(c.default,{key:"spinner",className:t})),e&&(f=l.createElement(m.default,{src:e,hasPrivacyChecks:!0,crossOrigin:!1,className:p,draggable:!1,key:"image",onLoad:this.onLoad,onError:this.onError,alt:i}));var g=this.props.defaultIcon;return l.createElement(l.Fragment,null,u,f,g)}}t.DetailImageCommon=C;class M extends l.PureComponent{render(){return l.createElement(C,(0,s.default)({},this.props,{profilePicThumbImg:this.props.profilePicThumb.imgFull}))}}M.CONCERNS={profilePicThumb:["imgFull"]};var T=(0,v.default)(M,M.CONCERNS);class P extends l.PureComponent{render(){return l.createElement(C,(0,s.default)({},this.props,{profilePicThumbImg:this.props.profilePicThumb.img}))}}P.CONCERNS={profilePicThumb:["img"]};var O=(0,v.default)(P,P.CONCERNS);function N(e){switch(e){case y.SMALL:return 49;case y.MEDIUM:return 100;case y.LARGE:return 200;case y.NONE:return;default:return e}}class I extends l.Component{constructor(...e){super(...e),this.state={ephemeral:!1},this.updateEphemeral=()=>{var e=u.default.get(this.props.id);e&&this.setState({ephemeral:e.isEphemeralSettingOn()})}}componentDidMount(){var e=u.default.get(this.props.id);e&&this.props.listeners.add(e.isGroup?e.groupMetadata:e,"change:ephemeralDuration",this.updateEphemeral)}componentDidUpdate(e){if(e.id!==this.props.id){var t=u.default.get(e.id);t&&this.props.listeners.remove(t.isGroup?t.groupMetadata:t,"change:ephemeralDuration",this.updateEphemeral);var a=u.default.get(this.props.id);a&&this.props.listeners.add(a.isGroup?a.groupMetadata:a,"change:ephemeralDuration",this.updateEphemeral)}}render(){var e,t,{id:a,size:i,quality:r,loader:s,onClick:n,onLoad:d,quoted:c,square:p,border:m,waitIdle:b,showEphemeralIcon:v,theme:_,alt:j}=this.props,C=r||S.LOW,M={height:N(t="number"==typeof i?i>0?i:y.SMALL:null!=i?i:y.SMALL),width:N(t)};n&&(M.cursor="pointer");var P,I=(0,o.default)(h.default.avatar,{[h.default.status_v3]:"status_v3"===_,[h.default.avatarSquare]:p,[h.default.avatarBorder]:m}),w=A(a,c),R=l.createElement(g.default,{id:a,onComplex:()=>{var e=null,t=f.default.gadd(a).getProfilePicThumb();return t&&(e=C===S.HIGH?l.createElement(T,{profilePicThumb:t,defaultIcon:w,loader:s,onLoad:d,alt:j}):l.createElement(O,{profilePicThumb:t,defaultIcon:w,loader:s,onLoad:d,alt:j})),l.createElement("div",{className:I,style:M,onClick:n},e)},waitIdle:b},l.createElement("div",{className:I,style:M,onClick:n},w));return v&&(null===(e=u.default.get(a))||void 0===e?void 0:e.isEphemeralSettingOn())&&(P=l.createElement("div",{className:h.default.wrapper},l.createElement("div",{className:h.default.badge},l.createElement(E.default,{name:"ephemeral",className:h.default.badgeIcon})),R)),P||R}}function A(e,t){var a="default-user";return j.default.isUser(e)&&!j.default.isPSA(e)&&t?a="default-user-square":j.default.isGroup(e)?a="default-group":j.default.isBroadcast(e)?a="default-broadcast":j.default.isPSA(e)&&(a="default-psa"),l.createElement("div",{className:h.default.avatarDefault,key:"default"},l.createElement(E.default,{name:a}))}var w=(0,b.default)(I);t.default=w},hicdbdjjg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.isCallKitSupported=function(){return!1},t.checkVoipCapability=function(){return Promise.resolve(!1)},t.default=void 0;var s=r(a("ffedgcdgj")),n=r(a("cdfdfciehj")),o=r(a("dfadhaifh")),d=r(a("biaifggagf")),l=a("ddbdgibbbi"),c=r(a("hjieaedbd")),u=i(a("bbccjbfjfe")),f=a("cfjhbghahe"),h=r(a("cfejjfjhca")),p=a("idgebhici"),g=a("digddffhhh"),m=r(a("dgjhbfjjjj")),b=i(a("cbjcbacfdh"));function v(){var e=(0,o.default)(["voip:recv:offerAck: Unknown status:",""]);return v=function(){return e},e}function _(){var e=(0,o.default)(["voip:recv:offer_ack: phone_busy"]);return _=function(){return e},e}function E(){var e=(0,o.default)(["voip:recv:offer_ack: no payload"]);return E=function(){return e},e}function j(){var e=(0,o.default)(["voip:recv:offerAck:"]);return j=function(){return e},e}function y(){var e=(0,o.default)(["voip:send:offer: payload:"]);return y=function(){return e},e}function S(){var e=(0,o.default)(["voip:recieved-track"]);return S=function(){return e},e}function C(){var e=(0,o.default)(["voip:generated-answer: ",""]);return C=function(){return e},e}function M(){var e=(0,o.default)(["voip:modified-offer: ",""]);return M=function(){return e},e}function T(){var e=(0,o.default)(["voip:original-offer: ",""]);return T=function(){return e},e}function P(){var e=(0,o.default)(["voip:generateId: ",""]);return P=function(){return e},e}function O(){var e=(0,o.default)(['voip:handleIncomingSignalingMsg: type: "','" msg: ']);return O=function(){return e},e}function N(){var e=(0,o.default)(["voip:callStart: "," video: ",""]);return N=function(){return e},e}function I(){var e=(0,o.default)(["voip:init"]);return I=function(){return e},e}var A=null,w={type:"none"},R={init:()=>(__LOG__(2)(I()),Promise.resolve(!1)),updateAudioVideoSwitch:()=>{},cleanup:()=>{},refresh:()=>{},callStart:(e,t)=>{if(__LOG__(2)(N(),e.toString(),t.toString()),!m.default.isVoiceCallEnabled&&!m.default.isVideoCallEnabled)throw new Error("voip:callStart: calling not enabled");!function(){B.apply(this,arguments)}(e,t)},groupCallStart:()=>{},sendGroupCallInvite:()=>{},endCall:()=>{"ongoing"===w.type&&(!function(){H.apply(this,arguments)}(w.callId,w.peerJid),w.pc.close(),w.stream.getTracks().forEach(e=>e.stop()),w={type:"none"})},callEndByHandledRemotely:()=>{},acceptCall:()=>{},rejectCall:()=>{},rejectCallWithoutCallCtx:()=>{},mute:()=>{},videoTurnCameraOn:()=>{},videoTurnCameraOff:()=>{},videoStreamPause:()=>{},videoStreamResume:()=>{},videoRequestUpgrade:()=>{},videoAcceptUpgrade:()=>{},videoRejectUpgrade:()=>{},videoCancelUpgrade:()=>{},handleIncomingSignalingMessage:function(e,t){var a=b.TYPE_NAME[e.type];__LOG__(2)(O(),a);var i=d.default.get(e.call_id);if(null==i?void 0:i.canHandleLocally)switch(e.type){case b.TYPE.OFFER:throw new Error("Incoming call offer unimplemented.");case b.TYPE.OFFER_RECEIPT:case b.TYPE.ACCEPT_RECEIPT:return;case b.TYPE.MUTE:case b.TYPE.VIDEO_STATE:break;case b.TYPE.ACCEPT:"offer-sent"===w.type&&(w.pc.setRemoteDescription(w.answer),w=(0,n.default)((0,n.default)({},w),{},{type:"ongoing"}));break;case b.TYPE.REJECT:"offer-sent"===w.type&&(w.pc.close(),w.stream.getTracks().forEach(e=>e.stop()),w={type:"none"});break;case b.TYPE.TERMINATE:"ongoing"===w.type&&(w.pc.close(),w.stream.getTracks().forEach(e=>e.stop()),w={type:"none"})}else(0,g.handleIncomingSignalingMessage)(e,t)},isInitialized:()=>!0,registerVideoCallback:()=>{},cleanupVideoBuffer:()=>{},updateNetworkMedium:()=>{},registerWebRTCCallback:e=>{A=e},notifyDeviceIdentityChangedOrDeleted:()=>{}};function D(){return L.apply(this,arguments)}function L(){return(L=(0,s.default)((function*(e,t,a,i){var r=new TextDecoder,s=yield u.extract(e,t);return u.expand(s,r.decode(a),i)}))).apply(this,arguments)}function k(){return x.apply(this,arguments)}function x(){return(x=(0,s.default)((function*(e,t,a){var i=new TextEncoder,r=i.encode(e).buffer,s=i.encode(t).buffer,n=new Uint32Array([a]).buffer,o=yield D(r,n,s,32);return new Uint32Array(o)[0]}))).apply(this,arguments)}function G(){return U.apply(this,arguments)}function U(){return(U=(0,s.default)((function*(e,t){var a=new TextEncoder;return(yield D(e,u.DEFAULT_SALT,a.encode(t).buffer,46)).slice(0,30)}))).apply(this,arguments)}t.default=R;function F(){var e=new Uint8Array(32);return window.crypto.getRandomValues(e),e.buffer}function B(){return(B=(0,s.default)((function*(e,t){if(!c.default)throw new Error("Unable to request Media Devices.");var a=yield(0,c.default)({audio:!0,video:t}),i=(0,h.default)().substr(0,64);__LOG__(2)(P(),i);var r=F(),n=(0,l.getMaybeMeUser)(),o=yield k(i,n.toString({legacy:!0}),0),d=yield k(i,e.toString({legacy:!0}),0),u=yield k(i,n.toString({legacy:!0}),2),f=yield k(i,e.toString({legacy:!0}),2),g=yield G(r,n.toString({legacy:!0})),m=yield G(r,e.toString({legacy:!0})),b=new RTCPeerConnection({sdpSemantics:"unified-plan"},{mandatory:{},optional:[{DtlsSrtpKeyAgreement:!1},{RtpDataChannels:!0}]});b.onnegotiationneeded=(0,s.default)((function*(){var s=yield b.createOffer();__LOG__(2)(T(),s.sdp);var{token:l,key:c,relay:h}=yield z(r,n,e.toString({legacy:!0}),i,t);yield Y(h,i,n,e.toString({legacy:!0})),s.sdp=(0,p.modifyOfferSDP)(s.sdp,o,u,g,t),__LOG__(2)(M(),s.sdp),yield b.setLocalDescription(s);var v=(0,p.generateICELiteAnswerSDP)(h,l,c,d,f,m,t);__LOG__(2)(C(),v.sdp),w={type:"offer-sent",pc:b,answer:v,stream:a,callId:i,peerJid:e.toString({legacy:!0})}})),b.ontrack=e=>{if(__LOG__(2)(S()),!A)throw new Error("No Track callback registered.");A(e)},null==a||a.getTracks().forEach(e=>b.addTrack(e,a))}))).apply(this,arguments)}function V(e){return["terminate",{"call-id":e},null]}function H(){return(H=(0,s.default)((function*(e,t){var a=V(e),i=a[0];yield(0,f.sendCallSignalingMsg)({common:{type:i,call_id:e,call_creator_jid:"",peer_jid:t},payload:a})}))).apply(this,arguments)}function W(e,t,a,i){return["offer",{"call-id":t,"call-creator":a},[["audio",{enc:"opus",rate:"8000"},null],["audio",{enc:"opus",rate:"16000"},null]].concat(i?[["video",{orientation:"0",screen_width:"1920",screen_height:"1080",device_orientation:"0",enc:"vp8"},null]]:[]).concat([["net",{medium:"3"},null],["capability",{ver:"1"},[1,3,-1,-125,-33]],["enc",{count:"0"},Array.from(new Int8Array(e))],["encopt",{keygen:"2"},null]])]}function K(e,t,a){var i=new ArrayBuffer(6),r=new DataView(i);return r.setUint8(0,e.ip[0]),r.setUint8(1,e.ip[1]),r.setUint8(2,e.ip[2]),r.setUint8(3,e.ip[3]),r.setUint16(4,e.port),["relaylatency",{"call-id":t,"call-creator":a},[["te",{latency:"-99954"},Array.from(new Int8Array(i))]]]}function Y(){return q.apply(this,arguments)}function q(){return(q=(0,s.default)((function*(e,t,a,i){var r=K(e,t,a),s=r[0];yield(0,f.sendCallSignalingMsg)({common:{type:s,call_id:t,call_creator_jid:"",peer_jid:i},payload:r})}))).apply(this,arguments)}function z(){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.default)((function*(e,t,a,i,r){var s=W(e,i,t,r),n=s[0];__LOG__(2)(y());var o=yield(0,f.sendCallOffer)({common:{type:n,call_id:i,call_creator_jid:"",peer_jid:a},payload:s});if(!o||!o.status)throw new Error("Error receiving Offer Ack.");switch(o.status){case 200:if(o.payload){__LOG__(2)(j());var d=null,l=null,c=null;for(var u of o.payload[2])if("relay"===u[0])for(var h of u[2])if("token"===h[0])d=new Uint8Array(h[2]);else if("key"===h[0])l=new Uint8Array(h[2]);else if("te2"===h[0]){var p=new Uint8Array(h[2]);if(6===p.length){var g=new DataView(p.buffer);c={ip:[g.getUint8(0),g.getUint8(1),g.getUint8(2),g.getUint8(3)],port:g.getUint16(4)}}}if(null==d)throw new Error("No relay token in Offer Ack");if(null==l)throw new Error("No relay key in Offer Ack");if(null==c)throw new Error("No relay server found in Offer Ack");return{token:d,key:l,relay:c}}throw __LOG__(2)(E()),new Error("Error receiving Offer Ack: No Payload");case 409:throw __LOG__(2)(_()),new Error("Error receiving Offer Ack: Phone Busy");default:throw __LOG__(2)(v(),status),new Error("Error receiving Offer Ack: Unknown status:".concat(status))}}))).apply(this,arguments)}},higbihfff:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.addProductToCart=function(e,t){var{id:a,priceAmount1000:i,currency:r,name:u,imageCdnUrl:f}=e,h=e.catalogWid.toString(),p=n.default.findCart(h),g=p.cartItemCollection.get(a),m=(null==g?void 0:g.quantity)||0,b=Math.min(m+1,o.MAX_QUANTITY);p.cartItemCollection.add({id:a,priceAmount1000:i,currency:r,name:u,imageCdnUrl:f,quantity:b},{merge:!0}),p.trigger("change:products"),function(e){d.default.openToast(s.createElement(c.default,{id:(0,c.genId)(),msg:l.default.t(1097),action:{actionText:l.default.t(1077),onAction:()=>{e()}}}))}(t)},t.updateProductQuantity=function(e,t,a){var i=n.default.findCart(e),r=i.cartItemCollection.get(t.id);null==r||r.set("quantity",a),i.trigger("change:products")},t.deleteProductFromCart=function(e,t){var a=n.default.findCart(e);a.cartItemCollection.remove(t),a.trigger("change:products")};var s=r(a("ddhijeejag")),n=i(a("dhefebafbj")),o=a("ecghacihc"),d=i(a("ccbgfecegc")),l=i(a("bdjjabfecc")),c=r(a("bjhgigfbec"))},hihehahee:function(e,t){e.exports={container:"ORIIb",control:"_1O1ig",label:"_2-kRK",buttons:"_3j3CE",button:"_2_16Q"}},hjieaedbd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bcjcbbafcj"));["webkitGetUserMedia"].forEach((function(e){var t=Object.getPrototypeOf(navigator)[e];t&&navigator[e]!==t&&(navigator[e]=t)}));var s=function(){var e;if(r.default.isBrokenGetUserMedia)return null;var t=null===(e=navigator.mediaDevices)||void 0===e?void 0:e.getUserMedia;if(t)return t.bind(navigator.mediaDevices);var a=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return a?function(e){return new Promise((function(t,i){a.call(navigator,e,t,i)}))}:null}();t.default=s},iajeehcac:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=i(a("dhigahgdjb")),o=i(a("jccfhaecf"));class d extends s.default{constructor(...e){super(...e),this.id=(0,s.prop)(),this.isAdmin=(0,s.prop)(),this.isSuperAdmin=(0,s.prop)(),this.contact=(0,s.session)(),this.hasSenderKey=(0,s.session)(!1)}initialize(){super.initialize(),this.addChild("contact",n.default.gadd(this.id))}}d.Proxy="participant",d.idClass=o.default;var l=(0,s.defineModel)(d);t.default=l},ibdhiicje:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("cgdbgfjefd")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"icfeihfad",7)).then(e=>e.default),"GroupV4InviteFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{okText:d.default.t(1615),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},ibfdghaig:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint8Array(32);return window.crypto.getRandomValues(e),{key:(0,r.encodeB64)(e),timestamp:s.default.globalUnixTime()}};var r=a("dibgccbbif"),s=i(a("cfadcbbiie"))},ibjbjheca:function(e,t){e.exports={container:"WnX2e"}},ibjjdihbi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.makeBridge)();(0,s.setBridge)(t),(0,n.setCollectionHandlers)(t),a("cdfijgbhej").initialize(),a("ccfjgbibc").startMemoryWamStat();var o=a("gcbhjhjhg").default,d=a("dhefcajhhb").default,l=a("bbaibbdgdj").default,c=a("chiaeadhif").default;o.supported&&d.on("change:tag",e=>{var t=navigator.serviceWorker;t&&t.controller&&!e.tag&&c.request(t.controller,l.REMOVE_PP,e.id).catch(()=>{})});(0,a("bgidiahdfc").default)((0,r.getEmojiTypeFromPlatform)(e)),(0,a("bcgiihjdgi").default)();var u=a("chgfegiddc");return{MainComponent:u.default,hasPending:u.hasPending,notificationBackend:a("dgjifchfde"),execApiCmd:a("djeffaehji").default}};var i=a("gbbgfdbji"),r=a("cbffafiad"),s=a("cbcjbjhaib"),n=a("daddaabfdj")},icacibbhd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("bhiefahbjd")),d=r(a("ddeabigheh")),l=r(a("dcaiaeaebb")),c=r(a("ceeeiaedbi")),u=r(a("cadedccheg")),f=r(a("chihecbaj")),h=r(a("cahfddcdga")),p=r(a("jcjjjfbcd")),g=r(a("dhccahhefj")),m=r(a("dgegbadcdj")),b=r(a("dcdbbhicce"));function v({className:e,loopAnimation:t,mediaData:a,startAnimation:i,renderPreview:r,downloadMedia:s,onClick:o,forwardRef:l}){return a.animationDuration>0&&!t?n.createElement(d.default,{className:e,mediaData:a,startAnimation:i,onClick:o,placeholderRenderer:r,downloadMedia:s,ref:l}):n.createElement(f.default,{mediaData:a,placeholderRenderer:r,downloadMedia:s},t=>n.createElement("img",{className:e,draggable:"false",onClick:o,src:t}))}function _({className:e,loopAnimation:t,mediaData:a,startAnimation:i,renderPreview:r,downloadMedia:s,onClick:d}){if(a.animationDuration>0){var l=t?1/0:a.animationDuration/(0,h.default)(a.singleLoopDuration,"mediaData.singleLoopDuration");return n.createElement(u.default,{mediaData:a,render:a=>n.createElement(o.default,{className:e,loopAnimation:t,maxLoops:l,blob:a,renderPreview:r,startAnimation:i,onClick:d}),renderPlaceholder:r,downloadMedia:s})}return a.rgbaBuffer?n.createElement(m.default,{className:e,height:a.rgbaHeight,onClick:d,rgbaBuffer:a.rgbaBuffer,width:a.rgbaWidth}):r()}class E extends n.PureComponent{constructor(e){super(e),this.state={},this._animatedAsNewMsg=this.props.mediaData.animatedAsNewMsg,this._renderPreview=()=>{var e=this.props.mediaData.preview,t=e&&e.url(),a=this._getClassName();return t?n.createElement("img",{className:a,draggable:"false",onClick:this.props.onClick,src:t}):n.createElement(p.default,{className:(0,s.default)(c.default.placeholder,a)})};var t=(0,l.default)();t.isFulfilled()?this.state.supportsWebp=t.value():t.checkpoint(this.props.rejectOnUnmount()).then(e=>this.setState({supportsWebp:e}))}_getClassName(){return(0,s.default)({[c.default.conversation]:"conversation"===this.props.theme,[c.default.quoted]:"quoted"===this.props.theme,[c.default.composeBoxQuoted]:"composeBoxQuoted"===this.props.theme,[c.default.stickerPanel]:"stickerPanel"===this.props.theme,[c.default.clickable]:Boolean(this.props.onClick)})}render(){var{supportsWebp:e}=this.state;if(null==e)return this._renderPreview();var t=this._getClassName(),{mediaData:a}=this.props,i=Boolean(this.props.animateOnView||this.props.isNewMsg&&!this._animatedAsNewMsg),r=Boolean(this.props.loopAnimation);return e?n.createElement(v,{className:t,mediaData:a,loopAnimation:r,startAnimation:i,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia,forwardRef:this.props.forwardRef}):n.createElement(_,{className:t,mediaData:a,loopAnimation:r,startAnimation:i,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia})}}E.CONCERNS={mediaData:["animatedAsNewMsg","animationDuration","singleLoopDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth"]};var j=(0,g.default)((0,b.default)(E,E.CONCERNS));t.default=j},icjigahdj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dgdjiicfdg")),s=a("ddbdgibbbi"),n=i(a("bgeajihhc")),o={setGroupEphemeralDuration:function(e,t){return new Promise((a,i)=>{var o=n.default.tag(),d=this.wrap(a);d.tag=o;var l=[["ephemeral",{value:t.toString()},void 0]],c=["group",{id:o,jid:e,type:"prop",author:(0,s.getMaybeMeUser)()},l],u=this.actionNode("set",[c]);this.binSend("send",u,i,{clientCacheable:!0,onSend:d,onDrop:this.wrap(i)},{debugString:"action,group,ephemeral,"+t,metricName:"GROUP",expires:(0,r.default)().unix()})})}};t.default=o},idaicjeai:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){switch(e){case o.default.CONTACT_US:return U;case o.default.LICENSES:return F;case o.default.DELETE_OR_EXIT_CHAT:return k;case o.default.GO_TO_NEXT_CHAT:return x;case o.default.GO_TO_PREV_CHAT:return G;case o.default.LOGOUT:return I;case o.default.OPEN_NEW_CHAT:return P;case o.default.OPEN_NEW_GROUP:return O;case o.default.OPEN_PROFILE:return N;case o.default.OPEN_SETTINGS:return T;case o.default.SEARCH:return A;case o.default.SEARCH_IN_CHAT:return L;case o.default.TOGGLE_ARCHIVE:return w;case o.default.TOGGLE_MUTE:return R;case o.default.TOGGLE_UNREAD:return D;case o.default.ZOOM_IN:return B;case o.default.ZOOM_OUT:return V;case o.default.ZOOM_RESET:return H}}(e);if(!t)return;try{t()}catch(t){__LOG__(3)(M(),e)}};var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("caabaffghd")),d=r(a("dbdfbgehgj")),l=r(a("ccbgfecegc")),c=r(a("bbfjdcedab")),u=r(a("bjigbaghc")),f=r(a("hgigjbgie")),h=a("ddbdgibbbi"),p=r(a("bdjjabfecc")),g=r(a("jabfchggf")),m=r(a("biecbbiiee")),b=r(a("eajighiif")),v=r(a("ggcdageid")),_=r(a("daehjhdfgf")),E=r(a("dhefcajhhb")),j=r(a("djiecjceea")),y=r(a("dfbjgaaea")),S=r(a("gbbacfeci")),C=r(a("bgeajihhc"));function M(){var e=(0,s.default)(["keyboard:error occurred running action ","."]);return M=function(){return e},e}function T(){l.default.existsDrawerLeft(e=>{e&&l.default.closeDrawerLeft(),l.default.openDrawerLeft(n.createElement(y.default,null))})}function P(){l.default.existsDrawerLeft(e=>{e&&l.default.closeDrawerLeft(),l.default.openDrawerLeft(n.createElement(b.default,null))})}function O(){l.default.existsDrawerLeft(e=>{e&&l.default.closeDrawerLeft(),l.default.openDrawerLeft(n.createElement(v.default,null))})}function N(){l.default.existsDrawerLeft(e=>{e&&l.default.closeDrawerLeft();var t=(0,h.getMaybeMeUser)(),a=S.default.assertGet(t),i=E.default.assertGet(t);l.default.openDrawerLeft(n.createElement(_.default,{status:a,profilePicThumb:i,conn:u.default}))})}function I(){if(!m.default.some(e=>e.ack===f.default.ACK.CLOCK&&e.local&&e.isSentByMe))return C.default.logout();l.default.openModal(n.createElement(c.default,{title:p.default.t(449),onOK:()=>C.default.logout(),okText:p.default.t(868),onCancel:()=>l.default.closeModal(),cancelText:p.default.t(1497)},p.default.t(1258)))}function A(){l.default.focusChatSearch()}function w(){var e=W();if(e&&e.canArchive()){var t=e.archive;l.default.archiveChat(e,!t)}}function R(){var e=W();if(e&&e.mute.canMute()){var t=e.mute.isMuted;l.default.muteChat(e,!t)}}function D(){var e=W();if(e){var t=e.markedUnread;l.default.markChatUnread(e,!t)}}function L(){var e=W();e&&l.default.chatSearch(e)}function k(){var e=W();e&&l.default.deleteOrExitChat(e)}function x(){l.default.focusNextChat(!0)}function G(){l.default.focusPrevChat(!0)}function U(){l.default.openModal(n.createElement(j.default,null))}function F(){l.default.openModal(n.createElement(g.default,null))}function B(){}function V(){}function H(){}function W(){var e=d.default.filter(e=>e.active);return e.length?e[0]:void 0}},idbcfjbae:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dcaifjegcg")),n=a("cgffhfegce"),o=i(a("dcjigehfeb")),d=a("ccfjbcbbga"),l=i(a("biedfadfag"));class c extends s.default{constructor(...e){super(...e),this.old=(0,s.session)(!1),this.id=(0,s.prop)(),this.catalogWid=(0,s.prop)(),this.additionalImageCdnUrl=(0,s.prop)(),this.imageCdnUrl=(0,s.prop)(),this.url=(0,s.prop)(),this.name=(0,s.prop)(),this.description=(0,s.prop)(),this.reviewStatus=(0,s.prop)(),this.currency=(0,s.prop)(),this.priceAmount1000=(0,s.prop)(),this.retailerId=(0,s.prop)(),this.productImageCollection=(0,s.session)(),this.imageCount=(0,s.prop)(),this.index=(0,s.prop)(),this.productMsgMediaData=(0,s.session)(),this.fetchedFromServer=(0,s.session)(),this.t=(0,s.prop)()}initialize(){super.initialize(),this.productImageCollection=new l.default,this.listenTo(this,"change:imageCdnUrl",this.triggerImageUpdate),this.listenTo(this,"change:additionalImageCdnUrl",this.triggerImageUpdate),this.triggerImageUpdate()}triggerImageUpdate(){if(this.markProductImagesOld(),this.fetchedFromServer||!this.productMsgMediaData)this.imageCdnUrl&&(this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",mediaUrl:this.imageCdnUrl.rawUrl,fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0})),this.additionalImageCdnUrl&&this.additionalImageCdnUrl.forEach((e,t)=>{e.productImageModel=this.productImageCollection.gadd({id:"_".concat(t+1),mediaUrl:e.rawUrl,fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0})});else{this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",type:"product",mediaData:new o.default({mediaStage:d.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0});for(var e=1;e<this.imageCount;e++)this.productImageCollection.gadd({id:"_".concat(e),type:"product",mediaData:new o.default({mediaStage:d.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0})}}markOld(){this.old=!0}markProductImagesOld(){this.productImageCollection.forEach(e=>e.markOld())}getHeadImageFile(){var e,{productImageCollection:t,name:a}=this,i=t.head();if(i&&(i.mediaData&&i.mediaData.mediaBlob&&i.mediaData.mediaBlob._blob&&(e=i.mediaData.mediaBlob._blob),e))return(0,n.createFile)([e],"".concat(a,".jpg"),{type:"image/jpeg"})}}c.Proxy="product";var u=(0,s.defineModel)(c);t.default=u},idcacif:function(e,t){e.exports={container:"_3khbh",circle:"_3avN5",text:"XkTa3"}},idffdfffd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("eceibhbeff")),o=i(a("dcjigehfeb")),d=i(a("dcdbbhicce"));class l extends s.Component{constructor(e){super(e),this.refreshBlob=()=>{var e=this.blob;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");var t=new Blob([e],{type:e.type}),a=window.URL.createObjectURL(t);this.state.url&&window.URL.revokeObjectURL(this.state.url),this.setState({url:a})};var t=e.mediaData.filehash,a=n.default.has(t);!a&&e.mediaData.mediaStage===o.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var i=a?this.createURL(t):null;this.state={url:i}}componentDidUpdate(){var e=this.props.mediaData.filehash;n.default.has(e)&&!this.state.url&&this.setState({url:this.createURL(e)})}componentWillUnmount(){this.state.url&&this.revokeURL(this.state.url)}createURL(e){var t=n.default.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");this.blob=t;var a=new Blob([t],{type:t.type});return window.URL.createObjectURL(a)}revokeURL(e){window.URL.revokeObjectURL(e)}render(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}l.CONCERNS={mediaData:["filehash","mediaStage"]};var c=(0,d.default)(l,l.CONCERNS);t.default=class extends c{constructor(...e){super(...e),this.refreshBlob=()=>{this.getComponent().refreshBlob()}}}},idgebhici:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateICELiteAnswerSDP=function(e,t,a,r,s,n,o){var d=(m=e,m.ip.join(".")),l=e.port+1,c=new TextDecoder,u=(0,i.encodeB64)(t),f=c.decode(a),h=(0,i.encodeB64)(n),p=(new Date).getTime(),g="v=0\no=- ".concat(p," ").concat(2," IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0").concat(o?" 1":"","\na=ice-lite\na=msid-semantic: WMS g1noOjzcjYNgtJfnKdCzBmyvTozKsCGWCleP\nm=audio ").concat(l," RTP/SAVPF ").concat(111,"\nc=IN IP4 ").concat(d,"\na=rtcp:9 IN IP4 0.0.0.0\na=candidate:1152096416 1 udp 2113937151 ").concat(d," ").concat(l," typ host generation 0 network-cost 999\na=ice-ufrag:").concat(u,"\na=ice-pwd:").concat(f,"\na=ice-options:trickle\na=setup:active\na=mid:0\na=extmap:13 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=msid:g1noOjzcjYNgtJfnKdCzBmyvTozKsCGWCleP df375ff4-7ed5-459d-b991-76c8e47ffc52\na=rtcp-mux\na=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:").concat(h,"\na=rtpmap:").concat(111," opus/48000/2\na=rtcp-fb:").concat(111," goog-remb\na=rtcp-fb:").concat(111," transport-cc\na=ssrc:").concat(r," cname:noAs9WOptAnM/+QP\n");var m;o&&(g+="m=video ".concat(l," RTP/SAVP ").concat(102,"\nc=IN IP4 ").concat(d,"\na=rtcp:9 IN IP4 0.0.0.0\na=candidate:1152096416 1 udp 2113937151 ").concat(d," ").concat(l," typ host generation 0 network-cost 999\na=ice-ufrag:").concat(u,"\na=ice-pwd:").concat(f,"\na=ice-options:trickle\na=mid:1\na=extmap:12 urn:3gpp:video-orientation\na=extmap:13 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=msid:ZhweKKCOEinfZyYuSPSvnC7upm9Zs0IIaRYb 629eaf55-18ca-47ed-8bfe-98dfd17c0bc9\na=rtcp-mux\na=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:").concat(h,"\na=rtpmap:").concat(102," VP8/90000\na=rtcp-fb:").concat(102," nack\na=rtcp-fb:").concat(102," nack pli\na=rtcp-fb:").concat(102," goog-remb\na=rtcp-fb:").concat(102," transport-cc\na=ssrc:").concat(s," cname:rcpcNyS/Kejuq2+Y\n"));return{type:"answer",sdp:g}},t.modifyOfferSDP=function(e,t,a,r,s){var n=e;if(n=(n=(n=n.replace(/ice-ufrag:\S+/g,"ice-ufrag:wa-web")).replace(/ice-pwd:\S+/g,"ice-pwd:CplKUv1mtNXWrv0ZzQkHX3TF")).replace(/a=crypto:.*/g,"a=crypto:0 AES_CM_128_HMAC_SHA1_32 inline:".concat((0,i.encodeB64)(r))),s){var o=n.search(/m=video/g),d=n.substring(0,o),l=n.substring(o);d=d.replace(/ssrc:\S+/g,"ssrc:".concat(t)),l=l.replace(/ssrc:\S+/g,"ssrc:".concat(a)),n=d+l}else n=n.replace(/ssrc:\S+/g,"ssrc:".concat(t));return n};var i=a("dibgccbbif")},idgifdccc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("ceggedffg")),o=i(a("djegeegcbf")),d=i(a("ddcbeeeahg")),l=a("bficeagfg"),{getGlyphIdFromUnicode:c,emojiRegex:u}=o.default,f=(0,n.default)(u(),0,(function(e){return c(e[0])?e:null}));class h extends f{static jsx(e,[t],{size:a,selectable:i=!1}){return s.createElement(d.default,{emoji:t,size:a,selectable:i})}static match(e,t,a){var i=null!=a&&0!==a?a:e.length,r=(0,l.firstNCodepoints)(e,i);return super.match(r)}}t.default=h,h.compatibility=!0},idjjacjfe:function(e,t){e.exports={container:"_3Owzc",isChecked:"_3TADo",gallery:"_3Tmba"}},ieaejaeia:function(e,t){e.exports={wrapper:"_3B8qp"}},iecijehdi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("bbhfcbifea")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"befdeebfeb",7)).then(e=>e.default),"AddContactToGroupFlow");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(1618),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},ieeidjijb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.FREQUENT_PREFIX=t.Type=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("effbcehec")),l=r(a("eabehhacha")),c=r(a("ccfcjccjbg")),u=r(a("bhdbfffd")),f=r(a("hhcjfgifh")),h=a("cgejchjdhj"),p=r(a("gfebgebbi")),g=r(a("ddajbaceej")),m=r(a("dhfbfehaef")),b=r(a("bdjjabfecc")),v=r(a("ebddggeaib")),_=r(a("gjbhafcjg")),E=a("dfdjcjidfg"),j=r(a("dcdbbhicce")),y=a("cjfegjecaj"),S=r(a("dadjidbecc")),C=r(a("dgdcjccfdi")),M=r(a("jccfhaecf"));function T(){var e=(0,s.default)(["Contact: prop searchQuery is undefined"]);return T=function(){return e},e}var P={SMALL:"SMALL",DEFAULT:"DEFAULT"};t.Type=P;t.FREQUENT_PREFIX="freq_";class O extends o.Component{constructor(...e){super(...e),this._setCellRef=e=>{this._cellRef=e},this._setHotKeysRef=e=>{this._hotKeysRef=e},this.state={active:!1,searchText:"",contextMenu:!1},this.onSearch=()=>{this.props.searchQuery?this.setState({searchText:this.props.searchQuery.trimmed}):__LOG__(3)(T())},this.onActiveChange=(e,t)=>{if("focus"===e){var a=this._hotKeysRef;a&&(g.default.focus(a),t&&(0,h.scrollIntoViewIfNeeded)(a))}this.setState({active:!!e})},this.onDelete=e=>{e.stopPropagation();var t=this.props.onDelete;t&&t(e,(0,y.unproxy)(this.props.contact))},this.onClick=e=>{var{onClick:t,contact:a}=this.props;t&&t(e,(0,y.unproxy)(a))},this.onMouseDown=e=>{0===e.button&&this.onClick(e)},this.onEnter=e=>{e.preventDefault(),e.stopPropagation(),this.onClick(e)},this.onContext=e=>{this.props.onContext&&this.props.onContext(e,this.props.contact)},this.indicateFocus=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=this._cellRef)||void 0===t||t.indicateFocus()}}static getDerivedStateFromProps(e,t){var{active:a,contact:i,searchQuery:r}=e,s={},n=a&&a.value instanceof c.default&&i.isProxyOf(a.value);t.active!==n&&(s.active=n);var o=r?r.trimmed:"";return t.searchText!==o&&(s.searchText=o),s}componentDidMount(){this.initListeners(this.props);var{listenForAdminChange:e,listeners:t,participantCollection:a,contact:i}=this.props;e&&a&&t.add(a,"change:isAdmin change:isSuperAdmin",e=>{M.default.equals(e.id,i.id)&&this.forceUpdate()})}componentDidUpdate(e){this.initListeners(this.props,e)}initListeners(e,t){var{listeners:a,active:i,contact:r,searchQuery:s,frequent:n}=e;if(t&&t.searchQuery&&t.searchQuery!==s&&a.remove(t.searchQuery,E.SEARCH_EVENT,this.onSearch),!s||t&&s===t.searchQuery||a.add(s,E.SEARCH_EVENT,this.onSearch),(!t||!r.id.equals(t.contact.id))&&(t&&t.active&&a.remove(t.active,t.contact.id.toString(),this.onActiveChange),i)){var o=(n?"freq_":"")+r.id.toString();a.add(i,o,this.onActiveChange)}}contextEnabled(){return!1}render(){var e,t,a,{contact:i,secondary:r,onContext:s,onDelete:c,contextEnabled:h,contextMenu:g,admin:v,showNotifyName:E,waitIdle:j,theme:y,useShortName:M,detail:T,listenForAdminChange:O,participantCollection:N,isPendingParticipant:I,showEphemeralIcon:A}=this.props,{active:w,searchText:R}=this.state,D=(0,n.default)({[u.default.contactSmall]:this.props.type===P.SMALL});if(!i.name&&E&&i.notifyName&&(a=o.createElement("span",{className:u.default.screenName},o.createElement(p.default,{direction:"auto",text:i.notifyName}))),(v||O&&N&&N.assertGet(i.id).isAdmin)&&(t=o.createElement("div",{className:u.default.markerAdmin},b.default.t(1548))),I&&(t=o.createElement("div",{className:u.default.markerInvited},b.default.t(721))),null!=T)e=T;else if(c){var L=this.props.type===P.SMALL?"x-alt-small":"x-alt";e=o.createElement("div",{"data-a8n":d.default.key("chat-controls"),className:u.default.chatControls,role:"button",onClick:this.onDelete},o.createElement(C.default,{name:L}))}var k,x=r;null==x&&(x=o.createElement(S.default,{id:i.id,waitIdle:j})),s&&(k=this.onContext);var G=this.props.type===P.SMALL?26:void 0,U={enter:this.onEnter},F=this.props.mouseDownAsClick,B=o.createElement(_.default,{contact:i,useShortName:M,highlightText:R,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),V="list-names"!==y||c?y:"list-names-no-delete";return o.createElement(m.default,{onRef:this._setHotKeysRef,handlers:U,onFocus:this.indicateFocus,className:D},o.createElement(l.default,{ref:this._setCellRef,theme:V,active:w,contextEnabled:h||this.contextEnabled,contextMenu:g,pendingAction:i.pendingAction,detail:e,image:o.createElement(f.default,{id:i.id,size:G,showEphemeralIcon:A,waitIdle:j}),primary:B,primaryDetail:t,secondary:x,secondaryDetail:a,onClick:F?null:this.onClick,onMouseDown:F?this.onMouseDown:null,onContext:k}))}}O.CONCERNS={contact:["id","pendingAction","notifyName","name"]};var N=O;t.Component=N;var I=(0,v.default)((0,j.default)(O,O.CONCERNS));t.default=I},iehjjbidi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"};t.default=i},iejgdeded:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("cbjcfbbhja")),l=r(a("ebddggeaib")),c=r(a("bdcchebfge")),u=r(a("deagfdiahe")),f=r(a("cjchbadddj"));function h(){var e=(0,s.default)(["Invalid stashed time spent event"]);return h=function(){return e},e}function p(){var e=(0,s.default)(["Invalid stashed time spent event"]);return p=function(){return e},e}function g(){var e=(0,s.default)(["Time Spent Logger not started"]);return g=function(){return e},e}var m=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}];class b extends n.Component{constructor(...e){super(...e),this.lastInform=Date.now(),this.lastPageX=-1,this.lastPageY=-1,this.bitArray=null,this.endSession=()=>{this.bitArray&&this.bitArray.shipAndEndSession()},this.handleRestore=()=>{var e=this.bitArray;e?(this.lastInform=Date.now(),e.update(this.lastInform)):__LOG__(3)(g())},this.handleEvent=e=>{var t=this.bitArray;if(t){if(e instanceof MouseEvent){if(e.pageX===this.lastPageX&&e.pageY===this.lastPageY&&"click"!==e.type)return;this.lastPageX=e.pageX,this.lastPageY=e.pageY}var a=Date.now(),i=a-this.lastInform;i>0?(this.lastInform=a,t.update(this.lastInform)):i<-5&&(this.lastInform=a)}},this.handleUnload=()=>{this.bitArray&&(this.bitArray.ship(this.stashLogs),this.bitArray=null)},this.shipLogs=e=>{var t=new c.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()},this.stashLogs=e=>{for(var t="".concat(e.bitmap[0]),a=1;a<e.bitmap.length;++a)t+=":".concat(e.bitmap[a]);var i="".concat(e.sessionId,":").concat(e.sessionSeq,":").concat(e.sessionCum)+":".concat(e.startTime,":").concat(e.bitmapLen,"$").concat(t);d.default.permanentStorage.setItem(o.default.KEY_TIME_SPENT_EVENT,i)}}componentDidMount(){var e=d.default.permanentStorage.getItem(o.default.KEY_TIME_SPENT_EVENT);e&&(this.parseAndShipStashed(e),d.default.permanentStorage.removeItem(o.default.KEY_TIME_SPENT_EVENT));var t=this.props.listeners;this.bitArray=new f.default(this.shipLogs);var a=!u.default||{passive:!0,capture:!0};t.add(window,"beforeunload",this.handleUnload);for(var i=0;i<m.length;++i){var{source:r,name:s}=m[i];t.add(r,s,this.handleEvent,a)}}componentWillUnmount(){this.bitArray&&(this.bitArray.ship(),this.bitArray=null)}parseAndShipStashed(e){var[t,a,...i]=e.split("$");if(!i.length&&a)if(5===(t=t.split(":")).length){a=new Int32Array(a.split(":").map(e=>Number(e)));var r={sessionId:t[0],sessionSeq:Number(t[1]),sessionCum:Number(t[2]),startTime:Number(t[3]),bitmapLen:Number(t[4]),bitmap:a};this.shipLogs(r)}else __LOG__(3)(h());else __LOG__(3)(p())}render(){return null}}var v=(0,l.default)(b);t.default=v},ifdgihhgf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfiaijfhc")),s=i(a("ddajgjdcjb")),n=i(a("ccgeihgjja"));class o extends r.default{constructor(...e){super(...e),this.handlers={onBeforeInput:s.default,onKeyDown:n.default}}}var d=new o;t.default=d},ifeefbdg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ffedgcdgj")),s=i(a("caejgeijci")),n=a("cabeijgaif"),o=i(a("cfidecfjad"));function d(){return(d=(0,r.default)((function*(e){var{title:t,description:a,canonicalUrl:i,matchedText:r,preview:s,thumbnail:d,doNotPlayInline:l}=yield o.default.queryLinkPreview(e);return r&&(t||a)?{url:e,data:{title:t||void 0,description:a||void 0,canonicalUrl:i||void 0,matchedText:r,richPreviewType:"video"===s?n.ExtendedTextMessagePreviewType.VIDEO:n.ExtendedTextMessagePreviewType.NONE,thumbnail:d||void 0,doNotPlayInline:l}}:null}))).apply(this,arguments)}var l=(0,s.default)((function(){return d.apply(this,arguments)}));t.default=l},ifeijahg:function(e,t){e.exports={fullWidthShade:"_2hNBB",stripHeightShade:"_2A1Wh",lowerShade:"_1GBUI",upperShade:"_3AoXe",fullHeightShade:"_2Qlb1",roundedCorners:"_3B0N7"}},ifiehebcb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StickerSearchCollection=t.STICKER_PACK_INDEX_LIMIT=void 0;var s=r(a("dfadhaifh")),n=r(a("ffedgcdgj")),o=r(a("cgcgbfbffj")),d=r(a("dicggaeied")),l=r(a("jdigiabic")),c=r(a("cgfidiajgj")),u=i(a("fagbfehid"));function f(){var e=(0,s.default)(["Orders were not properly defined for these stickers"]);return f=function(){return e},e}function h(){var e=(0,s.default)(["User does not have "," sticker packs, stopping at ","."]);return h=function(){return e},e}function p(){var e=(0,s.default)(["No recent stickers found"]);return p=function(){return e},e}function g(){var e=(0,s.default)(["Sticker with no emoji found, ignoring"]);return g=function(){return e},e}function m(){var e=(0,s.default)(["Sticker failed to download"]);return m=function(){return e},e}var b=u.PAGE_SIZE_COMPOSE_BOX;t.STICKER_PACK_INDEX_LIMIT=b;var v=[...Array(b).keys()];class _ extends o.default{constructor(...e){super(...e),this._hasFetched=!1,this._orderMap=new Map,this._emojiMap=new Map}addNewSticker(e,t,a){var i=this;return(0,n.default)((function*(){var r;if(!i._orderMap.has(e.filehash)){i._orderMap.set(e.filehash,{packIndex:a,stickerIndex:t});try{yield e.downloadMedia()}catch(e){return void __LOG__(2)(m())}null!=e.mediaData.emojis?null===(r=e.mediaData.emojis)||void 0===r||r.forEach(t=>{var a=i._emojiMap.get(t)||[];i._emojiMap.set(t,[e,...a])}):__LOG__(2)(g())}}))()}fetchOnce(){var e=this;return(0,n.default)((function*(){e._hasFetched||(yield e.fetch())}))()}fetch(){var e=this;return(0,n.default)((function*(){e._hasFetched=!0;var t=yield l.default.sync();if(null==t)__LOG__(2)(p());else{var a=t.map(function(){var t=(0,n.default)((function*(t,a){yield e.addNewSticker(t,a,0)}));return function(){return t.apply(this,arguments)}}());yield Promise.all(a)}yield u.default.fetchAt(0);for(var i=v.map(e=>{var t=u.default.at(e);if(null==t?void 0:t.isFirstParty)return null==t?void 0:t.stickers.fetch()}),r=function*(t){var a;yield i[t];var r=null===(a=u.default.at(t))||void 0===a?void 0:a.stickers;if(null==r)return __LOG__(2)(h(),b,t),"break";var s=r.map(function(){var a=(0,n.default)((function*(a,i){yield e.addNewSticker(a,i,t)}));return function(){return a.apply(this,arguments)}}());yield Promise.all(s)},s=0;s<b;++s){if("break"===(yield*r(s)))break}}))()}search(e){var t=new Set,a=[];""!==e.trim()&&(0,d.default)(e).forEach(e=>{var i=this._emojiMap.get(e);null!=i&&i.forEach(e=>{t.has(e.id)||(a.push(e),t.add(e.id))})});return a.sort((e,t)=>{var a=this._orderMap.get(e.filehash),i=this._orderMap.get(t.filehash);return null==a||null==i?(__LOG__(3)(f()),0):a.packIndex===i.packIndex?a.stickerIndex-i.stickerIndex:a.packIndex-i.packIndex})}delete(){super.delete(),this._orderMap=new Map,this._emojiMap=new Map,this._hasFetched=!1}}t.StickerSearchCollection=_,_.model=c.default;var E=new _;t.default=E},igdabcfib:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dhiggcdjgd"));class o extends s.PureComponent{render(){return s.createElement(n.default,this.props)}}var d=o;t.default=d},igdjeffe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FALLBACK=void 0;var s=r(a("cdfdfciehj")),n=r(a("dfadhaifh")),o=i(a("dcaifjegcg")),d=r(a("hgigjbgie")),l=a("ddbdgibbbi"),c=r(a("bhbdiadfhj")),u=r(a("edbaidcaf")),f=r(a("jccfhaecf")),h=r(a("gcbhjhjhg"));function p(){var e=(0,n.default)(["Assertion failed!"]);return p=function(){return e},e}var g={SINGLE:"SINGLE",GROUP:"GROUP"};t.FALLBACK=g;class m extends o.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.token=(0,o.prop)(),this.tag=(0,o.prop)(),this.raw=(0,o.prop)(),this.eurl=(0,o.prop)(),this.stale=(0,o.session)(!0),this.eurlStale=(0,o.session)(!1),this.pendingPic=(0,o.session)(),this.img=(0,o.derived)(this._img,["tag","raw","stale","eurl","eurlStale"]),this.imgFull=(0,o.derived)(this._imgFull,["tag","raw","stale","eurl","eurlStale"]),this.fallbackType=(0,o.derived)(this._fallbackType,["id"])}_img(){return this.raw?"data:image/jpeg;base64,"+this.raw:!this.tag&&this.stale?null:this.tag?(c.default.supportsFeature(c.default.F.MD_BACKEND),this.generateUrl("s")):void 0}_imgFull(){return!this.raw&&this.tag||!this.stale?!this.raw&&this.tag?(c.default.supportsFeature(c.default.F.MD_BACKEND),this.generateUrl("l")):void 0:null}_fallbackType(){return f.default.isUser(this.id)?g.SINGLE:(f.default.isGroup(this.id),g.GROUP)}markStale(e){this.stale=!0,e&&e.eurl&&(this.eurlStale=!0)}validate(){if(this.stale||this.eurlStale)return this.getCollection().update(this.id)}generateUrl(e){var t={t:e,u:this.id.toString(),i:this.tag||"",n:this.token||""};return this.token||(__LOG__(4,!1,new Error)(p()),SEND_LOGS("profilePicThumb::generateUrl: empty token for profile pic")),h.default.alive&&this.eurl&&!this.eurlStale&&(t=(0,s.default)({e:this.eurl},t)),u.default.build(d.default.PP_URL,t)}canSet(){if(f.default.isGroup(this.id)){var e=a("dbdfbgehgj").default.get(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!!this.id.equals((0,l.getMaybeMeUser)())}canDelete(){if(f.default.isGroup(this.id)&&this.tag){var e=a("dbdfbgehgj").default.assertGet(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!(!this.id.equals((0,l.getMaybeMeUser)())||!this.tag)}getCollection(){return a("dhefcajhhb").default}}m.Proxy="profilePicThumb",m.idClass=f.default;var b=(0,o.defineModel)(m);t.default=b},igieaiddf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseInput=void 0;var s=r(a("bacehaajgh")),n=r(a("ceffhbhahb")),o=i(a("ddhijeejag")),d=r(a("effbcehec")),l=r(a("bhfiaijfhc")),c=i(a("dehfadfiij")),u=r(a("hgigjbgie")),f=r(a("fefafaaeh")),h=r(a("bjiagddifi")),p=r(a("baiidbedjj")),g=r(a("ihhfhbadh")),m=r(a("ebgbahdcjg")),b=r(a("dcjhajfghf")),v=r(a("ddajbaceej")),_=r(a("cadaffihj")),E=r(a("dhfbfehaef")),j=r(a("bdjjabfecc")),y=r(a("cahfddcdga")),S=r(a("bjhdffchbh")),C=a("cbhhehcjbb"),M=r(a("cjjhigeega")),T=r(a("cdjedhbgfd")),P=r(a("cafdcbgbjf")),O=r(a("bcjcbbafcj")),N=a("bficeagfg");class I extends o.Component{constructor(...e){super(...e),this.__changeDueToReset=!1,this.__isMounted=!0,this.__isComposing=!1,this.containerRef=null,this.selection=this.props.initialSelection,this.state={direction:w(this.props.initialValue||""),focused:!1,value:this.props.initialValue||""},this.trigger=(e,t=[])=>{var a=this.hookMap[e];a&&a(...t)},this.serializeTextBeforeCursor=()=>(0,T.default)(this.refInput||document.createElement("span"),window.getSelection()),this._hasFocus=(e=this.refInput)=>{if(!e)return!1;var{activeElement:t}=document;return!!t&&(t===e||e.contains(t))},this.forceFocus=(e=!1)=>{if(!this.props.readOnly&&this.__isMounted){var{refInput:t}=this;if(t){var a=this._hasFocus(t);if(!a||e)if(a||v.default.focus(t),!e&&this.selection)this.restoreSelection(this.selection);else{var i=window.getSelection();i&&i.rangeCount&&(i.selectAllChildren(t),i.collapseToEnd())}}}},this.focus=(e=!1)=>{this._hasFocus()&&!e||setTimeout(()=>{this.forceFocus(e)},0)},this.reset=(e="")=>{this.__changeDueToReset=!0,this.selection=null,this._setValue(e)},this._setValue=e=>{if(e!==this.state.value){var t=e||"";this.setState({value:t,direction:w(t)},()=>{this.trigger(_.default.CHANGE,[t]),this.props.onChange&&this.props.onChange(t)})}},this.onSelect=()=>{this.selection=this.getSelection(),this.props.onSelect&&this.props.onSelect(this.selection)},this.shouldComponentUpdate=(e,{value:t,focused:a,direction:i})=>{if(null!=this.refInput&&this.props.readOnly!==e.readOnly&&this.refInput.setAttribute("contentEditable",String(!e.readOnly)),a!==this.state.focused&&this.containerRef&&(a?this.containerRef.classList.add("focused"):this.containerRef.classList.remove("focused")),i!==this.state.direction&&this.refInput&&this.refInput.setAttribute("dir",i),this.__changeDueToReset){this.__changeDueToReset=!1;var r=(0,P.default)(t,this.plugins);this.refInput&&(this.refInput.innerHTML=r)}var s=!t.length&&!!this.state.value.length,n=!!t.length&&!this.state.value.length;if(!n&&!s)return!1;var o=n?"hidden":"visible";return this.refPlaceholder&&this.refPlaceholder.setAttribute("style","visibility: ".concat(o)),!1},this.componentWillUnmount=()=>{this.__isMounted=!1,this.refInput&&(this.refInput.restoreFocus=null)},this.onInput=()=>{var{refInput:e}=this,t=e?(0,M.default)(e,this.plugins):"",a=this.props.multiline&&"\n"!==t?t:t.replace(/\n$/,""),{maxLength:i}=this.props;if(null!=i&&(0,N.numCodepoints)(a)>i){var r=this.selection;return e&&(e.innerHTML=(0,P.default)(this.state.value,this.plugins)),void(r&&this.restoreSelection(r))}this.trigger(_.default.INPUT),this._setValue(a)},this.onPaste=e=>{e.preventDefault(),e.stopPropagation();var t=new b.default(e.clipboardData),{onFiles:a,onTextPaste:i}=this.props;t.hasFiles()&&a&&a(t)||t.hasText()&&t.getText(this.props.textPasteMimePriority).then(e=>{if(e&&(!i||!i(e))){var t=this.length-this.selectionLength,{maxLength:a}=this.props;if(null!=a&&t+(0,N.numCodepoints)(e)>a){var{onMaxPasteExceeded:r}=this.props;return r&&r()}this.replaceSelection(e)}})},this.onBeforeInput=e=>{if(this.props.readOnly)return!0;var{maxLength:t}=this.props;if(null==t)return!1;var a=e.data.charCodeAt(0);if(8===a||127===a)return!1;var{selectionLength:i,length:r}=this;return(0,N.numCodepoints)(e.data)>t+i-r},this.onKeyDown=e=>!(!this.props.onKeyDown||!this.props.onKeyDown(e))||13===e.which&&(this.props.multiline&&function(e){return 13===e.which&&(e.shiftKey||e.altKey||e.ctrlKey)}(e)?!(""!==this.state.value.trim()||!this.cursorIsAtStart())||(e.shiftKey||O.default.isSafari||this.insertNewLineAtSelection(),!1):(this.props.onEnter&&this.props.onEnter(e),!0)),this.componentDidMount=()=>{this.refInput&&(this.refInput.restoreFocus=this.focus),this.trigger(_.default.MOUNT)},this.onBlur=e=>{this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.onFocus=e=>{this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.onCompositionStart=()=>!(this.__isComposing=!0),this.onCompositionEnd=()=>this.__isComposing=!1,this.setRefContainer=e=>{this.containerRef=e},this.setRefPlaceholder=e=>{this.refPlaceholder=e},this.setRefInput=e=>{this.refInput=e}}get value(){return this.state.value}get selectionLength(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||v.default.focus(this.refInput);var e=window.getSelection();return e.rangeCount?(0,N.numCodepoints)((0,M.default)(e.getRangeAt(0).cloneContents(),this.plugins)):0}get length(){return(0,N.numCodepoints)(this.state.value)}serialize(e){var t=e||this.state.value;return this.plugins.reduce(([e,t],a)=>a.serialize?a.serialize(e,t):[e,t],[t,{}])}adjustScrollAfterModification(e,t,a){var{scrollHeight:i,clientHeight:r}=e;i<=r||(e.scrollTop=(a||0)+(i-t))}ensureFocus(e){this._hasFocus(e)||(v.default.focus(e),this.selection&&this.restoreSelection(this.selection))}replaceSelection(e,t=!1){var{refInput:a}=this;if(!this.props.readOnly&&null!=a){this.ensureFocus(a);var i=this.trimToFit(e);if(i.length||t){this.props.multiline||(i=i.replace(/\r?\n/g,""));var r=window.getSelection().getRangeAt(0);(function({startOffset:e,startContainer:t},a){return 0===e&&t!==a&&(!(!t||!t.previousSibling)&&"\n"===t.previousSibling.textContent.slice(-1))})(r,a)&&(i="\n".concat(i)),r.deleteContents();var{scrollHeight:s,scrollTop:n}=a;document.execCommand("insertHTML",!1,(0,P.default)(i,this.plugins)),this.onSelect(),this.adjustScrollAfterModification(a,s,n)}}}insertNewLineAtSelection(){var{refInput:e}=this;if(this.props.multiline&&!this.props.readOnly&&null!=e){this.ensureFocus(e);var{scrollHeight:t,scrollTop:a}=e,i=document.createTextNode("\n"),r=window.getSelection(),s=r.getRangeAt(0);s.deleteContents(),s.insertNode(i),t===e.scrollHeight&&(i=i.cloneNode(),s.insertNode(i)),s.setStartAfter(i),s.setEndAfter(i),s.collapse(!1),r.removeAllRanges(),r.addRange(s),this.adjustScrollAfterModification(e,t,a),e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))}}deleteSelection(){this.replaceSelection("",!0)}restoreSelection(e){var{refInput:t}=this;if(t){var{anchorIndex:a,focusIndex:i}=e,{anchorOffset:r,focusOffset:s}=e,{childNodes:n}=t,o=-1===a?t:n[a],d=-1===i?t:n[i];if(o&&d)try{o===d&&r>s&&([r,s]=[s,r]);var l=document.createRange();l.setStart(o,r),l.setEnd(d,s);var c=window.getSelection();c.removeAllRanges(),c.addRange(l);try{var u=document.createRange();u.setStart(d,s),u.setEnd(d,s);var f=u.getBoundingClientRect(),{bottom:h,top:p}=f,g=this.refInput&&this.refInput.getBoundingClientRect(),{bottom:m,top:b}=g||{};if(p>=b&&h<=m)return;this.refInput&&(this.refInput.scrollTop+=h<b?p-b:h-m)}catch(e){}}catch(e){this.focus(!0)}}}getSelection(){var{refInput:e}=this;if(!e||document.activeElement!==e)return null;for(var t,a=window.getSelection(),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:n}=a,o=e.childNodes,d=-1,l=-1,c=0;(d<0||l<0)&&(t=o[c++]);)i===t&&(d=c-1),s===t&&(l=c-1);return{anchorIndex:d,anchorOffset:r,focusIndex:l,focusOffset:n}}trimToFit(e){var{maxLength:t}=this.props;if(null==t)return e;var{selectionLength:a,length:i}=this,r=t+a-i;return r<=0?"":(0,N.substring)(String(e),0,r)}cursorIsAtEnd(){return!(!this.state.focused||""!==this.state.value)||(0,g.default)(this.refInput)}cursorIsAtStart(){return!(!this.state.focused||""!==this.state.value)||(0,m.default)(this.refInput)}isFocused(){return this.state.focused}get isComposing(){return this.__isComposing}blur(){(0,y.default)(this.refInput,"this.refInput").blur()}select(){var e=(0,y.default)(this.refInput,"this.refInput"),t=document.createRange();t.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)}_getTabOrder(){return null!=this.props.tabOrder?this.props.tabOrder:this.props.readOnly?null:u.default.TAB_ORDERS.COMPOSE_BOX_INPUT}render(){var e,{props:{placeholder:t},state:{value:a,direction:i}}=this,r=a.length>0?"hidden":"visible",l=(0,n.default)(S.default.input,{[S.default.compose]:"compose"===this.props.theme,[S.default.default]:"default"===this.props.theme||"media-caption"===this.props.theme,[S.default.large]:"large"===this.props.theme,[S.default.media]:"media-caption"===this.props.theme,[S.default.invite]:"v4-invite-caption"===this.props.theme,[S.default.small]:"small"===this.props.theme,[S.default.status]:"status-reply"===this.props.theme,[S.default["list-search"]]:"list-search"===this.props.theme});return o.createElement(E.default,{className:l,handlers:this.hotKeyMap,onRef:this.setRefContainer},o.createElement("div",{"data-a8n":d.default.key("pluggable-input-placeholder"),className:S.default.placeholder,ref:this.setRefPlaceholder,style:{visibility:r}},t),o.createElement("div",(0,s.default)({},this.handlerMap,{"data-a8n":null!==(e=d.default.key(this.props.a8n))&&void 0!==e?e:d.default.key("pluggable-input-body"),className:(0,n.default)(S.default.body,C.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:(0,P.default)(a,this.plugins)},"data-tab":this._getTabOrder(),dir:i,ref:this.setRefInput,spellCheck:this.props.spellCheck})))}}t.BaseInput=I;t.default=e=>class extends I{constructor(...t){var a,i,r;super(...t),this.plugins=[...e.map(e=>(e instanceof l.default&&e.initialize(this),e)),(r=this,{handlers:(a=r,i=A,i.reduce((e,t)=>(Array.isArray(t)?e[t[0]]=a[t[1]]:e[t]=a[t],e),{}))})],this.handlerMap=(0,f.default)(this.plugins,this),this.hookMap=(0,h.default)(this.plugins,this),this.hotKeyMap=(0,p.default)(this.plugins,this)}};var A=["onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onFocus","onInput","onKeyDown","onPaste","onSelect"];function w(e){return c.dir(e)||j.default.LR("ltr","rtl")}},igiffibee:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=function(e,t){var a=s.default.getLocale(),i="".concat(e,",").concat(t);return"".concat(o,"/").concat("","/").concat(i,"?hl=").concat(a)},t.getSearchUrl=function(e){var t=s.default.getLocale();return"".concat(d,"/").concat(encodeURIComponent(e),"/z?hl=").concat(t)},t.getMapUrl=function(e,t,a){var i=s.default.getLocale();return a?"".concat(d,"/").concat(encodeURIComponent(a),"/@").concat(e,",").concat(t,",").concat(c,"z?hl=").concat(i):n.default.build(l,{q:"".concat(e,",").concat(t),z:c,hl:i})};var r=i(a("hgigjbgie")),s=i(a("bdjjabfecc")),n=i(a("edbaidcaf")),{G_MAPS_DIR_URL:o,G_MAPS_SEARCH_URL:d,G_MAPS_URL:l,SEARCH_ZOOM:c}=r.default},igjghefdb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.Chatstate=t.default=t.ChatstateCollection=void 0;var s=r(a("eaaagccfda")),n=r(a("cgcgbfbffj")),o=i(a("dcaifjegcg")),d=r(a("cfadcbbiie")),l=r(a("dhigahgdjb")),c=r(a("bdjjabfecc")),u=r(a("jccfhaecf"));class f extends o.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.type=(0,o.prop)(),this.t=(0,o.prop)(),this.deny=(0,o.prop)(),this.updateTime=(0,o.session)(),this.expireTimerId=(0,o.session)()}}f.Proxy="chatstate",f.idClass=u.default;var h=(0,o.defineModel)(f);t.Chatstate=h;class p extends n.default{}t.ChatstateCollection=p,p.model=h;class g extends o.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.isOnline=(0,o.session)(!1),this.stale=(0,o.session)(!0),this.hasData=(0,o.session)(!1),this.isSubscribed=(0,o.session)(!1),this.withholdDisplay=(0,o.session)(!0),this.forceDisplay=(0,o.session)(!1),this.chatActive=(0,o.session)(!1),this.withholdDisplayTimer=(0,o.session)(),this.forceDisplayTimer=(0,o.session)(),this.chatstate=(0,o.session)(),this.chatstates=(0,o.collection)(p),this.isGroup=(0,o.derived)(this._isGroup),this.isUser=(0,o.derived)(this._isUser)}_isGroup(){return u.default.isGroup(this.id)}_isUser(){return u.default.isUser(this.id)}initialize(){super.initialize();var e=this.isGroup?{id:"",type:"unavailable"}:{id:this.id};this.addChild("chatstate",new h(e)),this.isGroup?this.listenTo(this.chatstates,"add change",(0,s.default)(()=>{var e,t=!1;this.chatstates.forEach(a=>{"composing"!==a.type&&"recording"!==a.type||e&&!(e.updateTime<a.updateTime)||(e=a),t=t||"unavailable"!==a.type}),this.set({isOnline:t}),this.chatstate.set({id:e?e.id:"",type:e?e.type:"unavailable"})})):this.listenTo(this.chatstate,"change:type",()=>{this.isOnline="unavailable"!==this.chatstate.type}),this.listenTo(this,"change:chatActive",this.onChatActiveChange)}delete(){super.delete(),this.getCollection().remove(this.id),this.chatstate.delete(),this.chatstates.forEach(e=>e.delete())}reset(){this.hasData=!1,this.isGroup?this.chatstates.forEach(e=>{e.type="unavailable"}):this.isUser&&(this.chatstate.unset("t"),this.chatstate.unset("deny")),this.chatstate.set({id:this.isGroup?"":this.id,type:"unavailable",t:void 0,deny:void 0})}isActive(){var e=this.chatstate.type;return this.hasData&&("composing"===e||"recording"===e)}getFormattedString(){if(!this.hasData)return null;if(this.isGroup){var e=this.chatstate.id;if(!e)return null;var t=l.default.get(e);if(!t)return null;var a=t.formattedShortName;return"composing"===this.chatstate.type?c.default.t(1521,{participant:a}):c.default.t(1522,{participant:a})}if(!this.isUser)return null;var i=this.chatstate;switch(i.type){case"available":return c.default.t(1514);case"composing":return c.default.t(1515);case"recording":return c.default.t(1516);case"unavailable":return i.deny||null==i.t?null:d.default.lastSeenStr(i.t)}}onChatActiveChange(){this.chatActive?(this.hasData?this.withholdDisplay=!1:this.withholdDisplayTimer=setTimeout(()=>{this.set({withholdDisplay:!1,withholdDisplayTimer:void 0})},1500),this.forceDisplayTimer=setTimeout(()=>{this.set({forceDisplay:!0,forceDisplayTimer:void 0})},2e3)):(this.withholdDisplayTimer&&(clearTimeout(this.withholdDisplayTimer),this.withholdDisplayTimer=void 0),this.forceDisplayTimer&&(clearTimeout(this.forceDisplayTimer),this.forceDisplayTimer=void 0))}subscribe(){return this.getCollection().find(this.id)}getCollection(){return a("ebbjbbjjg").default}}g.Proxy="presence",g.idClass=u.default;var m=(0,o.defineModel)(g);t.default=m},ihcaebjej:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("hgigjbgie")),o=a("ddbdgibbbi"),d=a("cgbdcdhgig"),l=i(a("dcdbbhicce")),c=i(a("ecgbgejhaj"));class u extends s.PureComponent{constructor(...e){super(...e),this.state={hasSentPlayed:!1},this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.videoRef=null,this.setRefVideo=e=>{if(this.videoRef!==e&&(this.videoRef=e,e)){var t=(0,o.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&e.setVolume(t.volume),"boolean"==typeof t.muted&&e.setMuted(t.muted))}},this.onSendPlayed=()=>{var e=this.videoRef;e&&(e.getCurrentTime()/e.getDuration()>.5||e.getCurrentTime()>10)&&((0,d.markPlayed)(this.props.msg),this.setState({hasSentPlayed:!0}))},this.onLoadedMetadata=(e,t)=>{var a=this.props.mediaData.aspectRatio,i=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!a&&null!=i&&0!==i||a&&null!=i&&0!==i&&Math.abs(i-a)>.01)&&this.props.mediaData.set({aspectRatio:i}),this.props.onLoadedMetadata(e,t)},this.play=()=>{var e=this.videoRef;e&&e.getPaused()&&e.play()},this.pause=()=>{var e=this.videoRef;e&&(e.getPaused()||e.pause())},this.getPaused=()=>!this.videoRef||this.videoRef.getPaused(),this.getCurrentTime=()=>this.videoRef?this.videoRef.getCurrentTime():0,this.setCurrentTime=e=>{this.videoRef&&this.videoRef.setCurrentTime(e)},this.getDuration=()=>this.videoRef?this.videoRef.getDuration():0,this.getVolume=()=>this.videoRef?this.videoRef.getVolume():0,this.setVolume=e=>{this.videoRef&&this.videoRef.setVolume(e)},this.getMuted=()=>!!this.videoRef&&this.videoRef.getMuted(),this.setMuted=e=>{this.videoRef&&this.videoRef.setMuted(e)}}render(){var e,t=this.props,{msg:a,mediaData:i}=t,r=i.mediaBlob,o=i.streamable&&i.isStreamable();e=!this.mediaBlobWasDownloadedBeforeMount&&o||!r?i.streamable&&i.isStreamable()?"".concat(n.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString()):void 0:r.url();var l=!this.state.hasSentPlayed&&(0,d.canMarkPlayed)(a)?this.onSendPlayed:void 0;return s.createElement(c.default,{ref:this.setRefVideo,url:e,startTime:this.props.startTime,poster:this.props.poster,className:this.props.className,onVolumeChange:this.props.onVolumeChange,onEnded:this.props.onEnded,onError:this.props.onError,onPause:this.props.onPause,onPlaying:this.props.onPlaying,onProgress:this.props.onProgress,onTimeUpdate:e=>{l&&l(),this.props.onTimeUpdate(e)},onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},t.children)}}u.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable","aspectRatio"]};var f=(0,l.default)(u,u.CONCERNS);t.default=class extends f{constructor(...e){super(...e),this.play=()=>{this.getComponent().play()},this.pause=()=>{this.getComponent().pause()},this.getPaused=()=>this.getComponent().getPaused(),this.getCurrentTime=()=>this.getComponent().getCurrentTime(),this.setCurrentTime=e=>{this.getComponent().setCurrentTime(e)},this.getDuration=()=>this.getComponent().getDuration(),this.getVolume=()=>this.getComponent().getVolume(),this.setVolume=e=>{this.getComponent().setVolume(e)},this.getMuted=()=>this.getComponent().getMuted(),this.setMuted=e=>{this.getComponent().setMuted(e)}}}},ihfbgdebe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.playNotification=function(){s.play().catch(()=>{})},t.cachePath=function(e){return Promise.resolve(e)};var r=i(a("hgigjbgie")),s=new window.Audio(r.default.NOTIFICATION_TONE_PATH)},ihfbhicij:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(0),a.e(7)]).then(a.t.bind(null,"dhgcheacjd",7)).then(e=>e.default),"ArchivedFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},ihfehgab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YOUTUBE_URL_TIME_PARAM_PATTERN=t.YOUTUBE_URL_TIME_PARAM_NAME=t.URL_PATTERNS=t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=t.PLAYER_TYPE=void 0;t.PLAYER_TYPE={FLOATER:"FLOATER",OG_FLOATER:"OG_FLOATER",MEDIA_VIEWER:"MEDIA_VIEWER"};t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9;t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/m\.youtube\.com\/watch\?v=(.{11})/]}};t.YOUTUBE_URL_TIME_PARAM_NAME="t";t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},ihgefacbb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("caghadhigf");var r=new class{constructor(){this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=()=>{this._frameId||(this._prevFrameTS=this._prevUpdateTS=window.performance.now(),this._frameId=requestAnimationFrame(this._handleFrame))},this._stopTracking=()=>{this._frameId&&(this._prevFrameTS=this._prevUpdateTS=void 0,cancelAnimationFrame(this._frameId),this._frameId=void 0)},this._handleFrame=()=>{if(this._trackers.length){var e=this._prevFrameTS,t=this._prevUpdateTS;if(null!=e&&null!=t){var a=window.performance.now();this._numSamples+=1,this._totalTime+=a-e,a-t>=500&&this._update(a),this._prevFrameTS=a,this._frameId=requestAnimationFrame(this._handleFrame)}}}}whenLessThan(e,t){if(e<0||e>60)throw new RangeError("fps must be between 0 and ".concat(60));return this._insertTracker([e,t]),()=>{this._removeTracker(t)}}_insertTracker(e){var t=e[0],a=function(e,t){var a=0,i=e.length-1,r=Math.floor((a+i)/2);for(;e[r]!==t&&a<i;)t<e[r]?i=r-1:a=r+1,r=Math.floor((a+i)/2);if(e[r]<t)return r+1;return r}(this._trackers.map(e=>e[0]),t);this._trackers.splice(a,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}_removeTracker(e){for(var t=this._trackers.length,a=0;a<t;a++)if(e===this._trackers[a][1]){this._trackers.splice(a,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}_update(e){var t=1e3/(this._totalTime/this._numSamples),a=Math.min(t,60);if(Math.abs(a-this._currFPS)>1){this._currFPS=a;var i=this._filterCallbacks();i.length&&this._triggerCallbacks(i,a)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}_filterCallbacks(){for(var e=[],t=this._trackers.length-1;t>=0;t--){var[a,i]=this._trackers[t];if(a<=this._currFPS)break;e.push(i)}return e}_triggerCallbacks(e,t){var a=window.performance.now();(0,i.requestIdleCallback)(()=>{e.forEach(e=>e(t,a))})}_addEventListeners(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}_removeEventListeners(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}};t.default=r},ihhfhbadh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var a=t.getRangeAt(0);if(!a.collapsed)return!1;var i=a.endContainer;if(a.startOffset!==function(e){return(0,r.default)(e)?e.textContent.length:e.childNodes.length}(i))return!1;if(e===i)return!0;if(!e.contains(i))return!1;var s=i;do{if(s.nextSibling)return!1;s=s.parentNode}while(s!==e);return!0};var r=i(a("bgeafedbjd"))},iiaijgchh:function(e,t){e.exports={action:"_2CYV1"}},iiajdddad:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("hgigjbgie")),d=r(a("cjhdehdbba")),l=r(a("dabjhbacff")),c=r(a("jcacjdahc")),u=r(a("dhefcajhhb")),f=r(a("bdchicabdd")),h=a("cjjdjbcgjh"),{CHAT:p,IMAGE:g,VIDEO:m,LOCATION:b,DOCUMENT:v,VCARD:_,MULTI_VCARD:E,PRODUCT:j,PAYMENT:y,ORDER:S}=o.default.MSG_TYPE;class C extends n.PureComponent{_getImageSize(){var{theme:e}=this.props;return["conversation","starred","msgInfo"].includes(e)?58:79}render(){var e,{msg:t,theme:a}=this.props;switch(t.type){case g:case m:case v:case j:e=n.createElement(d.default,{mediaData:t.mediaData});break;case b:t.body&&(e=n.createElement("div",{style:{backgroundImage:"url(data:image/jpeg;base64,".concat(t.body,")")},className:f.default.image}));break;case p:t.thumbnail&&(e=n.createElement("div",{style:{backgroundImage:'url("data:image/jpeg;base64,'.concat(t.thumbnail,'")')},className:f.default.image}));break;case _:e=n.createElement(c.default,{wid:u.default.getThumbnailWidFromVcard(t.vcard),thumb:(0,h.vcardThumbnail)(t.vcard),quoted:!0,square:!0,size:this._getImageSize()});break;case E:e=n.createElement(c.default,{size:this._getImageSize(),square:!0,quoted:!0});break;case y:t.paymentAmount1000&&t.paymentCurrency&&(e=n.createElement(l.default,{currency:t.paymentCurrency,amount1000:t.paymentAmount1000,isQuoted:!0,isQuotedInComposeBox:"composeBox"===this.props.theme}));break;case S:t.thumbnail&&(e=n.createElement("div",{className:f.default.image,style:{backgroundImage:'url("data:image/jpeg;base64,'.concat(t.thumbnail,'")')}}))}var i=(0,s.default)(f.default.imageWrapper,{[f.default.composeBox]:"composeBox"===a,[f.default.statusV3]:"statusV3"===a,[f.default.isPayment]:t.type===y});return e?n.createElement("div",{className:i},n.createElement("div",{className:f.default.msgImage},e)):null}}t.default=C},iiajhaaji:function(e,t){e.exports={container:"_3Xjbn"}},iidebdecj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("Should not reach here"));return s.default.requestMediaReupload(e).then(({status:e,url:t,mediaKey:a,mediaKeyTimestamp:i,encFilehash:r,directPath:s})=>({isMD:!1,status:e,url:t,mediaKey:a,mediaKeyTimestamp:i,encFilehash:r,directPath:s}))};var r=i(a("bhbdiadfhj")),s=i(a("cfidecfjad"))},ijbeggadf:function(e,t){e.exports={bubble:"_XCRF",hasAuthor:"_2RuPw",forwardedIndicator:"_2QzJq",hasQuote:"_3EPD6",meta:"_3kdag",bubbleOut:"_3ojHs",bubbleIn:"_2A0bZ",body:"_2PKDl",player:"_2mDlG",avatar:"_7E6uG",status:"_39zaY",author:"JczxU",isForwarded:"kl264",quote:"ht_7W",isGallery:"_1f9CB",ctwaContext:"_51VtX"}},ijdahidij:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=window.getSelection();if(1!==e.rangeCount)return!1;var t=e.getRangeAt(0);return!!t.collapsed&&(e.removeAllRanges(),e.addRange(t),!0)}},ijhhjedi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.createElement(n.default,e,e.children)};var s=r(a("ddhijeejag")),n=i(a("djidjciehe"))},ijjajdfig:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("ceffhbhahb")),d=r(a("ddhgefbahb")),l=r(a("ebfebiicef")),c=r(a("dafffcfhih")),u=r(a("ceehjafggg")),f=r(a("bdjjabfecc")),h=r(a("djeebcafcb")),p=r(a("dgdcjccfdi")),g=r(a("bciibifcgd")),m=r(a("didfdhbecg"));function b(){var e=(0,s.default)(["Assertion failed!"]);return b=function(){return e},e}class v extends n.PureComponent{constructor(e){super(e),this.state={menuWidth:null,offset:0},this._handleItemClick=(e,t)=>{this.props.onItemClick&&this.props.onItemClick(e,t)},this._handleNextClick=()=>{var e=this.props.numItems,t=this.state.offset+this.props.numColumns;"number"!=typeof e||t>e||this.setState({offset:this.state.offset+1})},this._handlePrevClick=()=>{0!==this.state.offset&&this.setState({offset:this.state.offset-1})},this._handleResize=({width:e})=>{this.setState({menuWidth:e})},this._renderItem=(e,t,a)=>{var i=this.props.numItems;if("number"==typeof i&&e>=i)return null;var r=e-this.state.offset;return n.createElement(c.default,{column:r,carouselNumColumns:this.props.numColumns,key:e,menuWidth:a,onClick:this._handleItemClick,index:e,selected:t},this.props.renderItem(e))},this._checkSelectedIndex(e)}componentDidUpdate(){this._checkSelectedIndex(this.props)}_checkSelectedIndex({onItemClick:e,numItems:t,selectedIndex:a}){if(e&&0!==t){a<0&&(__LOG__(4,!1,new Error)(b()),SEND_LOGS("carousel_menu: selectedIndex is smaller than 0"));var i=t-1;a>i&&e(i)}}_renderPrevButton(){if(0===this.state.offset)return null;var e=f.default.isRTL()?"chevron-right":"chevron-left";return this._renderButton({className:l.default.prevButton,icon:e,onClick:this._handlePrevClick,id:"prev-button"})}_renderNextButton(){var{numColumns:e,numItems:t}=this.props;if("number"!=typeof t)return null;if(this.state.offset+e>=t)return null;var a=f.default.isRTL()?"chevron-left":"chevron-right";return this._renderButton({className:l.default.nextButton,icon:a,onClick:this._handleNextClick,id:"next-button"})}_renderButton({className:e,icon:t,onClick:a,id:i}){var r,{numColumns:s}=this.props;return r=null!=this.state.menuWidth&&0!==this.state.menuWidth?"".concat(Math.round(this.state.menuWidth/s),"px"):"".concat(100/s,"%"),n.createElement("div",{className:(0,o.default)(l.default.button,e),style:{width:r},onClick:a,role:"button","data-testid":i},n.createElement(p.default,{className:l.default.buttonIcon,name:t}))}render(){var e,{numColumns:t,numItems:a,selectedIndex:i}=this.props,{menuWidth:r,offset:s}=this.state;return e=i<s?-1:i>=s+t?t-1+1:(i-s)%t,n.createElement(d.default,{className:this.props.className},n.createElement(h.default,{className:l.default.resizeContainer,onResize:this._handleResize},n.createElement(m.default,null,this._renderPrevButton()),n.createElement(u.default,{menuWidth:r,numColumns:t,numItems:a,offset:s,renderItem:this._renderItem,selectedIndex:i}),n.createElement(m.default,null,this._renderNextButton()),n.createElement(g.default,{numTabs:t,selectedTabIndex:e,hide:-1===e||0===e&&s>0||e===t})))}}t.default=v},jaahgaghe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hddfjdhii")),s=(0,i(a("chgaccicf")).default)(r.default);t.default=s},jabfchggf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("bdjjabfecc")),l=i(a("cgdbgfjefd")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bdjjahdegi",7)).then(e=>e.default),"LicensesPopup");t.requireBundle=c;var u=(0,n.default)({loader:c,loading:e=>s.createElement(l.default,{title:d.default.t(795),okText:d.default.t(1649),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=u},jaiabagge:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a={},i=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(a[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(a[e.doubleByte[t]]=t+n.default.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var a=t[1]?2*Object.keys(t[1]).filter((function(e){return!!t[1][e]})).length:0;this.writeListStart(e,1+a+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,i){if("string"!=typeof t&&!(t instanceof o.default))throw __LOG__(3)(u(),typeof t),new Error("invalid string");if(t instanceof o.default)this.writeJid(e,t);else{var r,s,l=a.hasOwnProperty(t)?a[t]:void 0;if("c.us"!==t||i)if(void 0===l){if(t.indexOf("@")<1)this.writeStringRaw(e,t);else try{var c=(0,d.createWid)(t);this.writeJid(e,c)}catch(a){this.writeStringRaw(e,t)}}else{if(l<n.default.SINGLE_BYTE_MAX)this.writeToken(e,l);else{var f=l-n.default.SINGLE_BYTE_MAX;switch(s=f%256,f>>8){case 0:r=n.default.DICTIONARY_0;break;case 1:r=n.default.DICTIONARY_1;break;case 2:r=n.default.DICTIONARY_2;break;case 3:r=n.default.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+l)}}this.writeToken(e,r),this.writeToken(e,s)}else this.writeToken(e,a["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var a=s.default.numUtf8Bytes(t);if(a>=4294967296)throw new Error("string too large to encode (len = "+a+"): "+t);a>=1<<20?(e.pushByte(n.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(n.default.BINARY_20),e.pushInt20(a)):(e.pushByte(n.default.BINARY_8),e.pushByte(a)),e.pushString(t)},this.writeJid=function(e,t){var a=t.user,i=t.server,r=t.agent,s=t.device;if(r||s){if(r>255||s>255||"c.us"!==i&&"s.whatsapp.net"!==i)throw new Error("invalid agent:".concat(r," or device:").concat(s," or server:").concat(i," for wid ").concat(t.toString()));e.pushByte(n.default.JID_AD),e.pushByte(r||0),e.pushByte(s||0),a?this.writePackedBytesStringFallback(e,a):this.writeToken(e,n.default.LIST_EMPTY)}else e.pushByte(n.default.JID_PAIR),a?this.writePackedBytesStringFallback(e,a):this.writeToken(e,n.default.LIST_EMPTY),this.writeString(e,i)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var a in this.isAttr=!0,t)t[a]&&(this.writeString(e,a),this.writeString(e,t[a]));this.isAttr=!1}},this.writeChildren=function(e,t){var a;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((a=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+a);a>=1<<20?(e.pushByte(n.default.BINARY_32),e.pushInt32(a)):a>=256?(e.pushByte(n.default.BINARY_20),e.pushInt20(a)):(e.pushByte(n.default.BINARY_8),e.pushByte(a)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");a=t.length,this.writeListStart(e,a);for(var i=0;i<a;i++)this.writeNode(e,t[i])}},this.writeListStart=function(e,t){0===t?e.pushByte(n.default.LIST_EMPTY):t<256?(e.pushByte(n.default.LIST_8),e.pushByte(t)):(e.pushByte(n.default.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(a){__LOG__(3,!0)(c(),a.message),this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,n.default.NIBBLE_8)}catch(a){__LOG__(3)(l(),a.message),this.writePackedBytesImpl(e,t,n.default.HEX_8)}},this.writePackedBytesImpl=function(e,t,a){var i=s.default.numUtf8Bytes(t);if(i>n.default.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+i);var r,o=[],d=0;i%2>0&&(d=128);var l=d|Math.ceil(i/2);o.push(a),o.push(l);for(var c=Math.floor(i/2),u=0;u<c;u++)r=this.packBytePair(a,t[2*u],t[2*u+1]),o.push(r);d>0&&(r=this.packBytePair(a,t[i-1],"\0"),o.push(r));var f=new Uint8Array(o);e.pushUint8Array(f)},this.packBytePair=function(e,t,a){var i,r;switch(e){case n.default.NIBBLE_8:i=this.packNibble(t),r=this.packNibble(a);break;case n.default.HEX_8:i=this.packHex(t),r=this.packHex(a);break;default:throw new Error("invalid byte pack type: "+e)}return i<<4|r},this.packNibble=function(e){if(!i.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return i[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}};var r=i(a("dfadhaifh")),s=i(a("bfefjaegfe")),n=i(a("bghhdaaaej")),o=i(a("jccfhaecf")),d=a("dcbdjheea");function l(){var e=(0,r.default)(['writer:enc nib fail, try hex "','"']);return l=function(){return e},e}function c(){var e=(0,r.default)(['writer:encode-fallback "','"']);return c=function(){return e},e}function u(){var e=(0,r.default)(["writer:writeString passed non-string/wid type: ",""]);return u=function(){return e},e}},jaifebbed:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("edcaccjfh"),r=a("cabeijgaif"),s=a("jgidicjf"),n={parseCall:function(e){if("call"===this.N.tag(e)){var t=this.N.child("offer",e);if(t){var a=this.N.child("call",t);if(a){var s=this.N.children(a),n=(0,i.decodeProto)(r.MessageSpec,s).call;if(n){var o=this.N.attr("from",e),d=this.N.attr("call-id",t),l=n.callKey;return this.dropIfConditionMet([!d,!o,!l],{type:"offer_key",id:d,peerJid:o,key:l})}}}}},queryCall:function(e,t){return new Promise((a,i)=>{var r=this.queryNode({type:"call","call-id":e,kind:t});this.binSend("sendEphemeral",r,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var t={status:400};"response"===this.N.tag(e)&&"call"===this.N.attr("type",e)&&(t.status=parseInt(this.N.attr("code",e),10)||400),a(t)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:"query,call,"+e,metricName:"QUERY_CALL"})})},handleCallQuery(){var e=a("biaifggagf").default.handleQuery({});if(e)return e.then(()=>this.responseNode(void 0,[["some",{formatted:"xml"},void 0]]))},sendCallEnd:function(e,t){return new Promise((a,i)=>{var r={};r.jid=e.jid,r["call-id"]=e["call-id"],r.result=o(e.result),r.audio=e.audio.toString(),r.out=e.out.toString(),r.seconds=e.seconds.toString(),r.t=e.t.toString(),r.group=e.group.toString();var s=t.map(e=>["participant",{jid:e.jid,result:o(e.result)},void 0]),n=this.actionNode("relay",[["call_end",r,s]]);this.binSend("send",n,i,{onSend:this.wrap(a),onDrop:this.wrap(i)},{debugString:"action,call_end,".concat(e["call-id"])})})}};function o(e){return s.CALL_LOG_RESULT[e]||"invalid"}t.default=n},jcacjdahc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=i(a("hhcjfgifh")),d=r(a("ebddggeaib")),l=r(a("cijhjbiigc")),c=r(a("dhefcajhhb")),u=r(a("dgdcjccfdi")),f=r(a("edbaidcaf"));class h extends n.PureComponent{constructor(e){super(e),this.promise=null,this._clearPromise=()=>{this.promise=null},this._handleImageChange=(e={})=>{this.setState({img:e.img})},this.state={img:null}}componentDidMount(){var e=this.props.wid;e&&(this.promise=c.default.find(e).delay(0).then(e=>{this.props.listeners.add(e,"change:img",this._handleImageChange),this._handleImageChange(e)}).catch(()=>{}).finally(this._clearPromise))}componentWillUnmount(){this.promise&&this.promise.cancel()}render(){if(this.state.img&&this.props.wid)return n.createElement(o.default,{id:this.props.wid,quoted:this.props.quoted,size:this.props.size,square:this.props.square,border:this.props.border});var e;e="number"==typeof this.props.size&&0!==this.props.size||"number"!=typeof this.props.size&&null!=this.props.size?this.props.size:o.DETAIL_IMAGE_SIZE.SMALL;var t={height:(0,o.getSize)(e),width:(0,o.getSize)(e)},a=(0,s.default)(l.default.container,{[l.default.square]:this.props.square,[l.default.hasBorder]:this.props.border}),i=this.props.thumb?n.createElement("div",{className:l.default.image,style:f.default.thumbAsBackgroundImage(this.props.thumb)}):n.createElement("div",{className:l.default.default},n.createElement(u.default,{name:this.props.quoted?"default-user-square":"default-user",style:t}));return n.createElement("div",{className:a,style:t},i)}}var p=(0,d.default)(h);t.default=p},jccjeieeg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("cdfdfciehj")),o=r(a("ddfeabiaci")),d=r(a("gcfidijgh")),l=a("edcaccjfh"),c=a("ecajcacdce"),u=r(a("bcfjiacdah")),f=r(a("hgigjbgie")),h=a("ddbdgibbbi"),p=a("cbgifejihh"),g=r(a("bhbdiadfhj")),m=r(a("cffajefeag")),b=i(a("dahaahdjfa")),v=a("bbjghgfabf"),_=r(a("jccfhaecf"));function E(){var e=(0,s.default)(["bin-recv: response,msg"]);return E=function(){return e},e}function j(){var e=(0,s.default)(["wap:msgCreateRecord:sendMedia error ",""]);return j=function(){return e},e}function y(){var e=(0,s.default)(["wap:msgCreateRecord mPromise error (","): ",""]);return y=function(){return e},e}function S(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return S=function(){return e},e}function C(){var e=(0,s.default)(["drop: broadcast"]);return C=function(){return e},e}function M(){var e=(0,s.default)(["drop: failed parsing wmi"]);return M=function(){return e},e}function T(){var e=(0,s.default)(["wmi error: ",""]);return T=function(){return e},e}function P(){var e=(0,s.default)(["drop: no bytes"]);return P=function(){return e},e}function O(){var e=(0,s.default)(["drop: cannot create MsgKey: ",""]);return O=function(){return e},e}function N(){var e=(0,s.default)(["drop: not message"]);return N=function(){return e},e}var I=(0,n.default)((0,n.default)({version:"10"},b.default),{},{parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){if("ciphertext"===this.N.attr("type",e)){var a,i=this.N.attr("id",e),r=this.N.attr("from",e),s=this.N.attr("participant",e),n=_.default.isBroadcast(r)?s:r,o=(0,h.getMaybeMeUser)();try{a=new m.default({from:n,to:o,id:i,participant:s})}catch(e){return void __LOG__(3)(O(),e.stack)}return{type:"ciphertext",t:parseInt(this.N.attr("t",e),10)||0,id:a,from:n,to:o,participant:s,author:_.default.isBroadcast(r)?void 0:s,star:"true"===this.N.attr("star",e)}}var d=this.N.children(e);if(d instanceof ArrayBuffer)try{var c=(0,l.decodeProto)(v.WebMessageInfoSpec,d);return this.parseWebMessageInfo(c,t)}catch(e){return __LOG__(2)(T(),String(e)),__LOG__(4,!1,new Error)(M()),void SEND_LOGS("parse-error")}else __LOG__(3)(P())}else __LOG__(3)(N())},parseWebMessageInfo:function(e,t){var a,i=e.key,r=this.decodeJid(i.remoteJid),s=(0,h.getMaybeMeUser)(),n=i.fromMe?r:s,o=i.fromMe?s:r,d=this.decodeJid(i.participant);if(s.equals(r)&&(a=i.fromMe?"out":"in"),"broadcast"!==n){var l;try{l=new m.default({fromMe:i.fromMe,remote:r,id:i.id,participant:d})}catch(e){return void __LOG__(3)(S(),e.stack)}return this.parseMsgProto(e.message,{id:l,from:o,to:n,self:a,participant:d,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?f.default.ACK.SENT:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:i.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256)},t)}__LOG__(3)(C())},parseProtocolMessageProto:function(e,t,a){if("relay"===a){var i=t.key,r=new m.default({fromMe:i.fromMe,remote:this.decodeJid(i.remoteJid),id:i.id,participant:this.decodeJid(i.participant)});(0,d.default)(e,{type:"protocol",subtype:"unknown",protocolMessageKey:r})}},parseLiveLocationMessageProto:function(e,t,a){e.type="location",e.isLive=!0,e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.accuracy=t.accuracyInMeters,e.speed=t.speedInMps,e.degrees=t.degreesClockwiseFromMagneticNorth,e.comment=(0,b.convertToTextWithoutSpecialEmojis)(t.caption),e.sequence=t.sequenceNumber,a&&(e.finalLat=void 0!==a.degreesLatitude?a.degreesLatitude:void 0,e.finalLng=void 0!==a.degreesLongitude?a.degreesLongitude:void 0,e.finalThumbnail=this.decodeBytes(a.jpegThumbnail)||"",e.finalAccuracy=a.accuracyInMeters,e.finalSpeed=a.speedInMps,e.finalDegrees=a.degreesClockwiseFromMagneticNorth,e.finalTimeOffset=a.timeOffset)},parseSendPaymentMessageProto:function(e,t,a){if(e.type="payment",this.callFeatureFlagFun(g.default.F.PAYMENTS,"parsePaymentInfo",e,a),g.default.supportsFeature(g.default.F.PAYMENTS)){e.subtype="send";var i=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new m.default({fromMe:i.fromMe,remote:this.decodeJid(i.remoteJid),id:i.id,participant:this.decodeJid(i.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}},parseRequestPaymentMessageProto:function(e,t,a){e.type="payment",this.callFeatureFlagFun(g.default.F.PAYMENTS,"parsePaymentInfo",e,a),g.default.supportsFeature(g.default.F.PAYMENTS)&&(e.subtype="request",t.currencyCodeIso4217&&!e.paymentCurrency&&(e.paymentCurrency=t.currencyCodeIso4217),t.amount1000&&!e.paymentAmount1000&&(e.paymentAmount1000=t.amount1000),t.requestFrom&&!e.paymentMessageReceiverJid&&(e.paymentMessageReceiverJid=this.decodeJid(t.requestFrom)),t.expiryTimestamp&&!e.paymentExpiryTimestamp&&(e.paymentExpiryTimestamp=t.expiryTimestamp),t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",g.default.supportsFeature(g.default.F.GROUPS_V_4_JOIN_PERMISSION)&&(e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=(0,b.convertToTextWithoutSpecialEmojis)(t.caption))},parseContextInfoProto:function(e,t,a){var i=t.quotedMessage,r=t.mentionedJid;e.quotedMsg=i&&this.parseMsgProto(i,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&a&&this.callFeatureFlagFun(g.default.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,a),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(r)?r.map(this.decodeJid):r,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore,null!=t.expiration&&(e.ephemeralDuration=t.expiration),null!=t.ephemeralSettingTimestamp&&(e.ephemeralSettingTimestamp=t.ephemeralSettingTimestamp)},msgCreateRecord:function(e){return Promise.callSynchronously(()=>{if(["ptt","audio","image","video","document","sticker","product"].includes(e.type)){var t,a="ptt"===e.type?"audio":e.type;return e.isMMS&&(t=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?this.sendMedia(t):(0,d.default)({status:200,type:a},t)}}).catch(e=>(__LOG__(3)(y(),(0,c.encodeErrorInfo)(),e.stack),Promise.reject("wap:msgCreateRecord mPromise error"))).then(t=>{if(t&&200!==t.status)return __LOG__(3)(j(),t.status),Promise.reject("wap:msgCreateRecord:sendMedia error ".concat(t.status));var i=e.id.id,r=(0,p.createMessageKey)(e),s=(0,p.createMsgProtobuf)(e,t||{}),n=!!e.multicast||void 0,o=!!e.urlText||void 0,d=!!e.urlNumber||void 0,l=!!e.clearMedia||void 0,u=_.default.isUser(e.id.remote)||null==e.ephemeralDuration?void 0:e.ephemeralDuration,f={key:r,message:s,messageTimestamp:e.t,multicast:n,urlText:o,urlNumber:d,clearMedia:l,ephemeralDuration:u},h=this.actionNode("relay",[["message",void 0,(0,c.encodeProto)(v.WebMessageInfoSpec,f).readBuffer()]]);return new Promise((t,r)=>{this.binSend("send",h,r,{tag:i,onSend:this.wrap(t),onDrop:this.wrap(r),retryOn5xx:!0,resendGuard:()=>{var t=a("biecbbiiee").default.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,i].join(),debugObj:{xml:h,pb:f},metricName:"MESSAGE",ackRequest:!1})})})},msgFindQuery:function(e,t,a,i){var r=e;return new Promise((e,s)=>{var n,o="";switch(r){case"after":t.id||(r="before");case"before":n={type:"message",kind:r,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},o=[t instanceof m.default?t.toString():t.remote,t.count].join();break;case"search":n={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote,canceled:t.tagToCancel},o=["search",t.page,t.count,t.jid].join();break;case"star":n={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},o="starred";break;case"media":n={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},o="media"}var d=this.queryNode(n,void 0);this.binSend("sendEphemeral",d,s,{onSend:this.binWrap(t=>{this.BinaryProtocol.read(t).then(t=>{var a=[],i=this.N.children(t);if(__LOG__(2)(E()),"response"===this.N.tag(t)&&("message"===this.N.attr("type",t)||"star"===this.N.attr("type",t)||"search"===this.N.attr("type",t)||"media_message"===this.N.attr("type",t))){if(Array.isArray(i)){var s,n=i.length;for(s=0;s<n;s++){var o=this.parseMsg(i[s],"response");o&&a.push(o)}}"search"===this.N.attr("type",t)?a={eof:"true"===this.N.attr("last",t),messages:a}:"media"===r&&(a={messages:a})}e(a)}).catch(s)},e),onDrop:this.wrap(s),logOnSend:a,onTag:i,tagToCancel:t.tagToCancel},{debugString:"query,message,"+o,metricName:"search"===r?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})}}),A=(0,o.default)(I,u.default);t.default=A},jcfhjhibi:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cdfdfciehj")),s=i(a("dfadhaifh")),n=a("dejbbcaghh"),o=i(a("hgigjbgie")),d=a("ddbdgibbbi"),l=i(a("djdhjggcbi")),c=i(a("bdecdecede"));function u(){var e=(0,s.default)(["Invalid cursor at ",", array.length = ",", element = ",""]);return u=function(){return e},e}var f="before",h="after";function p(e,t,a){var i=t,r=e.toArray(),s=a===f?-1:1;return{hasNext:()=>i>=0&&i<r.length,next(){var e=r[i];return e||__LOG__(3)(u(),i,r.length,e),i+=s,e}}}function g(e,t,a,i=1,r){for(var s,d=(0,l.default)()*i,u=p(e,t,a),f=0,h=0;u.hasNext();){var g=u.next(),m=(0,c.default)(g),b=2*(g.isNotification?1:0)+g.isSentByMe;if(h++,(f+=m+(b&&b===s?2:12))>d)break;if(h>=r)break;var v=g.asGroupedSticker,_=null!=g.asAlbumAsset;if(v||_){var E=[],j=!1,y=1;if(v){var S=void 0;if(u.hasNext()){if(S=u.next(),E.push(S),++h>=r)break;(0,n.canBeGroupedAsAlbum)(g,S)&&S.asGroupedSticker&&(j=!0)}}if(_)for(var C=g,M=void 0;u.hasNext()&&y<o.default.ALBUM_MAX_SIZE&&(M=u.next(),E.push(M),!(++h>=r))&&(0,n.canBeGroupedAsAlbum)(C,M)&&M.asAlbumAsset;)y++,C=M;if(v&&!j||_&&y<o.default.ALBUM_MIN_SIZE)if((f+=E.reduce((e,t)=>e+(0,c.default)(t),0))>d)break}s=b}return h}function m(e,t,a,i=1,r){for(var s,u=(0,l.default)()*i,f=p(e,t,a),h=0,g=0;f.hasNext();){var m=f.next(),b=(0,c.default)(m),v=m.author||(m.isSentByMe?(0,d.getMaybeMeUser)():void 0);if(g++,(h+=b+(v&&!m.isSentByMe&&v!==s?19:0)+(v&&v===s?2:12))>u)break;if(g>=r)break;var _=m.asGroupedSticker,E=null!=m.asAlbumAsset;if(_||E){var j=[],y=!1,S=1;if(_){var C=void 0;if(f.hasNext()){if(C=f.next(),j.push(C),++g>=r)break;(0,n.canBeGroupedAsAlbum)(m,C)&&C.asGroupedSticker&&(y=!0)}}if(E)for(var M=m,T=void 0;f.hasNext()&&S<o.default.ALBUM_MAX_SIZE&&(T=f.next(),j.push(T),!(++g>=r))&&(0,n.canBeGroupedAsAlbum)(M,T)&&null!=T.asAlbumAsset;)S++,M=T;if(_&&!y||E&&S<o.default.ALBUM_MIN_SIZE)if((h+=j.reduce((e,t)=>e+(0,c.default)(t),0))>u)break}s=v}return g}function b(e,t,a,i=1,r){for(var s=(0,l.default)()*i,n=p(e,t,a),o=0,d=0;n.hasNext();){var u=n.next();if(d++,(o+=(0,c.default)(u)+65)>s)break;if(d>=r)break}return d}function v(e,t,a=h){for(var i=2*(0,l.default)(),r=p(e,t,a),[s,n,o]=[0,!0,null];r.hasNext();){var d=r.next(),u=(0,c.default)(d),f=2*(d.isNotification?1:0)+d.isSentByMe;if((s+=u+(f&&f===o?2:12))>i){n=!1;break}o=f}return n}class _{static create(e){var{msgCollection:t,focusedMsgKey:a,type:i,maxInitialCount:r=Number.MAX_SAFE_INTEGER}=e;return new _({type:i}).init(a,t,r)}constructor(e){var{type:t,before:a,after:i,focusedMsgKey:r,prevFocusedMsgKey:s}=e;this._type=t,this._focusedMsgKey=r,this._prevFocusedMsgKey=s,this.before=a||0,this.after=i||0}_cloneWith(e){return new _((0,r.default)({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},e))}_getCursorSize(e,t,a,i,r){return function(e){switch(e){case o.default.RENDER_CURSOR.CONVERSATION:return g;case o.default.RENDER_CURSOR.GROUP_CONVERSATION:return m;case o.default.RENDER_CURSOR.STARRED_DRAWER:return b;default:return g}}(this._type)(e,t,a,i,r)}getStart(e){return Math.max(E(this._focusedMsgKey,e,this._type)-this.before,0)}getEnd(e){return Math.min(E(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}hasBefore(e){return E(this._focusedMsgKey,e,this._type)-this.before>0}hasAfter(e){return E(this._focusedMsgKey,e,this._type)+this.after<e.length-1}init(e,t,a=Number.MAX_SAFE_INTEGER){return new _({type:this._type,before:0,after:0,focusedMsgKey:e}).loadBefore(t,{factor:1,maxCount:a}).loadAfter(t,{factor:1,maxCount:a})}setFocusedMsgKey(e,t){var a,i,r=E(this._focusedMsgKey,e,this._type),s=E(t,e,this._type);return t?(i=this.after-(s-r),a=this.before+(s-r)):(a=this.before+this.after,i=0),this._cloneWith({focusedMsgKey:t,before:a,after:i})._updatePrev(e)}ensureValidFocus(e){var t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),a=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey),i=this;return t&&(i=i._updatePrev(e)),a&&(i=i.focusBefore(e)),i}_updatePrev(e){var t=E(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}focusBefore(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}loadBefore(e,t){var{count:a,maxCount:i=Number.MAX_SAFE_INTEGER,factor:r=2}=t||{},s=null!=a&&0!==a?a:this._getCursorSize(e,Math.max(0,this.getStart(e)-1),f,r,i);return this._cloneWith({before:this.before+s})}loadAfter(e,t){var{count:a,maxCount:i=Number.MAX_SAFE_INTEGER,factor:r=2}=t||{},s=null!=a&&0!==a?a:this._getCursorSize(e,this.getEnd(e),h,r,i);return this._cloneWith({after:this.after+s})}loadBeforeCapped(e,t){var{count:a,factor:i=2}=t||{};return v(e,this.getStart(e),h)?this.loadBefore(e,{count:a,factor:i}):this}resetBeforeCursor(e,t=Number.MAX_SAFE_INTEGER){if(!v(e,this.getStart(e),h)){var a=Math.max(0,this.getEnd(e)-1),i=this._getCursorSize(e,a,f,2,t);return this._cloneWith({before:Math.min(this.before,i)})}return this}}function E(e,t,a){if(e){var i=t.get(e),r=t.indexOf(i);if(-1!==r)return r}return function(e){switch(e){case o.default.RENDER_CURSOR.CONVERSATION:case o.default.RENDER_CURSOR.GROUP_CONVERSATION:return o.default.RENDER_CURSOR.RECENT_AT_BOTTOM;case o.default.RENDER_CURSOR.STARRED_DRAWER:return o.default.RENDER_CURSOR.RECENT_AT_TOP;default:return o.default.RENDER_CURSOR.RECENT_AT_BOTTOM}}(a)===o.default.RENDER_CURSOR.RECENT_AT_TOP?0:t.length-1}t.default=_},jcfjeeiii:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("dfaadfeedd")),n=i(a("djheacfeif")),o=a("dcaifjegcg"),d=i(a("cfadcbbiie")),l=i(a("hgigjbgie")),c=i(a("dhigahgdjb")),u=i(a("ccehadbeci")),f=a("dcjbdhhjge"),h=i(a("cfidecfjad")),p=i(a("jccfhaecf"));function g(){var e=(0,r.default)(["Status V3 onEmptyMRM with total count: ",", noEarlierMsgs: ",""]);return g=function(){return e},e}function m(){var e=(0,r.default)(["Status v3 deleted with total count: ",""]);return m=function(){return e},e}function b(){var e=(0,r.default)(["Bad status v3 read count, ",", ",""]);return b=function(){return e},e}function v(e){var t=(0,s.default)(e,e=>e.body&&e.mediaData&&(e.type===l.default.MSG_TYPE.IMAGE||e.type===l.default.MSG_TYPE.VIDEO));return t&&t.mediaData.preview}class _ extends u.default{constructor(...e){super(...e),this.id=(0,o.prop)(),this.t=(0,o.prop)(),this.unreadCount=(0,o.prop)(0),this.totalCount=(0,o.prop)(0),this.score=(0,o.prop)(),this.pic=(0,o.prop)(),this._msgs=(0,o.prop)(()=>[]),this.readKeys=(0,o.session)(()=>({})),this.contact=(0,o.session)(),this.expireTimer=(0,o.session)(),this.expireTs=(0,o.session)(),this.hasUnread=(0,o.derived)(this._hasUnread,["unreadCount"]),this.readCount=(0,o.derived)(this._readCount,["unreadCount","totalCount"]),this.renderedThumbnail=(0,o.derived)(this._renderedThumbnail,["msgsChanged","pic","totalCount"]),this.lastStatus=(0,o.derived)(this._lastStatus,["msgsChanged","totalCount"])}_hasUnread(){return this.unreadCount>0}_readCount(){var e=this.totalCount-this.unreadCount;return Number.isFinite(e)?e:(__LOG__(3)(b(),this.totalCount,this.unreadCount),0)}_renderedThumbnail(){return this.msgs.length===this.totalCount?v(this.msgs.getModelsArray()):this.pic?this.pic:v(this.msgs.getModelsArray())}_lastStatus(){return this.msgs.last()}initialize(){super.initialize(),this.addChild("contact",c.default.gadd(this.id)),this.listenTo(this.msgs,"add bulk_add",()=>{window.setTimeout(()=>{this.setupStatusExpiration()})}),this.listenTo(this,"change:lastStatus",()=>{this.lastStatus&&(this.t=this.lastStatus.t)})}setupStatusExpiration(){var e=this.msgs.at(0);if(e&&!("number"==typeof this.expireTs&&this.expireTs<=e.t)){var t=e.t+86400+1;t<d.default.globalUnixTime()?window.setTimeout(()=>{this.expireMsg()}):(this.expireTimer=n.default.setGlobalTimeout(this.expireMsg.bind(this),1e3*t,this.expireTimer),this.expireTs=e.t)}}expireMsg(){for(var e=this.msgs;e.length>0;){var t=e.at(0);if(!t)break;if(t.t+86400>d.default.globalUnixTime())break;this.unreadCount>this.totalCount-1&&this.unreadCount--,this.totalCount--,e.remove(t),t.delete()}this.expireTs=void 0,this.expireTimer=void 0,0!==this.totalCount&&this.setupStatusExpiration()}delete(){__LOG__(2)(m(),this.totalCount),super.delete(),this.expireTimer&&n.default.clearTimeout(this.expireTimer),null!=this.expireTs&&(this.expireTs=void 0),this.getCollection().remove(this.id)}onEmptyMRM(){__LOG__(2)(g(),this.totalCount,this.msgs.msgLoadState.noEarlierMsgs?"true":"false"),this.msgs.msgLoadState.noEarlierMsgs&&0===this.totalCount?this.delete():this.totalCount>0&&this.loadMore().catch(()=>{}).finally(()=>{this.msgs.length||this.delete()})}loadMore(e=l.default.PAGE_SIZE){if(this.msgs.msgLoadState.noEarlierMsgs)return Promise.resolve();if(this.msgs.msgLoadState.isLoadingEarlierMsgs)return this.msgs.loadEarlierPromise;var t=0!==e?e:l.default.PAGE_SIZE;return this.getCollection().loadMore(this.id,t,this.msgs.last()).then(e=>(Array.isArray(e)&&e.length<t&&(this.msgs.msgLoadState.noEarlierMsgs=!0),e)).catch(e=>(404===e&&this.delete(),Promise.reject(e)))}handleReadStatus(e){this.readKeys[e]||(this.readKeys[e]=!0,this.unreadCount>0&&this.unreadCount--)}sendReadStatus(e,t){return h.default.sendStatusSeen(e,t).then(t=>{200===t.status&&this.handleReadStatus(e)})}sendMute(e){return h.default.sendStatusMute(this.id,e).then(t=>{if(200===t.status){var a={statusMute:e};(0,f.updateLocal)(this.contact.id,a).then(()=>{this.contact.set(a)})}})}getCollection(){return a("bgcdajbhif").default}}_.Proxy="statusV3",_.idClass=p.default;var E=(0,o.defineModel)(_);t.default=E},jchgifaai:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dgdjiicfdg")),s=a("ddbdgibbbi"),n=a("hjbbdjjdf"),o=i(a("bgeajihhc")),d={setGroupDescription:function(e,t,a,i){return new Promise((d,l)=>{var c,u=o.default.tag(),f=this.wrap(d);f.tag=u,c=(0,n.isString)(t)?[["description",{id:a,prev:i||"none"},t]]:[["description",{prev:i||"none",delete:"true"},void 0]];var h=["group",{id:u,jid:e,type:"description",author:(0,s.getMaybeMeUser)()},c],p=this.actionNode("set",[h]);this.binSend("send",p,l,{clientCacheable:!0,onSend:f,onDrop:this.wrap(l)},{debugString:"action,group,desc",metricName:"GROUP",expires:(0,r.default)().unix()})})},setGroupProperty:function(e,t,a){return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject("invalid group property"):new Promise((i,n)=>{var d,l=o.default.tag(),c=this.wrap(i);switch(c.tag=l,t){case"announcement":d=[["announcement",{value:(!!a).toString()},void 0]];break;case"restrict":d=[["locked",{value:(!!a).toString()},void 0]];break;case"no_frequently_forwarded":d=[["no_frequently_forwarded",{value:(!!a).toString()},void 0]]}var u=["group",{id:l,jid:e,type:"prop",author:(0,s.getMaybeMeUser)()},d],f=this.actionNode("set",[u]);this.binSend("send",f,n,{clientCacheable:!0,onSend:c,onDrop:this.wrap(n)},{debugString:["action,group,prop",t,a].join(),metricName:"GROUP",expires:(0,r.default)().unix()})})},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};t.default=d},jcjjjfbcd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgdcjccfdi"));class o extends s.PureComponent{render(){var{className:e}=this.props;return s.createElement(n.default,{className:e,name:"sticker-placeholder"})}}t.default=o},jdbccibfh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("dgebcfedgb")),o=i(a("bdjjabfecc")),d=i(a("dcdbbhicce"));class l extends s.PureComponent{render(){var{chat:e,disabled:t}=this.props,a=this.props.onMarkUnread.bind(null,!e.unreadCount);return s.createElement(n.default,{a8n:"mi-mark-as",action:a,key:"MarkUnreadMenuItem",disabled:t},e.unreadCount?o.default.t(853):o.default.t(854))}}l.CONCERNS={chat:["unreadCount"]};var c=(0,d.default)(l,l.CONCERNS);t.default=c},jdceifdf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=a("ihfehgab"),o=i(a("bjegcccgec")),d=i(a("djcajecjgh")),l=i(a("dcdbbhicce"));class c extends s.Component{render(){var{msg:e,mediaData:t}=this.props,a=t.preview?"url(".concat(t.preview.url(),")"):void 0;return s.createElement(o.default,{aspectRatio:t.aspectRatio,previewUrl:a,animationStartStyle:this.props.animationStartStyle},s.createElement(d.default,{msg:e,mediaData:t,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onOpenMediaViewer:this.props.onOpenMediaViewer,onMissingMedia:this.props.onMissingMedia,onUnsupportedMedia:this.props.onUnsupportedMedia,autoPlay:this.props.autoPlay,type:n.PLAYER_TYPE.FLOATER}))}}c.CONCERNS={mediaData:["preview","aspectRatio"]};var u=(0,l.default)(c,c.CONCERNS);t.default=u},jdigiabic:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RecentStickerCollection=t.RECENT_STICKERS_LIMIT=void 0;var s=r(a("dfadhaifh")),n=r(a("cdfdfciehj")),o=r(a("dagbcgeifg")),d=r(a("cgcgbfbffj")),l=i(a("bjigbaghc")),c=r(a("bhbdiadfhj")),u=r(a("cahfddcdga")),f=r(a("cgfidiajgj")),h=r(a("cfidecfjad"));function p(){var e=(0,s.default)(["collection:recent_sticker:_sync error "]);return p=function(){return e},e}t.RECENT_STICKERS_LIMIT=32;class g extends d.default{constructor(...e){super(...e),this._checksum="",this._syncStatus="NONE",this._weightMap=new Map,this._sortTrimScale=()=>{var e=this.length;if(e){if(this.sort(),e>32){for(var t=32;t<e;t++)this._weightMap.delete((0,u.default)(this.at(t),"this.at(i)").id);this.remove(this.models.slice(32))}var a=this.head(),i=this.last();a&&i&&this._getWeight(a)<10&&this._getWeight(i)>.01||this.forEach((t,a)=>{this._weightMap.set(t.id,1+(e-a)/e*3)})}}}_comparator(e,t){return l.default.platform===l.PLATFORMS.ANDROID?this._getWeight(t)-this._getWeight(e):e.index>t.index?1:-1}_getWeight(e){return(0,u.default)(this._weightMap.get(e.id),"this._weightMap.get(sticker.id)")}_findQuery(){return c.default.isRecentStickersEnabled()?h.default.queryRecentStickers().then(({checksum:e,stickers:t})=>(this.setChecksum(e),l.default.platform===l.PLATFORMS.ANDROID&&(this._weightMap.clear(),t.forEach(({id:e,weight:t})=>{this._weightMap.set(e,t)})),t.map((e,t)=>{var{weight:a}=e,i=(0,o.default)(e,["weight"]);return(0,n.default)((0,n.default)({},i),{},{index:t})}))):Promise.reject(new Error("gk recent sticker sync unsupported"))}enqueue(e){c.default.isRecentStickersEnabled()&&0!==e.length&&(l.default.platform===l.PLATFORMS.ANDROID?this._enqueueAndroid(e):this._enqueueiOS(e))}_enqueueAndroid(e){e.forEach(e=>{this.get(e.id)||(this._weightMap.set(e.id,0),this.add(e)),this.forEach(t=>{var a=this._getWeight(t);t.id===e.id?a+=1:a*=.9,this._weightMap.set(t.id,Math.round(1e3*a)/1e3)})}),this._sortTrimScale()}_enqueueiOS(e){this.forEach((e,t)=>{e.index=32+t});var t=new Set(e.map(e=>e.id));e.reduce((e,a)=>t.has(a.id)?(t.delete(a.id),[a].concat(e)):e,[]).slice(0,32).forEach((e,t)=>{var a=this.get(e.id);a?a.index=t:this.add({id:e.id,clientUrl:e.clientUrl,directPath:e.directPath,filehash:e.filehash,uploadhash:e.uploadhash,mediaKey:e.mediaKey,mediaKeyTimestamp:e.mediaKeyTimestamp,width:e.width,height:e.height,size:e.size,mimetype:e.mimetype,type:e.type,index:t})}),this.sort(),this.remove(this.slice(32))}setChecksum(e){this._checksum=e}sync(e){return c.default.isRecentStickersEnabled()&&(null==e||e!==this._checksum)?this._sync():Promise.resolve()}_sync(){return"INPROGRESS"===this._syncStatus?Promise.resolve():(this._syncStatus="INPROGRESS",this.findQuery({},{set:!0}).then(()=>{this.sort(),this._syncStatus="SUCCESS"}).catch(()=>{__LOG__(3)(p()),this._syncStatus="FAILURE"}))}isSynced(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus}reset(){return this._syncStatus="NONE",this._weightMap.clear(),super.reset()}}t.RecentStickerCollection=g,g.model=f.default;var m=new g;t.default=m},jebhjecbd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=a("hjbbdjjdf");function n(){var e=(0,r.default)(["bin-recv: response,quick_reply"]);return n=function(){return e},e}var o={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){return new Promise((a,i)=>{var r=e?Object.keys(e).map(t=>["quick_reply",{id:t,count:e[t].toString()},void 0]):void 0,s={type:"quick_reply"};t&&(s.kind="count");var o=this.queryNode(s,r);this.binSend("sendEphemeral",o,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{var i={data:[]};if(__LOG__(2)(n()),"response"===this.N.tag(e)&&"quick_reply"===this.N.attr("type",e)){i.checksum=this.N.attr("checksum",e);var r=this.N.children(e);if(Array.isArray(r))for(var s=0;s<r.length;s++){var o=(t?this.parseQuickReplyCount.bind(this):this.parseQuickReply.bind(this))(r[s]);o&&i.data.push(o)}}a(i)}).catch(i)},a),onDrop:this.wrap(i)},{debugString:"query,quick_replies",metricName:"QUERY_QUICK_REPLIES"})})},parseQuickReply:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),a=this.N.attr("short",e),i=this.N.attr("message",e),r=parseInt(this.N.attr("count",e),10)||0,n=this.N.attr("type",e),o=[];if("delete"!==n){var d=this.N.children(e);if(Array.isArray(d))for(var l=0;l<d.length;l++){var c=d[l];"matched-text"===this.N.tag(c)&&o.push(this.N.dataStr(c))}}var u=[!(n||t&&a&&i&&(0,s.isNumber)(r)),n&&"delete"!==n,"delete"===n&&!t];return this.dropIfConditionMet(u,{id:t,shortcut:a,message:i,count:r,keywords:o,type:n})}},parseQuickReplyCount:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),a=parseInt(this.N.attr("count",e),10)||0,i=[!t||!(0,s.isNumber)(a)];return this.dropIfConditionMet(i,{id:t,count:a})}}};t.default=o},jecdfjfjh:function(e,t){e.exports={hidden:"_2DHDz",container:"_1cezm"}},jedabbcee:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){__LOG__(2)(o(),a);var i=t.tag(e);if("response"!==i)throw new Error("node tag for ".concat(a," response is invalid: ").concat(i));var r=t.attr("type",e)||"";if(r!==a)throw new Error("node type for ".concat(a," response is invalid: ").concat(r));var d=parseInt(t.attr("code",e),10)||200;if(200!==d)throw new Error("response status for ".concat(a," is invalid: ").concat(d));var l=t.attr("checksum",e)||"",c=parseInt(t.attr("total",e)||"0",10),u=t.children(e)||[];(0,s.default)(Array.isArray(u),"expects an Array of Stickers");var f=u.map(e=>(0,n.default)(e,t)).filter(Boolean);return{checksum:l,total:c,stickers:f}};var r=i(a("dfadhaifh")),s=i(a("cgeeeeddea")),n=i(a("eacfaaadh"));function o(){var e=(0,r.default)(["bin-recv: response,",""]);return o=function(){return e},e}},jegbhjbde:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedName=c,t.getFormattedNames=function(e,t=!1){if(!Array.isArray(e))return c(e,t);var a=e.map(e=>c(e,t));return(0,l.default)(a,t)};var s=r(a("ddhijeejag")),n=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),d=i(a("dhigahgdjb")),l=i(a("cjfeddifcd"));function c(e,t=!1){var i,r=d.default.gadd(e,{silent:!0}),l=t?void 0:(i=e,e=>{e&&(e.preventDefault(),e.stopPropagation()),n.default.find(i).then(e=>{o.default.openChatFromUnread(e).then(t=>{t&&o.default.focusChatTextInput(e)})})}),c=a("gjbhafcjg").default;return t?r.formattedUser:s.createElement(c,{contact:r,onClick:l})}},jeicidbjg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=i(a("ddhijeejag")),o=r(a("ccbgfecegc")),d=r(a("bbfjdcedab")),l=a("dcdbiiejfc"),c=r(a("gfebgebbi")),u=a("bafdehfigc"),f=r(a("bdjjabfecc")),h=r(a("dcdbbhicce")),p=a("hjbbdjjdf");function g(){var e=(0,s.default)(["deleteChatPopup:onDelete Unsupported chat type"]);return g=function(){return e},e}class m extends n.PureComponent{constructor(...e){super(...e),this.getText=()=>{var e=this.props.chat,t=e.title();return e.isGroup?e.isReadOnly?f.default.t(1537,{groupName:t}):f.default.t(1544,{groupName:t}):e.isUser?f.default.t(490,{name:t}):e.isBroadcast?f.default.t(493):void 0},this.getButton=()=>{var e=this.props.chat;return e.isGroup?e.isReadOnly?f.default.t(1534):f.default.t(1542):e.isUser||e.isBroadcast?f.default.t(1534):void 0},this.onCancel=()=>{o.default.closeModal();var{onCancel:e}=this.props;e&&(0,p.isFunction)(e)&&e()},this.onDelete=()=>{var e,t=this.props.chat;t.isGroup?e=t.isReadOnly?(0,l.sendDelete)(t):(0,u.sendExitGroup)(t):t.isUser||t.isBroadcast?e=(0,l.sendDelete)(t):__LOG__(3)(g()),(0,p.isFunction)(this.props.onDeleteOrExit)&&e&&this.props.onDeleteOrExit(e),o.default.closeModal()}}render(){return n.createElement(d.default,{onOK:this.onDelete,okText:this.getButton(),onCancel:this.onCancel},n.createElement(c.default,{text:this.getText()}))}}m.CONCERNS={chat:["isReadOnly","isGroup","isUser","isBroadcast"]};var b=(0,h.default)(m,m.CONCERNS);t.default=b},jejigijij:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0});var r={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s.default}});var s=i(a("bdbhaijeaa"));Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},jgafgcaeg:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dgdjiicfdg")),s=i(a("bgeajihhc")),n={findGroupPendingInvitesFromPhone:function(e,t){return new Promise((a,i)=>{var r=this.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);this.binSend("sendEphemeral",r,i,{onSend:this.binWrap(e=>{this.BinaryProtocol.read(e).then(e=>{if("response"===this.N.tag(e)&&"group"===this.N.attr("type",e)){var t=this.N.children(e),i=t&&t[0];if(i){var r=[],s=this.N.children(i);Array.isArray(s)&&s.forEach(e=>{switch(this.N.tag(e)){case"participant":r.push({id:this.N.attr("jid",e)})}}),a({participants:r})}else a({status:"error",info:"bad format: no group node"})}else a({status:"error",info:"bad format: response incorrect"})}).catch(i)},a),onDrop:this.wrap(i)},{debugString:"query,group_pending_invite",metricName:"QUERY_GROUP",ackRequest:!1})})},acceptGroupV4Invite:function(e,t,a,i,n){return new Promise((o,d)=>{var l=s.default.tag(),c=this.wrap(o);c.tag=l;var u=[["accept",{admin:t,expiration:i,code:a},void 0]],f=this.actionNode("set",[["group",{id:l,author:n,jid:e,type:"accept"},u]]);this.binSend("send",f,d,{clientCacheable:!0,onSend:c,onDrop:this.wrap(d)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,r.default)().unix()})})},revokeGroupV4Invite:function(e,t,a){return new Promise((i,n)=>{var o=s.default.tag(),d=this.wrap(i);d.tag=o;var l=e.map(e=>["participant",{jid:e},void 0]),c=this.actionNode("set",[["group",{id:o,author:a,jid:t,type:"revoke"},l]]);this.binSend("send",c,n,{clientCacheable:!0,onSend:d,onDrop:this.wrap(n)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,r.default)().unix()})})},parseInviteUpdate(e){var t=[],[a,i,r]=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)];if("update"===a&&"invite"===r&&void 0!==i){for(var s=this.N.children(e),n=0;n<s.length;n++){var o=s[n];"participant"===this.N.tag(o)&&t.push(this.N.attr("jid",o))}return{gid:i,participants:t}}}};t.default=n},jgibefiic:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddfeabiaci")),s=i(a("facgffi")),n=(0,r.default)({version:"17",supportsFeatureFlags:!0,implementedFeatures:{}},s.default);t.default=n},jgidicjf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallNetworkMedium=t.ParticipantState=t.VideoUpgradeRequestEndedReason=t.VideoState=t.VoipSettingsType=t.CALL_LOG_RESULT=t.CALL_RESULT_TYPE=t.RENDERER_IPC_EVENTS=t.MAIN_IPC_EVENTS=t.VOIP_WINDOW_IPC_EVENTS=t.CALL_STATES=t.CALL_UI_STATES=t.WACallState=t.WACallEndReason=t.WAVideoCodecScheme=t.WACallEvent=void 0;t.WACallEvent={WANone:0,CallOfferSent:1,CallOfferReceived:2,CallOfferAckedWithRelayInfo:3,CallOfferNacked:4,CallOfferReceiptReceived:5,CallAcceptFailed:6,CallAcceptSent:7,CallAcceptReceived:8,CallPreacceptReceived:9,CallTerminateReceived:10,CallRejectReceived:11,CallOfferResend:12,AudioStreamStarted:13,P2PNegotiationSuccess:14,RelayCreateSuccess:15,CallStateChanged:16,P2PNegotiationFailed:17,MediaStreamError:18,AudioInitError:19,NoSamplingRatesForAudioRecord:20,SendOfferFailed:21,HandleOfferFailed:22,SendAcceptFailed:23,HandlePreAcceptFailed:24,HandleAcceptFailed:25,WillCreateSoundPort:26,SoundPortCreateFailed:27,TransportCandSendFailed:28,P2PTransportCreateFailed:29,P2PTransportMediaCreateFailed:30,P2PTransportStartFailed:31,P2PTransportRestartSuccess:32,MissingRelayInfo:33,ErrorGatheringHostCandidates:34,MediaStreamStartError:35,RelayLatencySendFailed:36,RelayElectionSendFailed:37,CallEnding:38,CallCaptureBufferFilled:39,CallCaptureEnded:40,RxTimeout:41,TxTimeout:42,RxTrafficStarted:43,RxTrafficStopped:44,RTCPPacketReceived:45,RTCPByeReceived:46,RelayBindsFailed:47,SoundPortCreated:48,AudioDriverRestart:49,Echo:50,SelfVideoStateChanged:51,PeerVideoStateChanged:52,VideoPortCreated:53,VideoPortCreateFailed:54,VideoDecodeStarted:55,VideoRenderStarted:56,VideoCaptureStarted:57,VideoPreviewFailed:58,VideoPreviewReady:59,VideoPreviewShouldMinimize:60,VideoStreamCreateError:61,VideoRenderFormatChanged:62,VideoCodecMismatch:63,VideoDecodePaused:64,VideoDecodeResumed:65,VideoEncodeFatalError:66,VideoDecodeFatalError:67,BatteryLevelLow:68,PeerBatteryLevelLow:69,GroupInfoChanged:70,FieldstatsReady:71,PendingCallInfoChanged:72,MuteStateChanged:73,InterruptionStateChanged:74,RxTrafficStateForPeerChanged:75,HandleAcceptReceiptFailed:76,GroupParticipantLeft:77,AudioRouteChangeRequest:78,HandleAcceptAckFailed:79,CallMissed:80,WeakWiFiSwitchedToCellular:81,CallAutoConnect:82,RejectedDecryptionFailure:83,PeerDeviceOrientationChanged:84,HandleOfferAckFailed:85,PendingCallAutoRejected:86,FDLeakDetected:87,RestartCamera:88,AudioTestReplayFinished:89,SyncDevices:90,VideoCodecStateChanged:91,CallFatal:92,UpdateJoinableCallLog:93,WAMax:94};t.WAVideoCodecScheme={VideoCodecSchemeNone:0,VideoCodecSchemeH26X:1,VideoCodecSchemeVPX:2,VideoCodecSchemeVPXH26X:3};t.WACallEndReason={WACallEndReasonUnknown:0,WACallEndReasonEndButtonTapped:1,WACallEndReasonEndButtonTappedOnBusy:2,WACallEndReasonReject:3,WACallEndReasonRejectUnavailable:4,WACallEndReasonRejectBlocked:5,WACallEndReasonTimeout:6,WACallEndReasonPeerUnavailable:7,WACallEndReasonRejectedByPeer:8,WACallEndReasonTimedoutByPeer:9,WACallEndReasonTerminatedByPeer:10,WACallEndReasonFailed:11,WACallEndReasonHandledRemotely:12};t.WACallState={WACallStateNone:0,WACallStateCalling:1,WACallStatePreacceptReceived:2,WACallStateReceivedCall:3,WACallStateAcceptSent:4,WACallStateAcceptReceived:5,WACallStateCallActive:6,WACallStateCallActiveElseWhere:7,WACallStateReceivedCallWithoutOffer:8};t.CALL_UI_STATES={NONE:"NONE",OUTGOING_RING:"OUTGOING_RING",INCOMING_RING:"INCOMING_RING",OUTGOING_CALLING:"OUTGOING_CALLING",CONNECTING:"CONNECTING",RECONNECTING:"RECONNECTING",ACTIVE:"ACTIVE",ENDED:"ENDED",REJECTED:"REJECTED",REMOTE_CALL_IN_PROGRESS:"REMOTE_CALL_IN_PROGRESS",FAILED:"FAILED"};t.CALL_STATES={INCOMING_RING:"INCOMING_RING",OUTGOING_RING:"OUTGOING_RING",OUTGOING_CALLING:"OUTGOING_CALLING",CONNECTING:"CONNECTING",CONNECTION_LOST:"CONNECTION_LOST",ACTIVE:"ACTIVE",HANDLED_REMOTELY:"HANDLED_REMOTELY",ENDED:"ENDED",REJECTED:"REJECTED",REMOTE_CALL_IN_PROGRESS:"REMOTE_CALL_IN_PROGRESS",FAILED:"FAILED",NOT_ANSWERED:"NOT_ANSWERED"};t.VOIP_WINDOW_IPC_EVENTS={INIT:"VOIP_WINDOW_INIT",UPDATE:"VOIP_WINDOW_UPDATE",REJECT:"VOIP_WINDOW_REJECT",ACCEPT:"VOIP_WINDOW_ACCEPT",IGNORE:"VOIP_WINDOW_IGNORE",END:"VOIP_WINDOW_END",RESET:"VOIP_WINDOW_RESET",TOGGLE_MUTE:"VOIP_WINDOW_TOGGLE_MUTE",TOGGLE_CAMERA:"VOIP_WINDOW_TOGGLE_CAMERA",OPEN_IN_CALL_MENU:"OPEN_IN_CALL_MENU",CLOSE_IN_CALL_MENU:"CLOSE_IN_CALL_MENU",TOGGLE_DEBUG_INFO:"TOGGLE_DEBUG_INFO",GROUP_CALL_INVITE:"GROUP_CALL_INVITE",UPGRADE_REQUEST:"UPGRADE_REQUEST",UPGRADE_ACCEPT:"UPGRADE_ACCEPT",UPGRADE_REJECT:"UPGRADE_REJECT",UPGRADE_CANCEL:"UPGRADE_CANCEL",INITIATE_WINDOW_MOVE:"INITIATE_WINDOW_MOVE",CLOSE_WINDOW_CLICK:"CLOSE_WINDOW_CLICK",MINIMIZE_WINDOW_CLICK:"MINIMIZE_WINDOW_CLICK",MAXIMIZE_WINDOW_CLICK:"MAXIMIZE_WINDOW_CLICK",UNMAXIMIZE_WINDOW_CLICK:"UNMAXIMIZE_WINDOW_CLICK",WINDOW_MAXIMIZED:"WINDOW_MAXIMIZED",WINDOW_UNMAXIMIZED:"WINDOW_UNMAXIMIZED",WINDOW_TITLE_DBL_CLICK:"WINDOW_TITLE_DBL_CLICK",WINDOW_ALWAYS_ON_TOP_CHANGED:"WINDOW_ALWAYS_ON_TOP_CHANGED",L10N_UPDATE:"L10N_UPDATE"};t.MAIN_IPC_EVENTS={EVENT:"VOIP_MAIN_WINDOW_EVENT",SIGNALING:"VOIP_MAIN_WINDOW_SIGNALING",LOGGING:"VOIP_MAIN_WINDOW_LOGGING",LOG_PATH:"VOIP_MAIN_WINDOW_LOG_PATH",AV_EVENT:"AV_DEVICE_INFO_CHANGED",AV_LOG:"AV_MAIN_WINDOW_LOGGING",AV_DEVICE_CHANGE_TOAST:"AV_DEVICE_CHANGE_TOAST"};t.RENDERER_IPC_EVENTS={ENABLE_VOIP_FEATURES:"voip:ENABLE_VOIP_FEATURES",ENABLE_VOIP_GROUP_FEATURES:"voip:ENABLE_VOIP_GROUP_FEATURES"};t.CALL_RESULT_TYPE={INVALID:0,CONNECTED:1,REJECTED_BY_USER:2,REJECTED_BY_SERVER:3,MISSED:4,BUSY:5,SETUP_ERROR:6,SERVER_NACK:7,CALL_OFFER_ACK_NOT_RECEIVED:8,MISSED_NO_RECEIPT:9,ACCEPTED_BUT_NOT_CONNECTED:10,CALL_CANCELED_CELLULAR_IN_PROGRESS:11,CALL_CANCELED_AIRPLANE_MODE_ON:12,CALL_CANCELED_NO_NETWORK:13,CALL_OFFER_ACK_CORRUPT:14,CALL_REJECTED_TOS:15,CALL_REJECTED_E2E:16,CALL_REJECTED_UNAVAILABLE:17,CALL_CANCELED_OFFER_NOT_SENT:18,PEER_SETUP_ERROR:19,ACTIVE_ELSEWHERE:20,NO_DECRYPTED_OFFER:21,ACCEPTED_ELSEWHERE:22,REJECTED_ELSEWHERE:23};t.CALL_LOG_RESULT={0:"invalid",1:"canceled",2:"missed",3:"unavailable",4:"reject",5:"connected"};t.VoipSettingsType={voipSettingsNone:0,voipSettingsAudio:1,voipSettingsVideo:2};t.VideoState={VideoStateDisabled:0,VideoStateEnabled:1,VideoStatePaused:2,VideoStateUpgradeRequest:3,VideoStateUpgradeAccept:4,VideoStateUpgradeReject:5,VideoStateStopped:6,VideoStateUpgradeRejectByTimeout:7,VideoStateUpgradeCancel:8,VideoStateUpgradeCancelByTimeout:9,VideoStateError:20};t.VideoUpgradeRequestEndedReason={EndedByUser:0,EndedByTimeout:1};t.ParticipantState={ParticipantStateInvalid:0,ParticipantConnected:1,ParticipantIncoming:2,ParticipantRinging:3,ParticipantRejected:4,ParticipantTerminated:5,ParticipantTimedout:6,ParticipantCreatingCall:7,ParticipantInvisible:8,ParticipantVisible:9,ParticipantCancelOffer:10};t.CallNetworkMedium={CallNetworkMediumCellular:1,CallNetworkMediumWifi:2,CallNetworkMediumNone:3}},jhcjhcfde:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ceffhbhahb")),n=i(a("ddhijeejag")),o=r(a("chjdbiidhd")),d=a("cdjbeigged"),l=r(a("ccbgfecegc")),c=r(a("hgigjbgie")),u=a("dhegcfddhg"),f=r(a("bdjjabfecc")),h=r(a("ebddggeaib")),p=i(a("bghjhaheia")),g=a("dhhjhedjij"),m=r(a("cfjjhfcjhj"));class b extends n.Component{constructor(...e){super(...e),this.addRevokeListener=()=>{this.props.listeners.add(this.props.msg,"change:asRevoked",this.handleRevoke)},this.handleRevoke=()=>{l.default.refreshMessages()}}componentDidMount(){this.addRevokeListener()}componentDidUpdate(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:asRevoked",this.handleRevoke),this.addRevokeListener())}getRef(){return this.ref}render(){var e,t,{msg:a,albumMsgs:i,albumPosition:r,isMsgVisible:l,zoomMsg:h,numAdditionalMedia:b}=this.props,v=(0,s.default)({[o.default.albumTopLeft]:r===d.AlbumPosition.TOP_LEFT,[o.default.albumTopRight]:r===d.AlbumPosition.TOP_RIGHT,[o.default.albumBottomLeft]:r===d.AlbumPosition.BOTTOM_LEFT,[o.default.albumBottomRight]:r===d.AlbumPosition.BOTTOM_RIGHT});if(null!=b&&0!==b&&(e=n.createElement(g.TextSpan,{theme:"large",className:(0,s.default)(o.default.numberText)},f.default.t(1054,{number:b}))),a.type===c.default.MSG_TYPE.IMAGE)t=n.createElement(p.default,{theme:p.THEMES.ALBUM,albumMsgs:i,msg:a,mediaData:a.mediaData,ref:(0,u.GetRef)("ref",this),isMsgVisible:l,zoomMsg:h,overlayContent:e});else{if(a.type!==c.default.MSG_TYPE.VIDEO)throw new Error("Unexpected Album Type: "+a.type);t=n.createElement(m.default,{theme:p.THEMES.ALBUM,albumMsgs:i,msg:a,mediaData:a.mediaData,ref:(0,u.GetRef)("ref",this),zoomMsg:h,overlayContent:e})}return n.createElement("div",{className:o.default.albumGridClass},n.createElement("div",{className:v},t))}}var v=(0,h.default)(b);t.default=class extends v{constructor(...e){super(...e),this.getRef=()=>this.getComponent().getRef()}}},jhddfhjhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),s=i(a("cdfdfciehj")),n=i(a("dagbcgeifg")),o=i(a("biaifggagf")),d=i(a("dbdfbgehgj")),l=i(a("ccbgfecegc")),c=i(a("hgigjbgie")),u=i(a("bdjjabfecc")),f=i(a("biecbbiiee")),h=a("hjbbdjjdf");function p(){var e=(0,r.default)(["Failed to create notification: ",":",""]);return p=function(){return e},e}t.default=class{constructor(e,t,a){this.close=()=>{this.notification&&this._waitForInteractionStop().then(()=>{this.notification&&(0,h.isFunction)(this.notification.close)&&this.notification.close()}).catch(()=>{})},this._onClose=()=>{this.waitingPromise.resolver(),window.removeEventListener("beforeunload",this.close),this.notification&&(this.notification.removeEventListener("click",this._onClick),this.notification.removeEventListener("close",this._onClose),this.notification.removeEventListener("show",this._onShow)),window.clearTimeout(this._onShowTimeout),this.msg&&this.msg.off("change:type",this._onRevoke)},this._onClick=()=>{window.focus(),this.onClick();var e=this.chat,t=this.msg;if(e){var a=t&&t!==e.msgs.last()?e.getSearchContext(t):void 0;l.default.openChatAt(e,a).then(t=>{t&&l.default.focusChatTextInput(e)}),l.default.closeModalMedia(),this.close()}},this._onShow=()=>{this.msg&&this.msg.on("change:type",this._onRevoke)},this._onRevoke=()=>{this.msg&&this.msg.type===c.default.MSG_TYPE.REVOKED&&this.close()},this.msg=f.default.get(t),this.chat=d.default.get(e);var i=!!o.default.get(t);this._timeoutDuration=i?c.default.CALL_NOTIFICATION_TIMEOUT:c.default.NOTIFICATION_TIMEOUT;var r=new Promise(e=>{this.waitingPromise={resolver:e}});this.waitingPromise.promise=r;var{title:g,notification:m}=a,b=(0,n.default)(a,["title","notification"]);try{this.notification=new m(g,(0,s.default)({tag:i?t:e.toString(),renotify:!0,dir:"auto",lang:u.default.lng(),silent:!0},b)),this.notification.addEventListener("click",this._onClick),this.notification.addEventListener("close",this._onClose),this.notification.addEventListener("show",this._onShow),window.addEventListener("beforeunload",this.close)}catch(e){__LOG__(1)(p(),e.name,e.message),this.waitingPromise.resolver()}}onClick(){}_waitForInteractionStop(){return Promise.resolve()}waitForClose(){return this.waitingPromise.promise}detach(){this._onClose()}}},jhiibdbh:function(e,t){e.exports={author:"CWVX1",name:"_19038",number:"_1o4HO",screenName:"_2KXjI",verifiedIcon:"_3grCF",hoverable:"dV60t"}},jhijifcjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("dfadhaifh")),n=r(a("ceffhbhahb")),o=a("djfeeacgad"),d=i(a("ddhijeejag")),l=r(a("effbcehec")),c=r(a("digfghedff")),u=r(a("dbcacdfhae")),f=r(a("bgfcjjddjf")),h=a("bjegdbjajg"),p=r(a("ccbgfecegc")),g=a("dacicgjcai"),m=r(a("dcfifdidih")),b=r(a("bbdfhdhjfj")),v=r(a("bbfjdcedab")),_=r(a("hgigjbgie")),E=r(a("cbedjffdai")),j=r(a("bcbfjdecaj")),y=r(a("caajihiffj")),S=a("cabeijgaif"),C=a("bgihjbde"),M=i(a("cajijabhgb")),T=a("cgffhfegce"),P=a("bgddggdhc"),O=r(a("bbaacgghch")),N=r(a("hjieaedbd")),I=r(a("bhbdiadfhj")),A=a("eajdbbfgfg"),w=a("bjddibdgjb"),R=r(a("dhfbfehaef")),D=i(a("dgjacfgggf")),L=r(a("hfeceeah")),k=r(a("bdjjabfecc")),x=r(a("bcggadeggg")),G=r(a("ifeefbdg")),U=i(a("dbcedfihd")),F=r(a("ebddggeaib")),B=r(a("bdcchebfge")),V=a("beeafhbcfh"),H=r(a("bfhejabcef")),W=r(a("bgiidadjgb")),K=a("dibegjcfci"),Y=a("icbibjcg"),q=r(a("igdabcfib")),z=a("fdfeibjga"),Q=r(a("dfifdafgfa")),J=r(a("cdhbiabgae")),X=a("biiiheaiih"),Z=r(a("djeebcafcb")),$=a("dbbhhgjjbg"),ee=r(a("bjhbdagefg")),te=r(a("dcdbbhicce")),ae=a("cjfegjecaj"),ie=r(a("dgdcjccfdi")),re=r(a("diffaiehid")),se=i(a("bjhgigfbec")),ne=r(a("cgjdibiahi")),oe=r(a("edbaidcaf")),de=r(a("dhaaddeehg")),le=r(a("bjieiiccce"));function ce(){var e=(0,s.default)(["Unable to retrieve CTWA context data, error: ",""]);return ce=function(){return e},e}function ue(){var e=(0,s.default)(["failed loading gif (status: ",")"]);return ue=function(){return e},e}var fe=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,he=parseInt(L.default["-overlay-border-left"].replace(/px$/,""),10);class pe extends d.PureComponent{constructor(e){super(e),this.height=0,this.pendingLinkPreviewPromises=[],this.pasteTriggeredOnChange=!1,this._wasCleared=!1,this.dismissVcardPanel=()=>{(0,ae.unproxy)(this.props.chat).dismissVcard()},this.saveComposeContent=()=>{this.props.chat.setComposeContents({text:this.text,selection:this.selection,omittedURL:this.omittedURL,ctwaContextLinkData:this.state.ctwaContextLinkData,ctwaContext:this.state.ctwaContextData})},this.onTextSizeChange=e=>{this.setState({textsize:e})},this.pasteEmojiInput=e=>{if(" "===e&&!this.hasText())return p.default.scrollMessages();this.refInput&&(this.refInput.focus(!0),this.refInput&&this.refInput.replaceSelection(e))},this.handleRoutedPaste=e=>{this.refInput&&(this.refInput.focus(!0),this.refInput&&this.refInput.onPaste(e))},this.onMaxPasteExceeded=()=>{p.default.openModal(d.createElement(v.default,{title:k.default.t(901),onOK:()=>{p.default.closeModal()},okText:k.default.t(1649)},k.default.t(900)))},this.restoreFocus=()=>{this.refInput&&this.refInput.focus()},this.clearLinkPreview=()=>{this.preview=null,this.omitLinkPreview()},this.cancelPendingLinkPreviews=()=>{this.pendingLinkPreviewPromises.forEach(e=>e.cancel()),this.pendingLinkPreviewPromises=[],!0===this.state.isLoadingLinkPreview&&this.setState({isLoadingLinkPreview:!1})},this.omitLinkPreview=(e=!1)=>{!0!==e&&this.state.linkPreview&&(this.omittedURL=this.preview,this.setState({linkPreview:null}))},this.omitQuotedPreview=(e=!1)=>{!0!==e&&(this.props.chat.composeQuotedMsg=null)},this.omitQuotedMsgAdminGroupNamePreview=(e=!1)=>{!0!==e&&(this.props.chat.quotedMsgAdminGroupJid=null)},this._findFirstWebLink=()=>{var e=(0,g.removeCodeBlocks)(this.text);return U.findLinks(e,!0)[0]},this.scanForLinksTimer=new o.ShiftTimer(()=>{if(this.state.hasText&&!this.state.ctwaContextLinkData){var e=this._findFirstWebLink();if(e){var t=e.url;if(!this.preview||this.preview!==t){this.preview=t,this.omittedURL=null;var a=(0,G.default)(t).cancellable().tap(e=>{e&&this.preview&&this.preview===e.url&&e.data&&(e.data.title||e.data.description)&&this.setState({linkPreview:e})});this.pendingLinkPreviewPromises.push(a),a.catchTypes3(M.Unmount,C.WebdDrop,Promise.CancellationError,()=>{})}}else this.clearLinkPreview()}else this.clearLinkPreview()}),this.onInputFocus=()=>{this.indicateFocus(),this.addEmojisToTouchBar()},this.onInputBlur=()=>{this.removeEmojisFromTouchBar()},this.onVoiceRecordingSent=()=>{this.omitCtwa()},this.setChatCtwaContextLinkData=e=>{this.setState({ctwaContextLinkData:e,ctwaContextData:null},()=>{this.updateCtwaContextState(e)})},this.omitCtwa=()=>{this.setState({ctwaContextLinkData:null,ctwaContextData:null},()=>{this.saveComposeContent(),this.scanForLinksTimer.onOrBefore(1)})},this.indicateFocus=()=>{var e=this.refContainer;e&&e.activate(),O.default.maybeIndicateFocus(this.refInputHotkey,L.default.focusAnimation),this.refInput&&this.refInput.focus(!1)},this.addEmojisToTouchBar=()=>{},this.removeEmojisFromTouchBar=()=>{},this.onPageUpDown=e=>{this.props.onPageUpDown&&(e.stopPropagation(),this.props.onPageUpDown(e),e.persist(),this.restoreFocusTimer.debounce(0))},this.restoreFocusTimer=new o.ShiftTimer(()=>{this.refInput&&this.refInput.focus(!1)}),this.handleEmoji=e=>{this.refInput&&this.refInput.replaceSelection(e)},this.handleGif=(e,t,a)=>{var i=le.default.get(e,le.default.RESP_TYPE.BLOB,{Accept:"video/mp4"}).then(e=>{if(200!==e.status)throw __LOG__(3)(ue(),e.status),new M.MediaFileFailedLoad;return e.response}).then(e=>D.generateVideoThumbAndDuration(e,_.default.IMG_THUMB_MAX_EDGE).then(({thumb:i,duration:r})=>({file:e,filename:t,mimetype:e.type,isGif:!0,gifAttribution:a,fullPreview:window.URL.createObjectURL(e),fullPreviewSize:{width:i.fullWidth,height:i.fullHeight},preview:oe.default.parseDataURL(i.url).data,duration:r})));return this.saveComposeContentDebounced.flush(),p.default.attachMediaDrawer({chat:this.props.chat,attachments:[i],initCaption:this.getCurrentComposeContent(),fileOrigin:B.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:(e,t)=>{this.updateTextAfterMediaDrawerClose(e,!!t),e&&this.closeEmojiPanel()}}),i.catch(()=>{}),i},this.setRefPanels=e=>{this.refPanels=e},this.handlePanelsDisplayCache=e=>{this.panelsDisplayCache=e},this.handlePanelsGif=(e,t)=>{this.handleGif(e,e,t)},this.handlePanelsSticker=(e,t)=>{e.sendToChat((0,ae.unproxy)(this.props.chat),t),this.omitCtwa()},this.handlePanelsFocusRelease=()=>{O.default.shouldIndicateFocus(),this.restoreFocus()},this.openEmojiPanel=()=>{this._setSelectedPanelId(V.PANELS.EMOJI)},this.closeEmojiPanel=()=>{this._setSelectedPanelId(null),this.restoreFocus()},this.onPTTRecState=e=>{this.setState({recording:e})},this.preventBlur=e=>{var{target:t}=e,a=(0,P.forbiddenAssertDOMNode)(this.refInput),i=(0,P.forbiddenAssertDOMNode)(this.refContainer);do{if(t===a)return}while(t!==i&&t instanceof HTMLElement&&(t=t.parentNode));ve(e),this.refInput&&this.refInput.focus(!1)},this.onChange=e=>{var t=(0,P.forbiddenAssertDOMNode)(this.refComposeBlock).clientHeight,a=t-this.height;a&&this.props.onComposeHeightChange({input:a},!1),this.height=t;var i=this.hasText();this.text=e||"",""===e&&(this._wasCleared=!0);var r=this.hasText();r!==i&&this.setState({hasText:r}),r?(this.props.chat.presence.subscribe().catchType(C.WebdDrop,()=>{}),(0,Y.markComposing)(this.props.chat)):(0,Y.markPaused)(this.props.chat);var s=this._findFirstWebLink();(!s&&this.preview||s&&s.url!==this.preview)&&this.clearLinkPreview(),this.pasteTriggeredOnChange?this.scanForLinksTimer.onOrBefore(1):this.scanForLinksTimer.debounce(700),this.pasteTriggeredOnChange=!1,this.saveComposeContentDebounced()},this.renderSendButton=()=>{var e=N.default&&window.AudioContext;return this.state.hasText||!e?d.createElement("button",{"data-a8n":l.default.key("compose-btn-send"),className:L.default.btnSend,onClick:this.onSendText,disabled:!this.hasText},d.createElement(ie.default,{name:"send",directional:!0})):d.createElement(q.default,{key:"ptt",chat:(0,ae.unproxy)(this.props.chat),onRecState:this.onPTTRecState,onRecordingSent:this.onVoiceRecordingSent})},this.renderPopupPanel=()=>{var e;if(this.state.linkPreview){var{title:t,canonicalUrl:a,description:i,thumbnail:r}=this.state.linkPreview.data;e=d.createElement(ne.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:this.omitLinkPreview},d.createElement(W.default,{onOmit:this.omitLinkPreview},d.createElement(x.default,{title:t,compose:!0,canonicalUrl:a,description:i,thumbnailJpeg:r})))}var s,n=this.props.chat.composeQuotedMsg,o=this.props.chat.quotedMsgAdminGroupJid,l=this.props.chat.composeQuotedMsgRemoteJid;n?s=d.createElement(ne.default,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:this.restoreFocus,requestDismiss:this.omitQuotedPreview},d.createElement(W.default,{onOmit:this.omitQuotedPreview},d.createElement(Q.default,{msg:n,composeQuotedMsgRemoteJid:l,theme:"composeBox",key:n.id.toString(),chat:n.chat}))):o&&(s=d.createElement(ne.default,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:this.restoreFocus,requestDismiss:this.omitQuotedPreview},d.createElement(W.default,{onOmit:this.omitQuotedMsgAdminGroupNamePreview},d.createElement(J.default,{isComposePreview:!0,quotedGroupJid:o,key:o.toString()}))));var u=(0,ae.unproxy)(this.props.chat),h=!u.isPSA&&u.shouldAppearInList&&u.msgs&&u.msgs.length>0,p=null;if(h){var g=f.default.get(u.id),m=u.getReceivedVcardMsgs();Boolean(!g&&m&&m.length&&!u.vcardDismissed)&&(p=d.createElement(de.default,{chat:u,dismissVcardPanel:this.dismissVcardPanel}))}var v=null;!u.trusted&&h&&null==p&&(v=d.createElement(ee.default,{chat:u,contact:u.contact}));var _,E,j=null;(this.state.selectedPanelId&&null!=this.state.width&&(j=d.createElement(Z.default,{onResize:this._handleResize},d.createElement(b.default,{displayCache:this.panelsDisplayCache,width:this.state.width,onDisplayCache:this.handlePanelsDisplayCache,onEmoji:this.handleEmoji,onFocusRelease:this.handlePanelsFocusRelease,onGif:this.handlePanelsGif,onPanelChange:this.handlePanelChange,onSticker:this.handlePanelsSticker,requestDismiss:this.closeEmojiPanel,forwardedRef:this.setRefPanels,selectedPanelId:this.state.selectedPanelId}))),this.state.ctwaContextLinkData)&&(_=d.createElement(ne.default,{displayName:"ComposeBoxCtwaContextPreview",escapable:!0,requestDismiss:this.omitCtwa},d.createElement(W.default,{onOmit:this.omitCtwa},d.createElement(y.default,{context:this.state.ctwaContextData,sourceUrl:null===(E=this.state.ctwaContextLinkData)||void 0===E?void 0:E.sourceUrl,compose:!0}))));return d.createElement("div",{className:L.default.positioningContainer},d.createElement("div",{className:L.default.overlayContainer},d.createElement(c.default,{onHeightChange:this.onHeightChange},v,p,j,s,e,_)))},this.onHeightChange=(e,t=!1)=>{this.props.onComposeHeightChange({overlay:e},t)},this.onFiles=e=>{var t=e.getFiles().filter(e=>{var t=(0,T.typeFromMimetype)(e.type);return"image"===t||"video"===t});if(e.hasType("text/html")){var a=e.getData("text/html");if(a){if(a.includes("<meta name=ProgId content=PowerPoint.Slide>"))return!1;var i=a.includes("urn:schemas-microsoft-com:office"),r=a.includes("urn:schemas-microsoft-com:office:excel");if(i&&!r)return!1}}if(t.length)return this.saveComposeContentDebounced.flush(),p.default.attachMediaDrawer({chat:this.props.chat,attachments:t.map(e=>({file:e})),fileOrigin:B.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:this.getCurrentComposeContent(),onComplete:this.updateTextAfterMediaDrawerClose}),!0},this.updateTextAfterMediaDrawerClose=(e,t)=>{e&&t&&this.refInput&&this.refInput.reset(),e&&this.omitCtwa()},this.getCurrentComposeContent=()=>this.props.chat.getComposeContents(),this.onTextPaste=e=>{var t=fe.exec(e);if(t){var a="https://media.giphy.com/media/".concat(t[1],"/200w.mp4");return this.handleGif(a,e,S.VideoMessageAttribution.GIPHY).catch(()=>{p.default.closeDrawerMid(),this.refInput&&(this.refInput.focus(!0),this.refInput&&this.refInput.replaceSelection(e)),p.default.openToast(d.createElement(se.default,{msg:k.default.t(859),id:(0,se.genId)()}))}),!0}return this.pasteTriggeredOnChange=!0,!1},this.onSelectionChange=e=>{this.selection=e},this.hasText=()=>{var e=this.text.trim().length>0;return(0,w.setHasText)(e),e},this.onEnter=e=>{e&&e.repeat||this.onSendText()},this.onSendText=()=>{(0,X.reconnect)();var e=this.refInput,{chat:t}=this.props;if(e){var a=e.serialize(),[i,r]=[a[0].trim(),a[1]];if(0!==i.length||this.state.ctwaContextLinkData){this.cancelPendingLinkPreviews();var s=t.composeQuotedMsg,n=t.quotedMsgAdminGroupJid,o=this.state.linkPreview&&this.state.linkPreview.data,d=r.mentionedJidList||[],l=(0,K.prepareCtwaContextSend)(this.state.ctwaContextLinkData,this.state.ctwaContextData),c=this._wasCleared;this._setSelectedPanelId(null),this.setState({hasText:!1,linkPreview:null},()=>{if(c){var e=(0,ae.unproxy)(t);e.urlText&&(e.urlText=void 0)}(0,$.sendTextMsgToChat)(t,i,{linkPreview:o,quotedMsg:s,mentionedJidList:d,quotedMsgAdminGroupJid:n,ctwaContext:l}),this._wasCleared=!1}),this.omitCtwa(),t.composeQuotedMsg=null,t.quotedMsgAdminGroupJid=null,t.composeQuotedMsgRemoteJid=null,t.setComposeContents({}),e.reset(),this.text="",this.hasText()}}},this.handlePanelChange=e=>{this._setSelectedPanelId(e)},this.handleTab=e=>{this.state.selectedPanelId&&(this.refPanels&&this.refPanels.restoreFocus(!0),ve(e))},this.setRefContainer=e=>{this.refContainer=e},this.setRefComposeBlock=e=>{this.refComposeBlock=e},this.setRefInputHotkey=e=>{this.refInputHotkey=e},this.setRefInput=e=>{this.refInput=e},this._handleResize=({width:e})=>{this.state.width!==e&&this.setState({width:e})};var{chat:t}=e,a=t.getComposeContents();this.text=a.text||"",this.selection=a.selection,this.preview=this.omittedURL=a.omittedURL,this.saveComposeContentDebounced=this.props.debounce(this.saveComposeContent,200),this.state={hasText:!!this.text,recording:!1,linkPreview:null,isLoadingLinkPreview:!1,selectedPanelId:null,textsize:E.default.get().textsize,width:null,ctwaContextLinkData:a.ctwaContextLinkData,ctwaContextData:a.ctwaContext}}componentDidMount(){var{listeners:e,chat:t}=this.props;if(this.props.listeners.add(f.default,"add remove reset",()=>{this.forceUpdate()}),I.default.supportsFeature(I.default.F.INDEX_RECEIVED_VCARD)){var a=t.getReceivedVcardMsgs();a&&e.add(a,"add remove reset",()=>{this.forceUpdate()})}this.height=(0,P.forbiddenAssertDOMNode)(this.refComposeBlock).clientHeight,this.scanForLinksTimer.debounceAndCap(50,50);var{ctwaContextLinkData:i}=this.state;!i||this.state.ctwaContextData&&this.state.ctwaContextData.sourceUrl===i.sourceUrl||this.setState({ctwaContextData:null},()=>{this.updateCtwaContextState(i)})}componentWillUnmount(){this.scanForLinksTimer.cancel(),this.restoreFocusTimer.cancel(),this.saveComposeContent(),this.removeEmojisFromTouchBar()}updateCtwaContextState(e){this.saveComposeContent(),this.clearLinkPreview(),e.sourceUrl&&(0,z.fetchCtwaContextData)(e).then(e=>{this.setState({ctwaContextData:e},()=>{this.saveComposeContent()})}).catch(e=>{__LOG__(3)(ce(),e)})}_setSelectedPanelId(e){var t=null==this.state.selectedPanelId&&null!=e;this.setState({selectedPanelId:e,width:t&&null!=this.refComposeBlock?this.refComposeBlock.offsetWidth-he:this.state.width})}render(){return d.createElement(ne.default,{displayName:"ComposeBox",ref:this.setRefContainer,state:ne.default.State.PASSIVE,requestFocus:this.restoreFocus},d.createElement(R.default,{component:"footer",handlers:{pagedown:this.onPageUpDown,pageup:this.onPageUpDown},className:L.default.footer,onMouseDown:this.preventBlur,onContextMenu:this.preventBlur},d.createElement(j.default,{className:(0,n.default)(L.default.blockCompose,_e(this.state.textsize)),onRef:this.setRefComposeBlock},d.createElement("div",{style:{willChange:"width"},className:(0,n.default)(L.default.childPadding,L.default.boxPanelWrapper)},d.createElement(H.default,{selectedPanelId:this.state.selectedPanelId,onChange:this.handlePanelChange}),d.createElement("div",{className:L.default.attachButtonContainer},d.createElement(u.default,{chat:(0,ae.unproxy)(this.props.chat),getComposeContents:this.getCurrentComposeContent,onMenuComplete:this.updateTextAfterMediaDrawerClose}))),d.createElement(R.default,{onRef:this.setRefInputHotkey,className:(0,n.default)(L.default.inputContainer,{[L.default.disabled]:this.state.recording}),handlers:{tab:this.handleTab,"shift+tab":this.handleTab},onFocus:this.onInputFocus,onBlur:this.onInputBlur},d.createElement(m.default,{a8n:"conversation-compose-box-input",placeholder:k.default.t(1322),readOnly:this.state.recording,ref:this.setRefInput,initialValue:this.text,initialSelection:this.selection,spellCheck:!0,multiline:!0,maxLength:_.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:this.onMaxPasteExceeded,onEnter:this.onEnter,onFiles:this.onFiles,onTextPaste:this.onTextPaste,onChange:this.onChange,onSelect:this.onSelectionChange,textPasteMimePriority:[h.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose"})),d.createElement("div",{className:L.default.childPadding},this.renderSendButton())),this.renderPopupPanel(),d.createElement(m.default.EmojiSuggestions,{chat:(0,ae.unproxy)(this.props.chat)}),d.createElement(be,{key:this.props.chat.id.toString(),parent:this,chatId:this.props.chat.id}),d.createElement(m.default.Suggestions,{chat:(0,ae.unproxy)(this.props.chat)}),(0,A.canSendQuickReply)()&&d.createElement(m.default.QuickRepliesSuggestions,{chat:(0,ae.unproxy)(this.props.chat)})))}}pe.CONCERNS={chat:["id","trusted","composeContents","composeQuotedMsg","isPSA","shouldAppearInList","presence","contact","attachMediaContents","quotedMsgAdminGroupJid","receivedVcardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]};var ge=(0,re.default)((0,F.default)((0,te.default)(pe,pe.CONCERNS)));t.default=ge;class me extends d.PureComponent{constructor(...e){super(...e),this.restoreFocus=()=>{this.props.parent.restoreFocus()},this.pasteEmojiInput=e=>{this.props.parent.pasteEmojiInput(e)},this.handleRoutedPaste=e=>{this.props.parent.handleRoutedPaste(e)},this.onSendText=()=>{this.props.parent.onSendText()},this.onTextSizeChange=e=>{this.props.parent.onTextSizeChange(e)},this.setChatCtwaContextLinkData=e=>{this.props.parent.setChatCtwaContextLinkData(e)}}UNSAFE_componentWillMount(){var{chatId:e,listeners:t}=this.props;t.add(p.default,"focus_chat_text_input_".concat(e.toString()),this.restoreFocus),t.add(p.default,"paste_chat_text_input_".concat(e.toString()),this.pasteEmojiInput),t.add(p.default,"send_paste_to_compose_".concat(e.toString()),this.handleRoutedPaste),t.add(p.default,"enter_chat_text_input_".concat(e.toString()),this.onSendText),t.add(p.default,"chat_set_ctwa_context_link_data_".concat(e.toString()),this.setChatCtwaContextLinkData),t.add(p.default,"focus_chat_text_input",this.restoreFocus),t.add(p.default,"textsize_change",this.onTextSizeChange)}render(){return null}}var be=(0,F.default)(me);function ve(e){e&&(e.preventDefault(),e.stopPropagation())}function _e(e){for(var t=_.default.TEXTSIZE_CLASS_MAP,a=0;a<t.length;a++)if(t[a].scale===e)return t[a].classname}},jhjbdcjbc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var s=r(a("ddhijeejag")),n=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),d=i(a("chieajfcec")),l=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"bhjcihggie",7)).then(e=>e.default),"EditCaptureFlow");t.requireBundle=l;var c=(0,n.default)({loader:l,loading:e=>s.createElement(d.default,{error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=c},jicdegdfi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),r=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("ddhijeejag")),n=i(a("effbcehec")),o=i(a("cagaiadjai")),d=i(a("daghjjjedc")),l=i(a("ccbgfecegc")),c=i(a("hgigjbgie")),u=i(a("hihehahee")),f=i(a("bhbdiadfhj")),h=i(a("dhfbfehaef")),p=i(a("bdjjabfecc")),g=i(a("dgjfidhijd"));class m extends s.Component{constructor(...e){super(...e),this.state={clearMedia:!0},this.onCancel=()=>{var{onPopupCancel:e}=this.props;e()},this.onRevoke=()=>{var{chat:e,msgList:t,toastPosition:a,onCancel:i,onRevoke:r}=this.props;l.default.sendRevokeMsgs(e,t,this.state.clearMedia,null,a),r(),i&&i()},this.onDelete=()=>{var{chat:e,msgList:t,toastPosition:a,onCancel:i,onDelete:r,isMsgVisible:s}=this.props;l.default.sendDeleteMsgs(e,t,this.state.clearMedia,null,a),r(),i&&i(),l.default.existsDrawerRight(e=>{e&&s&&t.forEach(e=>{s(e.id,!0)&&l.default.closeDrawerRight()})})},this.onToggleClearMedia=()=>{this.setState({clearMedia:!this.state.clearMedia})}}render(){var e,{msgList:t,deletePrompt:a,revokePrompt:i}=this.props;f.default.supportsFeature(f.default.F.DELETE_MSG_CLEAR_MEDIA)&&t.some(e=>e.isMMS&&e.type!==c.default.MSG_TYPE.STICKER)&&(e=s.createElement("div",{className:u.default.container,onClick:this.onToggleClearMedia,key:0},s.createElement("div",{"data-a8n":n.default.key("menu-icon-revoke-message"),className:u.default.control},s.createElement(d.default,{onChange:this.onToggleClearMedia,checked:this.state.clearMedia})),s.createElement("div",{className:u.default.label},p.default.t(427))));var r=s.createElement(o.default,{type:"plain",onClick:this.onCancel,key:0},p.default.t(1497)),l=null,m=null,b=null,v=()=>{},_=t.length,E=p.default.t(495,{_plural:_});if(i&&(l=s.createElement(o.default,{a8nText:"popup-controls-revoke",type:"plain",onClick:this.onRevoke,key:1},p.default.t(1186)),v=this.onRevoke),a){var j=f.default.supportsFeature(f.default.F.REVOKE)?p.default.t(488):p.default.t(1534);m=s.createElement(o.default,{a8nText:"popup-controls-delete",type:i?"plain":"primary",onClick:this.onDelete,key:2},j),v=this.onDelete}var y={enter:v,escape:this.onCancel};return m&&(b=l?s.createElement("div",{className:u.default.buttons},s.createElement("div",{className:u.default.button},m),s.createElement("div",{className:u.default.button},r),s.createElement("div",{className:u.default.button},l)):[r,m]),s.createElement(h.default,{handlers:y},s.createElement(g.default,{title:E,actions:b,children:[e]}))}}t.default=m},jigjfjjij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),r=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a("cdfdfciehj")),n=r(a("eaaagccfda")),o=i(a("ddhijeejag")),d=r(a("cgdgbjcccb")),l=a("jagjbhcgf"),c=r(a("djaiggcdb")),u=r(a("bdjjabfecc")),f=a("igiffibee"),h=r(a("cahfddcdga")),p=r(a("djeebcafcb")),g=r(a("cgjdibiahi")),m=r(a("dcaffhdhce"));function b(e){var[t,,a]=e.polygonVertices;return"".concat((0,h.default)(t.x,"topLeft.x"),":").concat((0,h.default)(t.y,"topLeft.y"),":").concat((0,h.default)(a.x,"bottomRight.x"),":").concat((0,h.default)(a.y,"bottomRight.y"))}function v(e,t){if(null==e)return null;var a=e.parentNode;if(!(null!=a&&a instanceof HTMLElement))return null;var[i,r,s]=t.polygonVertices;(0,h.default)(i.x,"topLeft.x")!==(0,h.default)(r.x,"topRight.x")&&(0,h.default)(r.y,"topRight.y")!==(0,h.default)(s.y,"bottomRight.y")||([,i,r,s]=t.polygonVertices);var n=(0,h.default)(i.x,"topLeft.x"),o=(0,h.default)(i.y,"topLeft.y"),d=(0,h.default)(r.x,"topRight.x"),l=(0,h.default)(r.y,"topRight.y"),c=(0,h.default)(s.y,"bottomRight.y"),u=n*a.offsetWidth,f=o*a.offsetHeight,p=a.offsetWidth*(n-d),g=a.offsetHeight*(o-l),m=n>d?Math.PI:0,b=p?Math.atan(g/p)+m:0,v=180*b/Math.PI;return{left:u,top:f,width:Math.abs(p/Math.cos(b)),height:Math.abs(a.offsetHeight*(c-l)/Math.cos(b)),transform:"rotate(".concat(v,"deg)"),transformOrigin:"top left"}}class _ extends o.Component{constructor(...e){super(...e),this.annotationRef=o.createRef()}componentDidMount(){this.forceUpdate()}render(){var{annotation:e}=this.props;return o.createElement("div",{ref:this.annotationRef,className:d.default.annotation,style:v(this.annotationRef.current,e),onClick:t=>this.props.onClick(t,e),onKeyDown:t=>this.props.onKeyDown(t,e),role:"button","aria-label":e.location.name,tabIndex:"0"})}}class E extends o.Component{constructor(...e){super(...e),this.state={tooltip:null},this.displayTooltip=(e,t,a)=>{if(null!=t||null!=a){var{location:i}=e,r=(0,f.getMapUrl)((0,h.default)(i.degreesLatitude,"location.degreesLatitude"),(0,h.default)(i.degreesLongitude,"location.degreesLongitude")),n={menu:o.createElement(c.default,{href:r,className:d.default.tooltip,onClick:this.hideTooltip},u.default.t(1221)),type:l.MenuType.tooltip,dirX:l.DirX.RIGHT,dirY:l.DirY.TOP};null!=t?(t.persist(),n=(0,s.default)((0,s.default)({},n),{},{event:t,autoFocus:!1,offsetX:0,offsetY:0})):n=(0,s.default)((0,s.default)({},n),{},{anchor:a,autoFocus:!0}),this.setState({tooltip:n},()=>{this.props.onTooltipDisplay&&this.props.onTooltipDisplay()})}},this.hideTooltip=()=>{this.setState({tooltip:null},()=>{this.props.onTooltipDismiss&&this.props.onTooltipDismiss()})},this.handleAnnotationClick=(e,t)=>{e.stopPropagation(),this.displayTooltip(t,e)},this.handleAnnotationKeyDown=(e,t)=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),this.displayTooltip(t,null,e.target))},this.handleResize=(0,n.default)(()=>{this.hideTooltip()},100)}componentWillUnmount(){this.handleResize.cancel()}render(){var{annotations:e}=this.props;if(!e.length)return null;var t=this.state.tooltip&&o.createElement(g.default,{displayName:"InteractiveAnnotationTooltip",popable:!0,escapable:!0,requestDismiss:this.hideTooltip,requestRecentFocusOnUnmount:!1},o.createElement(m.default,{tooltip:this.state.tooltip}));return o.createElement(o.Fragment,null,e.map(e=>function(e){var{polygonVertices:t,location:a}=e,[i,,r]=t;return null!=i&&null!=i.x&&null!=i.y&&null!=r&&null!=r.x&&null!=r.y&&(null!=a.degreesLatitude&&null!=a.degreesLongitude)}(e)&&o.createElement(_,{key:b(e),annotation:e,onClick:t=>this.handleAnnotationClick(t,e),onKeyDown:t=>this.handleAnnotationKeyDown(t,e)})),t,o.createElement(p.default,{onResize:this.handleResize}))}}t.default=E},jjaddhidj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.parentNode)return;return t.parentNode.insertBefore(e,t),e}},jjijgifac:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Promise.resolve(s.default.digest({name:"SHA-256"},e).then(r.encodeB64))};var r=a("dibgccbbif"),s=i(a("dfeaddeccc"))},jjjdieajj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["","#️⃣","*️⃣","0️⃣","1️⃣","2️⃣","3️⃣","4️⃣","5️⃣","6️⃣","7️⃣","8️⃣","9️⃣","©️","®️","‼️","⁉️","™️","ℹ️","↔️","↕️","↖️","↗️","↘️","↙️","↩️","↪️","⌚","⌛","⌨️","⏏️","⏩","⏪","⏫","⏬","⏭️","⏮️","⏯️","⏰","⏱️","⏲️","⏳","⏸️","⏹️","⏺️","Ⓜ️","▪️","▫️","▶️","◀️","◻️","◼️","◽","◾","☀️","☁️","☂️","☃️","☄️","☎️","☑️","☔","☕","☘️","☝🏻","☝🏼","☝🏽","☝🏾","☝🏿","☝️","☠️","☢️","☣️","☦️","☪️","☮️","☯️","☸️","☹️","☺️","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♟️","♠️","♣️","♥️","♦️","♨️","♻️","♾️","♿","⚒️","⚓","⚔️","⚖️","⚗️","⚙️","⚛️","⚜️","⚠️","⚡","⚧️","⚪","⚫","⚰️","⚱️","⚽","⚾","⛄","⛅","⛈️","⛎","⛏️","⛑️","⛓️","⛔","⛩️","⛪","⛰️","⛱️","⛲","⛳","⛴️","⛵","⛷️","⛸️","⛹🏻","⛹🏻‍♀️","⛹🏻‍♂️","⛹🏼","⛹🏼‍♀️","⛹🏼‍♂️","⛹🏽","⛹🏽‍♀️","⛹🏽‍♂️","⛹🏾","⛹🏾‍♀️","⛹🏾‍♂️","⛹🏿","⛹🏿‍♀️","⛹🏿‍♂️","⛹️","⛹️‍♀️","⛹️‍♂️","⛺","⛽","✂️","✅","✈️","✉️","✊","✊🏻","✊🏼","✊🏽","✊🏾","✊🏿","✋","✋🏻","✋🏼","✋🏽","✋🏾","✋🏿","✌🏻","✌🏼","✌🏽","✌🏾","✌🏿","✌️","✍🏻","✍🏼","✍🏽","✍🏾","✍🏿","✍️","✏️","✒️","✔️","✖️","✝️","✡️","✨","✳️","✴️","❄️","❇️","❌","❎","❓","❔","❕","❗","❣️","❤️","➕","➖","➗","➡️","➰","➿","⤴️","⤵️","⬅️","⬆️","⬇️","⬛","⬜","⭐","⭕","〰️","〽️","㊗️","㊙️","🀄","🃏","🅰️","🅱️","🅾️","🅿️","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇲","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇦🇿","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇷","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇾","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇦","🇪🇨","🇪🇪","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇪","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇰🇿","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇹","🇱🇺","🇱🇻","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇳","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇺","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇯","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇦","🇺🇬","🇺🇲","🇺🇳","🇺🇸","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼","🈁","🈂️","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷️","🈸","🈹","🈺","🉐","🉑","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌍","🌎","🌏","🌐","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌝","🌞","🌟","🌠","🌡️","🌤️","🌥️","🌦️","🌧️","🌨️","🌩️","🌪️","🌫️","🌬️","🌭","🌮","🌯","🌰","🌱","🌲","🌳","🌴","🌵","🌶️","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🍎","🍏","🍐","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🍼","🍽️","🍾","🍿","🎀","🎁","🎂","🎃","🎄","🎅","🎅🏻","🎅🏼","🎅🏽","🎅🏾","🎅🏿","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎖️","🎗️","🎙️","🎚️","🎛️","🎞️","🎟️","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏂🏻","🏂🏼","🏂🏽","🏂🏾","🏂🏿","🏃","🏃‍♀️","🏃‍♂️","🏃🏻","🏃🏻‍♀️","🏃🏻‍♂️","🏃🏼","🏃🏼‍♀️","🏃🏼‍♂️","🏃🏽","🏃🏽‍♀️","🏃🏽‍♂️","🏃🏾","🏃🏾‍♀️","🏃🏾‍♂️","🏃🏿","🏃🏿‍♀️","🏃🏿‍♂️","🏄","🏄‍♀️","🏄‍♂️","🏄🏻","🏄🏻‍♀️","🏄🏻‍♂️","🏄🏼","🏄🏼‍♀️","🏄🏼‍♂️","🏄🏽","🏄🏽‍♀️","🏄🏽‍♂️","🏄🏾","🏄🏾‍♀️","🏄🏾‍♂️","🏄🏿","🏄🏿‍♀️","🏄🏿‍♂️","🏅","🏆","🏇","🏇🏻","🏇🏼","🏇🏽","🏇🏾","🏇🏿","🏈","🏉","🏊","🏊‍♀️","🏊‍♂️","🏊🏻","🏊🏻‍♀️","🏊🏻‍♂️","🏊🏼","🏊🏼‍♀️","🏊🏼‍♂️","🏊🏽","🏊🏽‍♀️","🏊🏽‍♂️","🏊🏾","🏊🏾‍♀️","🏊🏾‍♂️","🏊🏿","🏊🏿‍♀️","🏊🏿‍♂️","🏋🏻","🏋🏻‍♀️","🏋🏻‍♂️","🏋🏼","🏋🏼‍♀️","🏋🏼‍♂️","🏋🏽","🏋🏽‍♀️","🏋🏽‍♂️","🏋🏾","🏋🏾‍♀️","🏋🏾‍♂️","🏋🏿","🏋🏿‍♀️","🏋🏿‍♂️","🏋️","🏋️‍♀️","🏋️‍♂️","🏌🏻","🏌🏻‍♀️","🏌🏻‍♂️","🏌🏼","🏌🏼‍♀️","🏌🏼‍♂️","🏌🏽","🏌🏽‍♀️","🏌🏽‍♂️","🏌🏾","🏌🏾‍♀️","🏌🏾‍♂️","🏌🏿","🏌🏿‍♀️","🏌🏿‍♂️","🏌️","🏌️‍♀️","🏌️‍♂️","🏍️","🏎️","🏏","🏐","🏑","🏒","🏓","🏔️","🏕️","🏖️","🏗️","🏘️","🏙️","🏚️","🏛️","🏜️","🏝️","🏞️","🏟️","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🏳️","🏳️‍⚧️","🏳️‍🌈","🏴","🏴‍☠️","🏴󠁧󠁢󠁥󠁮󠁧󠁿","🏴󠁧󠁢󠁳󠁣󠁴󠁿","🏴󠁧󠁢󠁷󠁬󠁳󠁿","🏵️","🏷️","🏸","🏹","🏺","🏻","🏼","🏽","🏾","🏿","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐈‍⬛","🐉","🐊","🐋","🐌","🐍","🐎","🐏","🐐","🐑","🐒","🐓","🐔","🐕","🐕‍🦺","🐖","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐪","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐻‍❄️","🐼","🐽","🐾","🐿️","👀","👁️","👁️‍🗨️","👂","👂🏻","👂🏼","👂🏽","👂🏾","👂🏿","👃","👃🏻","👃🏼","👃🏽","👃🏾","👃🏿","👄","👅","👆","👆🏻","👆🏼","👆🏽","👆🏾","👆🏿","👇","👇🏻","👇🏼","👇🏽","👇🏾","👇🏿","👈","👈🏻","👈🏼","👈🏽","👈🏾","👈🏿","👉","👉🏻","👉🏼","👉🏽","👉🏾","👉🏿","👊","👊🏻","👊🏼","👊🏽","👊🏾","👊🏿","👋","👋🏻","👋🏼","👋🏽","👋🏾","👋🏿","👌","👌🏻","👌🏼","👌🏽","👌🏾","👌🏿","👍","👍🏻","👍🏼","👍🏽","👍🏾","👍🏿","👎","👎🏻","👎🏼","👎🏽","👎🏾","👎🏿","👏","👏🏻","👏🏼","👏🏽","👏🏾","👏🏿","👐","👐🏻","👐🏼","👐🏽","👐🏾","👐🏿","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👥","👦","👦🏻","👦🏼","👦🏽","👦🏾","👦🏿","👧","👧🏻","👧🏼","👧🏽","👧🏾","👧🏿","👨","👨‍⚕️","👨‍⚖️","👨‍✈️","👨‍❤️‍👨","👨‍❤️‍💋‍👨","👨‍🌾","👨‍🍳","👨‍🍼","👨‍🎓","👨‍🎤","👨‍🎨","👨‍🏫","👨‍🏭","👨‍👦","👨‍👦‍👦","👨‍👧","👨‍👧‍👦","👨‍👧‍👧","👨‍👨‍👦","👨‍👨‍👦‍👦","👨‍👨‍👧","👨‍👨‍👧‍👦","👨‍👨‍👧‍👧","👨‍👩‍👦","👨‍👩‍👦‍👦","👨‍👩‍👧","👨‍👩‍👧‍👦","👨‍👩‍👧‍👧","👨‍💻","👨‍💼","👨‍🔧","👨‍🔬","👨‍🚀","👨‍🚒","👨‍🦯","👨‍🦰","👨‍🦱","👨‍🦲","👨‍🦳","👨‍🦼","👨‍🦽","👨🏻","👨🏻‍⚕️","👨🏻‍⚖️","👨🏻‍✈️","👨🏻‍🌾","👨🏻‍🍳","👨🏻‍🍼","👨🏻‍🎓","👨🏻‍🎤","👨🏻‍🎨","👨🏻‍🏫","👨🏻‍🏭","👨🏻‍💻","👨🏻‍💼","👨🏻‍🔧","👨🏻‍🔬","👨🏻‍🚀","👨🏻‍🚒","👨🏻‍🤝‍👨🏼","👨🏻‍🤝‍👨🏽","👨🏻‍🤝‍👨🏾","👨🏻‍🤝‍👨🏿","👨🏻‍🦯","👨🏻‍🦰","👨🏻‍🦱","👨🏻‍🦲","👨🏻‍🦳","👨🏻‍🦼","👨🏻‍🦽","👨🏼","👨🏼‍⚕️","👨🏼‍⚖️","👨🏼‍✈️","👨🏼‍🌾","👨🏼‍🍳","👨🏼‍🍼","👨🏼‍🎓","👨🏼‍🎤","👨🏼‍🎨","👨🏼‍🏫","👨🏼‍🏭","👨🏼‍💻","👨🏼‍💼","👨🏼‍🔧","👨🏼‍🔬","👨🏼‍🚀","👨🏼‍🚒","👨🏼‍🤝‍👨🏻","👨🏼‍🤝‍👨🏽","👨🏼‍🤝‍👨🏾","👨🏼‍🤝‍👨🏿","👨🏼‍🦯","👨🏼‍🦰","👨🏼‍🦱","👨🏼‍🦲","👨🏼‍🦳","👨🏼‍🦼","👨🏼‍🦽","👨🏽","👨🏽‍⚕️","👨🏽‍⚖️","👨🏽‍✈️","👨🏽‍🌾","👨🏽‍🍳","👨🏽‍🍼","👨🏽‍🎓","👨🏽‍🎤","👨🏽‍🎨","👨🏽‍🏫","👨🏽‍🏭","👨🏽‍💻","👨🏽‍💼","👨🏽‍🔧","👨🏽‍🔬","👨🏽‍🚀","👨🏽‍🚒","👨🏽‍🤝‍👨🏻","👨🏽‍🤝‍👨🏼","👨🏽‍🤝‍👨🏾","👨🏽‍🤝‍👨🏿","👨🏽‍🦯","👨🏽‍🦰","👨🏽‍🦱","👨🏽‍🦲","👨🏽‍🦳","👨🏽‍🦼","👨🏽‍🦽","👨🏾","👨🏾‍⚕️","👨🏾‍⚖️","👨🏾‍✈️","👨🏾‍🌾","👨🏾‍🍳","👨🏾‍🍼","👨🏾‍🎓","👨🏾‍🎤","👨🏾‍🎨","👨🏾‍🏫","👨🏾‍🏭","👨🏾‍💻","👨🏾‍💼","👨🏾‍🔧","👨🏾‍🔬","👨🏾‍🚀","👨🏾‍🚒","👨🏾‍🤝‍👨🏻","👨🏾‍🤝‍👨🏼","👨🏾‍🤝‍👨🏽","👨🏾‍🤝‍👨🏿","👨🏾‍🦯","👨🏾‍🦰","👨🏾‍🦱","👨🏾‍🦲","👨🏾‍🦳","👨🏾‍🦼","👨🏾‍🦽","👨🏿","👨🏿‍⚕️","👨🏿‍⚖️","👨🏿‍✈️","👨🏿‍🌾","👨🏿‍🍳","👨🏿‍🍼","👨🏿‍🎓","👨🏿‍🎤","👨🏿‍🎨","👨🏿‍🏫","👨🏿‍🏭","👨🏿‍💻","👨🏿‍💼","👨🏿‍🔧","👨🏿‍🔬","👨🏿‍🚀","👨🏿‍🚒","👨🏿‍🤝‍👨🏻","👨🏿‍🤝‍👨🏼","👨🏿‍🤝‍👨🏽","👨🏿‍🤝‍👨🏾","👨🏿‍🦯","👨🏿‍🦰","👨🏿‍🦱","👨🏿‍🦲","👨🏿‍🦳","👨🏿‍🦼","👨🏿‍🦽","👩","👩‍⚕️","👩‍⚖️","👩‍✈️","👩‍❤️‍👨","👩‍❤️‍👩","👩‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👩‍🌾","👩‍🍳","👩‍🍼","👩‍🎓","👩‍🎤","👩‍🎨","👩‍🏫","👩‍🏭","👩‍👦","👩‍👦‍👦","👩‍👧","👩‍👧‍👦","👩‍👧‍👧","👩‍👩‍👦","👩‍👩‍👦‍👦","👩‍👩‍👧","👩‍👩‍👧‍👦","👩‍👩‍👧‍👧","👩‍💻","👩‍💼","👩‍🔧","👩‍🔬","👩‍🚀","👩‍🚒","👩‍🦯","👩‍🦰","👩‍🦱","👩‍🦲","👩‍🦳","👩‍🦼","👩‍🦽","👩🏻","👩🏻‍⚕️","👩🏻‍⚖️","👩🏻‍✈️","👩🏻‍🌾","👩🏻‍🍳","👩🏻‍🍼","👩🏻‍🎓","👩🏻‍🎤","👩🏻‍🎨","👩🏻‍🏫","👩🏻‍🏭","👩🏻‍💻","👩🏻‍💼","👩🏻‍🔧","👩🏻‍🔬","👩🏻‍🚀","👩🏻‍🚒","👩🏻‍🤝‍👨🏼","👩🏻‍🤝‍👨🏽","👩🏻‍🤝‍👨🏾","👩🏻‍🤝‍👨🏿","👩🏻‍🤝‍👩🏼","👩🏻‍🤝‍👩🏽","👩🏻‍🤝‍👩🏾","👩🏻‍🤝‍👩🏿","👩🏻‍🦯","👩🏻‍🦰","👩🏻‍🦱","👩🏻‍🦲","👩🏻‍🦳","👩🏻‍🦼","👩🏻‍🦽","👩🏼","👩🏼‍⚕️","👩🏼‍⚖️","👩🏼‍✈️","👩🏼‍🌾","👩🏼‍🍳","👩🏼‍🍼","👩🏼‍🎓","👩🏼‍🎤","👩🏼‍🎨","👩🏼‍🏫","👩🏼‍🏭","👩🏼‍💻","👩🏼‍💼","👩🏼‍🔧","👩🏼‍🔬","👩🏼‍🚀","👩🏼‍🚒","👩🏼‍🤝‍👨🏻","👩🏼‍🤝‍👨🏽","👩🏼‍🤝‍👨🏾","👩🏼‍🤝‍👨🏿","👩🏼‍🤝‍👩🏻","👩🏼‍🤝‍👩🏽","👩🏼‍🤝‍👩🏾","👩🏼‍🤝‍👩🏿","👩🏼‍🦯","👩🏼‍🦰","👩🏼‍🦱","👩🏼‍🦲","👩🏼‍🦳","👩🏼‍🦼","👩🏼‍🦽","👩🏽","👩🏽‍⚕️","👩🏽‍⚖️","👩🏽‍✈️","👩🏽‍🌾","👩🏽‍🍳","👩🏽‍🍼","👩🏽‍🎓","👩🏽‍🎤","👩🏽‍🎨","👩🏽‍🏫","👩🏽‍🏭","👩🏽‍💻","👩🏽‍💼","👩🏽‍🔧","👩🏽‍🔬","👩🏽‍🚀","👩🏽‍🚒","👩🏽‍🤝‍👨🏻","👩🏽‍🤝‍👨🏼","👩🏽‍🤝‍👨🏾","👩🏽‍🤝‍👨🏿","👩🏽‍🤝‍👩🏻","👩🏽‍🤝‍👩🏼","👩🏽‍🤝‍👩🏾","👩🏽‍🤝‍👩🏿","👩🏽‍🦯","👩🏽‍🦰","👩🏽‍🦱","👩🏽‍🦲","👩🏽‍🦳","👩🏽‍🦼","👩🏽‍🦽","👩🏾","👩🏾‍⚕️","👩🏾‍⚖️","👩🏾‍✈️","👩🏾‍🌾","👩🏾‍🍳","👩🏾‍🍼","👩🏾‍🎓","👩🏾‍🎤","👩🏾‍🎨","👩🏾‍🏫","👩🏾‍🏭","👩🏾‍💻","👩🏾‍💼","👩🏾‍🔧","👩🏾‍🔬","👩🏾‍🚀","👩🏾‍🚒","👩🏾‍🤝‍👨🏻","👩🏾‍🤝‍👨🏼","👩🏾‍🤝‍👨🏽","👩🏾‍🤝‍👨🏿","👩🏾‍🤝‍👩🏻","👩🏾‍🤝‍👩🏼","👩🏾‍🤝‍👩🏽","👩🏾‍🤝‍👩🏿","👩🏾‍🦯","👩🏾‍🦰","👩🏾‍🦱","👩🏾‍🦲","👩🏾‍🦳","👩🏾‍🦼","👩🏾‍🦽","👩🏿","👩🏿‍⚕️","👩🏿‍⚖️","👩🏿‍✈️","👩🏿‍🌾","👩🏿‍🍳","👩🏿‍🍼","👩🏿‍🎓","👩🏿‍🎤","👩🏿‍🎨","👩🏿‍🏫","👩🏿‍🏭","👩🏿‍💻","👩🏿‍💼","👩🏿‍🔧","👩🏿‍🔬","👩🏿‍🚀","👩🏿‍🚒","👩🏿‍🤝‍👨🏻","👩🏿‍🤝‍👨🏼","👩🏿‍🤝‍👨🏽","👩🏿‍🤝‍👨🏾","👩🏿‍🤝‍👩🏻","👩🏿‍🤝‍👩🏼","👩🏿‍🤝‍👩🏽","👩🏿‍🤝‍👩🏾","👩🏿‍🦯","👩🏿‍🦰","👩🏿‍🦱","👩🏿‍🦲","👩🏿‍🦳","👩🏿‍🦼","👩🏿‍🦽","👪","👫","👫🏻","👫🏼","👫🏽","👫🏾","👫🏿","👬","👬🏻","👬🏼","👬🏽","👬🏾","👬🏿","👭","👭🏻","👭🏼","👭🏽","👭🏾","👭🏿","👮","👮‍♀️","👮‍♂️","👮🏻","👮🏻‍♀️","👮🏻‍♂️","👮🏼","👮🏼‍♀️","👮🏼‍♂️","👮🏽","👮🏽‍♀️","👮🏽‍♂️","👮🏾","👮🏾‍♀️","👮🏾‍♂️","👮🏿","👮🏿‍♀️","👮🏿‍♂️","👯","👯‍♀️","👯‍♂️","👰","👰‍♀️","👰‍♂️","👰🏻","👰🏻‍♀️","👰🏻‍♂️","👰🏼","👰🏼‍♀️","👰🏼‍♂️","👰🏽","👰🏽‍♀️","👰🏽‍♂️","👰🏾","👰🏾‍♀️","👰🏾‍♂️","👰🏿","👰🏿‍♀️","👰🏿‍♂️","👱","👱‍♀️","👱‍♂️","👱🏻","👱🏻‍♀️","👱🏻‍♂️","👱🏼","👱🏼‍♀️","👱🏼‍♂️","👱🏽","👱🏽‍♀️","👱🏽‍♂️","👱🏾","👱🏾‍♀️","👱🏾‍♂️","👱🏿","👱🏿‍♀️","👱🏿‍♂️","👲","👲🏻","👲🏼","👲🏽","👲🏾","👲🏿","👳","👳‍♀️","👳‍♂️","👳🏻","👳🏻‍♀️","👳🏻‍♂️","👳🏼","👳🏼‍♀️","👳🏼‍♂️","👳🏽","👳🏽‍♀️","👳🏽‍♂️","👳🏾","👳🏾‍♀️","👳🏾‍♂️","👳🏿","👳🏿‍♀️","👳🏿‍♂️","👴","👴🏻","👴🏼","👴🏽","👴🏾","👴🏿","👵","👵🏻","👵🏼","👵🏽","👵🏾","👵🏿","👶","👶🏻","👶🏼","👶🏽","👶🏾","👶🏿","👷","👷‍♀️","👷‍♂️","👷🏻","👷🏻‍♀️","👷🏻‍♂️","👷🏼","👷🏼‍♀️","👷🏼‍♂️","👷🏽","👷🏽‍♀️","👷🏽‍♂️","👷🏾","👷🏾‍♀️","👷🏾‍♂️","👷🏿","👷🏿‍♀️","👷🏿‍♂️","👸","👸🏻","👸🏼","👸🏽","👸🏾","👸🏿","👹","👺","👻","👼","👼🏻","👼🏼","👼🏽","👼🏾","👼🏿","👽","👾","👿","💀","💁","💁‍♀️","💁‍♂️","💁🏻","💁🏻‍♀️","💁🏻‍♂️","💁🏼","💁🏼‍♀️","💁🏼‍♂️","💁🏽","💁🏽‍♀️","💁🏽‍♂️","💁🏾","💁🏾‍♀️","💁🏾‍♂️","💁🏿","💁🏿‍♀️","💁🏿‍♂️","💂","💂‍♀️","💂‍♂️","💂🏻","💂🏻‍♀️","💂🏻‍♂️","💂🏼","💂🏼‍♀️","💂🏼‍♂️","💂🏽","💂🏽‍♀️","💂🏽‍♂️","💂🏾","💂🏾‍♀️","💂🏾‍♂️","💂🏿","💂🏿‍♀️","💂🏿‍♂️","💃","💃🏻","💃🏼","💃🏽","💃🏾","💃🏿","💄","💅","💅🏻","💅🏼","💅🏽","💅🏾","💅🏿","💆","💆‍♀️","💆‍♂️","💆🏻","💆🏻‍♀️","💆🏻‍♂️","💆🏼","💆🏼‍♀️","💆🏼‍♂️","💆🏽","💆🏽‍♀️","💆🏽‍♂️","💆🏾","💆🏾‍♀️","💆🏾‍♂️","💆🏿","💆🏿‍♀️","💆🏿‍♂️","💇","💇‍♀️","💇‍♂️","💇🏻","💇🏻‍♀️","💇🏻‍♂️","💇🏼","💇🏼‍♀️","💇🏼‍♂️","💇🏽","💇🏽‍♀️","💇🏽‍♂️","💇🏾","💇🏾‍♀️","💇🏾‍♂️","💇🏿","💇🏿‍♀️","💇🏿‍♂️","💈","💉","💊","💋","💌","💍","💎","💏","💐","💑","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💪🏻","💪🏼","💪🏽","💪🏾","💪🏿","💫","💬","💭","💮","💯","💰","💱","💲","💳","💴","💵","💶","💷","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📬","📭","📮","📯","📰","📱","📲","📳","📴","📵","📶","📷","📸","📹","📺","📻","📼","📽️","📿","🔀","🔁","🔂","🔃","🔄","🔅","🔆","🔇","🔈","🔉","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔕","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔬","🔭","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕉️","🕊️","🕋","🕌","🕍","🕎","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧","🕯️","🕰️","🕳️","🕴🏻","🕴🏼","🕴🏽","🕴🏾","🕴🏿","🕴️","🕵🏻","🕵🏻‍♀️","🕵🏻‍♂️","🕵🏼","🕵🏼‍♀️","🕵🏼‍♂️","🕵🏽","🕵🏽‍♀️","🕵🏽‍♂️","🕵🏾","🕵🏾‍♀️","🕵🏾‍♂️","🕵🏿","🕵🏿‍♀️","🕵🏿‍♂️","🕵️","🕵️‍♀️","🕵️‍♂️","🕶️","🕷️","🕸️","🕹️","🕺","🕺🏻","🕺🏼","🕺🏽","🕺🏾","🕺🏿","🖇️","🖊️","🖋️","🖌️","🖍️","🖐🏻","🖐🏼","🖐🏽","🖐🏾","🖐🏿","🖐️","🖕","🖕🏻","🖕🏼","🖕🏽","🖕🏾","🖕🏿","🖖","🖖🏻","🖖🏼","🖖🏽","🖖🏾","🖖🏿","🖤","🖥️","🖨️","🖱️","🖲️","🖼️","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","🗜️","🗝️","🗞️","🗡️","🗣️","🗨️","🗯️","🗳️","🗺️","🗻","🗼","🗽","🗾","🗿","😀","😁","😂","😃","😄","😅","😆","😇","😈","😉","😊","😋","😌","😍","😎","😏","😐","😑","😒","😓","😔","😕","😖","😗","😘","😙","😚","😛","😜","😝","😞","😟","😠","😡","😢","😣","😤","😥","😦","😧","😨","😩","😪","😫","😬","😭","😮","😯","😰","😱","😲","😳","😴","😵","😶","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙁","🙂","🙃","🙄","🙅","🙅‍♀️","🙅‍♂️","🙅🏻","🙅🏻‍♀️","🙅🏻‍♂️","🙅🏼","🙅🏼‍♀️","🙅🏼‍♂️","🙅🏽","🙅🏽‍♀️","🙅🏽‍♂️","🙅🏾","🙅🏾‍♀️","🙅🏾‍♂️","🙅🏿","🙅🏿‍♀️","🙅🏿‍♂️","🙆","🙆‍♀️","🙆‍♂️","🙆🏻","🙆🏻‍♀️","🙆🏻‍♂️","🙆🏼","🙆🏼‍♀️","🙆🏼‍♂️","🙆🏽","🙆🏽‍♀️","🙆🏽‍♂️","🙆🏾","🙆🏾‍♀️","🙆🏾‍♂️","🙆🏿","🙆🏿‍♀️","🙆🏿‍♂️","🙇","🙇‍♀️","🙇‍♂️","🙇🏻","🙇🏻‍♀️","🙇🏻‍♂️","🙇🏼","🙇🏼‍♀️","🙇🏼‍♂️","🙇🏽","🙇🏽‍♀️","🙇🏽‍♂️","🙇🏾","🙇🏾‍♀️","🙇🏾‍♂️","🙇🏿","🙇🏿‍♀️","🙇🏿‍♂️","🙈","🙉","🙊","🙋","🙋‍♀️","🙋‍♂️","🙋🏻","🙋🏻‍♀️","🙋🏻‍♂️","🙋🏼","🙋🏼‍♀️","🙋🏼‍♂️","🙋🏽","🙋🏽‍♀️","🙋🏽‍♂️","🙋🏾","🙋🏾‍♀️","🙋🏾‍♂️","🙋🏿","🙋🏿‍♀️","🙋🏿‍♂️","🙌","🙌🏻","🙌🏼","🙌🏽","🙌🏾","🙌🏿","🙍","🙍‍♀️","🙍‍♂️","🙍🏻","🙍🏻‍♀️","🙍🏻‍♂️","🙍🏼","🙍🏼‍♀️","🙍🏼‍♂️","🙍🏽","🙍🏽‍♀️","🙍🏽‍♂️","🙍🏾","🙍🏾‍♀️","🙍🏾‍♂️","🙍🏿","🙍🏿‍♀️","🙍🏿‍♂️","🙎","🙎‍♀️","🙎‍♂️","🙎🏻","🙎🏻‍♀️","🙎🏻‍♂️","🙎🏼","🙎🏼‍♀️","🙎🏼‍♂️","🙎🏽","🙎🏽‍♀️","🙎🏽‍♂️","🙎🏾","🙎🏾‍♀️","🙎🏾‍♂️","🙎🏿","🙎🏿‍♀️","🙎🏿‍♂️","🙏","🙏🏻","🙏🏼","🙏🏽","🙏🏾","🙏🏿","🚀","🚁","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚋","🚌","🚍","🚎","🚏","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚢","🚣","🚣‍♀️","🚣‍♂️","🚣🏻","🚣🏻‍♀️","🚣🏻‍♂️","🚣🏼","🚣🏼‍♀️","🚣🏼‍♂️","🚣🏽","🚣🏽‍♀️","🚣🏽‍♂️","🚣🏾","🚣🏾‍♀️","🚣🏾‍♂️","🚣🏿","🚣🏿‍♀️","🚣🏿‍♂️","🚤","🚥","🚦","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚮","🚯","🚰","🚱","🚲","🚳","🚴","🚴‍♀️","🚴‍♂️","🚴🏻","🚴🏻‍♀️","🚴🏻‍♂️","🚴🏼","🚴🏼‍♀️","🚴🏼‍♂️","🚴🏽","🚴🏽‍♀️","🚴🏽‍♂️","🚴🏾","🚴🏾‍♀️","🚴🏾‍♂️","🚴🏿","🚴🏿‍♀️","🚴🏿‍♂️","🚵","🚵‍♀️","🚵‍♂️","🚵🏻","🚵🏻‍♀️","🚵🏻‍♂️","🚵🏼","🚵🏼‍♀️","🚵🏼‍♂️","🚵🏽","🚵🏽‍♀️","🚵🏽‍♂️","🚵🏾","🚵🏾‍♀️","🚵🏾‍♂️","🚵🏿","🚵🏿‍♀️","🚵🏿‍♂️","🚶","🚶‍♀️","🚶‍♂️","🚶🏻","🚶🏻‍♀️","🚶🏻‍♂️","🚶🏼","🚶🏼‍♀️","🚶🏼‍♂️","🚶🏽","🚶🏽‍♀️","🚶🏽‍♂️","🚶🏾","🚶🏾‍♀️","🚶🏾‍♂️","🚶🏿","🚶🏿‍♀️","🚶🏿‍♂️","🚷","🚸","🚹","🚺","🚻","🚼","🚽","🚾","🚿","🛀","🛀🏻","🛀🏼","🛀🏽","🛀🏾","🛀🏿","🛁","🛂","🛃","🛄","🛅","🛋️","🛌","🛌🏻","🛌🏼","🛌🏽","🛌🏾","🛌🏿","🛍️","🛎️","🛏️","🛐","🛑","🛒","🛕","🛖","🛗","🛠️","🛡️","🛢️","🛣️","🛤️","🛥️","🛩️","🛫","🛬","🛰️","🛳️","🛴","🛵","🛶","🛷","🛸","🛹","🛺","🛻","🛼","🟠","🟡","🟢","🟣","🟤","🟥","🟦","🟧","🟨","🟩","🟪","🟫","🤌","🤌🏻","🤌🏼","🤌🏽","🤌🏾","🤌🏿","🤍","🤎","🤏","🤏🏻","🤏🏼","🤏🏽","🤏🏾","🤏🏿","🤐","🤑","🤒","🤓","🤔","🤕","🤖","🤗","🤘","🤘🏻","🤘🏼","🤘🏽","🤘🏾","🤘🏿","🤙","🤙🏻","🤙🏼","🤙🏽","🤙🏾","🤙🏿","🤚","🤚🏻","🤚🏼","🤚🏽","🤚🏾","🤚🏿","🤛","🤛🏻","🤛🏼","🤛🏽","🤛🏾","🤛🏿","🤜","🤜🏻","🤜🏼","🤜🏽","🤜🏾","🤜🏿","🤝","🤞","🤞🏻","🤞🏼","🤞🏽","🤞🏾","🤞🏿","🤟","🤟🏻","🤟🏼","🤟🏽","🤟🏾","🤟🏿","🤠","🤡","🤢","🤣","🤤","🤥","🤦","🤦‍♀️","🤦‍♂️","🤦🏻","🤦🏻‍♀️","🤦🏻‍♂️","🤦🏼","🤦🏼‍♀️","🤦🏼‍♂️","🤦🏽","🤦🏽‍♀️","🤦🏽‍♂️","🤦🏾","🤦🏾‍♀️","🤦🏾‍♂️","🤦🏿","🤦🏿‍♀️","🤦🏿‍♂️","🤧","🤨","🤩","🤪","🤫","🤬","🤭","🤮","🤯","🤰","🤰🏻","🤰🏼","🤰🏽","🤰🏾","🤰🏿","🤱","🤱🏻","🤱🏼","🤱🏽","🤱🏾","🤱🏿","🤲","🤲🏻","🤲🏼","🤲🏽","🤲🏾","🤲🏿","🤳","🤳🏻","🤳🏼","🤳🏽","🤳🏾","🤳🏿","🤴","🤴🏻","🤴🏼","🤴🏽","🤴🏾","🤴🏿","🤵","🤵‍♀️","🤵‍♂️","🤵🏻","🤵🏻‍♀️","🤵🏻‍♂️","🤵🏼","🤵🏼‍♀️","🤵🏼‍♂️","🤵🏽","🤵🏽‍♀️","🤵🏽‍♂️","🤵🏾","🤵🏾‍♀️","🤵🏾‍♂️","🤵🏿","🤵🏿‍♀️","🤵🏿‍♂️","🤶","🤶🏻","🤶🏼","🤶🏽","🤶🏾","🤶🏿","🤷","🤷‍♀️","🤷‍♂️","🤷🏻","🤷🏻‍♀️","🤷🏻‍♂️","🤷🏼","🤷🏼‍♀️","🤷🏼‍♂️","🤷🏽","🤷🏽‍♀️","🤷🏽‍♂️","🤷🏾","🤷🏾‍♀️","🤷🏾‍♂️","🤷🏿","🤷🏿‍♀️","🤷🏿‍♂️","🤸","🤸‍♀️","🤸‍♂️","🤸🏻","🤸🏻‍♀️","🤸🏻‍♂️","🤸🏼","🤸🏼‍♀️","🤸🏼‍♂️","🤸🏽","🤸🏽‍♀️","🤸🏽‍♂️","🤸🏾","🤸🏾‍♀️","🤸🏾‍♂️","🤸🏿","🤸🏿‍♀️","🤸🏿‍♂️","🤹","🤹‍♀️","🤹‍♂️","🤹🏻","🤹🏻‍♀️","🤹🏻‍♂️","🤹🏼","🤹🏼‍♀️","🤹🏼‍♂️","🤹🏽","🤹🏽‍♀️","🤹🏽‍♂️","🤹🏾","🤹🏾‍♀️","🤹🏾‍♂️","🤹🏿","🤹🏿‍♀️","🤹🏿‍♂️","🤺","🤼","🤼‍♀️","🤼‍♂️","🤽","🤽‍♀️","🤽‍♂️","🤽🏻","🤽🏻‍♀️","🤽🏻‍♂️","🤽🏼","🤽🏼‍♀️","🤽🏼‍♂️","🤽🏽","🤽🏽‍♀️","🤽🏽‍♂️","🤽🏾","🤽🏾‍♀️","🤽🏾‍♂️","🤽🏿","🤽🏿‍♀️","🤽🏿‍♂️","🤾","🤾‍♀️","🤾‍♂️","🤾🏻","🤾🏻‍♀️","🤾🏻‍♂️","🤾🏼","🤾🏼‍♀️","🤾🏼‍♂️","🤾🏽","🤾🏽‍♀️","🤾🏽‍♂️","🤾🏾","🤾🏾‍♀️","🤾🏾‍♂️","🤾🏿","🤾🏿‍♀️","🤾🏿‍♂️","🤿","🥀","🥁","🥂","🥃","🥄","🥅","🥇","🥈","🥉","🥊","🥋","🥌","🥍","🥎","🥏","🥐","🥑","🥒","🥓","🥔","🥕","🥖","🥗","🥘","🥙","🥚","🥛","🥜","🥝","🥞","🥟","🥠","🥡","🥢","🥣","🥤","🥥","🥦","🥧","🥨","🥩","🥪","🥫","🥬","🥭","🥮","🥯","🥰","🥱","🥲","🥳","🥴","🥵","🥶","🥷","🥷🏻","🥷🏼","🥷🏽","🥷🏾","🥷🏿","🥸","🥺","🥻","🥼","🥽","🥾","🥿","🦀","🦁","🦂","🦃","🦄","🦅","🦆","🦇","🦈","🦉","🦊","🦋","🦌","🦍","🦎","🦏","🦐","🦑","🦒","🦓","🦔","🦕","🦖","🦗","🦘","🦙","🦚","🦛","🦜","🦝","🦞","🦟","🦠","🦡","🦢","🦣","🦤","🦥","🦦","🦧","🦨","🦩","🦪","🦫","🦬","🦭","🦮","🦯","🦰","🦱","🦲","🦳","🦴","🦵","🦵🏻","🦵🏼","🦵🏽","🦵🏾","🦵🏿","🦶","🦶🏻","🦶🏼","🦶🏽","🦶🏾","🦶🏿","🦷","🦸","🦸‍♀️","🦸‍♂️","🦸🏻","🦸🏻‍♀️","🦸🏻‍♂️","🦸🏼","🦸🏼‍♀️","🦸🏼‍♂️","🦸🏽","🦸🏽‍♀️","🦸🏽‍♂️","🦸🏾","🦸🏾‍♀️","🦸🏾‍♂️","🦸🏿","🦸🏿‍♀️","🦸🏿‍♂️","🦹","🦹‍♀️","🦹‍♂️","🦹🏻","🦹🏻‍♀️","🦹🏻‍♂️","🦹🏼","🦹🏼‍♀️","🦹🏼‍♂️","🦹🏽","🦹🏽‍♀️","🦹🏽‍♂️","🦹🏾","🦹🏾‍♀️","🦹🏾‍♂️","🦹🏿","🦹🏿‍♀️","🦹🏿‍♂️","🦺","🦻","🦻🏻","🦻🏼","🦻🏽","🦻🏾","🦻🏿","🦼","🦽","🦾","🦿","🧀","🧁","🧂","🧃","🧄","🧅","🧆","🧇","🧈","🧉","🧊","🧋","🧍","🧍‍♀️","🧍‍♂️","🧍🏻","🧍🏻‍♀️","🧍🏻‍♂️","🧍🏼","🧍🏼‍♀️","🧍🏼‍♂️","🧍🏽","🧍🏽‍♀️","🧍🏽‍♂️","🧍🏾","🧍🏾‍♀️","🧍🏾‍♂️","🧍🏿","🧍🏿‍♀️","🧍🏿‍♂️","🧎","🧎‍♀️","🧎‍♂️","🧎🏻","🧎🏻‍♀️","🧎🏻‍♂️","🧎🏼","🧎🏼‍♀️","🧎🏼‍♂️","🧎🏽","🧎🏽‍♀️","🧎🏽‍♂️","🧎🏾","🧎🏾‍♀️","🧎🏾‍♂️","🧎🏿","🧎🏿‍♀️","🧎🏿‍♂️","🧏","🧏‍♀️","🧏‍♂️","🧏🏻","🧏🏻‍♀️","🧏🏻‍♂️","🧏🏼","🧏🏼‍♀️","🧏🏼‍♂️","🧏🏽","🧏🏽‍♀️","🧏🏽‍♂️","🧏🏾","🧏🏾‍♀️","🧏🏾‍♂️","🧏🏿","🧏🏿‍♀️","🧏🏿‍♂️","🧐","🧑","🧑‍⚕️","🧑‍⚖️","🧑‍✈️","🧑‍🌾","🧑‍🍳","🧑‍🍼","🧑‍🎄","🧑‍🎓","🧑‍🎤","🧑‍🎨","🧑‍🏫","🧑‍🏭","🧑‍💻","🧑‍💼","🧑‍🔧","🧑‍🔬","🧑‍🚀","🧑‍🚒","🧑‍🤝‍🧑","🧑‍🦯","🧑‍🦰","🧑‍🦱","🧑‍🦲","🧑‍🦳","🧑‍🦼","🧑‍🦽","🧑🏻","🧑🏻‍⚕️","🧑🏻‍⚖️","🧑🏻‍✈️","🧑🏻‍🌾","🧑🏻‍🍳","🧑🏻‍🍼","🧑🏻‍🎄","🧑🏻‍🎓","🧑🏻‍🎤","🧑🏻‍🎨","🧑🏻‍🏫","🧑🏻‍🏭","🧑🏻‍💻","🧑🏻‍💼","🧑🏻‍🔧","🧑🏻‍🔬","🧑🏻‍🚀","🧑🏻‍🚒","🧑🏻‍🤝‍🧑🏻","🧑🏻‍🤝‍🧑🏼","🧑🏻‍🤝‍🧑🏽","🧑🏻‍🤝‍🧑🏾","🧑🏻‍🤝‍🧑🏿","🧑🏻‍🦯","🧑🏻‍🦰","🧑🏻‍🦱","🧑🏻‍🦲","🧑🏻‍🦳","🧑🏻‍🦼","🧑🏻‍🦽","🧑🏼","🧑🏼‍⚕️","🧑🏼‍⚖️","🧑🏼‍✈️","🧑🏼‍🌾","🧑🏼‍🍳","🧑🏼‍🍼","🧑🏼‍🎄","🧑🏼‍🎓","🧑🏼‍🎤","🧑🏼‍🎨","🧑🏼‍🏫","🧑🏼‍🏭","🧑🏼‍💻","🧑🏼‍💼","🧑🏼‍🔧","🧑🏼‍🔬","🧑🏼‍🚀","🧑🏼‍🚒","🧑🏼‍🤝‍🧑🏻","🧑🏼‍🤝‍🧑🏼","🧑🏼‍🤝‍🧑🏽","🧑🏼‍🤝‍🧑🏾","🧑🏼‍🤝‍🧑🏿","🧑🏼‍🦯","🧑🏼‍🦰","🧑🏼‍🦱","🧑🏼‍🦲","🧑🏼‍🦳","🧑🏼‍🦼","🧑🏼‍🦽","🧑🏽","🧑🏽‍⚕️","🧑🏽‍⚖️","🧑🏽‍✈️","🧑🏽‍🌾","🧑🏽‍🍳","🧑🏽‍🍼","🧑🏽‍🎄","🧑🏽‍🎓","🧑🏽‍🎤","🧑🏽‍🎨","🧑🏽‍🏫","🧑🏽‍🏭","🧑🏽‍💻","🧑🏽‍💼","🧑🏽‍🔧","🧑🏽‍🔬","🧑🏽‍🚀","🧑🏽‍🚒","🧑🏽‍🤝‍🧑🏻","🧑🏽‍🤝‍🧑🏼","🧑🏽‍🤝‍🧑🏽","🧑🏽‍🤝‍🧑🏾","🧑🏽‍🤝‍🧑🏿","🧑🏽‍🦯","🧑🏽‍🦰","🧑🏽‍🦱","🧑🏽‍🦲","🧑🏽‍🦳","🧑🏽‍🦼","🧑🏽‍🦽","🧑🏾","🧑🏾‍⚕️","🧑🏾‍⚖️","🧑🏾‍✈️","🧑🏾‍🌾","🧑🏾‍🍳","🧑🏾‍🍼","🧑🏾‍🎄","🧑🏾‍🎓","🧑🏾‍🎤","🧑🏾‍🎨","🧑🏾‍🏫","🧑🏾‍🏭","🧑🏾‍💻","🧑🏾‍💼","🧑🏾‍🔧","🧑🏾‍🔬","🧑🏾‍🚀","🧑🏾‍🚒","🧑🏾‍🤝‍🧑🏻","🧑🏾‍🤝‍🧑🏼","🧑🏾‍🤝‍🧑🏽","🧑🏾‍🤝‍🧑🏾","🧑🏾‍🤝‍🧑🏿","🧑🏾‍🦯","🧑🏾‍🦰","🧑🏾‍🦱","🧑🏾‍🦲","🧑🏾‍🦳","🧑🏾‍🦼","🧑🏾‍🦽","🧑🏿","🧑🏿‍⚕️","🧑🏿‍⚖️","🧑🏿‍✈️","🧑🏿‍🌾","🧑🏿‍🍳","🧑🏿‍🍼","🧑🏿‍🎄","🧑🏿‍🎓","🧑🏿‍🎤","🧑🏿‍🎨","🧑🏿‍🏫","🧑🏿‍🏭","🧑🏿‍💻","🧑🏿‍💼","🧑🏿‍🔧","🧑🏿‍🔬","🧑🏿‍🚀","🧑🏿‍🚒","🧑🏿‍🤝‍🧑🏻","🧑🏿‍🤝‍🧑🏼","🧑🏿‍🤝‍🧑🏽","🧑🏿‍🤝‍🧑🏾","🧑🏿‍🤝‍🧑🏿","🧑🏿‍🦯","🧑🏿‍🦰","🧑🏿‍🦱","🧑🏿‍🦲","🧑🏿‍🦳","🧑🏿‍🦼","🧑🏿‍🦽","🧒","🧒🏻","🧒🏼","🧒🏽","🧒🏾","🧒🏿","🧓","🧓🏻","🧓🏼","🧓🏽","🧓🏾","🧓🏿","🧔","🧔🏻","🧔🏼","🧔🏽","🧔🏾","🧔🏿","🧕","🧕🏻","🧕🏼","🧕🏽","🧕🏾","🧕🏿","🧖","🧖‍♀️","🧖‍♂️","🧖🏻","🧖🏻‍♀️","🧖🏻‍♂️","🧖🏼","🧖🏼‍♀️","🧖🏼‍♂️","🧖🏽","🧖🏽‍♀️","🧖🏽‍♂️","🧖🏾","🧖🏾‍♀️","🧖🏾‍♂️","🧖🏿","🧖🏿‍♀️","🧖🏿‍♂️","🧗","🧗‍♀️","🧗‍♂️","🧗🏻","🧗🏻‍♀️","🧗🏻‍♂️","🧗🏼","🧗🏼‍♀️","🧗🏼‍♂️","🧗🏽","🧗🏽‍♀️","🧗🏽‍♂️","🧗🏾","🧗🏾‍♀️","🧗🏾‍♂️","🧗🏿","🧗🏿‍♀️","🧗🏿‍♂️","🧘","🧘‍♀️","🧘‍♂️","🧘🏻","🧘🏻‍♀️","🧘🏻‍♂️","🧘🏼","🧘🏼‍♀️","🧘🏼‍♂️","🧘🏽","🧘🏽‍♀️","🧘🏽‍♂️","🧘🏾","🧘🏾‍♀️","🧘🏾‍♂️","🧘🏿","🧘🏿‍♀️","🧘🏿‍♂️","🧙","🧙‍♀️","🧙‍♂️","🧙🏻","🧙🏻‍♀️","🧙🏻‍♂️","🧙🏼","🧙🏼‍♀️","🧙🏼‍♂️","🧙🏽","🧙🏽‍♀️","🧙🏽‍♂️","🧙🏾","🧙🏾‍♀️","🧙🏾‍♂️","🧙🏿","🧙🏿‍♀️","🧙🏿‍♂️","🧚","🧚‍♀️","🧚‍♂️","🧚🏻","🧚🏻‍♀️","🧚🏻‍♂️","🧚🏼","🧚🏼‍♀️","🧚🏼‍♂️","🧚🏽","🧚🏽‍♀️","🧚🏽‍♂️","🧚🏾","🧚🏾‍♀️","🧚🏾‍♂️","🧚🏿","🧚🏿‍♀️","🧚🏿‍♂️","🧛","🧛‍♀️","🧛‍♂️","🧛🏻","🧛🏻‍♀️","🧛🏻‍♂️","🧛🏼","🧛🏼‍♀️","🧛🏼‍♂️","🧛🏽","🧛🏽‍♀️","🧛🏽‍♂️","🧛🏾","🧛🏾‍♀️","🧛🏾‍♂️","🧛🏿","🧛🏿‍♀️","🧛🏿‍♂️","🧜","🧜‍♀️","🧜‍♂️","🧜🏻","🧜🏻‍♀️","🧜🏻‍♂️","🧜🏼","🧜🏼‍♀️","🧜🏼‍♂️","🧜🏽","🧜🏽‍♀️","🧜🏽‍♂️","🧜🏾","🧜🏾‍♀️","🧜🏾‍♂️","🧜🏿","🧜🏿‍♀️","🧜🏿‍♂️","🧝","🧝‍♀️","🧝‍♂️","🧝🏻","🧝🏻‍♀️","🧝🏻‍♂️","🧝🏼","🧝🏼‍♀️","🧝🏼‍♂️","🧝🏽","🧝🏽‍♀️","🧝🏽‍♂️","🧝🏾","🧝🏾‍♀️","🧝🏾‍♂️","🧝🏿","🧝🏿‍♀️","🧝🏿‍♂️","🧞","🧞‍♀️","🧞‍♂️","🧟","🧟‍♀️","🧟‍♂️","🧠","🧡","🧢","🧣","🧤","🧥","🧦","🧧","🧨","🧩","🧪","🧫","🧬","🧭","🧮","🧯","🧰","🧱","🧲","🧳","🧴","🧵","🧶","🧷","🧸","🧹","🧺","🧻","🧼","🧽","🧾","🧿","🩰","🩱","🩲","🩳","🩴","🩸","🩹","🩺","🪀","🪁","🪂","🪃","🪄","🪅","🪆","🪐","🪑","🪒","🪓","🪔","🪕","🪖","🪗","🪘","🪙","🪚","🪛","🪜","🪝","🪞","🪟","🪠","🪡","🪢","🪣","🪤","🪥","🪦","🪧","🪨","🪰","🪱","🪲","🪳","🪴","🪵","🪶","🫀","🫁","🫂","🫐","🫑","🫒","🫓","🫔","🫕","🫖"]}}]);