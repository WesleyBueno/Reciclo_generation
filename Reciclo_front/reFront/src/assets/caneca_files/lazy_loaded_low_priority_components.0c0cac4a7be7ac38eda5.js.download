/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{bacbeacgf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("dahagdijgh")),l=s(a("bjheffjbgd")),d=i(a("bjjhgjdbhd")),c=s(a("bdjjabfecc")),h=a("bbjjjbicfb"),u=i(a("bijffg")),f=s(a("ceffhjgfce")),p=s(a("ecdebjcgfa")),m=s(a("dgdcjccfdi"));class g extends r.Component{constructor(...e){super(...e),this.state={hover:!1},this.onClick=()=>{this.props.onUpdateColor({id:this.props.labelId,color:this.props.colorInt},u.LABEL_PROPERTIES.COLOR),this.props.onBack()},this.disableHover=()=>{this.state.hover&&this.setState({hover:!1})},this.enableHover=()=>{this.state.hover||this.setState({hover:!0})}}render(){var e=this.props.isSelected?r.createElement(m.default,{name:"checkmark-medium"}):null,t=(0,n.default)(f.default.wallpaperColorCanvas,{[f.default.canvasHover]:this.state.hover,[f.default.canvasActive]:this.props.isSelected});return r.createElement("span",{className:t,style:{backgroundColor:(0,h.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}class b extends r.Component{render(){for(var{currentColor:e,colors:t}=this.props,a=t.map(t=>r.createElement(g,{onUpdateColor:this.props.onUpdateColor,colorInt:t,onBack:this.props.onBack,labelId:this.props.labelId,isSelected:e===t,key:t})),i=0;i<2;i++)a.push(r.createElement("div",{key:"emptyEl"+i,className:f.default.wallpaperColorEmpty}));return a}}class v extends r.Component{constructor(){super(),this.getColorPromise=null,this.state={colors:u.default.labelColorPalette&&u.default.labelColorPalette.colors}}componentWillUnmount(){this.getColorPromise&&this.getColorPromise.cancel()}render(){var e=r.createElement(p.default,{stroke:6,size:24});return this.state.colors?e=r.createElement(b,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=u.default.getLabelColorPalette(),this.getColorPromise.cancellable().then(e=>{this.setState({colors:e})})),r.createElement(o.default,null,r.createElement(d.default,{theme:this.state.colors?void 0:"center-content",title:c.default.t(783),onBack:this.props.onClose,type:d.DRAWER_HEADER_TYPE.LARGE}),r.createElement(l.default,null,r.createElement("div",{className:f.default.container},e)))}}t.default=v},badjagjaja:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("dbdfbgehgj")),l=s(a("ccbgfecegc")),d=s(a("ebcfjdcbhh")),c=s(a("dhigahgdjb")),h=s(a("dgebcfedgb")),u=a("djaiggcdb"),f=s(a("bdjjabfecc")),p=a("igiffibee"),m=s(a("gjbhafcjg")),g=s(a("ciidebiahb")),b=s(a("dgdcjccfdi")),v=s(a("cgjdibiahi")),E=s(a("dfciadajdf"));class j extends r.Component{constructor(e){super(e),this.mouseEnter=()=>{this.state.hover||this.setState({hover:!0})},this.mouseLeave=()=>{this.state.hover&&this.setState({hover:!1})},this.onDirection=()=>{var{lat:e,lng:t}=this.props;(0,u.openExternalLink)((0,p.getDirectionUrl)(e,t))},this.onMessage=()=>{var{id:e}=this.props;o.default.find(e).then(e=>{e.active&&l.default.existsDrawerRight(e=>{e&&2===d.default.column&&l.default.closeDrawerRight()}),l.default.openChatFromUnread(e).then(t=>{t&&l.default.focusChatTextInput(e)})})},this.onContextOpen=e=>{var t=e&&e.target;this.setState({contextMenu:{menu:this.getContextMenu(),anchor:t}})},this.onContextClose=()=>{this.setState({contextMenu:!1})},this.state={hover:!1,contextMenu:!1}}getContextMenu(){var e=[];return e.push(r.createElement(h.default,{key:"direction",a8n:"get-directions",action:this.onDirection},f.default.t(636))),e.push(r.createElement(h.default,{key:"message",a8n:"send-message",action:this.onMessage},f.default.t(882))),e}render(){var{id:e,accuracy:t,isMe:a,markerSize:i}=this.props,s=c.default.assertGet(e),o={transform:"translateX(calc(-50% + ".concat(i/2,"px))")},l=r.createElement("div",{className:g.default.name},r.createElement(m.default,{ellipsify:!0,you:!0,contact:s})),d=null!=t?r.createElement("div",{className:g.default.status},f.default.t(801,{accuracy:t,_plural:t})):null,h=a?null:r.createElement("div",{onClick:this.onContextOpen,className:g.default.menuButton},r.createElement(b.default,{name:"down"})),u=r.createElement("div",{className:g.default.triangle}),p=!a&&this.state.contextMenu?r.createElement(v.default,{displayName:"LiveLocationPopupContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},r.createElement(E.default,{contextMenu:this.state.contextMenu})):null;return r.createElement("div",{className:(0,n.default)(g.default.container,{[g.default.twoLines]:!!d}),style:o},r.createElement("div",{className:g.default.popup,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseLeave,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},l,d,h),u,p)}}t.default=j},baefdeabej:function(e,t){e.exports={container:"_1Swxd",map:"kj5zF",authFailed:"_3C-FH",loading:"yuVlU"}},baegedajda:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{onBack:t,onAddProductClick:a,onCatalogAlreadyCreated:i,sessionId:s}=e,[_,M]=r.useState(!1),I=r.createElement("div",{className:v.default.placeholderIcon}),y='<a href="'.concat(c.default.FB_LEGAL_TERMS_URL,'" target="_blank">').concat(g.default.t(610),"</a>"),T='<a href="'.concat(c.default.FB_COMMERCE_POLICY_URL,'" target="_blank">').concat(g.default.t(609),"</a>"),P='<a href="'.concat(c.default.WA_COMMERCE_POLICY_URL,'" target="_blank">').concat(g.default.t(1785),"</a>"),L=g.default.t(379,{fb_product_link:y,fb_commerce_link:T,wa_commerce_policy_link:P}),w=(0,n.default)({[v.default.isLoading]:_}),k=_?r.createElement("div",{className:v.default.spinner},r.createElement(j.default,{size:50,stroke:3})):null,N=_?r.createElement(o.default,{onClick:()=>{},theme:"default",idle:!!_}):r.createElement(o.default,{onClick:function(){M(!0),(0,b.logCreateProductCatalogClick)(s),(0,E.createCatalog)().then(()=>{(0,b.logCreateProductCatalogSuccess)(s),a(s)}).catchType(m.ServerStatusCodeError,e=>{(0,b.logCreateProductCatalogFailed)(s,e.statusCode),d.default.openToast(r.createElement(S.default,{msg:g.default.t(597),id:(0,S.genId)("err_catalog_already_created")})),i(s)}).finally(()=>{M(!1)})},theme:"default",idle:!1});return r.createElement(h.default,{key:"catalog-link-drawer"},r.createElement(f.default,{title:g.default.t(1104),type:f.DRAWER_HEADER_TYPE.LARGE,onBack:t}),r.createElement(u.default,{className:w},r.createElement(p.default,{theme:"padding-small",animation:!1},k,r.createElement(C.TextDiv,{theme:"title"},g.default.t(374)),N,r.createElement(C.TextDiv,{theme:"plain"},r.createElement("div",{dangerouslySetInnerHTML:{__html:L}})),r.createElement("div",{className:v.default.placeholderContainer},r.createElement(l.default,{theme:"add-item-placeholder",image:I,customImage:!0,className:v.default.addItemPlaceholder,primary:"",secondary:"",idle:!0}),r.createElement("div",{className:v.default.divider}),r.createElement(l.default,{theme:"add-item-placeholder",image:I,customImage:!0,className:v.default.addItemPlaceholder,primary:"",secondary:"",idle:!0}),r.createElement("div",{className:v.default.divider})))))};var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("biegjchieg")),l=s(a("cefccdiabc")),d=s(a("ccbgfecegc")),c=s(a("hgigjbgie")),h=s(a("dahagdijgh")),u=s(a("bjheffjbgd")),f=i(a("bjjhgjdbhd")),p=s(a("ddeefhbafc")),m=a("bgihjbde"),g=s(a("bdjjabfecc")),b=a("ecceajhjba"),v=s(a("cgbdhebcad")),E=a("bhgfchijhg"),j=s(a("ecdebjcgfa")),C=a("dhhjhedjij"),S=i(a("bjhgigfbec"))},bafcchidfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cbciefgfbb")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("hgigjbgie")),c=i(a("bdjjabfecc")),h=a("bbjjjbicfb"),u=s(a("bijffg")),f=a("dcfieddiah"),p=a("eeebhdeed"),m=i(a("bdcchebfge")),g=i(a("ecdebjcgfa")),b=i(a("dbihaeaggd"));class v extends n.Component{constructor(e){super(e),this.labelModel=null,this.onOk=()=>{var{labelName:e,labelColor:t,labelNameError:a}=this.state;if(!a){(0,f.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,this.props.onAddLabel?m.default.LABEL_TARGETS.ADD_LABEL_DIALOG:m.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var i=e&&e.trim(),s=this.validateLabelName(i||"");s.passed?(this.props.labelId&&this.props.onUpdateLabel?this.props.onUpdateLabel({id:this.props.labelId,color:t,name:e},u.LABEL_PROPERTIES.NAME):this.props.onAddLabel&&this.props.onAddLabel(e||"",t),this.props.onCancel?this.props.onCancel():o.default.closeModal()):this.setState({labelNameError:s.error})}},this.onCancel=()=>{(0,f.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,this.props.onAddLabel?m.default.LABEL_TARGETS.ADD_LABEL_DIALOG:m.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),this.props.onCancel?this.props.onCancel():o.default.closeModal()},this.onLabelNameChange=e=>{var t=this.validateLabelName(e);this.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},this.validateLabelName=e=>{var t=!0,a=null;return e&&""!==e.trim()||(t=!1),this.labelModel&&this.labelModel.name===e||0===u.default.where({name:e}).length||(t=!1,a=c.default.t(189)),{passed:t,error:a}},this._handleKeyEnter=e=>{e.stopPropagation(),this.onOk()},this.props.labelId&&(this.labelModel=u.default.assertGet(this.props.labelId)),this.state={labelColor:this.labelModel&&this.labelModel.color||void 0,labelName:this.labelModel&&this.labelModel.name||"",labelNameError:void 0}}componentDidMount(){this.props.onAddLabel?(u.default.getNewLabelColor().then(e=>{this.setState({labelColor:e||d.default.DEFAULT_SMB__NEW_LABEL_COLOR})}),(0,f.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.VIEW,1,m.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,f.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.VIEW,1,m.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}render(){var e=!this.validateLabelName(this.state.labelName.trim()).passed;return n.createElement(l.default,{title:this.props.onUpdateLabel?c.default.t(532):c.default.t(193),okText:c.default.t(1649),onOK:this.onOk,okDisabled:e,onCancel:this.onCancel},n.createElement("div",{className:r.default.inputContainer},n.createElement("div",{className:r.default.label},this.state.labelColor?(0,p.renderLabelSvg)((0,h.intColorToHex)(this.state.labelColor)):n.createElement(g.default,{stroke:5,size:20})),n.createElement("div",{className:r.default.input},n.createElement(b.default,{a8n:"add-new-label-name-input",focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:d.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,onEnter:this._handleKeyEnter,placeholder:c.default.t(192)}))))}}t.default=v},bahcdceje:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("hgigjbgie")),o=i(a("dcdbbhicce")),l=i(a("bihbbbcghi")),d=a("dieaaaeidb"),c=i(a("gbcgaicef"));class h extends n.PureComponent{render(){var e,t,{statusV3:a,contact:i}=this.props,s=a.lastStatus;return e=s&&s.type===r.default.MSG_TYPE.CHAT?n.createElement(u,{msg:s}):n.createElement(f,{renderedThumbnail:a.renderedThumbnail}),i.statusMute||(t=n.createElement(l.default,{statusV3:a})),n.createElement("div",{className:c.default.container,role:this.props.role||"",onClickCapture:e=>{this.props.onClick&&this.props.onClick(),e.stopPropagation(),e.preventDefault()}},t,e)}}h.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]};class u extends n.PureComponent{render(){var{msg:e}=this.props,t=e.statusV3TextBg;return n.createElement("div",{className:c.default.statusImage,style:{backgroundColor:t}},n.createElement("div",{className:c.default.textThumb},n.createElement(d.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}class f extends n.PureComponent{componentDidMount(){var e=this.props.renderedThumbnail;e&&e.retain()}componentDidUpdate(e){var{renderedThumbnail:t}=e,{renderedThumbnail:a}=this.props;t!==a&&(t&&t.autorelease(),a&&a.retain())}componentWillUnmount(){var e=this.props.renderedThumbnail;e&&e.autorelease()}render(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&"url(".concat(e.url(),")")};return n.createElement("div",{className:c.default.statusImage,style:t})}}var p=(0,o.default)(h,h.CONCERNS);t.default=p},bahjbgaefa:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bhdcfacaaf")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("dahagdijgh")),c=i(a("bjheffjbgd")),h=s(a("bjjhgjdbhd")),u=i(a("jagjbhcgf")),f=i(a("dgebcfedgb")),p=a("eajdbbfgfg"),m=i(a("bdjjabfecc")),g=i(a("bijffg")),b=a("dcfieddiah"),v=i(a("eeebhdeed")),E=i(a("ebddggeaib")),j=a("cadfgefaja"),C=i(a("bdcchebfge")),S=i(a("bhgjeaceh")),_=i(a("cbcbdjdah")),M=i(a("dceicchccd")),I=i(a("dgdcjccfdi"));function y({openColorPicker:e,openEditLabel:t}){return(0,p.canEditLabel)()?n.createElement(j.MenuBarItem,{a8nText:"starred-menu",icon:n.createElement(I.default,{name:"menu"}),title:m.default.t(881)},n.createElement(u.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},n.createElement(f.default,{a8n:"menu-item",action:e},m.default.t(783)),n.createElement(f.default,{a8n:"menu-item",action:t},m.default.t(532)))):null}class T extends n.PureComponent{constructor(){super(),this.openColorPicker=()=>{var{labelId:e}=this.props,t=g.default.assertGet(e);this.props.openLabelColorDrawer(this.props.labelId,t.color)},this.openEditLabel=()=>{this.props.onEditLabel&&this.props.onEditLabel(this.props.labelId)},this.onCancelLabelSelection=()=>{this.multiSelection.unsetAll()},this.onRemoveLabel=()=>{var e=this.multiSelection.getSelected(),{onRemoveLabel:t,labelId:a}=this.props;if(t){var i=g.default.assertGet(a);(0,b.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,e.length,C.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),o.default.openModal(n.createElement(l.default,{title:m.default.t(1140,{count:e.length,labelName:i.name,_plural:e.length}),okText:m.default.t(1649),cancelText:m.default.t(1497),onCancel:this._closeModal,onOK:this.onRemoveLabelConfirmed.bind(null,a,e)}))}},this._closeModal=()=>{var e=this.multiSelection.getSelected();(0,b.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_NEGATIVE,e.length,C.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),o.default.closeModal()},this.onRemoveLabelConfirmed=(e,t)=>{o.default.closeModal(),this.onCancelLabelSelection(),this.props.onRemoveLabel(e,t),(0,b.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE,t.length,C.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},this.multiSelection=new M.default([],e=>e.id.toString())}componentDidMount(){this.props.listeners.add(this.multiSelection,"all",()=>this.forceUpdate()),(0,b.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,void 0,C.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}hasMixedSelection(e){for(var t,a,i=0;i<e.length;i++){if(e[i]instanceof _.default?a=!0:t=!0,t&&a)return!0}return!1}render(){var e=this.multiSelection.getSelected(),t=this.hasMixedSelection(e),a=this.multiSelection.getSelected().length>0?n.createElement(S.default,{labelEditEnabled:!t,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):n.createElement(h.default,{onBack:this.props.onClose,menu:n.createElement(y,{openColorPicker:this.openColorPicker,openEditLabel:this.openEditLabel}),type:h.DRAWER_HEADER_TYPE.LABELS},n.createElement(v.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return n.createElement(d.default,{theme:"settings"},a,n.createElement(c.default,null,n.createElement(r.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}var P=(0,E.default)(T);t.default=P},bajeaefcdg:function(e,t){e.exports={inputEmoji:"_1ZmLh",wrapper:"_3tSYy",textInput:"_3aBvl",labelText:"_3iU_H",clearInput:"_3Jrq3",float:"_3UqD6",textActive:"_1ZEZR",suggestionsPositioner:"_3pue_",suggestionsContainer:"_16lso",charCounter:"_1bDIX",inputControls:"_2DhU8",charCounterWithClearBtn:"QhCkJ",spacer:"rLPDp",noPlaceholder:"_5L4vr",buttonContainer:"_2p_8b",active:"_1WLC6"}},bajieejahc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bacehaajgh")),r=i(a("ddhijeejag")),o=a("dfdebdgdei"),l=s(a("ccbgfecegc")),d=s(a("bdeebiagii")),c=s(a("bdjjabfecc")),h=i(a("chbeahhfcj")),u=a("dbbhhgjjbg"),f=s(a("bfgbdiffgd"));class p extends d.default{constructor(...e){super(...e),this.onForwardConfirmed=e=>{var t=this.props.msgText;if(1===e.length){var a=e[0];(a.isUser&&a.contact.isBlocked()?(0,o.unblockContact)(a.contact):Promise.resolve(!0)).then(()=>{if(t){if(a.urlText=this.props.urlText,a.active)return void l.default.pasteChatTextInput(a,t);a.setComposeContents({text:t})}return l.default.openChatFromUnread(a).then(e=>{e&&l.default.focusChatTextInput(a)})})}else Promise.map(e,e=>{(e.isUser&&e.contact.isBlocked()?(0,o.unblockContact)(e.contact):Promise.resolve(!0)).then(()=>{e.urlText=this.props.urlText,(0,u.sendTextMsgToChat)(e,t)})}),l.default.openChatFromUnread(e[0]);this.end()}}componentDidMount(){this.push(r.createElement(h.default,{onConfirm:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:c.default.t(935),listType:h.ListType.CHAT_SELECT_MODAL}))}}t.default=e=>r.createElement(p,(0,n.default)({},e,{serverProps:f.default}))},bbabiidfcj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ejiicdbii")),o=i(a("bcbbffbhff")),l=i(a("bhehhaehi")),d=i(a("dhigahgdjb")),c=i(a("bdeebiagii")),h=a("ecceajhjba"),u=i(a("cebgbdgebc")),f=i(a("bhfadhddje")),p=i(a("ecbiejfbbg")),m=i(a("ddajejfdfc")),g=i(a("bbecefbeaa")),b=a("dcbdjheea");class v extends c.default{constructor(...e){super(...e),this.scrollOffset=0,this.setScrollOffset=e=>{this.scrollOffset=e},this.pushProductDetails=(e,t)=>{var{chat:a,refreshCarousel:i}=this.props,s=n.createElement(f.default,{chat:a,product:e,onEnd:this._end,onBack:this._popAndUpdate,onProductDetail:this.onProductDetail,onProductCatalog:this.onProductCatalogHeaderClick,onProductLinkClick:this._onProductLinkClick,refreshCarousel:i,sessionId:t,onCartClick:this._onCartClick});this.push(s)},this.pushProductDetailsWithDeepLink=(e,t)=>{var a=n.createElement(p.default,{chat:this.props.chat,productInfo:e,onEnd:this._end,onBack:this._pop,onProductDetail:this.onProductDetail,onProductCatalog:this.onProductCatalogHeaderClick,sessionId:t,onProductLinkClick:this._onProductLinkClick,onCartClick:this._onCartClick});this.push(a)},this.pushOrderDetail=(e,t,a,i,s)=>{var r=n.createElement(u.default,{orderId:e,token:t,sellerJid:i,sessionId:a,userIsCartOwner:s,onProductDetail:this.onProductDetailFromInfo});this.push(r)},this.onProductDetail=(e,t)=>{this.pushProductDetails(e,t)},this.onProductDetailFromInfo=(e,t)=>{this.pushProductDetailsWithDeepLink(e,t)},this.onProductCatalogHeaderClick=(e,t)=>{(0,h.logCarouselViewMoreClick)(e.toString(),t),this.pushProductCatalog(e,t)},this._onProductLinkClick=(e,t)=>{this.push(n.createElement(m.default,{product:e,onBack:this._pop,sessionId:t}))},this._onCatalogLinkClick=(e,t,a)=>{this.push(n.createElement(l.default,{catalog:e,contact:t,sessionId:a,onBack:this._pop}))},this._onCartClick=(e,t)=>{var a=n.createElement(o.default,{sellerJid:e,sessionId:t,onBack:this._pop,onProductDetail:this.onProductDetailFromInfo});this.push(a)},this._pop=()=>{this.pop()},this._end=()=>{this.end(!0)},this._popAndUpdate=()=>{this.popAndUpdate({scrollOffset:this.scrollOffset})}}componentDidMount(){var{catalogOwnerJid:e,orderId:t,product:a,productInfo:i,sessionId:s}=this.props;if(e)this.pushProductCatalog((0,b.createWid)(e),s);else if(a)this.pushProductDetails(a,s);else if(i)this.pushProductDetailsWithDeepLink(i,s);else{if(!t)throw new Error("ProductDetailsFlow:no-product");var{token:n,sellerJid:r,userIsCartOwner:o}=this.props;null!=n&&null!=r&&null!=o&&this.pushOrderDetail(t,n,s,r,o)}}pushProductCatalog(e,t){var a=d.default.gadd(e);r.default.find(e).then(i=>{var s=n.createElement(g.default,{contact:a,onProductDetail:this.onProductDetail,catalogId:e,onBack:this._pop,sessionId:t,businessProfile:i,setScrollOffset:this.setScrollOffset,onCatalogLinkClick:this._onCatalogLinkClick,onCartClick:this._onCartClick});this.push(s)})}}t.default=v},bbgfcjhfbi:function(e,t){e.exports={nextButton:"_3kOoC",section:"_206x-"}},bbjddegdbc:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=s(a("ccbgfecegc")),d=s(a("bbfjdcedab")),c=s(a("bjigbaghc")),h=s(a("hgigjbgie")),u=s(a("dahagdijgh")),f=s(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),m=s(a("ddeefhbafc")),g=i(a("cajijabhgb")),b=a("dgjddffcfg"),v=s(a("jheedhagg")),E=s(a("bdjjabfecc")),j=s(a("hajhefagc")),C=s(a("cfcfdeifjb")),S=s(a("cabjahgbgj")),_=a("bbbdgehigj"),M=s(a("dhccahhefj")),I=a("bggdhciede"),y=s(a("dcdbbhicce")),T=a("bijjheifie"),P=a("dhhjhedjij"),L=s(a("dbihaeaggd"));function w(){var e=(0,n.default)(["ProfileDrawer: failed to set/delete profile image"]);return w=function(){return e},e}class k extends r.Component{constructor(e){super(e),this.onBack=()=>{this.props.onClose?this.props.onClose():this.props.uim.uie.requestDismiss()},this.validateStatus=e=>!!(e||"").trim(),this.onStatusBegin=()=>{this.isEditingStatus=!0},this.onSetStatusError=()=>{l.default.openModal(r.createElement(d.default,{onOK:()=>l.default.closeModal(),okText:E.default.t(1649)},E.default.t(170)))},this.onSetStatus=()=>{if(null!=this.state.status){this.isEditingStatus=!1;var e=this.props.status.status,t=(0,b.emojify)(this.state.status);if(t===e)return this.setState({status:t});this.setState({pendingStatus:!0}),(0,T.setMyStatus)((0,b.emojify)(this.state.status)).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState({pendingStatus:!1})}).catchType(g.Unmount,()=>{})}else this.onCancelStatus()},this.onStatusChange=e=>{this.setState({status:e})},this.onCancelStatus=()=>{this.isEditingStatus=!1,this.setState({status:this.props.status.status})},this.onPushnameBegin=()=>{this.isEditingPushname=!0},this.validatePushname=()=>{var e,{pushname:t}=this.state;return(t=(t||"").trim())?/[\u2714\u2705\u2611]/g.test(t)&&(e=E.default.t(165)):e=E.default.t(162),!e||(this.onSetPushnameError(e),!1)},this.onSetPushname=()=>{if(this.isEditingPushname=!1,c.default.canSetMyPushname()){var{pushname:e}=this.state;if((e=(0,b.emojify)((e||"").trim()))===this.props.conn.pushname)return this.setState({pushname:e});this.setState({pendingPushname:!0}),(0,I.setPushname)(e).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState({pendingPushname:!1})}).catchType(g.Unmount,()=>{})}},this.onSetPushnameError=e=>{l.default.openModal(r.createElement(d.default,{onOK:()=>l.default.closeModal(),okText:E.default.t(1649)},e))},this.onPushnameChange=e=>{this.setState({pushname:e})},this.onCancelPushname=()=>{this.isEditingPushname=!1,this.setState({pushname:this.props.conn.pushname})},this.onImageSet=(e,t)=>{var a=this.props.profilePicThumb;this.setState({pendingPhoto:!0}),(e&&t?(0,_.setProfilePic)(a,e,t):(0,_.deleteProfilePic)(a)).checkpoint(this.props.rejectOnUnmount()).catchType(g.Unmount,()=>{}).catchType(g.ActionError,()=>{__LOG__(3)(w())}).finally(()=>{this.setState({pendingPhoto:!1})})},this.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1}}render(){var{conn:e,status:t,profilePicThumb:a}=this.props,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:t.status,s=r.createElement(m.default,{a8nText:"col-main-profile",title:E.default.t(1723),theme:"padding"},r.createElement(L.default,{a8n:"col-main-profile-input",value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:h.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),n=E.default.t(873),l=!a.canSet()&&!a.canDelete(),d=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:e.pushname,g=c.default.isSMB?E.default.t(323):E.default.t(1133);return r.createElement(u.default,null,r.createElement(p.default,{a8n:"drawer-title-profile",title:n,onBack:this.onBack,type:p.DRAWER_HEADER_TYPE.LARGE}),r.createElement(f.default,null,r.createElement("div",{className:S.default.photoPickerWrapper},r.createElement(j.default,{type:C.default.PROFILE,id:a.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:a.imgFull,readOnly:l,onImageSet:this.onImageSet})),r.createElement(m.default,{a8nText:"col-main-profile",title:E.default.t(1132),theme:"padding"},r.createElement(L.default,{a8n:"col-main-profile-input",value:d,editable:c.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:h.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),r.createElement("div",{"data-a8n":o.default.key("pushname-description"),className:S.default.nameWrapper},r.createElement(P.TextSpan,{theme:"muted"},g)),s))}}k.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]};var N=(0,v.default)((0,M.default)((0,y.default)(k,k.CONCERNS)));t.default=N},bccajbfghh:function(e,t){e.exports={price:"_3cG4N",separator:"_2Mhsp",quantity:"_2c1rg"}},bcgdidhcbe:function(e,t){e.exports={spinner:"_1xZ_T",search:"_37bbf",inputarea:"_1lNsJ",inputLine:"oBUnH",contacts:"_19TJo",drawerSection:"_2YB71",inputareaSizer:"PMblh"}},bdhddbagij:function(e,t){e.exports={body:"RgZeN",vcardWrapper:"_2wrmW",btnContainer:"_2VmYo",btnPosition:"_1Zzio"}},bdicccbaa:function(e,t){e.exports={icon:"_13225",body:"_22hwI",spinner:"_1h0rR",ack:"_2WHBX",pttBlue:"_14uPy"}},bdijbhadid:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("eabehhacha")),o=i(a("cfadcbbiie")),l=i(a("hhcjfgifh")),d=i(a("gfebgebbi")),c=i(a("chadaehai")),h=i(a("dcdbbhicce"));class u extends n.PureComponent{render(){var e,{contact:t,msgInfoParticipant:a}=this.props,i=n.createElement(l.default,{id:t.id}),s=o.default.relativeDateAndTimeStr(a.t),h=n.createElement("span",{title:s},s);return!t.name&&t.notifyName&&(e=n.createElement(d.default,{className:c.default.notifyName,direction:"auto",text:t.notifyName})),n.createElement(r.default,{contextEnabled:()=>!1,image:i,primary:t.formattedName,secondary:h,secondaryDetail:e,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}u.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]};var f=(0,h.default)(u,u.CONCERNS);t.default=f},bdjjahdegi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),l=i(a("bdjjabfecc")),d=i(a("ebgdcjifc")),c=a("dgjfidhijd"),h=i(a("ecdebjcgfa")),u=a("dhhjhedjij");class f extends n.Component{constructor(...e){super(...e),this.state={licensesText:void 0},this.onOk=()=>{this.props.onOk&&this.props.onOk(),r.default.closeModal()}}componentDidMount(){}render(){var e,t;return this.state.licensesText||(e=n.createElement("div",{className:d.default.spinner,key:"spinner"},n.createElement(h.default,{size:50,stroke:4}))),this.state.licensesText&&(t=n.createElement("div",{className:d.default.textContainer},this.state.licensesText)),n.createElement(o.default,{okText:l.default.t(1649),onOK:this.onOk,type:c.FlexModalType},n.createElement("div",{className:d.default.container},n.createElement(u.TextSpan,{theme:"popup-title"},l.default.t(795)),t,e))}}t.default=f},befdeebfeb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("gfebgebbi")),c=i(a("bdeebiagii")),h=i(a("jgjccejgb")),u=i(a("bdjjabfecc")),f=a("cgjcdbggeb");class p extends c.default{constructor(...e){super(...e),this.filter=e=>{var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(this.props.contact.id)?u.default.t(1807):!!t.participants.iAmAdmin()||u.default.t(414))},this.confirmAddToGroup=e=>{this.push(n.createElement(l.default,{onOK:this.addToGroup.bind(null,e),okText:u.default.t(1805),onCancel:this._pop,cancelText:u.default.t(1497)},n.createElement(d.default,{text:u.default.t(438,{participant:this.props.contact.formattedName,subject:e.contact.name})})))},this.addToGroup=e=>{(0,f.addParticipants)(e,[this.props.contact]).then(()=>{o.default.openChatFromUnread(e).then(t=>{t&&o.default.focusChatTextInput(e)})}).catch(()=>{}),this.end()},this._pop=()=>{this.pop()}}componentDidMount(){this.push(n.createElement(h.default,{chats:r.default.filter(e=>e.isGroup),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}t.default=p},bfajgaeghd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({fullPreview:e,fullPreviewSize:t,mimeType:a,filename:i}){return e&&t?n.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},n.createElement("div",{className:r.default.preview},n.createElement(l.default,{type:"scaleDown",size:t},n.createElement("img",{src:e,className:r.default.img})))):n.createElement(o.default,{mimeType:a,filename:i})};var n=s(a("ddhijeejag")),r=i(a("ccdcfhihac")),o=i(a("cggjjcbdia")),l=i(a("difhgjjfcb"))},bfcfjggjab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;t.SECTIONS={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"}},bffajdjibj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bdeebiagii")),o=i(a("dccbiiffa"));class l extends r.default{componentDidMount(){this.push(n.createElement(o.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}t.default=l},bfffjiagfi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),l=i(a("beecadabde")),d=a("jagjbhcgf"),c=i(a("cbdcjfiefg")),h=i(a("bjjdjibgad")),u=a("dbbhijehii"),f=a("dgjddffcfg"),p=a("dhegcfddhg"),m=i(a("bdjjabfecc")),g=i(a("dhccahhefj")),b=i(a("dfifdafgfa")),v=a("dbbhhgjjbg"),E=i(a("gjfejjidf")),j=i(a("dgdcjccfdi")),C=s(a("bjhgigfbec")),S=i(a("cgjdibiahi")),_=i(a("dfciadajdf")),M=i(a("didfdhbecg"));class I extends n.Component{constructor(){super(...arguments),this.emojiInputComponent=(0,c.default)(),this.isSkinTonePickerOpen=!1,this.onSend=e=>{if(e.preventDefault(),this.inputLine){var t=this.inputLine.value.trim();if(t.length){var a=(0,C.genId)();r.default.find(this.props.msg.sender).then(e=>(o.default.openToast(n.createElement(C.default,{msg:m.default.t(1276),id:a})),(0,v.sendTextMsgToChat)(e,(0,f.emojify)(t),{quotedMsg:this.props.msg}))).then(()=>{this.props.onSend()}).catchType(l.default,()=>{var{chat:e}=this.state;e&&o.default.openToast(n.createElement(C.default,{msg:m.default.t(1499,{contact:e.contact.formattedName}),id:a}))}),this.inputLine&&this.inputLine.reset(),this.emojiPickerClose(),this.props.dismissReply()}}},this.onFocus=()=>{this.setState({focused:!0})},this.onBlur=()=>{this.isSkinTonePickerOpen||document.activeElement===document.body&&this.setState({focused:!1})},this.onSkinTonePicker=e=>{this.isSkinTonePickerOpen=e},this.isFocused=()=>this.state.focused,this.onEmojiPicker=e=>{e&&(e.preventDefault(),e.stopPropagation());var t=n.createElement(h.default,{onEmoji:this.onEmoji,onFocusNext:this.restoreFocus,onFocusPrev:this.restoreFocus});this.setState({emojiPicker:{menu:t,dirY:d.DirY.TOP,type:"emoji_picker",anchor:e.target}})},this.onEmoji=e=>{this.inputLine&&this.inputLine.replaceSelection(e)},this.restoreFocus=()=>{this.inputLine&&this.inputLine.focus()},this.restoreEmojiPickerFocus=()=>{if(this.refEmojiPickerUIE){var e=this.refEmojiPickerUIE.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},this.emojiPickerClose=()=>{this.setState({emojiPicker:void 0})},this.setRefEmojiPickerUIE=e=>{this.refEmojiPickerUIE=e},this.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},r.default.find(this.props.msg.sender).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({chat:e})})}componentDidUpdate(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}shouldPausePlayback(e){return e.emojiPicker||e.focused}isPaused(){return this.shouldPausePlayback(this.state)}render(){var e,t,a;this.state.emojiPicker&&(e=n.createElement(S.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},n.createElement(_.default,{contextMenu:this.state.emojiPicker})),t=n.createElement(S.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},n.createElement("div",null,e)));var{chat:i}=this.state;i&&this.state.focused&&!this.state.emojiPicker&&(a=n.createElement(S.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},n.createElement("div",{className:E.default.popupPanel},n.createElement(b.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:i}))));var s=this.emojiInputComponent;return n.createElement("div",{className:E.default.container},n.createElement(M.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},a),n.createElement("div",{className:E.default.wrapper},n.createElement("button",{className:E.default.emojiIcon,onClick:this.onEmojiPicker},n.createElement(j.default,{name:"smiley"})),n.createElement("div",{className:E.default.lineWrapper},n.createElement(s.EmojiSuggestions,{theme:u.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),n.createElement(s,{ref:(0,p.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:m.default.t(1323),editable:!0,multiline:!0})),n.createElement("button",{className:E.default.sendIcon,onClick:this.onSend},n.createElement(j.default,{name:"send",directional:!0})),t))}}var y=(0,g.default)(I);t.default=y},bfghieafac:function(e,t){e.exports={confirmationText:"_13bV9"}},bfjchjfbhj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dhigahgdjb")),o=i(a("bdeebiagii")),l=i(a("hdhcfhidh")),d=i(a("cejfghgbfb"));class c extends o.default{constructor(...e){super(...e),this.onSetGroupInfo=e=>{this.push(n.createElement(l.default,{participants:e,onBack:()=>{this.popAndUpdate({participants:e})},onContinue:this.end}))}}componentDidMount(){r.default.ensureSorted(),this.push(n.createElement(d.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}t.default=c},bfjhddbcc:function(e,t){e.exports={title:"_2iZnS",titleIcon:"_2qhSz",ack:"_1_I2T",pttBlue:"_7TY5Q",forwardCount:"_1Jmae",spinner:"_3ka64",list:"Cr9Q9",footer:"Sy3Kl"}},bgaacffcia:function(e,t){e.exports={newGroupButton:"_9u1Pq"}},bgddgdiefd:function(e,t){e.exports={title:"_2mxvq"}},bgeffbghdh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bdeebiagii")),l=i(a("ebddggeaib")),d=i(a("cjfjhjdfaa")),c=i(a("bjihjhccce"));class h extends o.default{constructor(...e){super(...e),this.sessionId=Math.round(1e9*Math.random()),this.openStatusViewer=(e,t,a)=>{this.push(n.createElement(c.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId,rowIdx:a}),"none")},this.closeStatusViewer=e=>{e?this.end():this.pop("none")}}componentDidMount(){this.push(n.createElement(d.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal"),this.props.listeners.add(r.default,"close_status_viewer",()=>{this.closeStatusViewer(!0)})}componentWillUnmount(){this.props.onFlowEnd()}}var u=(0,l.default)(h);t.default=u},bggdhciede:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t,a=(0,o.genId)()){var i=(0,u.default)(t),s=new o.ActionType(h.default.t(166)),n=d.default.pushname,m=i.then(()=>new o.ActionType(h.default.t(163),h.default.t(178),()=>e(n,a))).catchType(c.ServerStatusCodeError,e=>{if(e.status>=400)return new o.ActionType(h.default.t(164))}).catch(()=>{throw __LOG__(3)(p()),new o.ActionType(h.default.t(164),h.default.t(174),()=>e(status,a))});return l.default.openToast(r.createElement(o.ActionToast,{id:a,initialAction:s,pendingAction:m})),i.then(e=>{e._duplicate||(0,f.setPushnameLocally)(t)})}(e)};var n=s(a("dfadhaifh")),r=i(a("ddhijeejag")),o=a("dheeaichcj"),l=s(a("ccbgfecegc")),d=s(a("bjigbaghc")),c=a("bgihjbde"),h=s(a("bdjjabfecc")),u=s(a("gfhdfcfge")),f=a("diibfjicfe");function p(){var e=(0,n.default)(["models:conn:setPushname dropped"]);return p=function(){return e},e}},bghfehcaaj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("bgeijhbbad")),o=s(a("ceffhbhahb")),l=i(a("ddhijeejag")),d=s(a("ddffdjfeag")),c=s(a("hgigjbgie")),h=a("cedhgehjef"),u=s(a("dcdbbhicce")),f=a("cjfegjecaj"),p=s(a("dgdcjccfdi"));function m(){var e=(0,n.default)(["media is"]);return m=function(){return e},e}var{IMAGE:g,VIDEO:b,DOCUMENT:v,AUDIO:E}=c.default.MSG_TYPE,j=(0,r.default)(h.MIMETYPES,e=>e.msgType===v);class C extends l.PureComponent{constructor(...e){super(...e),this._onClick=e=>{this.props.onClick&&this.props.onClick((0,f.unproxy)(this.props.attachMedia),e)},this._onClose=e=>{this.props.onClose&&this.props.onClose((0,f.unproxy)(this.props.attachMedia),e)},this.setRef=e=>{e&&this.props.onRef(this.props.id,e)}}_renderBody(){var e,t,a,i=this.props.attachMedia;switch(i.type){case g:a={backgroundImage:"url(".concat(i.preview,")")},e=l.createElement("div",{className:d.default.body,style:a});break;case b:a={backgroundImage:"url(data:image/jpeg;base64,".concat(i.preview,")")},e=l.createElement("div",{className:d.default.body,style:a});break;case E:e=l.createElement("div",{className:(0,o.default)(d.default.body,"attach-media-audio-thumb")});break;case v:if(__LOG__(2)(m()),i.preview){var s={backgroundImage:"url("+i.preview+")"};e=l.createElement("div",{className:d.default.body,style:s});break}j[i.mimetype]&&(t=j[i.mimetype].icon);default:t=(0,o.default)(d.default.body,d.default.bodyDoc,t,{"icon-doc-generic":!t}),e=l.createElement("div",{className:t})}return e}render(){var e=(0,o.default)(d.default.thumb,{[d.default.active]:this.props.active});return l.createElement("div",{className:e,onClick:this._onClick,role:"button",ref:this.setRef},l.createElement("div",{className:d.default.btnDelete,onClick:this._onClose,role:"button"},l.createElement(p.default,{name:"x-alt"})),this._renderBody())}}C.CONCERNS={attachMedia:["mimetype","preview","type"]};var S=(0,u.default)(C,C.CONCERNS);t.default=S},bgiafagffb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.createElement(d.MenuBarItem,{a8nText:"live-location-map-menu",icon:n.createElement(c.default,{name:"menu"}),title:l.default.t(881)},n.createElement(r.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:r.DirX.LEFT,dirY:r.DirY.BOTTOM},n.createElement(o.default,{a8n:"mi-roadmap-view menu-item",action:e.onRoadmapSelected},l.default.t(810)),n.createElement(o.default,{a8n:"mi-satellite-view menu-item",action:e.onSatelliteSelected},l.default.t(811)),n.createElement(o.default,{a8n:"mi-terrain-view menu-item",action:e.onTerrainSelected},l.default.t(812)),n.createElement(o.default,{a8n:"mi-traffic menu-item",action:e.onTrafficToggled},e.showTraffic?l.default.t(813):l.default.t(814))))};var n=s(a("ddhijeejag")),r=s(a("jagjbhcgf")),o=i(a("dgebcfedgb")),l=i(a("bdjjabfecc")),d=a("cadfgefaja"),c=i(a("dgdcjccfdi"))},bgjbchbhhc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cfhfdchaij")),o=i(a("bdeebiagii")),l=i(a("cjgdgbgbj"));class d extends o.default{constructor(...e){super(...e),this.onProductClick=(e,t)=>{this.push(n.createElement(l.default,{refreshCarousel:!0,chat:this.props.msg.chat,product:e,sessionId:t,onEnd:this._pop}))},this._pop=()=>{this.pop()}}componentDidMount(){this.push(n.createElement(r.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}t.default=d},bhbeigbaec:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("djfeeacgad"),r=s(a("ddhijeejag")),o=a("ceagbbhcha"),l=a("chcfhehffe"),d=i(a("ciehddchae"));class c extends r.Component{constructor(e){super(e),this.setMap=e=>this.map=e,this.mapOnClick=()=>{this.dismissMarkerTimer.debounceAndCap(50,100)},this.markerOnClick=()=>{this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel(),this.props.onMarkerSelected(!0)},this.getPixelPositionOffset=(e,t)=>({x:-e/2,y:-t}),this.dismissMarkerTimer=new n.ShiftTimer(()=>{this.props.markerSelected&&this.props.onMarkerSelected(!1)})}componentWillUnmount(){this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}getMapPaneName(){return o.OverlayView.OVERLAY_MOUSE_TARGET}getMarkers(){var{lat:e,lng:t,contact:a,markerSelected:i}=this.props;return r.createElement(d.default,{marker:{isLive:!1,contact:a,lat:e,lng:t,selected:i,onClick:e=>this.markerOnClick(e)}})}getTrafficLayer(){return this.props.showTraffic?r.createElement(o.TrafficLayer,{autoRefresh:!0}):null}render(){var{lat:e,lng:t}=this.props;return r.createElement(o.GoogleMap,{ref:this.setMap,defaultCenter:{lat:e,lng:t},defaultOptions:this.props.getMapOptions(),defaultZoom:l.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick},this.getMarkers(),this.getTrafficLayer())}}var h=(0,l.withConfig)((0,o.withScriptjs)((0,o.withGoogleMap)(c)));t.default=h},bhfeiiegef:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),l=i(a("bdjjabfecc")),d=i(a("ccdhaejgdh")),c=i(a("dcacggaedc")),h=i(a("dighddcfg"));class u extends n.PureComponent{constructor(...e){super(...e),this.state={theme:"system"},this._handleThemeChange=e=>{var t,a=null==e||null===(t=e.target)||void 0===t?void 0:t.value;"light"!==a&&"dark"!==a&&"system"!==a||this.setState({theme:a})},this._handleOk=()=>{var{theme:e}=this.state;"system"===e?(this.context.setSystemThemeMode(!0),this.context.setTheme(c.default.currentTheme)):(this.context.setSystemThemeMode(!1),this.context.setTheme(e)),r.default.closeModal()},this._handleCancel=()=>{r.default.closeModal()}}componentDidMount(){this.setState({theme:this.context.systemThemeMode?"system":this.context.theme})}render(){var{theme:e}=this.state;return n.createElement(o.default,{title:l.default.t(1316),onOK:this._handleOk,onCancel:this._handleCancel},n.createElement("form",null,n.createElement("ol",null,n.createElement("li",{key:"light"},n.createElement("label",{className:d.default.label},n.createElement("input",{type:"radio",name:"theme",value:"light",className:d.default.input,checked:"light"===e,onChange:this._handleThemeChange}),l.default.t(1315))),n.createElement("li",{key:"dark"},n.createElement("label",{className:d.default.label},n.createElement("input",{type:"radio",name:"theme",value:"dark",className:d.default.input,checked:"dark"===e,onChange:this._handleThemeChange}),l.default.t(1314))),n.createElement("li",{key:"system"},n.createElement("label",{className:d.default.label},n.createElement("input",{type:"radio",name:"theme",value:"system",className:d.default.input,checked:"system"===e,onChange:this._handleThemeChange}),l.default.t(1317))))))}}t.default=u,u.contextType=h.default},bhheibic:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("hgigjbgie")),c=i(a("bdeebiagii")),h=i(a("bihjahgcja")),u=i(a("cichhcjjd")),f=i(a("bdjjabfecc")),p=s(a("chbeahhfcj")),m=i(a("bfgbdiffgd"));class g extends c.default{constructor(...e){super(...e),this.requestFocus=()=>{var e=this.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},this.onForwardConfirmed=e=>{var{msgs:t,onForward:a}=this.props;r.default.forwardMessagesToChats(t,e).catchType(h.default,e=>{this.showMediaSendError(e.reasons)}),this.end(),a&&a(t),o.default.openChatFromUnread(e[0])},this.showMediaSendError=e=>{var t=e.map(({chat:e,reason:t})=>n.createElement("p",{key:e.id.toString()},e.formattedTitle," : ",t));o.default.openModal(n.createElement(l.default,{onOK:()=>o.default.closeModal(),okText:f.default.t(1649)},t),void 0)}}componentDidMount(){var e,{msgs:t}=this.props,a=f.default.t(626,{_plural:t.length||1}),i=t[0],s=i&&i.chat;e="video"!==i.type&&"image"!==i.type?"message":i.type;var r,o=t.some(e=>e.isFrequentlyForwarded),l=t.filter(e=>!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===d.default.FREQUENTLY_FORWARDED_SENTINEL);m.default.frequentlyForwardedMessages&&l.length&&(r=n.createElement(u.default,{frequentlyForwardedCount:l.length,totalCount:t.length}));var c=m.default.frequentlyForwardedMessages&&o?m.default.frequentlyForwardedMax:m.default.multicastLimitGlobal;this.push(n.createElement(p.default,{onConfirm:this.onForwardConfirmed,maxItems:c,excludeChat:s,excludeBroadcast:!0,msgType:e,title:a,listType:p.ListType.CHAT_SELECT_MODAL,customHeader:r,hasFrequentlyForwarded:o,showEphemeralIcon:!0}))}}t.default=g},bhigchjbgb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("dbafiicfja")),o=s(a("ceffhbhahb")),l=i(a("ddhijeejag")),d=s(a("hgigjbgie")),c=a("cgejchjdhj"),h=s(a("bbaacgghch")),u=s(a("ddajbaceej")),f=s(a("dhfbfehaef")),p=s(a("cjjdibgija")),m=s(a("cahfddcdga")),g=s(a("bcddhhfhda")),b=s(a("dcaibchbg")),v=s(a("ecdebjcgfa")),E=s(a("diffaiehid"));function j(){var e=(0,n.default)(["Assertion failed!"]);return j=function(){return e},e}class C extends l.PureComponent{constructor(...e){super(...e),this.state={},this.setRefBody=e=>{this.refBody=e},this.refImages=new Map,this.setRefImage=(e,t)=>{t?this.refImages.set(e,t):this.refImages.delete(e)},this.setImageRefCache=new g.default(this.setRefImage),this.selection=new b.default(this.props.thumbnails,e=>e.id),this._handleHotKeysRef=e=>{this._refHotKeys=e},this.handleMouseDown=e=>{e.preventDefault(),e.stopPropagation()},this.handleClick=e=>{var t=e.target;this.props.onImageClick&&1===t.nodeType&&"IMG"===t.tagName&&this.props.onImageClick(t.src)},this.handleEnter=()=>{var e=this.selection.getVal();e||(__LOG__(4,!1,new Error)(j()),SEND_LOGS("No value selected, but enter clicked")),this.props.onImageClick&&e&&this.props.onImageClick(e.thumbUrl)},this._requestMoreImagesIfNeeded=()=>{if(!this.props.isLoadingMore&&this.props.canLoadMore&&this.props.onRequestMoreImages){if(!this.refBody)throw new Error("Requesting more images when body not rendered");this.refBody.scrollTop+d.default.SCROLL_FUDGE>this.refBody.scrollHeight-this.refBody.clientHeight&&this.props.onRequestMoreImages()}},this.handleScroll=this.props.throttle(this._requestMoreImagesIfNeeded,100),this.selectPrev=e=>{e.preventDefault(),e.stopPropagation(),this.selection.setPrev(!1),this._updateSelected(!0,!0)},this.selectNext=e=>{e.preventDefault(),e.stopPropagation(),this.selection.setNext(!1),this._updateSelected(!0,!0)},this.selectPrevRow=e=>{if(e.preventDefault(),e.stopPropagation(),0===this.selection.index&&this.props.onFocusPrev)this.props.onFocusPrev();else{var t=Math.max(this.selection.index-3,0);this.selection.set(t,!1,!1),this._updateSelected(!0,!0)}},this.selectNextRow=e=>{e.preventDefault(),e.stopPropagation(),this.selection.set(this.selection.index+3,!1,!1),this._updateSelected(!0,!0)},this.handleFocus=e=>{e.stopPropagation(),e.preventDefault(),(null==this.selection.index||this.selection.index<0)&&this.selection.setFirst(!1),this._updateSelected(!0,!1);var t=(0,m.default)(this.refImages.get("".concat(this.selection.index)),"this.refImages.get(`${this.selection.index}`)").getElementsByClassName(p.default.imageGalleryItemOverlay);if(1!==t.length)throw new Error("Unexpected number of overlay elements ".concat(t.length));h.default.maybeIndicateFocus(t[0],p.default.focusAnimation)},this.handleRequestDismiss=()=>{this.selection.unset(),this.setState({selectedImage:void 0})}}componentDidMount(){this._updateSelected()}componentDidUpdate(){this._requestMoreImagesIfNeeded(),this.selection.init(this.props.thumbnails,!1),this._updateSelected()}focus(){this._refHotKeys&&this._refHotKeys.focus()}_updateSelected(e=!1,t=!1){var a=this.selection.getVal();if(a&&this.state.selectedImage!==a&&(this.setState({selectedImage:a}),this.selection.index>-1)){var i=this.refImages.get("".concat(this.selection.index));u.default.focus(i),t&&i&&(0,c.scrollIntoViewIfNeeded)(i,!1)}}render(){var e={down:this.selectNextRow,enter:this.handleEnter,left:this.selectPrev,right:this.selectNext,up:this.selectPrevRow},t=(0,r.default)(this.props.thumbnails,({id:e,thumbUrl:t},a)=>{var i=!!this.state.selectedImage&&this.state.selectedImage.id===e,s=(0,o.default)(p.default.imageGalleryItem,{[p.default.selected]:i}),n=l.createElement("div",{className:p.default.imageGalleryItemOverlay});return l.createElement("div",{key:e,ref:this.setImageRefCache.getRefSetter("".concat(a)),className:s,tabIndex:-1},n,l.createElement("img",{onClick:this.handleClick,className:p.default.imageGalleryItemImage,src:t}))}),a=this.props.isLoadingMore?l.createElement("div",{tabIndex:-1,className:p.default.imageGalleryFooter},l.createElement(v.default,{stroke:6,size:24})):null;return l.createElement(f.default,{className:p.default.imageGallery,"data-tab":d.default.TAB_ORDERS.CHAT_IMAGE_GALLERY,handlers:e,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onRef:this._handleHotKeysRef},l.createElement("div",{ref:this.setRefBody,className:p.default.imageGalleryList,onScroll:this.handleScroll},t,l.createElement("div",{tabIndex:-1,className:p.default.imageGalleryItemSpacer}),l.createElement("div",{tabIndex:-1,className:p.default.imageGalleryItemSpacer}),l.createElement("div",{tabIndex:-1,className:p.default.imageGalleryItemSpacer}),a))}}C.defaultProps={thumbnails:[]};var S=(0,E.default)(C);t.default=class extends S{focus(){this.getComponent().focus()}}},bhjcihggie:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("defdgchjjh")),o=i(a("ccbgfecegc")),l=s(a("dgffihajaa")),d=s(a("cajijabhgb")),c=i(a("bdeebiagii")),h=s(a("dciajcgfie")),u=s(a("dcecgegjfc")),f=s(a("dgjfidhijd")),p=i(a("dhccahhefj"));class m extends c.default{constructor(...e){super(...e),this.refCaptureDrawer=null,this.setRefCaptureDrawer=e=>{this.refCaptureDrawer=e},this.pushPermissionModal=()=>{this.push(n.createElement(h.default,{messaging:h.Messaging.CAMERA,type:h.default.TYPE.GUIDE_ALLOW,onConfirm:this.popModal}),"modal")},this.popModal=()=>{this.pop("modal")},this.startCaptureDrawer=()=>{var e=u.start("camera",this.pushPermissionModal);Promise.race([e,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.refCaptureDrawer||this.popModal(),e&&this.refCaptureDrawer&&this.refCaptureDrawer.loadNewStream(e)}).catchType(d.GUM.NotAllowedError,()=>{this.cleanUp(),o.default.openModal(n.createElement(h.default,{messaging:h.Messaging.CAMERA_FAIL,type:h.default.TYPE.GUIDE_UNBLOCK}))}).catchType(d.GUM.GUMError,()=>{this.cleanUp(),o.default.openModal(n.createElement(h.default,{messaging:h.Messaging.CAMERA_MISSING,type:h.default.TYPE.GUIDE_NONE}))})},this.onFinished=(e,t)=>{this.props.onFinished(e,t),this.cleanUp()},this.cleanUp=()=>{this.end()},this.onRetake=()=>{this.pop("flow-transition-box-size-drawer-pop"),this.startCaptureDrawer()},this.onCaptured=e=>{this.push(n.createElement(f.default,{type:f.BoxModalType},n.createElement(l.default,{onRetake:this.onRetake,retryText:l.RETRY_OPTIONS.RETAKE,onFinished:this.onFinished,onCancel:this.cleanUp,img:e})),"flow-transition-box-size-drawer-push")},this.handleRequestDismiss=e=>{!1===e&&this.onRetake()}}componentDidMount(){this.push(n.createElement(f.default,{type:f.BoxModalType},n.createElement(r.default,{ref:this.setRefCaptureDrawer,stream:void 0,caption:!1,layoutType:"cover",onBack:this.cleanUp,onSend:null,onCaptured:this.onCaptured,chat:void 0}))),this.startCaptureDrawer()}}var g=(0,p.default)(m);t.default=g},bibjjjghee:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var n=s(a("ddhijeejag")),r=i(a("cbhegcchgg")),o=i(a("hgigjbgie")),l=i(a("bdjjabfecc")),d=i(a("cgdbgfjefd")),c=(0,i(a("eaeccjdifj")).default)(()=>Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"cdgaidjejh",7)).then(e=>e.default),"ContactUsModal");t.requireBundle=c;var h=(0,r.default)({loader:c,loading:e=>n.createElement(d.default,{title:l.default.t(1292),okText:l.default.t(1226),error:Boolean(e.error)}),delay:o.default.LOADABLE_DELAY});t.default=h},biebgdijhi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.disabled?d.default.disabled:"",a=e.disabled?null:e.onClick,i=n.createElement("span",{className:d.default.title},o.default.t(1101)),s=n.createElement(l.default,{theme:"compact",disabled:e.disabled},n.createElement(c.default,{name:"catalog"}));return n.createElement(r.default,{image:s,onClick:a,primary:i,theme:"list-button-compact",className:t})};var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("bdjjabfecc")),l=i(a("efedbfchg")),d=i(a("djjcfcigdi")),c=i(a("dgdcjccfdi"))},bihbbbcghi:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bacehaajgh")),r=i(a("ddhijeejag")),o=s(a("dcdbbhicce")),l=s(a("ccebihbide"));class d extends r.PureComponent{genCircle(e){var t=100+this.props.stroke;return r.createElement("circle",(0,n.default)({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}genDasharray(e,t,a,i){for(var s="",n=0;n<e;n++)s+=n===e-1?"".concat(t," ").concat(a-e*(i+t)+i," "):"".concat(t," ").concat(i," ");return s}render(){var{statusV3:e,stroke:t,size:a}=this.props,i=100+t,s="0 0 ".concat(i," ").concat(i),n=e.totalCount,o=10,d=50*Math.PI*2;d-10*n<1&&(o=d/n/1.2);var c,h,u=(d-o*n)/n,f=d/4-o/2,p=e.contact.isMe?0:e.unreadCount,m=n-p;if(p){var g,b=f+n*(o+u);1!==n&&(g=this.genDasharray(p,u,d,o)),c=this.genCircle({strokeDashoffset:b,strokeDasharray:g,className:l.default.unread})}if(m){var v,E=f+m*(o+u);1!==n&&(v=this.genDasharray(m,u,d,o)),h=this.genCircle({strokeDashoffset:E,strokeDasharray:v,className:l.default.read})}return r.createElement("svg",{className:l.default.ring,width:a,height:a,viewBox:s},c,h)}}d.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},d.defaultProps={size:48,stroke:4};var c=(0,o.default)(d,d.CONCERNS);t.default=c},bihjdjceid:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({mimeType:e,url:t,isGif:a,size:i,processing:s,preview:r}){var c;switch(p[e].msgType){case"image":c=l.createElement("img",{src:t,className:d.default.img});break;case"video":var m=a?{loop:!s,autoPlay:!s,muted:!1,controls:!1}:{},g=s?l.createElement("div",{className:d.default.spinner},l.createElement(u.default,{color:u.colorOptions.white,size:50,stroke:3})):null,b=r?l.createElement("img",{className:d.default.staticPreview,src:"data:image/jpeg;base64,".concat(r)}):null,v=s?null:l.createElement(f.default,(0,n.default)({controls:!0,controlsList:"nodownload nofullscreen",className:d.default.video},m,{src:t}));c=l.createElement("div",{className:(0,o.default)(d.default.img,d.default.videoContainer)},g,v,b);break;case"audio":c=l.createElement("audio",{controls:!0,className:d.default.audio,type:e,src:t})}return l.createElement("div",{className:d.default.container,"data-animate-attach-media":!0},l.createElement("div",{className:d.default.media},l.createElement(h.default,{type:"scaleDown",size:i},c)))};var n=s(a("bacehaajgh")),r=s(a("bgeijhbbad")),o=s(a("ceffhbhahb")),l=i(a("ddhijeejag")),d=s(a("chiieajhih")),c=a("cedhgehjef"),h=s(a("difhgjjfcb")),u=i(a("ecdebjcgfa")),f=s(a("ecfabjjeda")),p=(0,r.default)(c.MIMETYPES,e=>"image"===e.msgType||"video"===e.msgType)},bjbifafigc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=s(a("dgffihajaa")),o=i(a("bdeebiagii"));class l extends o.default{constructor(...e){super(...e),this.onEnd=()=>{this.end()},this.onFinished=(e,t)=>{this.props.onFinished(e,t),this.end()}}componentDidMount(){this.push(n.createElement(r.default,{onCancel:this.onEnd,onFinished:this.onFinished,onRetake:this.props.onRetake,retryText:r.RETRY_OPTIONS.RESTART,img:this.props.img}))}}t.default=l},bjcgjiedih:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("jcfacighg")),r=i(a("ddhijeejag")),o=s(a("bjcdghhbjh")),l=s(a("cefccdiabc")),d=s(a("dhigahgdjb")),c=s(a("bgaacffcia")),h=s(a("dbgbgeefcf")),u=s(a("dahagdijgh")),f=s(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),m=a("cdhbdacigj"),g=s(a("dbfjeecgih")),b=s(a("bbaacgghch")),v=s(a("ddajbaceej")),E=a("dgjddffcfg"),j=s(a("bhbdiadfhj")),C=s(a("dhfbfehaef")),S=s(a("bdjjabfecc")),_=s(a("fiijdaaid")),M=s(a("efedbfchg")),I=s(a("dgdcjccfdi")),y=s(a("diffaiehid"));class T extends r.Component{constructor(...e){super(...e),this.state={searchText:""},this.setSearch=e=>{this.search=e},this.setRefList=e=>{this.refList=e},this.flatListController=new g.default,this.onSearch=e=>{this.searchText=e,this._onSearch(e)},this._onSearch=this.props.debounce(e=>{this.setState({searchText:e})},100),this.onFocusList=e=>{this.refList&&(e.preventDefault(),e.stopPropagation(),b.default.shouldIndicateFocus(),this.refList&&this.refList.focusFirst())},this.onSelectFirst=e=>{e.preventDefault(),e.stopPropagation();var t=this.frequentContacts[0];if(t)return b.default.shouldIndicateFocus(),void this.props.onClick(e,t);var a=this.getFilteredContacts(this.searchText)[0];a&&(b.default.shouldIndicateFocus(),this.props.onClick(e,a))},this.onFocusSearch=()=>{b.default.shouldIndicateFocus(),v.default.focus(this.search)}}componentDidMount(){v.default.focus(this.search)}getFilteredContacts(e){var t=e;if(d.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return d.default.getFilteredContacts();var a=d.default.getFilteredContacts().concat(d.default.filter(e=>e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact));t=S.default.accentFold(t);var i=(0,E.numberSearch)(t);return a.filter((function(e){return e.searchMatch(t,i)}))}calculateFrequentContacts(){var{searchText:e}=this.state;if(e||!j.default.supportsFeature(j.default.F.FREQUENT_CONTACTS))return[];var t=d.default.frequentContacts("message");return(0,n.default)(t)}render(){var e,t=null,a=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===a.length?this.state.searchText?(0,m.SearchWithKeyword)(this.state.searchText):(0,m.SearchWithoutKeyword)():r.createElement(h.default,{ref:this.setRefList,contacts:a,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var i=r.createElement(M.default,null,r.createElement(I.default,{name:"new-group",directional:!0}));t=r.createElement("div",{"data-list-scroll-offset":!0},r.createElement("div",{className:c.default.newGroupButton},r.createElement(l.default,{image:i,primary:S.default.t(1629),onClick:this.props.onNewGroup}),r.createElement(o.default,null)))}var s={down:this.onFocusList};return r.createElement(u.default,{key:"contact-modal"},r.createElement(p.default,{title:this.props.title,type:p.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),r.createElement(C.default,{handlers:s},r.createElement(_.default,{ref:this.setSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:S.default.t(1195)})),r.createElement(f.default,{flatListControllers:[this.flatListController]},t,e))}}var P=(0,y.default)(T);t.default=P},bjchbacdef:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductInfoDrawer=void 0;var n=s(a("ddhijeejag")),r=i(a("cagaiadjai")),o=i(a("hgigjbgie")),l=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),c=s(a("bjjhgjdbhd")),h=i(a("ddeefhbafc")),u=i(a("edfgfbdfg")),f=a("ddbdgibbbi"),p=i(a("jheedhagg")),m=i(a("bdjjabfecc")),g=a("cjcghajbag"),b=i(a("dbijiicabc")),v=i(a("ehdgbgee")),E=i(a("cjdgafagge")),j=i(a("cajcadafab")),C=i(a("dcdbbhicce")),S=i(a("gbbacfeci")),_=a("dhhjhedjij");class M extends n.Component{constructor(e){super(e),this.onEditProduct=()=>{var{product:e,sessionId:t}=this.props;this.props.onEditProduct&&this.props.onEditProduct(e,t)},this.onShareProduct=()=>{var{product:e,sessionId:t}=this.props;this.props.onShareProduct&&this.props.onShareProduct(e,t)},this.state={isLoading:!0}}componentDidMount(){var{catalog:e,product:t}=this.props;e.updateProduct(t.id.toString()).finally(()=>{this.setState({isLoading:!1})})}renderStatusAlert(){var e,t,{product:a}=this.props,i='<a href="'.concat(o.default.WA_COMMERCE_POLICY_URL,'" target="_blank">').concat(m.default.t(794),"</a>");switch(a.reviewStatus){case g.PRODUCT_REVIEW_STATUS.OUTDATED:case g.PRODUCT_REVIEW_STATUS.NO_REVIEW:case g.PRODUCT_REVIEW_STATUS.PENDING:var s="".concat(m.default.t(383,{learn_more_link:i}));e=n.createElement("div",{dangerouslySetInnerHTML:{__html:s}});break;case g.PRODUCT_REVIEW_STATUS.REJECTED:var r="".concat(m.default.t(381,{learn_more_link:i}));e=n.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),t=n.createElement(_.TextDiv,{className:v.default.appealText},m.default.t(380))}return null!=e||null!=t?n.createElement("div",{className:v.default.statusAlert},e,t):null}render(){var{product:e,sessionId:t,onCancel:a}=this.props,i=(0,f.getMaybeMeUser)(),s=S.default.get(i),o=n.createElement(_.TextDiv,{theme:"muted",className:v.default.businessInfoTitle},m.default.t(322)),p=e.reviewStatus!==g.PRODUCT_REVIEW_STATUS.APPROVED,C=n.createElement("div",null,n.createElement(r.default,{type:"simplified",onClick:this.onEditProduct},m.default.t(530)),n.createElement(r.default,{type:"primary",onClick:this.onShareProduct,disabled:p},m.default.t(1719))),M=n.createElement("div",{className:v.default.drawerHeader},n.createElement("div",{className:v.default.productName},e.name),n.createElement("div",{className:v.default.drawerHeaderButtonContainer},C)),I=s?n.createElement(h.default,{title:o,theme:"no-padding"},n.createElement(j.default,{status:s})):null,y=this.state.isLoading?n.createElement(u.default,null):n.createElement(n.Fragment,null,n.createElement(E.default,{product:e,isAvailable:!0,fetching:!1,sessionId:t}),this.renderStatusAlert(),n.createElement(b.default,{product:e,onSendChat:()=>{},isAvailable:!0,sessionId:t}));return n.createElement(l.default,{key:"catalog-link-drawer",theme:"catalog"},n.createElement(c.default,{a8n:"catalog-product-title",title:M,type:c.DRAWER_HEADER_TYPE.SMALL,onCancel:a}),n.createElement(d.default,null,n.createElement("div",{className:v.default.productWrapper},n.createElement(h.default,null,y),I)))}}t.ProductInfoDrawer=M,M.CONCERNS={product:["id","catalogWid","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency"]};var I=(0,p.default)((0,C.default)(M,M.CONCERNS));t.default=I},bjddhceafh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({fullPreview:e,fullPreviewSize:t,pageCount:a,mimeType:i,filename:s}){if(e&&t&&null!=a&&a>0){var c=l.default.t(212,{count:a,_plural:a});return n.createElement("div",{className:o.default.container,"data-js-attach-preview":!0},n.createElement("div",{className:o.default.preview},n.createElement(d.default,{type:"scaleDown",size:t},n.createElement("img",{src:e,className:o.default.img}))),n.createElement("div",{className:o.default.caption},c))}return n.createElement(r.default,{mimeType:i,filename:s})};var n=s(a("ddhijeejag")),r=i(a("cggjjcbdia")),o=i(a("dhiecjhe")),l=i(a("bdjjabfecc")),d=i(a("difhgjjfcb"))},bjfhachbaa:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bacehaajgh")),r=i(a("ddhijeejag")),o=s(a("bdeebiagii")),l=s(a("bdjjabfecc")),d=i(a("chbeahhfcj")),c=s(a("cggehdbfjf")),h=s(a("bfgbdiffgd")),u=s(a("dddhbbadie"));class f extends o.default{constructor(...e){super(...e),this.confirmSendContacts=e=>{this.push(r.createElement(u.default,{contactList:e,onSend:()=>this.sendContacts(e),onBack:this._popNone,chat:this.props.chat}),"none"),this.contacts=e},this.sendContacts=e=>{var{chat:t}=this.props,a=t.composeQuotedMsg,i=t.getComposeContents().ctwaContext||void 0;(0,c.default)(e,t,a,i),t.composeQuotedMsg=null,this.props.onContactsSent(),this.end()},this._getContacts=()=>this.contacts,this._pop=()=>{this.pop()},this._popNone=()=>{this.pop("none")}}componentDidMount(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(r.createElement(d.default,{title:l.default.t(1223),onCancel:this._pop,onConfirm:this.confirmSendContacts,getInitialItems:this._getContacts,listType:d.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}t.default=e=>r.createElement(f,(0,n.default)({},e,{serverProps:h.default}))},bjhdcidgah:function(e,t,a){e.exports=a.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfeaeedf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bafcchidfe")),o=i(a("ebjaejiaba")),l=i(a("ccbgfecegc")),d=i(a("bbfjdcedab")),c=i(a("hgigjbgie")),h=i(a("bdeebiagii")),u=i(a("bdjjabfecc")),f=i(a("bijffg")),p=a("dcfieddiah"),m=i(a("cijddbbaja")),g=i(a("bdcchebfge"));class b extends h.default{constructor(...e){super(...e),this.newlyAddedLabels=new Set,this.logWamEvent=()=>{var e=this.props.modelsToUpdate.length;this.labelViewType=1===e?this.props.modelsToUpdate[0]instanceof o.default?g.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:g.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:g.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,p.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW,e,this.labelViewType)},this.onLabelUpdateComplete=()=>{this.props.onLabelUpdateComplete&&this.props.onLabelUpdateComplete(),this._pop()},this.onAddLabel=(e,t)=>{f.default.addNewLabel(e,t).then(()=>{this.newlyAddedLabels.add(e)})},this.shouldScrollIntoViewAndSelect=e=>this.newlyAddedLabels.has(e)?(this.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1},this.onAddNewLabel=()=>{f.default.toArray().length>=c.default.MAX_SMB_LABEL_COUNT?l.default.openModal(n.createElement(d.default,{okText:u.default.t(1059),onOK:()=>l.default.closeModal()},u.default.t(1802,{count:c.default.MAX_SMB_LABEL_COUNT}))):this.push(n.createElement(r.default,{onAddLabel:this.onAddLabel,onCancel:this._pop}))},this.popAndLogEvent=()=>{this.labelViewType&&(0,p.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_NEGATIVE,this.props.modelsToUpdate.length,this.labelViewType),this.pop()},this._pop=()=>{this.pop()}}componentDidMount(){this.logWamEvent(),this.push(n.createElement(m.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}t.default=b,b.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},bjiecabhbh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bebajedcaf")),r=s(a("hhegggegb")),o=s(a("ceffhbhahb")),l=i(a("ddhijeejag")),d=s(a("jgabafafc")),c=i(a("cbbifbghag")),h=s(a("ccbgfecegc")),u=a("dbgjdhbdaj"),f=s(a("dahagdijgh")),p=s(a("bjheffjbgd")),m=i(a("bjjhgjdbhd")),g=s(a("jheedhagg")),b=s(a("ccgeibdhai")),v=s(a("bdjjabfecc")),E=s(a("ebddggeaib")),j=s(a("ccbgehdigj")),C=s(a("ceibaheeb")),S=a("chcfhehffe"),_=s(a("bgiafagffb")),M=s(a("bbgcdfeifh")),I=s(a("cfhfjfibci")),y=s(a("cicgecaadf")),T=s(a("dcdbbhicce")),P=a("cjfegjecaj"),L=s(a("dgdcjccfdi")),w=s(a("diffaiehid")),k=i(a("bjhgigfbec")),N=s(a("jccfhaecf")),R=a("dcbdjheea"),D=["click","mousedown","mousemove","scroll"],O="ACTIVE",A="INACTIVE",x="OFFLINE";class U extends l.PureComponent{constructor(e){super(e),this.onParticipantAdd=()=>{var{zoomLevel:e,selectedParticipantId:t}=this.state;this.updateMinZoomClusters(),this.setState({clusters:this.getClusters(e,t)})},this.onParticipantRemove=e=>{var{selectedClusterId:t,selectedParticipantId:a,zoomLevel:i}=this.state;this.updateMinZoomClusters();var s=t,n=a;t&&(0,c.participantInCluster)(t,e.id)&&(s=null),N.default.equals(a,e.id)&&(n=null),this.setState({selectedClusterId:s,selectedParticipantId:n,clusters:this.getClusters(i,n)})},this.onParticipantDisable=e=>{if(!e.isMe){var t=e.contact.formattedName;h.default.openToast(l.createElement(k.default,{msg:v.default.t(827,{name:t}),id:(0,k.genId)()}))}},this.onLocationChanged=()=>{var{zoomLevel:e,selectedParticipantId:t}=this.state;this.updateMinZoomClusters(),this.setState({clusters:this.getClusters(e,t)})},this.onIdle=()=>{var{liveLocation:e}=this.props.chat;e&&(e.stopViewingMap(),this.setState({status:A}))},this.onActivity=(0,r.default)(()=>{this.removeIdleTimeout(),this.addIdleTimeout()},250),this.onRefresh=()=>{var{liveLocation:e}=this.props.chat;e&&(e.startViewingMap(),this.setState({status:O}))},this.onClose=()=>{this.props.onClose?this.props.onClose():this.props.uim.uie.requestDismiss()},this.onMarkerSelected=e=>{e?(0,c.singleParticipantClusterId)(e)?this.onParticipantSelected(e):this.onClusterSelected(e):this.onClearSelected()},this.onClearSelected=()=>{var{selectedParticipantId:e,selectedClusterId:t,zoomLevel:a}=this.state;(e||t)&&this.setState({selectedParticipantId:null,selectedClusterId:null,clusters:this.getClusters(a)})},this.onClusterSelected=e=>{this.state.selectedClusterId!==e&&this.setState({selectedParticipantId:null,selectedClusterId:e})},this.onParticipantSelected=e=>{var{selectedParticipantId:t,zoomLevel:a}=this.state,i=(0,R.createWid)(e);N.default.equals(t,i)||this.setState({selectedParticipantId:i,selectedClusterId:null,clusters:this.getClusters(a,i)})},this.onStopSharing=e=>{e.preventDefault(),e.stopPropagation();var{chat:t}=this.props;h.default.openModal(l.createElement(j.default,{chat:t}))},this.onRoadmapSelected=()=>{this.setState({mapType:S.MapType.ROADMAP})},this.onSatelliteSelected=()=>{this.setState({mapType:S.MapType.SATELLITE})},this.onTerrainSelected=()=>{this.setState({mapType:S.MapType.TERRAIN})},this.onTrafficToggled=()=>{this.setState(e=>({showTraffic:!e.showTraffic}))},this.onBackToCenter=()=>{this.setState({selectedParticipantId:null,selectedClusterId:null,atCenter:!0,clusters:this.getClusters(this.state.zoomLevel)})},this.onMapMoved=(e,t)=>{this.setState(a=>{var i={};if(a.zoomLevel!==e){var s=this.getClusters(e,a.selectedParticipantId);Object.assign(i,{zoomLevel:e,clusters:s})}return this.hasValidParticipants()&&a.atCenter!==t&&Object.assign(i,{atCenter:t}),(0,n.default)(i)?null:i})},this.updateMinZoomClusters(),this.state={clusters:this.getClusters(S.INITIAL_ZOOM),selectedClusterId:null,selectedParticipantId:null,mapType:S.MapType.ROADMAP,showTraffic:!1,zoomLevel:S.INITIAL_ZOOM,atCenter:!0,status:M.default.online?O:x}}componentDidMount(){this.listenToModelChange(),this.listenToNetworkChange(),this.startCheckingForIdle();var{liveLocation:e}=this.props.chat;e&&(e.startViewingMap(),this.addParticipantListeners(e))}componentWillUnmount(){this.onActivity.cancel();var{liveLocation:e}=this.props.chat;e&&e.stopViewingMap()}addParticipantListeners(e){this.props.listeners.add(e.participants,"add",this.onParticipantAdd),this.props.listeners.add(e.participants,"remove",this.onParticipantRemove),this.props.listeners.add(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.add(e.participants,"change:valid",this.onLocationChanged)}removeParticipantListeners(e){this.props.listeners.remove(e.participants,"add",this.onParticipantAdd),this.props.listeners.remove(e.participants,"remove",this.onParticipantRemove),this.props.listeners.remove(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.remove(e.participants,"change:valid",this.onLocationChanged)}listenToModelChange(){var{chat:e}=this.props;this.props.listeners.add((0,P.unproxy)(e),"change:liveLocation",()=>{var{liveLocation:t}=e;t&&(this.removeParticipantListeners(t),this.addParticipantListeners(t));var{zoomLevel:a}=this.state;this.setState({clusters:this.getClusters(a)})})}listenToNetworkChange(){this.props.listeners.add(M.default,"change:online",()=>{M.default.online||this.stopCheckingForIdle(),this.setState({status:M.default.online?O:x})})}startCheckingForIdle(){this.addIdleTimeout(),this.addActivityListeners()}stopCheckingForIdle(){this.removeIdleTimeout(),this.removeActivityListeners()}addIdleTimeout(){this.idleTimeoutId=this.props.setTimeout(this.onIdle,18e4)}removeIdleTimeout(){null!=this.idleTimeoutId&&this.props.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=null}addActivityListeners(){D.forEach(e=>{this.props.listeners.add(document,e,this.onActivity)})}removeActivityListeners(){D.forEach(e=>{this.props.listeners.remove(document,e,this.onActivity)})}updateMinZoomClusters(){var e=this.getParticipants(),t=e?e.validLocations():[];this.minZoomClusters=(0,c.default)(t,S.MIN_ZOOM,null,u.MARKER_SIZE)}getParticipants(){var{liveLocation:e}=this.props.chat;return e?e.participants:null}hasValidParticipants(){var e=this.getParticipants();return!!e&&!!e.validLocations().length}getOpenFromCluster(){var e=this.getParticipants();if(!e||0===e.length)return null;var{openFrom:t}=this.props,a=null;if(t)a=t;else{var i=e.at(0);i&&(a=i.id)}return a?(0,c.findClusterForParticipant)(this.minZoomClusters,a):null}getClusters(e,t){var a=this.getParticipants(),i=null,s=[];a&&(t&&(i=a.get(t)),s=a.validLocations());var n=s,r=[];if(this.minZoomClusters.size>1){var o=this.getOpenFromCluster();if(o){var l=o.participants;n=l.validLocations(),r=s.filter(({id:e})=>!l.get(e))}}return{primary:(0,c.default)(n,e,i,u.MARKER_SIZE),secondary:(0,c.default)(r,e,i,u.MARKER_SIZE)}}getList(){var e,{clusters:t,selectedClusterId:a}=this.state,i=this.getParticipants();if(i&&i.length){if(a){var s=t.primary.get(a)||t.secondary.get(a);if(s){var n=s.participants;e=l.createElement(d.default,{participants:n,onParticipantSelected:this.onParticipantSelected,onClearSelected:this.onClearSelected})}}e||(e=l.createElement(I.default,{participants:i,onParticipantSelected:this.onParticipantSelected,onStopSharing:this.onStopSharing}))}return e}render(){var e,t;this.props.isFirstLevel?e=this.onClose:t=this.onClose;var a,i,{selectedParticipantId:s,selectedClusterId:n,mapType:r,showTraffic:d,atCenter:c,status:h}=this.state,u=h===O?l.createElement(_.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:d}):null;if(h===O||h===A){var g=s&&s.toString()||n;a=l.createElement("div",{className:b.default.wrapper},l.createElement("div",{className:(0,o.default)(b.default.backToCenter,{[b.default.visible]:!c}),onClick:this.onBackToCenter},l.createElement(L.default,{name:"return"})),l.createElement(C.default,{clusters:this.state.clusters.primary,secondaryClusters:this.state.clusters.secondary,selectedMarkerId:g,openFrom:this.props.openFrom,mapType:r,showTraffic:d,atCenter:c,onMarkerSelected:this.onMarkerSelected,onClearSelected:this.onClearSelected,onLocationChanged:this.onLocationChanged,onMapMoved:this.onMapMoved}),this.getList())}if(h===A||h===x){var E=h===A,j=E?"live-location-refresh":"live-location-disconnected",S=E?v.default.t(815):v.default.t(850);i=l.createElement(y.default,{inactive:E,svgName:j,text:S,onClick:E?this.onRefresh:void 0})}return l.createElement(f.default,null,l.createElement(m.default,{title:v.default.t(828),type:m.DRAWER_HEADER_TYPE.SMALL,menu:u,onBack:t,onCancel:e}),l.createElement(p.default,null,a,i))}}U.CONCERNS={chat:["id","liveLocation"]};var F=(0,g.default)((0,w.default)((0,E.default)((0,T.default)(U,U.CONCERNS))));t.default=F},bjihjhccce:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("ceffhbhahb")),o=i(a("ddhijeejag")),l=s(a("ccbgfecegc")),d=s(a("hgigjbgie")),c=a("bgihjbde"),h=i(a("cajijabhgb")),u=s(a("djifeiaaea")),f=s(a("dhfbfehaef")),p=s(a("bdjjabfecc")),m=s(a("dcjigehfeb")),g=s(a("bdcchebfge")),b=s(a("dhccahhefj")),v=s(a("ecdebjcgfa")),E=s(a("dieaaaeidb")),j=i(a("dffbbbhiad")),C=s(a("dgdfbejdgf")),S=s(a("dgdcjccfdi")),_=i(a("bjhgigfbec")),M=s(a("didfdhbecg"));function I(){var e=(0,n.default)(["Invalid iterator while loading first unread msg"]);return I=function(){return e},e}function y(){var e=(0,n.default)(["Invalid iterator while loading first unread msg"]);return y=function(){return e},e}function T(){var e=(0,n.default)(["Invalid iterator while loading first unread msg"]);return T=function(){return e},e}function P(){var e=(0,n.default)(["No more status v3 while preloading next status"]);return P=function(){return e},e}function L(){var e=(0,n.default)(["Invalid iterator while getting next status msg"]);return L=function(){return e},e}function w(){var e=(0,n.default)(["No more status v3 while preloading next status"]);return w=function(){return e},e}function k(){var e=(0,n.default)(["Invalid iterator while getting previous status msg"]);return k=function(){return e},e}function N(){var e=(0,n.default)(["No more status v3 while preloading next status"]);return N=function(){return e},e}function R(){var e=(0,n.default)(["Error finding next status while preloading next status"]);return R=function(){return e},e}function D(){var e=(0,n.default)(["Invalid iterator while preloading next status"]);return D=function(){return e},e}function O(){var e=(0,n.default)(["No more status v3 while preloading next status"]);return O=function(){return e},e}function A(){var e=(0,n.default)(["Invalid iterator while getting next status msg"]);return A=function(){return e},e}class x extends o.Component{constructor(){super(...arguments),this.onClickProgressBar=e=>{var t=this.state.iterator;if((!t||e!==t.msgIdx)&&t){var a=this.statusV3Snapshot.statusAt(t,e);a.isFulfilled()||this.setState({loading:!0}),a.checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({iterator:e})}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(A())}).catchType(j.StatusV3LoadingError,()=>{__LOG__(3)(O())}).finally(()=>{this.setState({loading:!1})})}},this.preloadNextStatus=()=>{var e=this.state.iterator;e&&this.statusV3Snapshot.hasNext(e)&&this.statusV3Snapshot.getNext(e).checkpoint(this.props.rejectOnUnmount()).then(e=>{var t=this.statusV3Snapshot.statuses[e.statusIdx].msgs[e.msgIdx];if(!t)throw new j.StatusV3MsgNotFound;if(t.type===d.default.MSG_TYPE.CHAT)u.default.load(t.font).catch(()=>{});else{var a=t.mediaData;a&&a.mediaStage!==m.default.STAGE.RESOLVED&&t.downloadMedia(!0,g.default.WEBC_RMR_REASON_CODE.STATUS_V3)}}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(D())}).catchType(j.StatusV3MsgNotFound,()=>{__LOG__(3)(R())}).catchType(j.StatusV3LoadingError,()=>{__LOG__(3)(N())})},this.onPrev=()=>{var e=this.state.iterator;if(e&&this.statusV3Snapshot.hasPrev(e)){var t=e.statusIdx;this.statusV3Snapshot.getPrev(e).checkpoint(this.props.rejectOnUnmount()).then(e=>{e.statusIdx===t?this.setState({iterator:e}):(this.setState({transitioning:!0}),Promise.delay(200).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState({iterator:e,transitioning:!1})}).catchType(h.Unmount,()=>{}))}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(k())}).catchType(j.StatusV3LoadingError,()=>{__LOG__(3)(w())})}},this.onNext=()=>{var e=this.state.iterator;if(e&&this.statusV3Snapshot.hasNext(e)){var t=e.statusIdx,a=this.statusV3Snapshot.getNext(e);a.isFulfilled()||this.setState({loading:!0}),a.checkpoint(this.props.rejectOnUnmount()).then(e=>{e.statusIdx===t?this.setState({iterator:e}):(this.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState({iterator:e,transitioning:!1})}).catchType(h.Unmount,()=>{}))}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(L()),this.closeStatusViewer()}).catchType(j.StatusV3LoadingError,()=>{__LOG__(3)(P())}).finally(()=>{this.setState({loading:!1})})}else this.closeStatusViewer()},this.markRead=(e,t)=>{if(t){var a=e.unreadCount,i=e.totalCount;e.msgs.getModelsArray().findIndex(e=>e===t)>=i-a&&e.sendReadStatus(t.id,t.author);var s=this.statusV3Snapshot.statuses.find(t=>t.statusV3===e);s&&s.readMsgKeys.push(t.id.toString())}},this.closeStatusViewer=e=>{this.setState({transitioning:!0}),Promise.delay(200).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.props.closeStatusViewer(e)}).catchType(h.Unmount,()=>{})};var e=this.props.initialStatusV3;if(this.props.quotedMsgKey){this.state={};var t=this.props.quotedMsgKey;if(-1!==e.msgs.getModelsArray().findIndex(e=>e.id.toString()===t.toString()))this.statusV3Snapshot=new j.default(e,t),this.statusV3Snapshot.getFirstUnread(e,!0,t).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({iterator:e,loading:!1})}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(y()),l.default.openToast(o.createElement(_.default,{msg:p.default.t(1268),id:(0,_.genId)()})),this.props.closeStatusViewer()});else this.state={loading:!0},e.loadMore(e.totalCount).then(()=>{(this.setState({loading:!1}),-1!==e.msgs.getModelsArray().findIndex(e=>e.id.toString()===t.toString()))?(this.statusV3Snapshot=new j.default(e,t),this.statusV3Snapshot.getFirstUnread(e,!0,t).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({iterator:e,loading:!1})}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(I()),l.default.openToast(o.createElement(_.default,{msg:p.default.t(1268),id:(0,_.genId)()})),this.props.closeStatusViewer()})):(this.props.onMsgNotFound&&this.props.onMsgNotFound(),l.default.openToast(o.createElement(_.default,{msg:p.default.t(1268),id:(0,_.genId)()})),this.props.closeStatusViewer())}).catch(()=>{l.default.openToast(o.createElement(_.default,{msg:p.default.t(1268),id:(0,_.genId)()})),this.props.closeStatusViewer()}).finally(()=>{this.setState({loading:!1})})}else{var a=this.props.initialStatusMsg;this.statusV3Snapshot=new j.default(e);var i=this.statusV3Snapshot.getFirstUnread(e,!0,a&&a.id);i.isFulfilled()?this.state={}:this.state={loading:!0},i.checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({iterator:e,loading:!1})}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{}).catchType(j.InvalidStatusV3Iterator,()=>{__LOG__(3)(T()),l.default.openToast(o.createElement(_.default,{msg:p.default.t(1268),id:(0,_.genId)()})),this.props.closeStatusViewer()})}}componentDidMount(){this.preloadNextStatus()}componentDidUpdate(){this.preloadNextStatus()}render(){var e,t,a,i,s,n,l,d,c=this.state.iterator;c&&(n=(s=this.statusV3Snapshot).statuses[c.statusIdx],l=n.statusV3,d=n.msgs[c.msgIdx],s.hasPrev(c)&&(a=o.createElement("div",{className:C.default.chevronLeft},o.createElement(S.default,{name:"chevron-left"})),i=o.createElement("div",{className:C.default.chevronLeftBg,onClick:this.onPrev})),s.hasNext(c)&&(e=o.createElement("div",{className:C.default.chevronRight},o.createElement(S.default,{name:"chevron-right"})),t=o.createElement("div",{className:C.default.chevronRightBg,onClick:()=>{this.onNext(),this.markRead(l,d)}})));var h,u={left:this.onPrev,right:this.onNext};!this.state.transitioning&&!this.state.loading&&d&&c&&n&&l&&(h=o.createElement("div",{className:C.default.playerContainer,key:d.id},o.createElement(E.default,{key:d.id,statusV3:l,msg:d,mediaData:d.mediaData,msgIdx:c.msgIdx,totalMsgs:n.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var p,m=(0,r.default)(C.default.v3X,{}),g=o.createElement("button",{className:m,onClick:()=>this.props.closeStatusViewer(!0)},o.createElement(S.default,{name:"x-viewer"})),b=(0,r.default)(C.default.backIcon,{}),j=o.createElement("button",{className:b,onClick:()=>this.props.closeStatusViewer()},o.createElement(S.default,{name:"back",directional:!0}));return this.state.loading&&(p=o.createElement("div",{className:C.default.mediaStateControls},o.createElement("button",null,o.createElement(v.default,{size:50,stroke:4,color:"white"})))),o.createElement(f.default,{handlers:u},o.createElement("div",{className:C.default.viewer,"data-animate-status-v3-viewer":!0},g,j,i,a,t,e,p,o.createElement(M.default,{transitionName:"status-v3-player",transitionAppear:!0},h)))}}var U=(0,b.default)(x);t.default=U},bjiiedjejh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bdeebiagii")),l=i(a("bdjjabfecc")),d=a("ecceajhjba"),c=i(a("cijhbdaifj")),h=a("cachecbicf");class u extends o.default{constructor(...e){super(...e),this.requestFocus=()=>{var e,t;null===(e=this.refUIE)||void 0===e||null===(t=e.getRef())||void 0===t||t.onFocusList()},this._sendProducts=e=>{var{chat:t}=this.props;e.forEach((e,a)=>{var i=0===a?t.composeQuotedMsg:null;t.sendProductMessage(e,i).then(()=>{(0,d.logProductMessageSent)(e,this.props.sessionId)})}),t.composeQuotedMsg=null,this.end()},this._shareCatalog=e=>{var{chat:t}=this.props,a=(0,h.createCatalogLink)(e.id.user),i="".concat(l.default.t(1102)," ").concat(a);r.default.pasteChatTextInput(t,i),(0,d.logSendCatalogClick)(this.props.sessionId),this.end()},this._pop=()=>{this.pop()},this._popNone=()=>{this.pop("none")}}componentDidMount(){this.push(n.createElement(c.default,{onCancel:this._pop,onConfirm:this._sendProducts,onShare:this._shareCatalog}))}}var f=u;t.default=f},bjjegffjad:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=s(a("ebcagbhefg")),d=s(a("daghjjjedc")),c=s(a("ccbgfecegc")),h=s(a("hgigjbgie")),u=s(a("dahagdijgh")),f=s(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),m=s(a("bdjjabfecc")),g=s(a("bfgbdiffgd")),b=s(a("dcdbbhicce")),v=a("dhhjhedjij"),E=s(a("dighddcfg")),j=i(a("bjhgigfbec")),C=a("deieafdcg"),S=s(a("chjifbjhjh"));class _ extends r.Component{constructor(...e){super(...e),this.state={hover:!1},this.onClick=()=>{var e=this.encodeColor(),t=l.default.get("defaultPreference");t&&e!==t.wallpaperColor&&(t.set("wallpaperColor",e),c.default.openToast(r.createElement(j.default,{msg:m.default.t(1473),id:(0,j.genId)()})))},this.onMouseOver=()=>{this.state.hover||(this.setState({hover:!0}),l.default.trigger("wallpaper_color_preview",this.encodeColor()))},this.onMouseEnter=()=>{this.state.hover||(this.setState({hover:!0}),l.default.trigger("wallpaper_color_preview",this.encodeColor()))},this.onMouseLeave=()=>{this.state.hover&&(this.setState({hover:!1}),l.default.trigger("wallpaper_color_preview"))},this.encodeColor=()=>{var{colorHex:e,isDefault:t}=this.props;return t?h.default.DEFAULT_CHAT_WALLPAPER:e}}render(){var e=this.props.isDefault?r.createElement("span",{className:S.default.wallpaperDefaultTitle,"data-a8n":o.default.key("wallpaper-default-title")},m.default.t(486)):null,t=(0,n.default)(S.default.wallpaperColorCanvas,{[S.default.canvasHover]:this.state.hover,[S.default.canvasActive]:this.props.isSelected,[S.default.canvasDefault]:this.props.isDefault});return r.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick,title:this.props.isDefault?m.default.t(486):null},e)}}class M extends r.Component{constructor(...e){super(...e),this.onWallpaperDoodleChange=()=>{var{chatPreference:e}=this.props;if(e){var t=!e.showDoodle;e.set("showDoodle",t),c.default.openToast(r.createElement(j.default,{msg:t?m.default.t(1474):m.default.t(1475),id:(0,j.genId)()}))}}}render(){var e,{chatPreference:t,colors:a}=this.props,i=t&&t.wallpaperColor,s=t&&t.showDoodle,n=a.map(e=>r.createElement(_,{colorHex:e,isSelected:i===e,isDefault:!1,key:e})),o=r.createElement(_,{isSelected:i===h.default.DEFAULT_CHAT_WALLPAPER,isDefault:!0,key:h.default.DEFAULT_CHAT_WALLPAPER});n.unshift(o);for(var l=0;l<2;l++)n.push(r.createElement("div",{key:"emptyEl"+l,className:S.default.wallpaperColorEmpty}));return g.default.wallpapersV2&&(e=r.createElement("div",{className:S.default.wallpaperApplyDoodle},r.createElement(d.default,{onChange:this.onWallpaperDoodleChange,checked:!!s}),r.createElement(v.TextSpan,{className:S.default.checkboxLabel,theme:"small"},m.default.t(1472)))),r.createElement(r.Fragment,null,e,r.createElement("div",{className:S.default.wallpaperColorGrid},n))}}M.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var I=(0,b.default)(M,M.CONCERNS);class y extends r.Component{componentWillUnmount(){l.default.trigger("wallpaper_color_preview"),g.default.wallpapersV2&&l.default.trigger("wallpaper_drawer_close")}componentDidMount(){g.default.wallpapersV2&&l.default.trigger("wallpaper_drawer_open")}render(){return r.createElement(u.default,null,r.createElement(p.default,{title:m.default.t(1476),onBack:this.props.onClose,type:p.DRAWER_HEADER_TYPE.LARGE}),r.createElement(f.default,null,r.createElement(I,{colors:(0,C.getWallpaperColors)(this.context.theme),chatPreference:l.default.get("defaultPreference")})))}}t.default=y,y.contextType=E.default},caaehhchbg:function(e,t){e.exports={screenshots:"_1U1da",action:"_3dYD3",disabled:"_2zGPe",screenshotPreview:"_2Wpwv",screenshotsImg:"_38cRR",btnDelete:"_1MbY5"}},cabjahgbgj:function(e,t){e.exports={photoPickerWrapper:"_2klo4",scale:"CJdKy",nameWrapper:"_3XiaR","well-animation":"_3zdIz",wellAnimation:"_3zdIz"}},cacbbhbige:function(e,t){e.exports={container:"_2yMyN",wrapper:"_3l06K",mask:"_2bIOD",bg:"_7l9wP",foreground:"_37vWo",filled:"_3Wbib",empty:"_3gMQc",active:"_3Jpas"}},cajcadafab:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("bjigbaghc")),l=i(a("hhcjfgifh")),d=a("ddbdgibbbi"),c=i(a("jheedhagg")),h=i(a("dcdbbhicce"));class u extends n.Component{constructor(e){super(e)}render(){var{status:e}=this.props;return n.createElement(r.default,{image:n.createElement(l.default,{id:(0,d.getMaybeMeUser)()}),primary:o.default.pushname,secondary:e.status,idle:!0})}}u.CONCERNS={status:["status"]};var f=(0,c.default)((0,h.default)(u,u.CONCERNS));t.default=f},cbbifbghag:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i){var n=new Map;if(!e.length)return n;for(var r=e.filter(e=>e!==a).sort((e,t)=>e.lat-t.lat),o=function(e){var a=r[e],o=void 0;if(n.forEach(e=>{!o&&e.fits(a,t,i)&&(o=e)}),o){var l=o.id;n.delete(l),o.add(a)}else o=new s.default(a);n.set(o.id,o)},l=0;l<r.length;l++)o(l);if(a&&e.length!==r.length){var d=new s.default(a);n.set(d.id,d)}return n},t.participantInCluster=function(e,t){return e.split(s.ID_SEPARATOR).includes(t.toString())},t.singleParticipantClusterId=function(e){return!e.includes(s.ID_SEPARATOR)},t.findClusterForParticipant=function(e,t){var a,i=e.values();for(;(a=i.next())&&!a.done;){var s=a.value;if(s.participants.get(t))return s}return null};var s=i(a("ddgehgjfdd"))},cbccffhcjb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("hgigjbgie")),o=i(a("cfhchagia")),l=i(a("iiiaeiedi")),d=i(a("dcdbbhicce"));class c extends n.Component{constructor(...e){super(...e),this._setRefContainer=e=>{this._refContainer=e}}getContainer(){return this._refContainer}render(){var{chatPreference:e}=this.props,{wallpaperColor:t,showDoodle:a}=e,i={};return t!==r.default.DEFAULT_CHAT_WALLPAPER&&(i={backgroundColor:t}),n.createElement("div",{className:l.default.container,ref:this._setRefContainer},n.createElement("div",{className:l.default.body,style:i},n.createElement(o.default,{wallpaperColor:t,showDoodle:a}),this.props.children))}}c.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var h=(0,d.default)(c,c.CONCERNS);t.default=class extends h{get container(){return this.getComponent().getContainer()}}},cbciefgfbb:function(e,t){e.exports={inputContainer:"_1hW3h",label:"_3E0wu",input:"_3UL3w"}},cbddigijbj:function(e,t){e.exports={addLabelBtContainer:"_2AHmk"}},cbdjcijgja:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dbafiicfja")),r=i(a("ddhijeejag")),o=i(a("ieeidjijb")),l=s(a("dhfbfehaef")),d=s(a("bdjjabfecc")),c=s(a("dcaibchbg"));class h extends r.PureComponent{constructor(e){super(e),this.focusLast=()=>{this.props.contacts&&this.props.contacts.length&&this.selection.setLast(!0)},this.focusPrev=e=>{e.preventDefault(),e.stopPropagation(),this.selection.prev()>-1&&this.selection.setPrev(!0)},this.focusNext=e=>{e.preventDefault(),e.stopPropagation();var{onFocusSearch:t}=this.props,a=this.selection.next();this.selection.index===a?(this.selection.unset(),t&&t(e)):this.selection.setNext(!0)},this.deleteContact=e=>{e.preventDefault(),e.stopPropagation();var{onDelete:t}=this.props,a=this.selection.getVal();if(a){var i=this.props.contacts.find(a);i&&t&&t(e,i)}},this.onParticipantClick=(e,t)=>{this.selection.setVal(t)},this.selection=new c.default(e.contacts,e=>e.id)}componentDidUpdate(){this.selection.init(this.props.contacts,!0)}render(){var e=this.props.contacts;if(!e)return null;var t=e.length?(0,n.default)(e,e=>r.createElement(o.default,{contact:e,active:this.selection,onDelete:this.props.onDelete,onClick:this.onParticipantClick,type:o.Type.SMALL,key:e.id.toString(),theme:this.props.theme,waitIdle:!0})):null,a={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(a[d.default.LR("left","right")]=this.focusPrev,a[d.default.LR("right","left")]=this.focusNext,a.backspace=this.deleteContact);var i=r.createElement("ul",null,t);return r.createElement(l.default,{handlers:a},i)}}t.default=h},cbggbjhahe:function(e,t){e.exports={playerWrapper:"_2y0w5",mediaViewer:"wIUe-",mediaStateControls:"_1tMyo",playerBackground:"_2J1xB",media:"_3sLep",captionBackdrop:"_2I5UV",mediaCaption:"W2nge",progressBackdrop:"_1uUmf",progressBarBackdropNarrow:"_2Rbd7",profile:"yVj1I",nonClickProfile:"bHgbD",profileNarrow:"_3nH7S",playerAvatar:"_1hBSW",measuringProfile:"_3YZQ_",profileMac:"_1cIxr",msgInfo:"_3i6Ha",msgInfoName:"guNwK",timestamp:"_11K1G",playerContent:"_1JVHr",statusPanelPlayerContent:"_19nMI",statusThumbnailPlayerContent:"_2c_MC",loading:"_2umMm",v3Image:"_3DJSu",v3Video:"_8HRq7",text:"_1p4sD",textLarge:"_1n6h2",textMedium:"_3Hd3H",textSmall:"_18Y6i",font_1:"XFtt0",font1:"XFtt0",font_2:"_1o6A6",font2:"_1o6A6",font_3:"_2d2SH",font3:"_2d2SH",font_5:"_32cbO",font5:"_32cbO",unknown:"_5Axzp",textThumbnailPlayerContent:"ZLuXL"}},cbhfeifejj:function(e,t){e.exports={scaler:"_3Ycud",scalerButton:"_16NXb"}},ccdcfhihac:function(e,t){e.exports={container:"_339Q_",preview:"KFmOE",img:"_2I8Qu"}},ccebihbide:function(e,t){e.exports={ring:"_2QDB8",read:"_2dkls",unread:"_34Zo9"}},ccgeibdhai:function(e,t){e.exports={wrapper:"_317sh",inactive:"_2X6EY",offline:"_29-T_",circle:"_1kfac",text:"_326QI",backToCenter:"_2xfLJ",visible:"_2xX6F"}},ccjdjhjhij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{ids:t,size:a,onClick:i,showCount:s,square:d,border:c}=e,h=t.length;if(0===h)return null;if(1===h)return r.createElement(l.default,{id:t[0],size:40,onClick:i,border:c});var u=t.slice(0,4).map((e,t)=>r.createElement("div",{key:"avatar-combo-image-".concat(t),className:(0,n.default)(o.default.avatar,{[o.default.first]:0===t,[o.default.second]:1===t,[o.default.third]:2===t,[o.default.fourth]:3===t})},r.createElement(l.default,{id:e,size:a,square:!0}))),f=(0,n.default)(o.default.container,{[o.default.square]:d,[o.default.border]:c},{[o.default.two]:2===h,[o.default.three]:3===h,[o.default.four]:h>=4}),p=(0,l.getSize)(a),m={height:p,width:p,cursor:i?"pointer":void 0},g=s?r.createElement("div",{className:o.default.count,style:m},t.length):null;return r.createElement("div",{className:f,style:m,onClick:i},u,g)};var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("dcebgggdhi")),l=i(a("hhcjfgifh"))},cdaddhbbj:function(e,t){e.exports={dimmed:"_2WuxO"}},cdbfcccegj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({mimeType:e,url:t}){return n.createElement("div",{className:r.default.container,"data-animate-attach-media":!0},n.createElement("div",{className:r.default.media},n.createElement("audio",{controls:!0,type:e,src:t})))};var n=s(a("ddhijeejag")),r=i(a("eibcjagbe"))},cddjjebiij:function(e,t){e.exports={list:"KVR0F",hint:"_1c8y3",button:"_3KqnB"}},cdechhdjeg:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditProductDrawer=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("cagaiadjai")),l=s(a("ccbgfecegc")),d=s(a("bbfjdcedab")),c=a("ebddbjbgeb"),h=i(a("bjgiedaj")),u=s(a("chjgbgddjh")),f=s(a("dahagdijgh")),p=s(a("bjheffjbgd")),m=i(a("bjjhgjdbhd")),g=s(a("gceccdhhh")),b=a("bgihjbde"),v=a("ddbdgibbbi"),E=s(a("jheedhagg")),j=s(a("bdjjabfecc")),C=a("ecceajhjba"),S=s(a("idbcfjbae")),_=a("eaibdijehg"),M=s(a("diafggiefe")),I=s(a("eadddjbjhg")),y=s(a("dhccahhefj")),T=s(a("ecdebjcgfa")),P=s(a("dcdbbhicce")),L=s(a("dbihaeaggd")),w=i(a("bjhgigfbec")),k=s(a("edbaidcaf"));class N extends r.Component{constructor(e){var t;super(e),this.imagePanelRef=r.createRef(),this.onNameChange=e=>{this.setState({name:e,nameError:""===e?j.default.t(601):""})},this.getServerPrice=e=>parseInt(parseFloat(e).toFixed(2).toString().replace(/\.|,/g,""),10),this.onPriceChange=e=>{var t=h.valueFromString(this.state.currency,e),a="";""!==e&&!1===h.validatePrice(this.state.currency,e)&&(a=j.default.t(602)),this.setState({priceAmount1000:t,priceStr:"".concat(e),priceError:a})},this.onDescriptionChange=e=>{this.setState({description:e})},this.onUrlChange=e=>{var t="";""===e||k.default.isValid(e)||(t=j.default.t(607)),this.setState({url:e,urlError:t})},this.onUrlBlur=()=>{var{url:e}=this.state;""===e||k.default.isHttps(e)||k.default.isHttp(e)||this.setState({url:"https://".concat(e)})},this.onRetailerIdChange=e=>{this.setState({retailerId:e,retailerIdError:""})},this.getProductChanges=()=>{var{product:e}=this.props,{name:t,priceAmount1000:a,currency:i,description:s,url:n,retailerId:r}=this.state;return new S.default({id:e.id,priceAmount1000:a,currency:i,description:s||"",imageCdnUrl:e.imageCdnUrl,additionalImageCdnUrl:e.additionalImageCdnUrl,name:t,retailerId:r,url:n})},this.onSaveItem=()=>{var e,{catalog:t,product:a,newProduct:i,sessionId:s}=this.props,n=this.getProductChanges();i?(0,C.logAddProductClick)(s):(0,C.logEditProductClick)(a,s),this.setState({isUpdating:!0}),null===(e=this.imagePanelRef.current)||void 0===e||e.component.uploadImages().then(e=>{n.imageCdnUrl||(n.imageCdnUrl={rawUrl:"",full:"",requested:"",productImageModel:new M.default}),n.imageCdnUrl.rawUrl=e[0],n.additionalImageCdnUrl=e.slice(1).map(e=>({full:"",rawUrl:e,productImageModel:new M.default,requested:"null"})),(i?t.addProduct:t.editProduct).call(t,n).then(this.handleEditSuccess).catchType(b.CatalogEditServerError,this.handleEditError).finally(()=>{this.setState({isUpdating:!1})})}).catch(e=>{throw this.setState({isUpdating:!1}),e})},this.handleEditError=e=>{var t,a;this.props.newProduct?(0,C.logAddProductFailed)(this.props.sessionId):(0,C.logEditProductFailed)(this.props.product,this.props.sessionId,e.statusCode),"duplicate"===(null===(t=e.reason)||void 0===t?void 0:t.media)&&this.setState({imageError:j.default.t(598)}),"duplicate"===(null===(a=e.reason)||void 0===a?void 0:a.retailer_id)&&this.setState({retailerIdError:j.default.t(599)}),l.default.openToast(r.createElement(w.default,{msg:j.default.t(386),id:(0,w.genId)("catalog_save_item_failed")}))},this.handleEditSuccess=e=>{var{catalog:t,onEditSuccess:a,newProduct:i,onCreate:s}=this.props;t.productCollection.add(e,{merge:!0}),this.props.newProduct?(0,C.logAddProductSuccess)(this.props.sessionId):(0,C.logEditProductSuccess)(this.props.product,this.props.sessionId),l.default.openToast(r.createElement(w.default,{msg:j.default.t(382),id:(0,w.genId)("catalog_item_saved")})),a(e),null!=i&&s&&s()},this.onDeleteItem=()=>{(0,C.logDeleteProductClick)(this.props.product,1,this.props.sessionId),l.default.openModal(r.createElement(d.default,{title:j.default.t(377),okText:j.default.t(1649),cancelText:j.default.t(1497),onOK:this.onConfirmItemDelete,onCancel:()=>{l.default.closeModal()}},r.createElement("div",null,j.default.t(376))))},this.onConfirmItemDelete=()=>{var{catalog:e,product:t,sessionId:a,onDelete:i}=this.props;(0,_.deleteProducts)([t.id.toString()]).then(()=>{(0,C.logDeleteProductSuccess)(t,1,a),e.productCollection.remove(t.id.toString()),i&&i(),l.default.closeDrawerMid()}).catchType(b.ServerStatusCodeError,e=>{(0,C.logDeleteProductFailed)(t,1,a,e.statusCode),l.default.openToast(r.createElement(w.default,{msg:j.default.t(378),id:(0,w.genId)("catalog_delete_product_failed")}))}),l.default.closeModal()},this.onImageChange=e=>{var t="";0===e.length&&(t=j.default.t(600)),this.setState({imageError:t,hasImages:e.length>0})},this.onDrop=e=>{var t;null===(t=this.imagePanelRef.current)||void 0===t||t.component.onFilePick(e)},this.onDragChange=e=>{this.setState({isDragging:e})};var{product:a}=this.props,i=null==a.priceAmount1000?null:a.priceAmount1000,s="";if(null!=i&&null!=a.currency){var n=h.formatToParts(a.currency,i);s="".concat(n.integer).concat(n.decimal)}this.state={name:a.name||"",priceAmount1000:i,description:a.description||"",url:a.url||"",retailerId:a.retailerId||"",priceStr:s,currency:a.currency||h.currencyForCountryShortcode((0,c.getCountryShortcodeByPhone)(null===(t=(0,v.getMaybeMeUser)())||void 0===t?void 0:t.user)),isUpdating:!1,nameError:"",priceError:"",urlError:"",retailerIdError:"",imageError:"",hasImages:!!a.imageCdnUrl,isDragging:!1}}isValid(){var{name:e,nameError:t,priceError:a,urlError:i,retailerIdError:s,imageError:n,hasImages:r}=this.state;return""!==e&&!1!==r&&t+a+i+s+n===""}render(){var{product:e,onBack:t,onCancel:a,newProduct:i}=this.props,{isUpdating:s,isDragging:l,currency:d,nameError:c,priceError:b,urlError:v,retailerIdError:E,imageError:C}=this.state,S=r.createElement(o.default,{type:"primary",onClick:this.onSaveItem,disabled:!this.isValid()},i?j.default.t(195):j.default.t(1192)),_=r.createElement("div",{className:g.default.drawerHeader},r.createElement("div",null,i?j.default.t(388):j.default.t(389)),r.createElement("div",{className:g.default.drawerHeaderButtonContainer},S)),M=i?null:r.createElement("div",{className:g.default.deleteButtonContainer},r.createElement(o.default,{type:"warning",onClick:this.onDeleteItem},j.default.t(491))),y=(0,n.default)(g.default.productWrapper,{[g.default.isSending]:s}),P=l?r.createElement(u.default,null):null,w=s?r.createElement("div",{className:g.default.spinner},r.createElement(T.default,{size:50,stroke:3})):null;return r.createElement(f.default,{key:"catalog-link-drawer",theme:"catalog",onDrop:this.onDrop,onDragChange:this.onDragChange},P,r.createElement(m.default,{a8n:"catalog-link-title",title:_,type:m.DRAWER_HEADER_TYPE.SMALL,onBack:t,onCancel:a}),r.createElement(p.default,null,r.createElement("div",{className:y},w,r.createElement(I.default,{product:e,maxImageCount:10,onChange:this.onImageChange,ref:this.imagePanelRef,error:C}),r.createElement(L.default,{a8n:"product-edit-drawer-name-input",value:this.state.name,placeholder:j.default.t(789),onChange:this.onNameChange,theme:"small",customStyleThemes:["desaturated"],maxLength:150,error:c}),r.createElement(L.default,{a8n:"product-edit-drawer-price-input",value:this.state.priceStr,placeholder:j.default.t(790,{currencySymbol:h.formatToParts(d,0).symbol}),onChange:this.onPriceChange,theme:"small",maxLength:30,customStyleThemes:["desaturated"],error:b}),r.createElement(L.default,{a8n:"product-edit-drawer-description-input",value:this.state.description,placeholder:j.default.t(787),onChange:this.onDescriptionChange,theme:"small",maxLength:5e3,customStyleThemes:["desaturated"],multiline:!0}),r.createElement(L.default,{a8n:"product-edit-drawer-link-input",value:this.state.url,placeholder:j.default.t(788),onChange:this.onUrlChange,onBlur:this.onUrlBlur,theme:"small",customStyleThemes:["desaturated"],maxLength:75,error:v,managed:!0}),r.createElement(L.default,{a8n:"product-edit-drawer-retailer-id-input",value:this.state.retailerId,placeholder:j.default.t(786),onChange:this.onRetailerIdChange,theme:"small",customStyleThemes:["desaturated"],maxLength:100,error:E}),M)))}}t.EditProductDrawer=N,N.CONCERNS={product:["id","additionalImageCdnUrl","name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl","retailerId","currency"]};var R=(0,E.default)((0,y.default)((0,P.default)(N,N.CONCERNS)));t.default=R},cdgaidjejh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),l=i(a("hgigjbgie")),d=i(a("bhbdiadfhj")),c=i(a("bdjjabfecc")),h=a("dhhjhedjij");class u extends n.Component{constructor(...e){super(...e),this.state={description:"",includeDeviceInfo:!0,isSending:!1},this.onCancel=()=>{this.props.onCancel&&this.props.onCancel(),r.default.closeModal()},this.onDescriptionChange=e=>{this.setState({description:e,descriptionError:this.validateDescription(e)?void 0:this.state.descriptionError})},this.onIncludeDeviceInfoChange=()=>{this.setState({includeDeviceInfo:!this.state.includeDeviceInfo})},this.validateDescription=e=>e.length>=l.default.CONTACT_US_MIN_DESC_LENGTH,this.stopPropagation=e=>{e.stopPropagation()}}componentWillUnmount(){var e,t;!0===(null===(e=this.sendRequest)||void 0===e?void 0:e.isPending())&&(null===(t=this.sendRequest)||void 0===t||t.cancel())}render(){var{isSending:e}=this.state,t={enter:this.stopPropagation};return e&&(t.esc=this.stopPropagation),d.default.supportsFeature(d.default.F.MD_BACKEND),n.createElement(o.default,{okText:c.default.t(1649),onOK:()=>r.default.closeModal(),title:c.default.t(1292)},n.createElement(h.TextParagraph,{theme:"plain"},c.default.t(1293)))}}t.default=u},cdhbehgbej:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("eaaagccfda")),r=i(a("ddhijeejag")),o=s(a("ccbgfecegc")),l=s(a("hgigjbgie")),d=a("ddbdgibbbi"),c=s(a("ebddggeaib")),h=a("cgbdcdhgig"),u=s(a("dcdbbhicce")),f=s(a("bcjcbbafcj")),p=i(a("bgeajihhc")),m=(0,n.default)((e,t)=>{(0,d.setVideoVolumeSettings)(e,t)},500);class g extends r.PureComponent{constructor(...e){super(...e),this.state={hasSentPlayed:!1},this.checkIteration=0,this.checkForSuccessInterval=0,this.hasCalledPlaying=!1,this.mediaBlobWasDownloadedBeforeMount=Boolean(this.props.mediaData.mediaBlob),this.refVideo=r.createRef(),this.onVolumeChange=()=>{var e=this.refVideo&&this.refVideo.current;e&&m(e.volume,e.muted)},this.onTimeUpdate=()=>{var e=this.refVideo&&this.refVideo.current;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,h.markPlayed)(this.props.msg),this.setState({hasSentPlayed:!0}))},this.startCheckForSuccess=()=>{this.checkIteration=0,this.checkForSuccessInterval||(this.checkForSuccessInterval=setInterval(this.checkForSuccess,250))},this.clearCheckForSuccess=()=>{this.checkForSuccessInterval&&(clearInterval(this.checkForSuccessInterval),this.checkIteration=0,this.checkForSuccessInterval=0)},this.checkForSuccess=()=>{if(p.default.state===p.STATE.CONNECTED){this.checkIteration++;var e=this.refVideo&&this.refVideo.current,t=e&&e.buffered;t&&t.length&&t.end(0)>0?this.onPlaying():this.checkIteration>240&&this.clearCheckForSuccess()}},this.onPlayerError=()=>{this.clearCheckForSuccess()},this.onOtherPlaying=e=>{e!==this&&this.pause()},this.pause=()=>{var e=this.refVideo&&this.refVideo.current;e&&(e.paused||e.pause())},this.onPlaying=()=>{this.clearCheckForSuccess(),o.default.mediaPlaying(this)},this.onLoadedMetadata=e=>{this.setStartTime();var{onLoadedMetadata:t}=this.props;t&&t(e)},this.setStartTime=()=>{var e=this.refVideo&&this.refVideo.current;null!=this.props.startTime&&0!==this.props.startTime&&e&&(e.currentTime=this.props.startTime)},this.onContextMenu=e=>{this.props.disableContextMenu&&e.preventDefault()}}componentDidMount(){this.props.listeners.add(o.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(o.default,"pttRecording",this.pause),this.updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}componentWillUnmount(){m.flush(),this.clearCheckForSuccess(),this.pause()}componentDidUpdate(e){this.updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}updateVideoUserPrefs(){var e=this.refVideo&&this.refVideo.current;if(e){var t=(0,d.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),v()&&this.props.autoPlay&&this.startCheckForSuccess()}}render(){var e,t=this.props,{msg:a,mediaData:i}=t,s=i.mediaBlob,n=i.streamable&&i.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&n||!s){if(!i.streamable||!i.isStreamable())return null;e="".concat(l.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString())}else e=s.url();var o=!this.state.hasSentPlayed&&(0,h.canMarkPlayed)(a)?this.onTimeUpdate:void 0,d=v()&&!t.autoPlay?this.startCheckForSuccess:void 0;return r.createElement("video",{ref:this.refVideo,src:e,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:d,onPlaying:this.onPlaying,onTimeUpdate:o,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu},t.children)}}g.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]};var b=(0,c.default)((0,u.default)(g,g.CONCERNS));function v(){return f.default.isGecko||f.default.isSafari}t.default=b},cdhhgdibbf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cfadcbbiie")),o=i(a("dahagdijgh")),l=i(a("bjheffjbgd")),d=s(a("bjjhgjdbhd")),c=i(a("jheedhagg")),h=i(a("cjdjhiiai")),u=i(a("bdjjabfecc")),f=i(a("ebddggeaib")),p=i(a("bhbeigbaec")),m=a("chcfhehffe"),g=i(a("bgiafagffb")),b=i(a("bbgcdfeifh")),v=i(a("dcdbbhicce")),E=i(a("dgdcjccfdi"));class j extends n.PureComponent{constructor(e){super(e),this.onClose=()=>{this.props.onClose?this.props.onClose():this.props.uim.uie.requestDismiss()},this.onRoadmapSelected=()=>{this.setState({mapType:m.MapType.ROADMAP})},this.onSatelliteSelected=()=>{this.setState({mapType:m.MapType.SATELLITE})},this.onTerrainSelected=()=>{this.setState({mapType:m.MapType.TERRAIN})},this.onTrafficToggled=()=>{this.setState(e=>({showTraffic:!e.showTraffic}))},this.onMarkerSelected=e=>{this.setState({markerSelected:e})},this.state={mapType:m.MapType.ROADMAP,showTraffic:!1,markerSelected:!1,online:b.default.online}}componentDidMount(){this.props.listeners.add(b.default,"change:online",()=>{this.setState({online:b.default.online})})}render(){var e,t,a,i,s=n.createElement(g.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:this.state.showTraffic}),{finalLat:c,finalLng:f,finalTimeOffset:m,lat:b,lng:v,senderObj:j,t:C}=this.props.msg,{mapType:S,showTraffic:_,markerSelected:M,online:I}=this.state;return void 0===c||void 0===f||void 0===m?(e=b,t=v,a=C):(e=c,t=f,a=C+m),i=I?n.createElement("div",{className:h.default.wrapper},n.createElement(p.default,{contact:j,lat:e,lng:t,mapType:S,showTraffic:_,markerSelected:M,onMarkerSelected:this.onMarkerSelected}),n.createElement("div",{className:h.default.notification},n.createElement("div",{className:h.default.ended},u.default.t(803)),n.createElement("div",{className:h.default.lastUpdated},r.default.liveLocationLastUpdatedStr(a)))):n.createElement("div",{className:h.default.offline},n.createElement("div",null,n.createElement("div",{className:h.default.circle},n.createElement(E.default,{name:"live-location-disconnected"})),n.createElement("div",{className:h.default.text},u.default.t(850)))),n.createElement(o.default,null,n.createElement(d.default,{title:u.default.t(804),type:d.DRAWER_HEADER_TYPE.SMALL,menu:s,onCancel:this.onClose}),n.createElement(l.default,null,i))}}j.CONCERNS={msg:["finalLat","finalLng","finalTimeOffset","lat","lng","senderObj","t"]};var C=(0,c.default)((0,f.default)((0,v.default)(j,j.CONCERNS)));t.default=C},cdhjbegegf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("ceffhbhahb")),o=i(a("ddhijeejag")),l=s(a("bfgbdiffgd")),d=s(a("cacbbhbige")),c=s(a("bcifhbgija"));function h(){var e=(0,n.default)(["Assertion failed!"]);return h=function(){return e},e}function u(){var e=(0,n.default)(["Current index: ",", total count: ",""]);return u=function(){return e},e}class f extends o.Component{constructor(){super(...arguments),this.setRefBar=e=>{this.refBar=e},this.onClick=e=>{this.props.onClick&&this.props.onClick(e)},this.onStart=(e,t)=>{if(this.refBar){var a=1e3*l.default.statusVideoMaxDuration,i=Math.min(e,a),s=Math.min(t,a),n="-".concat(i/s*100,"%");(0,c.default)(this.refBar,"stop"),this.barAnimation=(0,c.default)(this.refBar,{translateX:["0%",n]},{duration:i,easing:"linear"})}},this.onPause=()=>{this.refBar&&(0,c.default)(this.refBar,"stop")},this.onEnded=()=>this.barAnimation?this.barAnimation:Promise.resolve(),__LOG__(1)(u(),this.props.current,this.props.total),this.props.current>=0&&this.props.current<this.props.total||(__LOG__(4,!1,new Error)(h()),SEND_LOGS("bad current status v3 index"))}render(){for(var e=this,t=[],a="".concat(100/this.props.total,"%"),i=function(i){var s=(0,r.default)(d.default.foreground,{[d.default.filled]:i<e.props.current,[d.default.empty]:i>e.props.current,[d.default.active]:i===e.props.current}),n=o.createElement("div",{className:d.default.wrapper,style:{width:a},key:i,onClick:()=>e.onClick(i)},o.createElement("div",{className:d.default.bg}),o.createElement("div",{className:d.default.mask},o.createElement("div",{className:s,ref:i===e.props.current?e.setRefBar:()=>{}})));t.push(n)},s=0;s<this.props.total;++s)i(s);return o.createElement("div",{className:d.default.container},t)}}t.default=f},cdjefgbie:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LiveLocationDrawer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ExpiredLocationDrawer",{enumerable:!0,get:function(){return n.default}});var s=i(a("bjiecabhbh")),n=i(a("cdhhgdibbf"))},cebbffhbdf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=s(a("daghjjjedc")),d=s(a("cfadcbbiie")),c=s(a("ccbgfecegc")),h=s(a("fjdjhajce")),u=s(a("bdjjabfecc")),f=s(a("dagdiahdfi")),p=s(a("dcdbbhicce")),m=a("cjfegjecaj"),g=a("dhhjhedjij");function b(e){return r.createElement("div",{className:(0,n.default)(h.default.section,{[h.default.disabled]:e.disabled})},r.createElement("div",{"data-a8n":o.default.key(e.a8nText),className:h.default.control},r.createElement(l.default,{id:e.id,onChange:e.onChange,checked:e.checked,disabled:e.disabled})),r.createElement("label",{className:h.default.label,htmlFor:e.id},e.children))}class v extends r.Component{constructor(...e){super(...e),this.state={notifications:f.default.getGlobalNotifications(),sounds:f.default.getGlobalSounds(),previews:f.default.getGlobalPreviews(),collapseMuted:f.default.getCollapseMuted()},this.onSounds=()=>{var e=!this.state.sounds;this.setState({sounds:e}),f.default.setGlobalSounds(e)},this.onNotifications=()=>{var e=!this.state.notifications;this.setState({notifications:e}),f.default.setGlobalNotifications(e)},this.onPreviews=()=>{var e=!this.state.previews;this.setState({previews:e}),f.default.setGlobalPreviews(e)},this.onCollapseMuted=()=>{var e=!this.state.collapseMuted;this.setState({collapseMuted:e}),f.default.setCollapseMuted(e)},this.onClose=()=>{c.default.closeModal()},this.onMuteDesktopNotifications=()=>{c.default.muteAll((0,m.unproxy)(this.props.mute),!this.props.mute.isMuted)}}render(){var e=[];window.Notification&&(e.push(r.createElement(b,{key:0,a8nText:"option-desktop-notifications",id:"desktop-notifications",checked:this.state.notifications,onChange:this.onNotifications},u.default.t(1066))),e.push(r.createElement(b,{key:1,a8nText:"options-msg-previews",disabled:!this.state.notifications,id:"msg-previews",checked:this.state.previews,onChange:this.onPreviews},u.default.t(1067),r.createElement(g.TextDiv,{theme:"muted"},u.default.t(1068)))));var t,a=this.props.mute.expiration,i=this.props.mute.isMuted,s=u.default.t(1320);if(i&&null!=a){var n=d.default.untilStr(a);t=r.createElement(g.TextDiv,{theme:"muted"},n)}return r.createElement("div",{className:h.default.container},r.createElement(b,{a8nText:"option-sounds",id:"sounds",checked:this.state.sounds,onChange:this.onSounds},u.default.t(1070)),e,void 0,r.createElement(b,{a8nText:"option-mute-desktop-notifications",id:"mute-desktop-notifications",checked:i,onChange:this.onMuteDesktopNotifications},s,t))}}v.CONCERNS={mute:["isMuted","expiration"]};var E=(0,p.default)(v,v.CONCERNS);t.default=E},cebgbdgebc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cfadcbbiie")),o=i(a("ccbgfecegc")),l=s(a("bjgiedaj")),d=i(a("dahagdijgh")),c=i(a("bjheffjbgd")),h=s(a("bjjhgjdbhd")),u=a("bgihjbde"),f=i(a("hhibigida")),p=i(a("dbfjeecgih")),m=i(a("bdjjabfecc")),g=i(a("cjfjiidcae")),b=i(a("dadhdecijh")),v=i(a("debgiacjfi")),E=a("dhhjhedjij");class j extends n.Component{constructor(e){super(e),this.orderFlatListController=new p.default,this.state={isLoading:!0,fetchState:"PENDING",order:null}}componentDidMount(){var{orderId:e,token:t,sellerJid:a}=this.props;g.default.findOrder(e,a,t).then(e=>{this.setState({fetchState:"SUCCESS",isLoading:!1,order:e})}).catchType(u.ServerStatusCodeError,()=>{this.setState({fetchState:"ERROR",isLoading:!1})})}_getDrawerContent(){var{sellerJid:e,sessionId:t}=this.props,{fetchState:a,order:i}=this.state;if(this.state.isLoading||null==i)return n.createElement(f.default,{fetchState:a});var s="";s=i.products.length>0?m.default.t(784,{count:i.totalItemCount||0,_plural:i.totalItemCount||0}):m.default.t(1076);var o=n.createElement(E.TextDiv,{theme:"title"},s),d=null;d=null!=i.total?n.createElement(E.TextDiv,{theme:"muted-small"},m.default.t(1074,{subtotal:l.format(i.currency,i.total)})):n.createElement(E.TextDiv,{theme:"muted-small"},m.default.t(1071));var c=null;if(null!=i.createdAt){var h=r.default.timeStr(i.createdAt);c=n.createElement(E.TextSpan,{theme:"muted-small"},"".concat(h))}return n.createElement(n.Fragment,null,n.createElement(f.default,{fetchState:a}),n.createElement("div",{className:b.default.info},o,d),n.createElement(v.default,{flatListController:this.orderFlatListController,onProductDetail:this.props.onProductDetail,order:i,sellerJid:e,sessionId:t}),n.createElement("div",{className:b.default.date},c))}onClose(){o.default.closeDrawerRight()}render(){var{userIsCartOwner:e}=this.props;return n.createElement(d.default,{theme:"striped",onDrop:this.onClose},n.createElement(h.default,{title:e?m.default.t(1073):m.default.t(1072),type:h.DRAWER_HEADER_TYPE.SMALL,onBack:this.onClose}),n.createElement(c.default,{flatListControllers:[this.orderFlatListController]},this._getDrawerContent()))}}t.default=j},ceffhjgfce:function(e,t){e.exports={container:"_2l7qQ",wallpaperColorCanvas:"_1y7HY",wallpaperColorEmpty:"Tzs6M",canvasActive:"_3ZPoh",canvasHover:"irEVH"}},ceggieaiij:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("eabehhacha")),l=s(a("cfadcbbiie")),d=s(a("bhbdiadfhj")),c=s(a("bdjjabfecc")),h=s(a("bfgbdiffgd")),u=s(a("dcdbbhicce")),f=s(a("cdaddhbbj")),p=s(a("bahcdceje"));class m extends r.PureComponent{render(){var e,{statusV3:t,contact:a}=this.props,i=(0,n.default)({[f.default.dimmed]:a.statusMute});return e=h.default.statusRanking&&d.default.supportsFeature(d.default.F.STATUS_RANKING)?t.hasUnread?c.default.t(1273,{count:t.unreadCount,_plural:t.unreadCount}):c.default.t(1272,{count:t.totalCount,_plural:t.totalCount}):l.default.relativeDateAndTimeStr(t.t),r.createElement(o.default,{className:i,key:t.id.toString(),customImage:!0,theme:"status-list",image:r.createElement(p.default,{statusV3:t,contact:a,onClick:this.props.onClick}),primary:a.formattedName,secondary:e,onClick:this.props.onClick,contextEnabled:()=>!1})}}m.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]};var g=(0,u.default)(m,m.CONCERNS);t.default=g},cehjgabfic:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=a("cfabbaghh"),r=s(a("ddhijeejag")),o=i(a("hgigjbgie")),l=s(a("dgjacfgggf")),d=i(a("ebddggeaib")),c=i(a("cbhfeifejj")),h=i(a("dgdcjccfdi"));class u extends r.Component{constructor(...e){super(...e),this.validateTranslate=(e,t)=>{var a=this.props.editedMedia.editData,i=(e-a.width/2)*a.scale,s=(e+a.width/2)*a.scale,n=(t+a.height/2)*a.scale,r=(t-a.height/2)*a.scale;return{x:i<-this.cropRadius&&s>this.cropRadius,y:r<-this.cropRadius&&n>this.cropRadius}},this.validateScale=e=>{var t=this.props.editedMedia.editData,a=Math.max(2*this.cropRadius/t.width,2*this.cropRadius/t.height),i=Math.max(e,a);if(t.width*e<this.cropRadius||t.height*e<this.cropRadius)return!1;var s=-this.cropRadius/i+t.width/2,n=this.cropRadius/i-t.width/2,r=-this.cropRadius/i+t.height/2,o=this.cropRadius/i-t.height/2;return{scale:i,offsetX:Math.min(Math.max(t.offsetX,n),s),offsetY:Math.min(Math.max(t.offsetY,o),r)}},this.onPressMove=(e,t)=>{var a=this.props.editedMedia.editData,i=e.stageX-t.x,s=e.stageY-t.y,n=a.offsetX+i/a.scale,r=a.offsetY+s/a.scale,o=this.validateTranslate(n,r);o.x&&(a.offsetX=n),o.y&&(a.offsetY=r),t.x=e.stageX,t.y=e.stageY,this.props.drawCanvas()},this.onEnlarge=(e=1.1)=>{var t=this.props.editedMedia.editData,a=0!==e?e:1.1,i=this.validateScale(t.scale*a);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,this.props.drawCanvas())},this.onReduce=(e=1.1)=>{var t=this.props.editedMedia.editData,a=0!==e?e:1.1,i=this.validateScale(t.scale/a);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,this.props.drawCanvas())},this.crop=()=>{var e,t=this.props.editedMedia,a=t.editData,i=t.editedImage&&t.editedImage.src;if(!i)return Promise.reject("empty image");var s=2*this.cropRadius,n=s;return s>o.default.MAX_PIC_SIDE?n=o.default.MAX_PIC_SIDE:s<o.default.MIN_PIC_SIDE&&(n=o.default.MIN_PIC_SIDE),l.crop(i,(a.width-2*this.cropRadius)/2,(a.height-2*this.cropRadius)/2,2*this.cropRadius,2*this.cropRadius,n,n,l.DATA_URL|l.CANVAS).then(({images:t})=>(e=t.dataUrl,l.crop(t.canvas,0,0,o.default.PROF_PIC_THUMB_SIDE,o.default.PROF_PIC_THUMB_SIDE))).then(({images:t})=>({thumb:t.dataUrl,full:e}))}}render(){return r.createElement("div",{className:c.default.scaler},r.createElement("div",{className:c.default.scalerButton,onClick:()=>{this.onEnlarge()}},r.createElement(h.default,{name:"plus"})),r.createElement("div",{className:c.default.scalerButton,onClick:()=>{this.onReduce()}},r.createElement(h.default,{name:"minus"})))}componentDidMount(){this.props.editedMedia.saveEdits();var e,t=this.props.editedMedia.editData,a=this.props.cropOverlay,i=a.canvas;e=t.baseItem?t.baseItem.getBounds():{width:0,height:0},i.style.display="block",i.width=e.width,i.height=e.height;var s=new n.Easel.Shape;s.graphics.beginFill("rgba(0, 0, 0, 0.1)"),s.graphics.drawRect(0,0,e.width,e.height),s.regX=e.width/2,s.regY=e.height/2,s.x=e.width/2,s.y=e.height/2,s.on("mousedown",e=>{var t={x:e.stageX,y:e.stageY},a=s.on("pressmove",this.onPressMove,null,!1,t);s.on("pressup",()=>{s.off("pressmove",a)},null,!0)}),s.cursor="move",this.props.listeners.add(i,"mousewheel",e=>{e.deltaY>0?this.onEnlarge(1.02):this.onReduce(1.02)});var r=i.getContext("2d"),o=i.width,l=i.height,d=o/l>500/361?l/361:o/500;this.cropRadius=Math.min(361,500)/2*.9*d,r.fillStyle="rgba(0, 0, 0, 0.5)",r.fillRect(0,0,o,l),r.globalCompositeOperation="destination-out",r.beginPath(),r.arc(o/2,l/2,this.cropRadius,0,2*Math.PI,!0),r.fillStyle="#ffffff",r.fill(),a.addChild(s),a.update()}}var f=u;t.Component=f;var p=(0,d.default)(u);t.default=p},ceibaheeb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("eaaagccfda")),r=a("djfeeacgad"),o=i(a("ddhijeejag")),l=a("ceagbbhcha"),d=a("chcfhehffe"),c=s(a("ciehddchae")),h=a("heaagdjji");class u extends o.Component{constructor(e){super(e),this.setMap=e=>this.map=e,this.onLocationChanged=e=>{var{clusters:t,atCenter:a,selectedMarkerId:i}=this.props;if(this.props.onLocationChanged(),!i&&a)this.viewAllClusters();else if(i&&i===e){var s=t.get(i);s&&this.viewSingleCluster(s)}},this.onIdle=(0,n.default)(()=>{var e=this.map;if(e){var t=e.getZoom();if(this.zoomingToAllClusters){this.defaultZoomLevel=t,this.zoomingToAllClusters=!1;var{zoomHistory:a}=this;if(a.prev.preZoom===a.curr.postZoom&&a.prev.postZoom===a.curr.preZoom)return}this.props.onMapMoved(t,this.atCenter())}},100),this.onDragStart=()=>{var e=this.map;if(e){var t=e.getZoom();this.props.onMapMoved(t,!1)}},this.onResize=(0,n.default)(()=>{this.setMapLatLngDiff()},250),this.mapOnClick=()=>{this.dismissMarkerTimer.debounceAndCap(50,100)},this.markerOnClick=(e,t)=>{this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel(),this.props.onMarkerSelected(t)},this.dismissMarkerTimer=new r.ShiftTimer(()=>{this.props.selectedMarkerId&&this.props.onClearSelected()}),this.defaultLatDiff=this.defaultLngDiff=.01,this.defaultZoomLevel=-1,this.zoomingToAllClusters=!1,this.zoomHistory={prev:{preZoom:-1,postZoom:-1},curr:{preZoom:-1,postZoom:-1}}}componentWillUnmount(){this.onIdle.cancel(),this.onResize.cancel(),window.removeEventListener("resize",this.onResize),this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}componentDidMount(){window.addEventListener("resize",this.onResize),this.setMapLatLngDiff(),this.viewAllClusters()}componentDidUpdate(e){var{clusters:t,secondaryClusters:a,selectedMarkerId:i,atCenter:s}=this.props,{selectedMarkerId:n}=e;if(this.setMapLatLngDiff(),t.size&&(!n||i||s))if(i&&n!==i){var r=t.get(i)||a.get(i);r&&this.viewSingleCluster(r)}else!i&&s&&this.viewAllClusters()}viewAllClusters(){var{clusters:e}=this.props;0===e.size||this.atCenter()||(this.zoomToFitAllClusters(e),this.centerAllClusters(e))}viewSingleCluster(e){this.zoomToFitSingleCluster(e),this.centerSingleCluster(e)}zoomToFitAllClusters(e){var t=this.map;if(t){this.zoomingToAllClusters=!0,this.zoomHistory.prev.preZoom=this.zoomHistory.curr.preZoom,this.zoomHistory.curr.preZoom=t.getZoom();var a=this.getBounds(e),i=e.entries().next();if(1!==e.size||i.done)this.boundsTooSmall(a)?t.fitBounds(this.getDefaultBounds(a.getCenter())):t.fitBounds(a);else{var[,s]=i.value;this.zoomToFitSingleCluster(s,!1)}this.zoomHistory.prev.postZoom=this.zoomHistory.curr.postZoom,this.zoomHistory.curr.postZoom=t.getZoom()}}zoomToFitSingleCluster(e,t=!0){var a=this.map;if(a&&(!t||!this.boundsTooSmall(a.getBounds()))){var i=e.northeast,s=e.southwest,n=new google.maps.LatLng(i.lat,i.lng),r=new google.maps.LatLng(s.lat,s.lng),o=new google.maps.LatLngBounds(r,n);this.boundsTooSmall(o)?a.fitBounds(this.getDefaultBounds(o.getCenter())):a.fitBounds(o)}}centerAllClusters(e){var t=this.getBounds(e).getCenter();this.centerMap(t)}centerSingleCluster(e){var t=new google.maps.LatLng(e.center);this.centerMap(t)}centerMap(e){var t=this.map;t&&(t.getCenter().equals(e)||t.panTo(e))}getInitialCenter(){return this.getBounds(this.props.clusters).getCenter()}getBounds(e){var t=new google.maps.LatLngBounds;return e.forEach(e=>{t.extend({lat:e.lat,lng:e.lng})}),t}boundsTooSmall(e){var t=e.getNorthEast(),a=e.getSouthWest(),i=t.lat()-a.lat(),s=t.lng()-a.lng(),{defaultLatDiff:n,defaultLngDiff:r}=this,o=Math.abs(i)<n,l=Math.abs(s)<r;return o||l}getDefaultBounds(e){var{defaultLatDiff:t,defaultLngDiff:a}=this,i=new google.maps.LatLng(e.lat()-t/2,e.lng()-a/2),s=new google.maps.LatLng(e.lat()+t/2,e.lng()+a/2);return new google.maps.LatLngBounds(i,s)}atCenter(){var e=this.map;if(!e)return!0;var t=e.getCenter(),a=this.getInitialCenter(),i=t.lat()-a.lat(),s=t.lng()-a.lng();return Math.abs(i)<1e-4&&Math.abs(s)<1e-4&&this.defaultZoomLevel===e.getZoom()}setMapLatLngDiff(){var e=this.map;if(e){var t=e.getCenter(),a=e.getDiv(),i=(0,h.getMetersPerPixel)(t.lat(),d.INITIAL_ZOOM),s=a.offsetWidth*i,n=a.offsetHeight*i;this.defaultLatDiff=(0,h.getLatDiff)(n),this.defaultLngDiff=(0,h.getLngDiff)(s,t.lat())}}getMarkers(){var{clusters:e,secondaryClusters:t,selectedMarkerId:a}=this.props,i=[],s=(e,t)=>{i.push(o.createElement(c.default,{key:t,marker:{isLive:!0,cluster:e,onLocationChanged:()=>this.onLocationChanged(t),selected:a===t,onClick:e=>this.markerOnClick(e,t)}}))};return e.forEach(s),t.forEach(s),i}getTrafficLayer(){return this.props.showTraffic?o.createElement(l.TrafficLayer,{autoRefresh:!0}):null}render(){return o.createElement(l.GoogleMap,{ref:this.setMap,defaultCenter:this.getInitialCenter(),defaultOptions:this.props.getMapOptions(),defaultZoom:d.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick,onDragStart:this.onDragStart,onIdle:this.onIdle},this.getMarkers(),this.getTrafficLayer())}}var f=(0,d.withConfig)((0,l.withScriptjs)((0,l.withGoogleMap)(u)));t.default=f},cejfghgbfb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("iidhbgeed")),r=s(a("bebajedcaf")),o=s(a("bhdddbafig")),l=s(a("ceffhbhahb")),d=i(a("ddhijeejag")),c=s(a("effbcehec")),h=a("dfdebdgdei"),u=s(a("ccbgfecegc")),f=s(a("bbfjdcedab")),p=s(a("dhigahgdjb")),m=s(a("dbgbgeefcf")),g=s(a("dahagdijgh")),b=s(a("bjheffjbgd")),v=i(a("bjjhgjdbhd")),E=a("cdhbdacigj"),j=i(a("cajijabhgb")),C=s(a("bfchfhibba")),S=s(a("dbfjeecgih")),_=s(a("bbaacgghch")),M=s(a("ddajbaceej")),I=a("dgjddffcfg"),y=s(a("dhfbfehaef")),T=s(a("bdjjabfecc")),P=s(a("bcgdidhcbe")),L=s(a("cbdjcijgja")),w=s(a("dhccahhefj")),k=s(a("deffjjfcba")),N=a("cbhhehcjbb"),R=s(a("bfgbdiffgd")),D=s(a("ecdebjcgfa")),O=s(a("dgdcjccfdi")),A=i(a("bjhgigfbec")),x=s(a("didfdhbecg")),U=(0,A.genId)("max_participant_toast");class F extends d.Component{constructor(...e){super(...e),this.state={searchText:"",participants:this.props.participants,shouldFocus:!0,isBusy:!1},this.flatListController=new S.default,this.setRefParticipantList=e=>{this.refParticipantList=e},this.setRefList=e=>{this.refList=e},this.onKeyDown=e=>{if("Backspace"===e.key&&!this.state.searchText&&!(0,r.default)(this.state.participants)){e.preventDefault();var t=this.state.participants;this.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},this.onInput=e=>{this.setState({searchText:e.target.value})},this.onReset=()=>{this.setState({searchText:"",shouldFocus:!0})},this.focus=()=>{M.default.focus(this.refInput)},this.onBack=()=>{this.props.onBack()},this.onContinue=()=>{this.props.onContinue(this.state.participants)},this.onDelete=(e,t)=>{var a=(0,n.default)(this.state.participants,e=>!e.id.equals(t.id));this.setState({participants:a,shouldFocus:!a.length})},this.onContactClick=(e,t)=>{this.state.participants.find(e=>e.id.equals(t.id))?this.removeContact(t):t.isBlocked()?u.default.openModal(d.createElement(f.default,{title:T.default.t(184),onOK:()=>{this.unblockAndAddContact(t),u.default.closeModal()},onCancel:()=>u.default.closeModal(),okText:T.default.t(1777),cancelText:T.default.t(1644)},T.default.t(180))):this.addContact(t)},this.onFocusList=e=>{this.refList&&(e.preventDefault(),e.stopPropagation(),_.default.shouldIndicateFocus(),this.refList&&this.refList.focusFirst())},this.onFocusParticipants=e=>{e.repeat||this.refInput&&0!==this.refInput.selectionStart||this.refParticipantList&&(e.preventDefault(),e.stopPropagation(),y.default.flashFocus=0,this.refParticipantList&&this.refParticipantList.focusLast())},this.onSelectFirst=e=>{e.preventDefault(),e.stopPropagation();var t=this.getFilteredContacts()[0];t&&this.onContactClick(e,t)},this.onFocusSearch=()=>{_.default.shouldIndicateFocus(),M.default.focus(this.refInput)},this.setRefInput=e=>{this.refInput=e},this.setRefSizer=e=>{this.refSizer=e}}componentDidMount(){this.focus()}componentDidUpdate(){this.adjustInput()}getFilteredContacts(){var e=(0,o.default)(p.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=T.default.accentFold(t);var a=(0,I.numberSearch)(t);return e.filter(e=>e.searchMatch(t,a))}adjustInput(){if(this.refInput){var e,t=this.refInput.offsetParent.offsetWidth-10,a=this.refSizer.offsetWidth,i=a>t?t:a;this.refInput.style.width=i+"px",e=t-this.refInput.offsetLeft-i>0?t-this.refInput.offsetLeft:t,this.refInput.style.width=e+"px",this.state.shouldFocus&&this.focus()}}addContact(e){var t=this.state.participants;if(t.length>=R.default.maxParticipants){var a=T.default.t(70,{max:R.default.maxParticipants});u.default.openToast(d.createElement(A.default,{msg:a,id:U}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}removeContact(e){var t=this.state.participants;this.setState({participants:(0,n.default)(t,t=>!e.id.equals(t.id)),shouldFocus:!0})}unblockAndAddContact(e){this.setState({isBusy:!0}),(0,h.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.addContact(e),this.setState({isBusy:!1})}).catchType(j.Unmount,()=>{}).catch(()=>{this.setState({isBusy:!1})})}render(){var e;this.state.isBusy?e=d.createElement("div",{className:P.default.spinner},d.createElement(D.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=d.createElement(k.default,{a8nText:"group-participants-btn",onClick:this.onContinue},d.createElement(O.default,{name:"arrow-forward",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":T.default.t(700),a={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:()=>{},up:this.onFocusParticipants};a[T.default.LR("left","right")]=this.onFocusParticipants;var i,s=this.getFilteredContacts();return i=0===s.length?d.createElement(E.SearchContacts,null):d.createElement(m.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:s,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),d.createElement(g.default,null,d.createElement(v.default,{title:T.default.t(1806),type:v.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),d.createElement(b.default,null,d.createElement("div",{className:P.default.search},d.createElement("div",null,d.createElement(y.default,{handlers:a,className:P.default.inputLine},d.createElement("div",{"data-list-scroll-container":!0},d.createElement(L.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),d.createElement("input",{"data-a8n":c.default.key("inputarea"),className:(0,l.default)(P.default.inputarea,N.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),d.createElement("span",{className:P.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),d.createElement(C.default,{className:P.default.contacts,flatListControllers:[this.flatListController]},i),d.createElement(x.default,{transitionName:"btn",className:P.default.drawerSection},e)))}}F.defaultProps={participants:[]};var B=(0,w.default)(F);t.default=B},cejgggcehb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bgifaaggh")),r=s(a("fhfbcdaib")),o=i(a("ddhijeejag")),l=a("biheibdage"),d=s(a("iieiegjjd")),c=s(a("ccbgfecegc")),h=s(a("bdeebiagii")),u=a("dibegjcfci"),f=s(a("bcjcbbafcj"));class p extends h.default{constructor(){super(...arguments),this.onCancel=()=>{this.props.onComplete&&this.props.onComplete(!1),this.clearAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel(),this.end()},this.onFailedMedias=e=>{var t=e.filter(e=>e.isGif);if(t.length>0){var a=t.map(e=>e.filename);c.default.once("ui_idle",()=>{c.default.pasteChatTextInput(this.props.chat,a.join(" "))}),this.props.onComplete&&this.props.onComplete(!1),this.clearAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel(),this.end()}},this.sendMediaWithMentions=(e,t)=>{var{chat:a}=this.props;c.default.once("ui_idle",()=>{e.forEach((e,t)=>{var i=e.media,s={};if(0===t&&(s.quotedMsg=a.composeQuotedMsg,a.composeQuotedMsg=null),s.mentionedJidList=e.mentionedJidList,s.caption=i.caption,s.addEvenWhilePreparing=i.previewable&&i.state===l.ATTACH_MEDIA_STATE.PROCESSING,this.props.initCaption&&this.props.initCaption.ctwaContextLinkData){var{ctwaContextLinkData:n,ctwaContext:r}=this.props.initCaption;s.ctwaContext=(0,u.prepareCtwaContextSend)(n,r)}i.sendToChat(a,s)}),this.clearAttachMedia()}),this.props.onComplete&&this.props.onComplete(!0,t),this.props.mediaCollection.mediaPickerStatsLogger.logSend(),this.end()},this.setText=e=>{null!=e&&c.default.once("ui_idle",()=>{c.default.pasteChatTextInput(this.props.chat,e)}),this.end()},this.clearAttachMedia=()=>{this.props.chat&&this.props.chat.setAttachMediaContents(null)},this.handleRequestDismiss=this.handleRequestDismiss.bind(this)}componentDidMount(){c.default.closeContextMenu(),c.default.closeTooltip(),this.push(o.createElement(d.default,{chat:this.props.chat,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,r.default)(this.sendMediaWithMentions),onDropText:(0,r.default)(this.setText),onFailedMedias:this.onFailedMedias,mediaCollection:this.props.mediaCollection}))}componentWillUnmount(){f.default.isGecko?(0,n.default)(()=>c.default.focusChatTextInput(this.props.chat)):c.default.focusChatTextInput(this.props.chat)}handleRequestDismiss(e){!1===e&&(this.clearAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),super.handleRequestDismiss()}}t.default=p},cfchibgehh:function(e,t){e.exports={wrapper:"_3vmNv",icon:"_3FSp1",text:"_2cQ_q"}},cfghhggjbg:function(e,t){e.exports={mediaViewerImg:"_3bc52",cropOverlay:"_2WRWu"}},cfhfdchaij:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ebcagbhefg")),o=i(a("ccbgfecegc")),l=i(a("hgigjbgie")),d=i(a("dcgdbhbjdi")),c=i(a("bdicccbaa")),h=i(a("dahagdijgh")),u=i(a("bjheffjbgd")),f=s(a("bjjhgjdbhd")),p=i(a("ddeefhbafc")),m=s(a("cajijabhgb")),g=a("eajdbbfgfg"),b=i(a("jheedhagg")),v=a("dhegcfddhg"),E=i(a("chhebaafhb")),j=i(a("bdjjabfecc")),C=i(a("ebddggeaib")),S=a("edagdaii"),_=i(a("biecbbiiee")),M=i(a("eigdejjai")),I=i(a("eahdicfdjf")),y=i(a("cbccffhcjb")),T=i(a("dhccahhefj")),P=i(a("bfgbdiffgd")),L=i(a("ecdebjcgfa")),w=i(a("dcdbbhicce")),k=i(a("dgdcjccfdi")),N=s(a("bjhgigfbec")),R=i(a("ccbcihdfhg"));class D extends n.Component{constructor(...e){super(...e),this.setRefScrollable=e=>{this.refScrollable=e},this.state={msgInfo:void 0,unimplemented:!1},this.wrapper=null,this.isMsgVisible=(e,t=!1)=>e===this.props.msg.id&&(!!t||this.getMsgComponent()),this.onClose=()=>{this.props.uim.uie.requestDismiss()}}componentDidMount(){var e;M.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({msgInfo:e}),this.props.listeners.add(e,"change:playedRemaining change:readRemaining change:deliveryRemaining",()=>{this.forceUpdate()})}).catchType(m.Unmount,()=>{}).catch(()=>{this.setState({unimplemented:!0}),o.default.openToast(n.createElement(N.default,{msg:j.default.t(933),id:(0,N.genId)("msg_info_failed")}))});var t=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===l.default.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(e,t)=>{t===_.default&&this.props.uim.uie.requestDismiss()})}getMsgComponent(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}render(){var e,t,a,{msg:i}=this.props,{msgInfo:s,unimplemented:o}=this.state;if(s){var m,b,C,_=[];s.isPTT&&(t=j.default.t(897),b=(m=s.played.head())&&m.t,C=n.createElement("span",{className:c.default.icon},n.createElement(k.default,{name:"status-ptt",className:c.default.pttBlue})),_.push(n.createElement(d.default,{title:j.default.t(892),t:b,icon:C,key:"played"}))),b=(m=s.read.head())&&m.t,C=n.createElement("span",{className:c.default.icon},n.createElement(k.default,{name:"status-dblcheck",className:c.default.ack})),t=t||j.default.t(894),_.push(n.createElement(d.default,{title:t,t:b,icon:C,key:"read"})),b=(m=s.delivery.head())&&m.t,C=n.createElement("span",{className:c.default.icon},n.createElement(k.default,{name:"status-dblcheck"})),_.push(n.createElement(d.default,{title:j.default.t(890),t:b,icon:C,key:"delivery"})),!P.default.hfmStringChanges&&P.default.frequentlyForwardedMessages&&i.numTimesForwarded>0&&!i.isFrequentlyForwarded&&_.push(n.createElement(I.default,{key:"forward",msg:i})),e=n.createElement(p.default,{theme:"padding"},_)}s||o||(a=n.createElement("div",{className:c.default.spinner,key:"spinner"},n.createElement(L.default,{size:50,stroke:4})));var M=null;return i.labels&&i.labels.length&&(0,g.canDisplayLabel)()&&(M=n.createElement(p.default,{theme:"padding"},n.createElement(E.default,{labels:i.labels}))),n.createElement(h.default,{key:"message-info-modal",theme:"striped"},n.createElement(f.default,{title:j.default.t(889),type:f.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),n.createElement(y.default,{ref:this.setRefScrollable,chatPreference:r.default.assertGet("defaultPreference")},n.createElement(R.default,{msg:i,ref:(0,v.GetRef)("wrapper",this),displayType:l.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:S.MsgPosition.END,onProductClick:this.props.onProductClick})),n.createElement(u.default,null,M,n.createElement("div",{className:c.default.body},a,e)))}}D.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var O=(0,b.default)((0,T.default)((0,C.default)((0,w.default)(D,D.CONCERNS))));t.default=O},cfhfjfibci:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ieeidjijb")),o=i(a("bgheieccaj")),l=i(a("bfchfhibba")),d=i(a("dbfjeecgih")),c=i(a("bdjjabfecc")),h=i(a("ddcjddjgfe")),u=i(a("dggddfhei"));class f extends n.Component{constructor(...e){super(...e),this.flatListController=new d.default,this.renderListItem=e=>{var{participant:t}=e,a=t.valid?n.createElement(u.default,{participant:t}):c.default.t(836),i=t.valid?()=>this.props.onParticipantSelected(t.contact.id.toString()):null,s=t.isMe?n.createElement("div",{onClick:this.props.onStopSharing,className:h.default.stopSharingButton},c.default.t(826)):null;return n.createElement(r.default,{contact:t.contact,secondary:a,onClick:i,detail:s})}}getListData(){return this.props.participants.map(e=>({itemKey:e.id.toString(),contentKey:e.valid?"valid":"invalid",participant:e}))}render(){var e=this.getListData();return n.createElement(l.default,{className:h.default.list,flatListControllers:[this.flatListController]},n.createElement(o.default,{data:e,renderItem:this.renderListItem,flatListController:this.flatListController,direction:"vertical"}))}}var p=f;t.default=p},cgagcihcgb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("cdechhdjeg")),l=i(a("bdeebiagii")),d=i(a("bdjjabfecc")),c=i(a("bjchbacdef")),h=i(a("ddajejfdfc"));class u extends l.default{constructor(...e){super(...e),this.showInfoDrawer=e=>{var{catalog:t,sessionId:a}=this.props;this.push(n.createElement(c.default,{catalog:t,product:e,onCancel:this.end,onEditProduct:this.onProductEdit,onShareProduct:this.onShareProduct,sessionId:a}))},this.onShareProduct=e=>{this.push(n.createElement(h.default,{onBack:this._pop,product:e,sessionId:this.props.sessionId,prompt:n.createElement("div",null,d.default.t(387)),onSend:()=>r.default.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}))},this.onProductEdit=(e,t)=>{this.push(n.createElement(o.default,{catalog:this.props.catalog,sessionId:t,onBack:this._pop,onEditSuccess:this.showInfoDrawer,product:e,onDelete:this.props.onDelete}))},this._pop=()=>{this.pop()},this._end=()=>{this.end(!0)}}componentDidMount(){var{catalog:e,product:t,sessionId:a,onCreate:i,newProduct:s}=this.props;s?this.push(n.createElement(o.default,{sessionId:a,onCancel:this._pop,onEditSuccess:e=>{i&&i(),this.showInfoDrawer(e)},catalog:e,product:t,newProduct:!0})):this.showInfoDrawer(t)}}t.default=u},cgbdhebcad:function(e,t){e.exports={addItemPlaceholder:"_23lEE",placeholderIcon:"_23vAX",placeholderContainer:"_2svVZ",divider:"_985cz",isLoading:"_1IVJz",spinner:"_1K6Dk"}},cggdjhhbaf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("hhegggegb")),o=i(a("ddhijeejag")),l=s(a("ccbgfecegc")),d=s(a("hgigjbgie")),c=s(a("dahagdijgh")),h=s(a("bjheffjbgd")),u=i(a("bjjhgjdbhd")),f=s(a("jagjbhcgf")),p=s(a("dgebcfedgb")),m=a("cdhbdacigj"),g=i(a("cajijabhgb")),b=a("bgddggdhc"),v=s(a("ddajbaceej")),E=s(a("jheedhagg")),j=a("dhegcfddhg"),C=s(a("dhfbfehaef")),S=s(a("bdjjabfecc")),_=s(a("ebddggeaib")),M=a("cadfgefaja"),I=s(a("dhccahhefj")),y=s(a("jcfhjhibi")),T=s(a("dcaibchbg")),P=s(a("ecdebjcgfa")),L=s(a("djhaaeddde")),w=s(a("ccadaajdfc")),k=s(a("dgdcjccfdi")),N=s(a("jjhjbgbd")),R=s(a("didfdhbecg"));function D(){var e=(0,n.default)(["StarredDrawer:loadEarlierMsgs failed\n",""],["StarredDrawer:loadEarlierMsgs failed\\n",""]);return D=function(){return e},e}class O extends o.Component{constructor(e){super(e),this.msgRefs={},this.getInitialState=()=>{var{starredMsgs:e}=this.props;return{cursor:y.default.create({msgCollection:e,type:d.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:d.default.MSG_PRELOAD_THRESHOLD})}},this.handleStarChange=()=>{this.initSelectionObjects(),this.forceUpdate()},this.initSelectionObjects=()=>{var e=this.props.starredMsgs.toArray();this.currSelection.init(e,!0),this.activeSelection.init(e)},this.setRefMsgComponent=(e,t)=>{t?this.msgRefs[e.id.toString()]=t:delete this.msgRefs[e.id.toString()]},this.loadEarlierMsgs=()=>{var e=this.state.cursor,t=this.props.chat&&this.props.chat.id,{starredMsgs:a}=this.props,i=a.models;if(e.getEnd(a)<i.length)this.setState({cursor:e.loadAfter(a)});else{if(a.isSynced)return;this.props.starredMsgs.sync(t).checkpoint(this.props.rejectOnUnmount()).then(()=>{e.hasAfter(a)&&this.setState({cursor:e.loadAfter(a)})}).catchType(g.Unmount,()=>{}).catch(e=>{__LOG__(2)(D(),e)})}},this.onClose=()=>{this.props.onClose?this.props.onClose():this.props.uim.uie.requestDismiss()},this.focus=()=>{this.body&&v.default.focus((0,b.forbiddenAssertDOMNode)(this.body))},this.onFocusGain=e=>{this.body&&((e?e.target:document.activeElement)===(0,b.forbiddenAssertDOMNode)(this.body)&&(this.currSelection.index<0?this.currSelection.setFirst(!0):this.currSelection.reset(!1)))},this.onNextMsg=e=>{e&&(e.preventDefault(),e.stopPropagation());var t=this.currSelection.next();this.currSelection.index!==t&&this.currSelection.setNext(!0)},this.onPrevMsg=e=>{e&&(e.stopPropagation(),e.preventDefault()),this.currSelection.prev()>-1&&this.currSelection.setPrev(!0)},this.onScroll=e=>{this.handleScroll(e.currentTarget)},this._handleScroll=e=>{this.updateMsgListInfo(),function(e){return e.scrollTop+d.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&this.loadEarlierMsgs()},this.selectMsg=e=>{this.currSelection.setVal(e),this.activeSelection.setVal(e),l.default.openChatAt(e.chat,e.chat.getSearchContext(e)),l.default.focusShowMsg(e.id)},this.getMsgList=()=>{var e=this.state.cursor,{starredMsgs:t}=this.props,a=t.toArray(),i=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),a.length);return a=a.slice(e.getStart(t),i),this.length=a.length,a},this.getMsgVisibility=e=>{if(!e)return d.default.VISIBILITY.BELOW;if(this.scrollContainer){var t=(0,b.forbiddenAssertDOMNode)(this.scrollContainer),a=t.previousSibling.clientHeight,i=t.scrollTop+a,s=i+t.clientHeight,n=(0,b.forbiddenAssertDOMNode)(e);return n?n.offsetTop+n.clientHeight<=i?d.default.VISIBILITY.ABOVE:n.offsetTop>=s?d.default.VISIBILITY.BELOW:d.default.VISIBILITY.VISIBLE:d.default.VISIBILITY.BELOW}},this.isMsgVisible=(e,t=!1)=>!!this.msgListInfo.visibleMsgs[e.toString()]&&(!!t||this.getMsgComponent(e)),this.getMsgComponent=e=>{var t=this.msgRefs[e.toString()];if(t){var a=t.getWrapperRef();return a&&"function"==typeof a.getMsgComponentRef?a.getMsgComponentRef():void 0}},this._updateMsgListInfo=()=>{for(var e=this.getMsgList(),t={},a=0,i=this.length-1;a<i;){var s=Math.floor((a+i)/2),n=this.msgRefs[e[s].id.toString()];this.getMsgVisibility(n)===d.default.VISIBILITY.ABOVE?a=s+1:i=s}for(var r=a;r<e.length;r++){var o=this.msgRefs[e[r].id.toString()];if(this.getMsgVisibility(o)!==d.default.VISIBILITY.VISIBLE)break;t[e[r].id.toString()]=!0}this.pauseHiddenGifs(this.msgListInfo.visibleMsgs,t),this.msgListInfo.visibleMsgs=t},this.pauseHiddenGifs=(e,t)=>{for(var a in e)if(!t[a]){var i=this.props.starredMsgs.get(a);if(i&&i.isGif){var s=this.getMsgComponent(a);s&&s.playCount&&s.pause()}}},this.handleScroll=(0,r.default)(this._handleScroll,100),this.updateMsgListInfo=(0,r.default)(this._updateMsgListInfo,100),this.msgListInfo={visibleMsgs:{}},this.state=this.getInitialState()}UNSAFE_componentWillMount(){this.currSelection=new T.default([],e=>e.id.toString()),this.activeSelection=new T.default([],e=>e.id.toString())}componentDidMount(){this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<d.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",()=>{this.initSelectionObjects(),this.forceUpdate()}),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",()=>{this.msgListInfo={visibleMsgs:{}},this.setState(this.getInitialState()),this.loadEarlierMsgs()})}componentWillUnmount(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}componentDidUpdate(){this.updateMsgListInfo()}render(){var e,t,a=this.getMsgList(),i=this.state.cursor,{starredMsgs:s}=this.props,n=this.props.chat||null;if(t=s.isSynced&&i.getEnd(s)>=a.length?null:this.props.starredMsgs.syncPromise?o.createElement("div",{className:L.default.more,title:S.default.t(837)},o.createElement(P.default,{stroke:6,size:24})):o.createElement("div",{className:L.default.more},o.createElement("div",{title:S.default.t(834),onClick:this.loadEarlierMsgs},o.createElement(k.default,{name:"refresh"}))),a.length>0){var r=a.map(e=>{var t=e.type===d.default.MSG_TYPE.IMAGE||e.type===d.default.MSG_TYPE.VIDEO||e.type===d.default.MSG_TYPE.AUDIO;return o.createElement(w.default,{key:e.id.toString(),ref:t=>{this.setRefMsgComponent(e,t)},msg:e,isMsgVisible:t?this.isMsgVisible:()=>{},currSelection:this.currSelection,activeSelection:this.activeSelection,onClickMsg:this.selectMsg})});e=o.createElement(R.default,{transitionName:"slide"},r)}else this.props.starredMsgs.isSynced?e=o.createElement(m.StarredMsgs,null):(e=o.createElement(m.Loading,null),t=null);var l={down:this.onNextMsg,up:this.onPrevMsg},f=a.length>0?o.createElement(M.MenuBarItem,{a8nText:"starred-menu",icon:o.createElement(k.default,{name:"menu"}),title:S.default.t(881)},o.createElement(A,{chat:n,msgs:a})):null;return o.createElement(c.default,{theme:"gallery"},o.createElement(C.default,{className:L.default.hotKeyWraper,handlers:l,onFocus:this.onFocusGain,"data-tab":d.default.TAB_ORDERS.CHAT_STARRED_DRAWER,ref:(0,j.GetRef)("body",this)},o.createElement(u.default,{title:S.default.t(1261),onBack:this.onClose,type:u.DRAWER_HEADER_TYPE.LARGE,menu:f}),o.createElement(h.default,{onScroll:this.onScroll,ref:(0,j.GetRef)("scrollContainer",this)},e,t)))}}class A extends o.Component{constructor(...e){super(...e),this.sendUnstarAll=()=>{l.default.openModal(o.createElement(N.default,{msgs:this.props.msgs,chat:this.props.chat}))}}render(){var{msgs:e}=this.props;return o.createElement(f.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},o.createElement(p.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},S.default.t(1334)))}}var x=(0,E.default)((0,I.default)((0,_.default)(O)));t.default=x},cggehdbfjf:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,i){var s=e.map(M.vcardFromContactModel),n=1===s.length?s[0]:(0,M.mergeVcards)(s),o="".concat(n.displayName,".vcf"),l=(0,f.createFile)([n.vcard],o,{type:"text/vcard"}),d=l.size/1024;if(m.default.supportsFeature(m.default.F.VCARD_OVER_MMS)&&0!==S.default.vcardAsDocumentSizeKb&&d>S.default.vcardAsDocumentSizeKb)return void function(){y.apply(this,arguments)}(l,e.length,t,a,i);!function(e,t,a,i,s){var n=i&&i.msgContextInfo(t.id),o=(0,p.getMaybeMeUser)(),l=(0,r.default)((0,r.default)({ack:u.default.ACK.CLOCK,from:o,id:new b.default({from:o,to:t.id,id:(0,E.default)(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:c.default.globalUnixTime(),to:t.id},n),{},{ctwaContext:s}),d=1===e.length?(0,r.default)((0,r.default)({type:"vcard",vcardFormattedName:e[0].displayName,body:e[0].vcard},l),w(t)):(0,r.default)((0,r.default)({type:"multi_vcard",vcardList:e},l),w(t));T(()=>(0,j.addAndSendMsgToChat)(t,d)[1],{channel:g.default.CONTACT_SEND_CHANNEL.CHATD,isMultiVcard:e.length>1,sizeInKb:a})}(s,t,d,a,i)};var n=s(a("dfadhaifh")),r=s(a("cdfdfciehj")),o=s(a("ffedgcdgj")),l=i(a("ddhijeejag")),d=s(a("dbjacfjdhg")),c=s(a("cfadcbbiie")),h=s(a("ccbgfecegc")),u=s(a("hgigjbgie")),f=a("cgffhfegce"),p=a("ddbdgibbbi"),m=s(a("bhbdiadfhj")),g=s(a("bdcchebfge")),b=s(a("cffajefeag")),v=s(a("cahfddcdga")),E=s(a("cfejjfjhca")),j=a("cgddafdgie"),C=a("dgbddfjdhi"),S=s(a("bfgbdiffgd")),_=i(a("bjhgigfbec")),M=a("cjjdjbcgjh");function I(){var e=(0,n.default)(["Error sending contact: ",""]);return I=function(){return e},e}function y(){return(y=(0,o.default)((function*(e,t,a,i,s){var n={file:e,type:u.default.MSG_TYPE.DOCUMENT,filename:e.name,mimetype:"text/vcard",isVcardOverMmsDocument:!0,documentPageCount:t},r=new d.default({chatParticipantCount:a.getParticipantCount()});yield r.processAttachments([n]);var{errorMsgs:o}=r.uiProcessMsgs();if(o)h.default.openToast(l.createElement(_.default,{msg:o,id:(0,_.genId)()}));else{var c=(0,v.default)(r.getValidMedias()[0],"collection.getValidMedias()[0]");T(()=>c.sendToChat(a,{quotedMsg:i,ctwaContext:s}),{channel:g.default.CONTACT_SEND_CHANNEL.MMS,isMultiVcard:t>1,sizeInKb:e.size/1024})}}))).apply(this,arguments)}function T(){return P.apply(this,arguments)}function P(){return(P=(0,o.default)((function*(e,t){var a=new g.default.ContactSend({channel:t.channel,isMultiVcard:t.isMultiVcard,vcardDataSize:Math.floor(t.sizeInKb)});try{var i=yield e();a.messageSendResult=L(i)}catch(e){throw __LOG__(2)(I(),e),a.messageSendResult=g.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UNKNOWN,e}finally{a.markMessageSendT(),a.commit()}}))).apply(this,arguments)}function L(e){switch(e){case C.SendMsgResult.OK:return g.default.MESSAGE_SEND_RESULT_TYPE.OK;case C.SendMsgResult.ERROR_NETWORK:return g.default.MESSAGE_SEND_RESULT_TYPE.ERROR_NETWORK;case C.SendMsgResult.ERROR_EXPIRED:return g.default.MESSAGE_SEND_RESULT_TYPE.ERROR_EXPIRED;case C.SendMsgResult.ERROR_CANCELLED:return g.default.MESSAGE_SEND_RESULT_TYPE.ERROR_CANCELLED;case C.SendMsgResult.ERROR_UPLOAD:return g.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UPLOAD;case C.SendMsgResult.ERROR_UNKNOWN:return g.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UNKNOWN}}function w(e){var t={};if(S.default.ephemeralMessages){e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting());var a=e.getEphemeralSettingTimestamp();null!=a&&(t.ephemeralSettingTimestamp=a)}return t}},cggjjcbdia:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({mimeType:e,filename:t}){var a=(0,o.default)(l.default.icon,c[e]?c[e].icon:"icon-doc-generic");return r.createElement("div",{className:l.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:l.default.media},r.createElement("div",{className:l.default.document},r.createElement("div",{className:a}),r.createElement("div",{className:l.default.text},t))))};var n=s(a("bgeijhbbad")),r=i(a("ddhijeejag")),o=s(a("ceffhbhahb")),l=s(a("hbafgiab")),d=a("cedhgehjef"),c=(0,n.default)(d.MIMETYPES,e=>"document"===e.msgType)},cghhjgjffa:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("bjigbaghc")),l=s(a("hhcjfgifh")),d=i(a("dahagdijgh")),c=i(a("bjheffjbgd")),h=i(a("cciafahdib")),u=s(a("bjjhgjdbhd")),f=i(a("gfebgebbi")),p=a("ddbdgibbbi"),m=i(a("bdjjabfecc")),g=i(a("dadjidbecc")),b=i(a("dgdcjccfdi"));class v extends n.PureComponent{render(){var e=n.createElement(g.default,{id:this.props.profileId}),t=n.createElement(l.default,{id:(0,p.getMaybeMeUser)(),size:82,quality:l.DETAIL_IMAGE_QUALITY.HIGH}),a=n.createElement(f.default,{text:o.default.pushname,ellipsify:!0,titlify:!0});return n.createElement(d.default,{theme:"settings"},n.createElement(u.default,{title:m.default.t(1251),onBack:this.props.onClose,type:u.DRAWER_HEADER_TYPE.LARGE}),n.createElement(c.default,null,n.createElement(r.default,{onClick:this.props.onProfile,image:t,primary:a,theme:"identity",secondary:e}),n.createElement(h.default,{a8nText:"li-notifications",icon:n.createElement(b.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},m.default.t(871)),void 0,n.createElement(h.default,{icon:n.createElement(b.default,{name:"settings-theme"}),onClick:this.props.onThemeSettings},m.default.t(878)),n.createElement(h.default,{icon:n.createElement(b.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},m.default.t(879)),n.createElement(h.default,{a8nText:"li-blocked",icon:n.createElement(b.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},m.default.t(864)),void 0,n.createElement(h.default,{a8nText:"li-help",icon:n.createElement(b.default,{name:"settings-help"}),onClick:this.props.onHelp},m.default.t(866)),void 0,void 0,void 0,void 0,void 0))}}t.default=v},chadaehai:function(e,t){e.exports={notifyName:"_1Dnpn"}},chbdhcgdig:function(e,t){e.exports={dropOverlay:"_39skC",dropOverlayOutline:"_8Kjg_"}},chbjhajdfc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ejegihaeh")),o=i(a("bhehhaehi")),l=i(a("ccbgfecegc")),d=i(a("dhigahgdjb")),c=a("bjjhgjdbhd"),h=i(a("cgagcihcgb")),u=i(a("bdeebiagii")),f=i(a("bdjjabfecc")),p=i(a("baegedajda")),m=i(a("idbcfjbae")),g=i(a("biibicegh")),b=i(a("ddajejfdfc")),v=i(a("bbecefbeaa"));class E extends u.default{constructor(...e){super(...e),this.handleAddFirstProduct=e=>{this.showProductList(e),r.default.find(this.props.catalogId).then(()=>{this.onAddProduct(e)})},this.showProductList=e=>{var t=d.default.get(this.props.catalogId);t&&this.push(n.createElement(v.default,{contact:t,onCatalogLinkClick:this.onCatalogShare,onProductShare:this.onProductShare,onProductDetail:this.onEditProduct,onAddProduct:this.onAddProduct,catalogId:this.props.catalogId,sessionId:e,onBack:this._end,businessProfile:null,headerType:c.DRAWER_HEADER_TYPE.LARGE,canManageCatalog:!0,autoUpdate:!0}))},this.onEditProduct=(e,t)=>{var a=r.default.assertGet(this.props.catalogId);l.default.openDrawerMid(n.createElement(h.default,{catalog:a,product:e,sessionId:t}),"slide-left")},this.onAddProduct=e=>{var t=r.default.assertGet(this.props.catalogId),a=new m.default({catalogWid:t.id,additionalImageCdnUrl:[]});l.default.openDrawerMid(n.createElement(h.default,{catalog:t,product:a,sessionId:e,newProduct:!0}),"slide-left")},this.onCatalogShare=(e,t,a)=>{l.default.openDrawerMid(n.createElement(o.default,{onCancel:()=>{l.default.closeDrawerMid()},catalog:e,sessionId:a,contact:t,prompt:f.default.t(387),onSend:()=>l.default.closeDrawerMid(),centerDrawer:!0}),"slide-left")},this.onProductShare=(e,t)=>{l.default.openDrawerMid(n.createElement(b.default,{onCancel:()=>{l.default.closeDrawerMid()},product:e,sessionId:t,prompt:f.default.t(387),onSend:()=>l.default.closeDrawerMid(),centerDrawer:!0,sendProductMsg:!0}),"slide-left")},this._pop=()=>{this.pop(),l.default.closeDrawerMid()},this._end=()=>{this.end(!0),l.default.closeDrawerMid()}}componentDidMount(){var e=(new g.default).toString();null!=this.props.catalog?this.showProductList(e):this.showNewCatalog(e)}showNewCatalog(e){this.push(n.createElement(p.default,{onBack:this._pop,onAddProductClick:this.handleAddFirstProduct,onCatalogAlreadyCreated:this.showProductList,sessionId:e}))}}t.default=E},chcfhehffe:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.withConfig=function(e){return class extends o.Component{constructor(...e){super(...e),this.state={authFailed:!0===window.gm_authFailed},this.onAuthFailed=()=>{window.gm_authFailed=!0,this.setState({authFailed:!0});var e=this.getUrl(),t=String(c.default.googleMapsDoNotAuth),a=String(c.default.googleMapsKeyless);__LOG__(4,!1,new Error)(f(),e,"web",t,a),SEND_LOGS("google-map-auth-failed")}}componentDidMount(){window.gm_authFailure=this.onAuthFailed}componentWillUnmount(){window.gm_authFailure=void 0}getUrl(){var e={client:"gme-whatsappinc",v:"3",libraries:"geometry,drawing,places",t:Math.floor(Date.now()/864e5)};return u.default.build("https://maps.googleapis.com/maps/api/js",e)}getMapOptions(){return{clickableIcons:!1,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,minZoom:3,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}}}render(){if(this.state.authFailed)return o.createElement("div",{className:d.default.authFailed},l.default.t(665));var t=this.getUrl(),a=o.createElement("div",{className:d.default.loading},o.createElement(h.default,{color:"highlight"})),i=o.createElement("div",{className:d.default.container}),s=o.createElement("div",{className:d.default.map});return o.createElement(e,(0,n.default)({googleMapURL:t,loadingElement:a,containerElement:i,mapElement:s,getMapOptions:this.getMapOptions},this.props))}}},t.MIN_ZOOM=t.INITIAL_ZOOM=t.MapType=void 0;var n=s(a("bacehaajgh")),r=s(a("dfadhaifh")),o=i(a("ddhijeejag")),l=s(a("bdjjabfecc")),d=s(a("baefdeabej")),c=s(a("bfgbdiffgd")),h=s(a("ecdebjcgfa")),u=s(a("edbaidcaf"));function f(){var e=(0,r.default)(["url: ","\ntarget: ","\nprops; "," & ",""],["url: ","\\ntarget: ","\\nprops; "," & ",""]);return f=function(){return e},e}var p=a("bjgidhichc")({ROADMAP:"roadmap",SATELLITE:"satellite",TERRAIN:"terrain"});t.MapType=p;t.INITIAL_ZOOM=15;t.MIN_ZOOM=3},chihjgjffb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bafcchidfe")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("hgigjbgie")),c=i(a("bdeebiagii")),h=i(a("bdjjabfecc")),u=i(a("bijffg")),f=i(a("bacbeacgf")),p=i(a("eabhbddaei")),m=i(a("bihiceijie"));class g extends c.default{constructor(...e){super(...e),this.onDeleteLabel=e=>{e.forEach(({id:e})=>{u.default.deleteLabel(e)})},this.onManageLabels=e=>{o.default.openModal(n.createElement(m.default,{modelsToUpdate:e}))},this.onEditLabel=e=>{o.default.openModal(n.createElement(r.default,{labelId:e,onUpdateLabel:this.onUpdateLabel,onCancel:o.default.closeModal()}))},this.onLabelClick=e=>{var t=a("bahjbgaefa").default;this.push(n.createElement(t,{openLabelColorDrawer:this.openLabelColorDrawer,labelId:e,onManageLabels:this.onManageLabels,onClose:this._pop,onRemoveLabel:this.onRemoveLabel,onEditLabel:this.onEditLabel}))},this.openAddLabel=()=>{u.default.toArray().length>=d.default.MAX_SMB_LABEL_COUNT?o.default.openModal(n.createElement(l.default,{okText:h.default.t(1059),onOK:()=>o.default.closeModal()},h.default.t(1802,{count:d.default.MAX_SMB_LABEL_COUNT}))):o.default.openModal(n.createElement(r.default,{onAddLabel:this.onAddLabel,onCancel:o.default.closeModal()}))},this.onUpdateLabel=(e,t)=>{u.default.updateLabel(e,t)},this.openLabelColorDrawer=(e,t)=>{this.push(n.createElement(f.default,{labelId:e,onClose:this._pop,onUpdateColor:this.onUpdateLabel,currentColor:t}))},this._pop=()=>{this.pop()}}componentDidMount(){this.push(n.createElement(p.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}onAddLabel(e,t){u.default.addNewLabel(e,t)}onRemoveLabel(e,t){u.default.addOrRemoveLabels([{id:e,type:"remove"}],t)}}t.default=g},chiieajhih:function(e,t){e.exports={container:"cc0oO",media:"_1DDR0",img:"_1cbSY",audio:"_1bhcp",videoContainer:"_39u4o",spinner:"u2T2G",video:"_3cGm8",staticPreview:"_29rod"}},chjejfcdd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("ccbgfecegc")),l=s(a("bbfjdcedab")),d=a("jagjbhcgf"),c=s(a("bjjdjibgad")),h=a("dbbhijehii"),u=s(a("dhfbfehaef")),f=s(a("bdjjabfecc")),p=s(a("jdibabjeb")),m=s(a("bajeaefcdg")),g=a("cecdefhddc"),b=s(a("dgdcjccfdi")),v=s(a("cgjdibiahi")),E=s(a("dfciadajdf")),j=a("bficeagfg"),C=s(a("didfdhbecg"));class S extends r.Component{constructor(...e){super(...e),this.state={active:!1,emojiPicker:null},this.onEmojiPicker=e=>{e&&(e.preventDefault(),e.stopPropagation());var t=r.createElement(c.default,{onEmoji:this.onEmoji,onFocusNext:this.restoreFocus,onFocusPrev:this.restoreFocus});this.setState({emojiPicker:{menu:t,dirY:d.DirY.TOP,type:"emoji_picker",anchor:e.target}}),this.restoreFocus()},this.onEmojiPickerClose=()=>{this.setState({emojiPicker:null})},this.onRestoreEmojiPickerFocus=()=>{if(this.refEmojiPicker){var e=this.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},this.onEmoji=e=>{var t=this.refInput;t&&(t.focus(!1),t.replaceSelection(e)),this.onEmojiPickerClose()},this.setRefInput=e=>{this.refInput=e},this.setRefEmojiPicker=e=>{this.refEmojiPicker=e},this.onSelectionChange=e=>{this.selection=e},this.onMaxPasteExceeded=()=>{o.default.openModal(r.createElement(l.default,{title:f.default.t(370),onOK:()=>{o.default.closeModal()},okText:f.default.t(1649)},f.default.t(369)))},this.restoreFocus=()=>{this.refInput&&this.refInput.focus()},this.onBlur=e=>{this.state.active&&this.setState({active:!1}),this.props.onBlur&&this.props.onBlur(e)},this.onFocus=e=>{e.stopPropagation(),this.state.active||this.setState({active:!0}),this.props.onFocus&&this.props.onFocus(e)},this.onReset=()=>{this.refInput&&this.refInput.reset()}}componentDidMount(){this.props.focusOnMount&&this.restoreFocus()}render(){var e,t=this.props.maxLength,a=(0,j.numCodepoints)(this.props.value||""),i=(0,n.default)(m.default.textInput,{[m.default.noPlaceholder]:!this.props.placeholder,[m.default.active]:!0}),s=(0,n.default)(m.default.labelText,{[m.default.float]:!!this.props.value}),o=this.props.supportsEmoji?r.createElement("button",{className:m.default.inputEmoji,onClick:this.onEmojiPicker},r.createElement(b.default,{name:"emoji-input"})):void 0,{value:l}=this.props;e=l&&""!==l?r.createElement("div",{role:"button",className:m.default.clearInput,onClick:this.onReset},r.createElement(b.default,{name:"x-alt"})):null;var d,c=this.props.showRemaining?r.createElement("div",{className:(0,n.default)(m.default.buttonContainer,m.default.charCounter,{[m.default.charCounterWithClearBtn]:!!e})},r.createElement("div",{className:m.default.charCounter},t-a<50?f.default.n(t-a):null)):null;return this.state.emojiPicker&&(d=r.createElement(v.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},r.createElement(E.default,{contextMenu:this.state.emojiPicker}))),r.createElement(u.default,{className:i,onFocus:this.restoreFocus},r.createElement("span",{className:s},this.props.placeholder),r.createElement("div",{className:m.default.spacer}),r.createElement("div",{className:m.default.suggestionsPositioner},r.createElement("div",{className:m.default.suggestionsContainer},r.createElement(p.default.MentionSuggestions,{chat:this.props.chat,theme:g.ThemeOptions.MEDIA_CAPTION}),r.createElement(p.default.EmojiSuggestions,{chat:this.props.chat,theme:h.ThemeOptions.MEDIA_CAPTION}))),r.createElement("div",{className:(0,n.default)(m.default.wrapper,{[m.default.textActive]:this.state.active})},r.createElement(p.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),r.createElement("div",{className:m.default.inputControls},r.createElement(C.default,{transitionName:"pop",component:"div",className:m.default.buttonContainer},e,o),c)),d)}}t.default=S,S.defaultProps={maxLength:25}},chjgbgddjh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.createElement("div",{key:"container",className:r.default.dropOverlay},n.createElement("div",{className:r.default.dropOverlayOutline},o.default.t(528)))};var n=s(a("ddhijeejag")),r=i(a("chbdhcgdig")),o=i(a("bdjjabfecc"))},chjifbjhjh:function(e,t){e.exports={wallpaperApplyDoodle:"_3euH5",checkboxLabel:"_2RPkW",wallpaperColorGrid:"_1WC91",wallpaperColorCanvas:"_2rFYl",wallpaperDefaultTitle:"_mtbd",wallpaperColorEmpty:"_2U_Ng",canvasHover:"U45SQ",canvasActive:"_2ILMM",canvasDefault:"_1wlMU"}},cicgecaadf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.createElement("div",{className:e.inactive?r.default.inactive:r.default.offline,onClick:e.onClick},n.createElement("div",null,n.createElement("div",{className:r.default.circle},n.createElement(o.default,{name:e.svgName})),n.createElement("div",{className:r.default.text},e.text)))};var n=s(a("ddhijeejag")),r=i(a("ccgeibdhai")),o=i(a("dgdcjccfdi"))},cichhcjjd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({frequentlyForwardedCount:e,totalCount:t}){var a=n.createElement("span",{className:d.default.text},1===e&&1===t?c.default.t(632):c.default.t(631)," ",n.createElement(o.default,{href:(0,l.getFrequentlyForwardedFaqUrl)()},c.default.t(794)));return n.createElement("div",{className:d.default.wrapper},n.createElement("div",{className:d.default.icon},n.createElement(h.default,{name:"highly-forwarded"})),n.createElement(r.default,{theme:"plain",primary:a,idle:!0}))};var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("djaiggcdb")),l=a("facgccaif"),d=i(a("cfchibgehh")),c=i(a("bdjjabfecc")),h=i(a("dgdcjccfdi"))},ciehddchae:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=a("ceagbbhcha"),l=s(a("ccjdjhjhij")),d=a("dbgjdhbdaj"),c=s(a("ebddggeaib")),h=s(a("dbfgeggab")),u=s(a("badjagjaja")),f=s(a("diffaiehid")),p=s(a("dfefggiaaf"));class m extends r.Component{constructor(e){super(e),this.setOverlay=e=>{this.overlay=e},this.onLocationChanged=()=>{this.props.marker.isLive&&this.props.marker.onLocationChanged()},this.onLastUpdatedTimeChanged=()=>{if(this.props.marker.isLive){null!=this.timeoutId&&(this.props.clearTimeout(this.timeoutId),this.timeoutId=null);var e=(0,d.isStale)(this.props.marker.cluster);this.state.stale!==e&&this.setState({stale:e}),e||this.setStaleTimeout()}},this.getPixelPositionOffset=(e,t)=>({x:-e/2,y:-t}),this.state={stale:!e.marker.isLive||(0,d.isStale)(e.marker.cluster)}}componentDidMount(){if(this.props.marker.isLive){var{cluster:e}=this.props.marker;(0,d.isStale)(e)||this.setStaleTimeout(),e.participants.forEach(e=>{this.props.listeners.add(e,"change:lat change:lng",this.onLocationChanged),this.props.listeners.add(e,"change:lastUpdated",this.onLastUpdatedTimeChanged)})}}setStaleTimeout(){if(this.props.marker.isLive){var{cluster:e}=this.props.marker,t=d.STALE_THRESHOLD-(0,d.getSmallestElapsedTime)(e);t<=0||(this.timeoutId=this.props.setTimeout(()=>this.setState({stale:!0}),1e3*t))}}getMapPaneName(){return this.props.marker.onClick?o.OverlayView.OVERLAY_MOUSE_TARGET:o.OverlayView.OVERLAY_LAYER}render(){var e,t,a,i,{onClick:s,selected:c}=this.props.marker,{stale:f}=this.state;if(this.props.marker.isLive){var{cluster:m}=this.props.marker;e=m.lat,t=m.lng,a=m.participants.map(({id:e})=>e)}else e=this.props.marker.lat,t=this.props.marker.lng,a=[this.props.marker.contact.id];if(c){var g,b,v;if(this.props.marker.isLive){var{cluster:E}=this.props.marker,j=E.participants,C=E.hasSingleParticipant()?j.at(0):null;C&&(g=C.id,b=C.accuracy,v=C.isMe)}else{var{contact:S}=this.props.marker;g=S.id,v=S.isMe}g&&(i=r.createElement(u.default,{id:g,lat:e,lng:t,accuracy:b,isMe:v||!1,markerSize:d.MARKER_SIZE}))}return r.createElement(o.OverlayView,{ref:this.setOverlay,position:{lat:e,lng:t},mapPaneName:this.getMapPaneName(),getPixelPositionOffset:this.getPixelPositionOffset},r.createElement(p.default.Provider,{value:this.context},r.createElement("div",{className:(0,n.default)(h.default.container,{[h.default.selected]:c}),onClick:s},i,r.createElement("div",{className:(0,n.default)(h.default.glow,{[h.default.stale]:f,[h.default.expired]:!this.props.marker.isLive}),style:{height:d.AVATAR_SIZE,width:d.AVATAR_SIZE,padding:d.GLOW_SIZE}},r.createElement("div",null,r.createElement(l.default,{ids:a,size:d.IMAGE_SIZE,border:!0,showCount:!0}))),r.createElement("div",{className:(0,n.default)(h.default.pin,{[h.default.selected]:c}),style:{height:d.PIN_SIZE,width:d.PIN_SIZE,marginLeft:(d.MARKER_SIZE-d.PIN_SIZE)/2}}))))}}m.contextType=p.default;var g=(0,f.default)((0,c.default)(m));t.default=g},ciidebiahb:function(e,t){e.exports={popup:"_3-I8j",container:"_15ru1",twoLines:"_3tmOQ",name:"-XV84",status:"_23QuI",menuButton:"_3R0C1",triangle:"_2UAPi"}},cijddbbaja:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("jbgeabaaj")),r=i(a("ddhijeejag")),o=s(a("cagaiadjai")),l=s(a("dahagdijgh")),d=s(a("bjheffjbgd")),c=i(a("bjjhgjdbhd")),h=a("eajdbbfgfg"),u=s(a("bdjjabfecc")),f=s(a("bijffg")),p=a("dcfieddiah"),m=s(a("ebddggeaib")),g=s(a("deedfgdbdj")),b=s(a("bdcchebfge")),v=i(a("dgjfidhijd")),E=s(a("dgaefbheia")),j=s(a("dceicchccd")),C=a("cjfegjecaj"),S=s(a("dgdcjccfdi")),_=0,M=1,I=2;class y extends r.Component{constructor(e){super(e),this.selectedLabels=new j.default([],e=>e.id),this.changeSet=new Set,this.onMultiSelect=e=>{e&&(this.initialLabelState[e]===I?this.changeSet.add("{labelId}_changed"):this.changeSet.has(e)?this.changeSet.delete(e):this.changeSet.add(e),this.forceUpdate())},this.constructLabelCountMap=()=>{var e={},{modelsToUpdate:t}=this.props;return t.forEach(t=>{var a=(0,C.unproxy)(t);a.labels&&a.labels.forEach(t=>{e[t]=e[t]?++e[t]:1})}),e},this.onUpdateLabelsOK=()=>{(0,p.logLabelOperationEvent)(b.default.LABEL_OPERATIONS.CLICK_POSITIVE,this.props.modelsToUpdate.length,b.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var e=this.selectedLabels.list,t=this.selectedLabels.selected,a=e.map((e,a)=>({id:e.id,type:t[a]?"add":"remove"}));f.default.addOrRemoveLabels(a,this.props.modelsToUpdate),this.props.onLabelUpdateComplete&&this.props.onLabelUpdateComplete()};var{modelsToUpdate:t}=this.props,a=this.constructLabelCountMap();this.initialLabelState=(0,n.default)(a,e=>e===t.length?M:e>0?I:_)}render(){var e=r.createElement(o.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},u.default.t(1192)),t=r.createElement(o.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},u.default.t(1497)),a=(0,h.canEditLabel)()&&r.createElement("div",{className:g.default.newLabelBtn},r.createElement(o.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},r.createElement(S.default,{name:"plus-large",className:g.default.plus,display:"inline"}),u.default.t(191)));return r.createElement(v.default,{type:v.TowerModalType},r.createElement(l.default,{key:"mange_label_modal",theme:"labels"},r.createElement(c.default,{title:u.default.t(785),type:c.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),r.createElement(d.default,{"data-list-scroll-container":!0,theme:"padding"},r.createElement(E.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContext:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),a,r.createElement("div",{className:g.default.actionBtns},t,e)))}}var T=(0,m.default)(y);t.default=T},cijgjfcbg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("effbcehec")),o=i(a("cfadcbbiie")),l=i(a("dhigahgdjb")),d=i(a("hhcjfgifh")),c=a("cdhbdacigj"),h=s(a("bgheieccaj")),u=i(a("bfchfhibba")),f=i(a("dbfjeecgih")),p=a("ddbdgibbbi"),m=i(a("bhbdiadfhj")),g=i(a("bdjjabfecc")),b=i(a("ebddggeaib")),v=i(a("cahfddcdga")),E=i(a("bfgbdiffgd")),j=i(a("ceggieaiij")),C=i(a("bgcdajbhif")),S=i(a("dfaibafaje")),_=i(a("bahcdceje")),M=i(a("dgdcjccfdi")),I="SEC_UNREAD",y="SEC_READ",T="SEC_MUTED",P="ROW_STATUS";class L extends n.Component{constructor(){super(...arguments),this.flatListController=new f.default,this.onStatusChange=()=>{var e=this.getUnreadStatusList(),t=this.getReadStatusList(),a=[...e,...t].filter(e=>e.contact.statusMute);this.setState({unreadStatusList:e.filter(e=>!e.contact.statusMute),readStatusList:t.filter(e=>!e.contact.statusMute),mutedStatusList:a,myStatus:C.default.getMyStatus()})},this.onContactMuteChange=()=>{var e=this.getUnreadStatusList(),t=this.getReadStatusList(),a=[...e,...t].filter(e=>e.contact.statusMute);this.setState({unreadStatusList:e.filter(e=>!e.contact.statusMute),readStatusList:t.filter(e=>!e.contact.statusMute),mutedStatusList:a,myStatus:C.default.getMyStatus()})},this.toggleMuted=()=>{this.setState(e=>({isMutedExpanded:!e.isMutedExpanded}))},this.renderItem=e=>{switch(e.type){case I:return n.createElement("div",{className:S.default.listSectionSep},n.createElement("hr",null),n.createElement("div",{className:S.default.listSectionText},n.createElement("span",null,g.default.t(1275))));case y:return n.createElement("div",{className:S.default.listSectionSep},n.createElement("hr",null),n.createElement("div",{className:S.default.listSectionText},n.createElement("span",null,g.default.t(1281))));case T:return n.createElement("div",{className:S.default.listSectionSep},n.createElement("hr",null),n.createElement("div",{className:S.default.listSectionText},n.createElement("span",null,g.default.t(1269)),n.createElement("button",{className:S.default.listSectionAction,onClick:this.toggleMuted},e.expanded?g.default.t(1266):g.default.t(1267))));case P:return n.createElement(j.default,{statusV3:e.status,onClick:()=>this.props.onOpenStatus(e.status,void 0,e.index),contact:e.status.contact});default:throw new h.UnknownDataError(e)}};var e=this.getUnreadStatusList(),t=this.getReadStatusList(),a=[...e,...t].filter(e=>e.contact.statusMute);this.state={unreadStatusList:e.filter(e=>!e.contact.statusMute),readStatusList:t.filter(e=>!e.contact.statusMute),mutedStatusList:a,myStatus:C.default.getMyStatus(),isMutedExpanded:!1}}componentDidMount(){this.props.listeners.add(C.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(l.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(C.default,"sync",()=>{this.forceUpdate()})}getUnreadStatusList(){return C.default.getUnexpired(!0)}getReadStatusList(){return C.default.getUnexpired(!1)}getData(){var{unreadStatusList:e,readStatusList:t,mutedStatusList:a}=this.state,i=[];return e.length>0&&(i.push({type:I,itemKey:"section-unread",height:48}),i.push(...e.map((e,t)=>({type:P,itemKey:e.id.toString(),height:64,status:e,index:t})))),t.length>0&&(i.push({type:y,itemKey:"section-read",height:48}),i.push(...t.map((e,t)=>({type:P,itemKey:e.id.toString(),height:64,status:e,index:t})))),a.length>0&&(i.push({type:T,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&i.push(...a.map((e,t)=>({type:P,itemKey:e.id.toString(),height:64,status:e,index:t})))),i}render(){var e,t=this.getData();return e=C.default.hasSynced()&&t.length>0?n.createElement(h.default,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:this.flatListController,direction:"vertical",data:t,renderItem:this.renderItem}):n.createElement(c.ListStatus,null),n.createElement("div",{className:S.default.listPanel},n.createElement(w,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),n.createElement(u.default,{className:S.default.listBody,flatListControllers:[this.flatListController]},e))}}class w extends n.Component{render(){var e,t,a,i=this.props.statusV3;i&&(a=i.msgs);var s,l,c,h,u=()=>{var e=i&&i.msgs;i&&e&&e.length&&this.props.onOpenStatus(i,e.head(),0)};if(i&&a&&a.length){e=n.createElement(_.default,{statusV3:i,contact:i.contact,onClick:u});var f=(0,v.default)(a.last(),"myMsgs.last()").t;t=n.createElement("span",{className:S.default.secondaryHeaderText},E.default.statusRanking&&m.default.supportsFeature(m.default.F.STATUS_RANKING)?g.default.t(1272,{count:a.length,_plural:a.length}):o.default.relativeDateAndTimeStr(f)),l={cursor:"pointer"},s=u}else e=n.createElement(d.default,{id:(0,p.getMaybeMeUser)(),theme:"status_v3",size:40}),t=n.createElement("span",{"data-a8n":r.default.key("status-no-updates"),className:S.default.secondaryHeaderText},g.default.t(1271));m.default.supportsFeature(m.default.F.STATUS_V3_UI_SENDING)&&(c=n.createElement(M.default,{name:"menu"}),h=n.createElement(M.default,{name:"status-v3-create"}));var b=n.createElement("span",{"data-a8n":r.default.key("my-status"),className:S.default.primaryHeaderText},g.default.t(1270));return n.createElement("div",{className:S.default.panelHeader,style:l,onClick:s},n.createElement("div",{className:S.default.headerButtonsPrimary},e),n.createElement("div",{className:S.default.headerText},b,t),n.createElement("div",{className:S.default.headerButtonsSecondary},h,c))}}var k=(0,b.default)(L);t.default=k},cijhbdaifj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ejegihaeh")),o=i(a("bdjjabfecc")),l=i(a("cahfddcdga")),d=s(a("chbeahhfcj")),c=i(a("biebgdijhi")),h=i(a("bfgbdiffgd")),u=(e,t)=>{var a,i,s,[u,f]=n.useState(!1),[p,m]=n.useState([]);return h.default.productCatalogDeeplink&&(i=(e,t,a)=>{f(0===a.length)},s=e=>{var t=e;m(t),f(t.length>0)},a=n.createElement(c.default,{disabled:!u,onClick:()=>{var t,a=(0,l.default)(null===(t=p[0])||void 0===t?void 0:t.catalogWid,"products[0]?.catalogWid"),i=(0,l.default)(r.default.get(a),"CatalogCollection.get(catalogWid)");e.onShare(i)}})),n.createElement(d.default,{ref:t,title:o.default.t(1249),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:d.ListType.PRODUCT_SELECT_MODAL,enableSearchBox:!1,customHeader:a,onSelectionChanged:i,onDataLoaded:s})},f=n.forwardRef(u);t.default=f},cjdjhiiai:function(e,t){e.exports={wrapper:"A0YD9",offline:"Q7sF6",circle:"_1g2Xy",text:"_156iv",notification:"_3nNEI",ended:"_3Uzky",lastUpdated:"_1W9s1"}},cjfjhjdfaa:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("ccbgfecegc")),l=s(a("ebddggeaib")),d=s(a("bgcdajbhif")),c=s(a("cijgjfcbg")),h=s(a("caghhccge")),u=s(a("eafijicig")),f=s(a("dgdcjccfdi"));class p extends r.Component{constructor(e){super(e),this.onStatusAddRemove=()=>{this.setState({status:d.default.getMyStatus()})},this.state={status:d.default.getMyStatus()}}shouldComponentUpdate(e,t){return t.status!==this.state.status}componentDidMount(){var{sessionId:e,listeners:t}=this.props;t.add(d.default,"add remove",this.onStatusAddRemove),t.add(o.default,"dismiss_status_v3_viewer",()=>{this.props.closeStatusViewer(!0)}),null!=e&&d.default.logMetrics({type:"session",sessionId:e})}render(){var{onOpenStatus:e}=this.props,t=(0,n.default)(h.default.v3_x,{});return r.createElement("div",{className:h.default.modalBackground,"data-animate-status-v3-modal-background":!0},r.createElement("div",{className:h.default.mainWrapper},r.createElement(c.default,{onOpenStatus:e}),r.createElement(u.default,{status:this.state.status,onOpenStatus:e}),r.createElement("button",{className:t,onClick:()=>this.props.closeStatusViewer(!0)},r.createElement(f.default,{name:"x-viewer"}))))}}var m=(0,l.default)(p);t.default=m},cjgeeiibdf:function(e,t){e.exports={linkContainer:"_3lSC7",descContainer:"_3Lv7w",icon:"_2znQw"}},cjjadhbjij:function(e,t){e.exports={header:"_3ygvN"}},cjjdibgija:function(e,t){e.exports={imageGallery:"uAhm_",imageGalleryList:"_1_fJf",imageGalleryItem:"_1D2sB",imageGalleryItemSpacer:"_16qgZ",imageGalleryItemImage:"_3OWTa",imageGalleryItemOverlay:"_16L2A",selected:"_2le5A",imageGalleryFooter:"_1IkH4",focusAnimation:"_1F7Ve",focusAnimationKeyframes:"_4kAG-"}},cjjfbiafb:function(e,t){e.exports={body:"_2JElZ",thumbs:"naICS",thumbsContainer:"_2NR6P",btnSend:"_3ipVb",captionInput:"NOlXp",mediaBody:"tnocY",invalidContainer:"_181LZ",invalidMedia:"zU9F8",mediaWarning:"R4XJG",btnAdd:"wPm43",btnAddDisabled:"_2kBns",btnAddText:"Bu0YU",btnViewOnce:"vdEA0",btnViewOnceActive:"_3C5Ax"}},dababjcdei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("effbcehec")),o=i(a("debbidcgjc"));class l extends n.Component{render(){return n.createElement("div",{className:o.default.overlay,key:"avatar-overlay"},n.createElement("div",{className:o.default.icon},this.props.icon),n.createElement("div",{"data-a8n":r.default.key("avatar-text"),className:o.default.text},this.props.text))}}t.default=l},dacaegbbf:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("gcfidijgh")),n=a("cgffhfegce"),r=i(a("edbaidcaf"));class o{constructor(e,t,a,i){this.updateEditData=e=>{this.saveEdits(),this.editData=(0,s.default)({},this.editData,e)},this.updateEditItems=(e,t)=>{this.saveEdits();var a=[];this.editData.items&&this.editData.items.forEach(e=>{e!==t&&a.push(e)}),a.push(e),this.editData.items=a},this.saveEdits=()=>{var e=new o(this.media,this.originalImage,this.editData,this.previous);this.previous=e},this.revertEdit=()=>{this.previous&&(this.editData=this.previous.editData,this.previous=this.previous.previous)},this.saveEditsFromCanvas=e=>{var t=e.toDataURL();this.editedImage||(this.editedImage=new Image),this.editedImage.src=t},this.exportEditedMedia=()=>{if(this.hasEdits()&&this.editedImage){var e=this.editedImage.src;return r.default.dataURLtoFile(e)}return this.media instanceof File?this.media:(0,n.createFile)([this.media],"",{type:this.media.type})},this.hasEdits=()=>!!this.previous&&this.editedImage,this.cleanUp=()=>{window.URL.revokeObjectURL(this.originalImage.src)},this.media=e,t?this.originalImage=t:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(e)),this.previous=i,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,s.default)(this.editData,a)}}t.default=o},dacbhighjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("effbcehec")),o=i(a("bfjhddbcc")),l=a("bfcfjggjab"),d=i(a("bdjjabfecc")),c=i(a("dcdbbhicce")),h=a("dhhjhedjij");class u extends n.Component{render(){var e,t,a;switch(this.props.section){case l.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case l.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case l.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}a=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var i=d.default.t(896,a);return n.createElement("div",{"data-a8n":r.default.key("msg-info-remaining"),className:o.default.footer},n.createElement(h.TextSpan,{theme:"muted"},i))}}u.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]};var f=(0,c.default)(u,u.CONCERNS);t.default=f},dadhdecijh:function(e,t){e.exports={date:"_2rxVN",info:"_2W4x7"}},dbdjeddfia:function(e,t){e.exports={animation:"kwVN3","play-ltr":"_1wpie",playLtr:"_1wpie","play-rtl":"_36OcQ",playRtl:"_36OcQ",versionInfo:"_1IEZb"}},dbeeeigche:function(e,t){e.exports={container:"_2HpXF",list:"_3SqHj",header:"_1aVdx",item:"_2o2o5",right:"_21V_O",left:"_1YzaX",close:"D6FRW",name:"_32wS_",time:"_3ue7J"}},dbfgeggab:function(e,t){e.exports={container:"_1A89-",selected:"_2QMnt",glow:"_3eZS1",stale:"_2Hfgh",expired:"_30HHF",pin:"_3Q8RX"}},dbgbgeefcf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bjcdghhbjh")),o=s(a("dighcbdehd")),l=i(a("dbdfbgehgj")),d=i(a("hgigjbgie")),c=s(a("ieeidjijb")),h=i(a("cjjadhbjij")),u=s(a("bgheieccaj")),f=i(a("dhfbfehaef")),p=i(a("bdjjabfecc")),m=i(a("baabifghjg")),g=i(a("dcaibchbg"));class b extends n.PureComponent{constructor(...e){super(...e),this.selection=new g.default([],e=>e.id.toString()),this.getSelectionList=()=>{var{contacts:e,frequentContacts:t}=this.props,a=[],i=[];return e.forEach(e=>{if(e.isGroup){var t=l.default.get(e.id);t&&i.push(t)}else a.push(e)}),(t||[]).concat(a).concat(i)},this.onFocusGain=e=>{e.target===this.refList&&(this.selection.index<0?this.focusFirst():this.selection.reset(!0))},this.focusFirst=()=>{this.selection.setFirst(!0)},this.onNextContact=e=>{e.preventDefault(),e.stopPropagation(),this.selection.setNext(!0)},this.onPrevContact=e=>{e.preventDefault(),e.stopPropagation(),this.selection.prev()>-1?this.selection.setPrev(!0):(this.selection.unset(),this.props.onFocusSearch(e))},this.setRefHotKeys=e=>{this.refList=e},this.renderContact=(e,t)=>{var a;return e.isBlocked()&&(a=p.default.t(470)),n.createElement(c.default,{active:this.selection,contact:e,onClick:this.props.onClick,secondary:a,frequent:t,waitIdle:!0})},this.renderItem=e=>{switch(e.type){case 0:return n.createElement(m.default,{key:"frequent-contacts-header",header:p.default.t(1545)});case 3:var{data:t,frequent:a}=e;return this.renderChat(t,a);case 2:var{data:i,frequent:s}=e;return this.renderContact(i,s);case 1:var{data:o,separator:l}=e;return n.createElement("div",{className:h.default.header},l?n.createElement(r.default,{key:"separator-".concat(o)}):null,n.createElement(m.default,{header:o}));default:throw new u.UnknownDataError(e)}}}renderChat(e,t){return n.createElement(o.default,{active:this.selection,chat:e,mode:o.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}getFrequentContactsData(e){var t=[];return e.forEach(e=>{var a=this.getContactDataItem(e,!0);a&&t.push(a)}),t}getContactDataItem(e,t){var a=(t?c.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var i=l.default.get(e.id);return i?{itemKey:a,data:i,type:3,frequent:t}:null}return{itemKey:a,data:e,type:2,frequent:t}}getData(){var{frequentContacts:e}=this.props,t=[],a=[],i=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:0}),t.push(...this.getFrequentContactsData(e))),this.props.contacts.forEach(e=>{e.isGroup?i.push(e):a.push(e)});var s=this.getDataFromContacts(a),n=this.getDataFromContacts(i);if(this.props.showPersonGroupDivisionHeader&&s.length>0){var r=p.default.t(1513);t.push({itemKey:"header-".concat(r),data:r,separator:!0,type:1})}if(t.push(...s),this.props.showPersonGroupDivisionHeader&&n.length>0){var o=p.default.t(1618);t.push({itemKey:"header-".concat(o),data:o,separator:!0,type:1})}return t.push(...n),t}getDataFromContacts(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",a=[],i=e.length>10,s="XXX",n=0;n<e.length;n++){var r=e[n];if(i&&r.header){var o=r.header;if(o!==s){var l=n<e.length-1&&o!==e[n+1].header;a.push({itemKey:"header-".concat(t,"-").concat(o),data:o,separator:l,type:1}),s=o}}var d=this.getContactDataItem(r);d&&a.push(d)}return a}render(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return n.createElement(f.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":d.default.TAB_ORDERS.CHAT_CONTACT_LIST},n.createElement(u.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"}))}}t.default=b},dbgjdhbdaj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestElapsedTime=i,t.isStale=function(e){return i(e)>=600},t.MARKER_SIZE=t.AVATAR_SIZE=t.PIN_SIZE=t.GLOW_SIZE=t.IMAGE_BORDER_SIZE=t.IMAGE_SIZE=t.STALE_THRESHOLD=void 0;t.STALE_THRESHOLD=600;t.IMAGE_SIZE=40;t.IMAGE_BORDER_SIZE=2;t.GLOW_SIZE=4;t.PIN_SIZE=4;t.AVATAR_SIZE=44;function i(e){var t=e.participants.map(e=>e.elapsedTime());return Math.min(...t)}t.MARKER_SIZE=52},dbjchidfej:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var n=s(a("dfadhaifh")),r=s(a("dbahhcabjf")),o=s(a("dbafiicfja")),l=s(a("dadhheahfi")),d=i(a("ddhijeejag")),c=i(a("dhajefgece")),h=s(a("ccbgfecegc")),u=s(a("hgigjbgie")),f=s(a("dahagdijgh")),p=s(a("bjheffjbgd")),m=i(a("bjjhgjdbhd")),g=a("cdhbdacigj"),b=i(a("cajijabhgb")),v=s(a("bbaacgghch")),E=s(a("ddajbaceej")),j=s(a("dhfbfehaef")),C=s(a("bhigchjbgb")),S=s(a("bdjjabfecc")),_=s(a("fiijdaaid")),M=s(a("dhccahhefj")),I=s(a("diffaiehid")),y=i(a("bjhgigfbec")),T=s(a("bcjcbbafcj")),P=a("bficeagfg"),L=s(a("cfidecfjad")),w=s(a("bjieiiccce")),k=s(a("dfjfejdjjh"));function N(){var e=(0,n.default)(["Image search failed"]);return N=function(){return e},e}function R(){var e=(0,n.default)(["Image search failed"]);return R=function(){return e},e}class D extends d.Component{constructor(e){super(e),this.setRefSearch=e=>{this.refSearch=e},this.setRefSearchHotkeys=e=>{this.refSearchHotkeys=e},this.setRefGallery=e=>{this.refGallery=e},this._search=(e,t)=>{this._hasPendingSearch=!1;var a=c.search(e,t).cancellable().then(t=>{a===this._searchPromise&&(this._addSearchResults(e,t),this.setState({isSearching:!1}))}).catchType(Promise.CancellationError,()=>{}).catch(()=>{__LOG__(3,!0)(R()),h.default.openToast(d.createElement(y.default,{msg:S.default.t(762),id:(0,y.genId)()})),a===this._searchPromise&&this.setState({isSearching:!1})}).finally(()=>{a===this._searchPromise&&(this._searchPromise=null)});this._searchPromise=a,this.setState({isSearching:!0})},this.handleUserInput=e=>{var t=(e||"").trim();if(!t)return this._cancelSearch(),void this._resetState();(0,P.numCodepoints)(t)<u.default.FTS_MIN_CHARS||t!==this.state.query&&(this._cancelSearch(),this._resetState(),this._requestSearch(t))},this.handleRequestMoreImages=()=>{this._hasPendingSearch||this._searchPromise||!this.state.totalEstimatedMatches||this.state.nextOffset>=this.state.totalEstimatedMatches||this._requestSearch(this.state.query,this.state.nextOffset)},this.handleImageClick=e=>{var t=this.state.imageData[e];if(t){var a=t.contentUrl;(T.default.isElectron?k.default.getRetry(a,w.default.RESP_TYPE.BLOB).then(e=>{if(200!==e.status)throw new b.ServerStatusError(null,a,e.status);return e.response}):L.default.downloadImage(a)).checkpoint(this.props.rejectOnUnmount()).then(e=>{if(!(e instanceof Blob))throw new b.ImageError("Server did not respond with image bytes",a);this.props.onImageSelected(e,t.hostPageUrl)}).catchType(b.Unmount,()=>{}).catch(()=>{__LOG__(3,!0)(N()),h.default.openToast(d.createElement(y.default,{msg:S.default.t(759),id:(0,y.genId)()}))})}},this.focusSearch=()=>{v.default.shouldIndicateFocus(),E.default.focus(this.refSearch)},this.focusGallery=e=>{e.repeat||this.refGallery&&this.refSearch&&this.refSearch.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),v.default.shouldIndicateFocus(),null!=this.refGallery&&E.default.focus(this.refGallery))},this.handleSearchFocus=()=>{v.default.maybeIndicateFocus(this.refSearchHotkeys)},this.state={imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0},this._hasPendingSearch=!1,this._searchPromise=null,this._debouncedSearch=this.props.debounce(this._search,750)}componentWillUnmount(){this._cancelSearch()}_requestSearch(e,t=0){this._hasPendingSearch=!0,this._debouncedSearch(e,t)}_cancelSearch(){this._hasPendingSearch&&(this._debouncedSearch.cancel(),this._hasPendingSearch=!1),this._searchPromise&&this._searchPromise.cancel()}_resetState(){this.setState({imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0})}_addSearchResults(e,t){this.setState(a=>{var i=(0,l.default)(t.value,e=>null==e?void 0:e.thumbnailUrl),s=(0,o.default)(t.value,e=>({id:e.imageId,thumbUrl:e.thumbnailUrl})),n=t.value.length,d={};return a.query===e?(d.nextOffset=t.nextOffset?t.nextOffset:a.nextOffset+n,d.thumbnails=(0,r.default)(a.thumbnails,s),d.totalEstimatedMatches=t.totalEstimatedMatches,d.imageData=Object.assign(i,a.imageData)):(d.imageData=i,d.nextOffset=t.nextOffset?t.nextOffset:n,d.query=e,d.thumbnails=s,d.totalEstimatedMatches=t.totalEstimatedMatches),d})}render(){var e,t=m.DRAWER_HEADER_TYPE.POPUP,a={down:this.focusGallery};return e=0===this.state.thumbnails.length?this.state.isSearching?d.createElement(g.SearchingImages,null):this.state.query?d.createElement(g.ImageSearchEmpty,null):d.createElement(g.BeforeImageSearch,null):d.createElement(C.default,{ref:this.setRefGallery,canLoadMore:this.state.nextOffset<this.state.totalEstimatedMatches,isLoadingMore:this.state.isSearching,thumbnails:this.state.thumbnails,onFocusPrev:this.focusSearch,onImageClick:this.handleImageClick,onRequestMoreImages:this.handleRequestMoreImages}),d.createElement(f.default,null,d.createElement(m.default,{title:S.default.t(766),type:t,onBack:this.props.onBack,onCancel:this.props.onCancel}),d.createElement(p.default,null,d.createElement(j.default,{onRef:this.setRefSearchHotkeys,handlers:a,onFocus:this.handleSearchFocus},d.createElement(_.default,{ref:this.setRefSearch,placeholder:S.default.t(763),onSearch:this.handleUserInput,loading:this.state.isSearching})),e))}}var O=D;t.Component=O;var A=(0,I.default)((0,M.default)(D));t.default=A},dbjdhjhjha:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{chat:t}=e,a=(0,o.default)(t.groupMetadata.groupInviteLink,"chat.groupMetadata.groupInviteLink"),i="".concat(r.default.t(712)," ").concat(a);return n.createElement(l.default,{title:r.default.t(696),text:i,pushTransition:"none",popTransition:"none"})};var n=s(a("ddhijeejag")),r=i(a("bdjjabfecc")),o=i(a("cahfddcdga")),l=i(a("dighgbcbbd"))},dccbiiffa:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),l=i(a("bfghieafac")),d=i(a("bdjjabfecc"));class c extends n.Component{constructor(...e){super(...e),this.handleCancel=()=>{r.default.closeModal()},this.handleOK=()=>{this.props.onConfirm(),r.default.closeModal()}}render(){return n.createElement(o.default,{title:d.default.t(682),onOK:this.handleOK,okText:d.default.t(682),onCancel:this.handleCancel,cancelText:d.default.t(1497)},n.createElement("div",{className:l.default.confirmationText},d.default.t(693,{groupName:this.props.chat.contact.name})))}}t.default=c},dcdefbibje:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("cfabbaghh"),r=s(a("ddhijeejag")),o=i(a("cfghhggjbg")),l=i(a("difhgjjfcb")),d=i(a("eafahcacji"));class c extends r.Component{constructor(e){super(e),this.initCanvas=()=>{var e=this.props.editedMedia.originalImage;e.complete?this.onImageLoad():e.onload=this.onImageLoad},this.onImageLoad=()=>{var e=this.props.editedMedia.editData;this.props.editedMedia.editedImage=null;var t=this.props.editedMedia.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){var a=new n.Easel.Bitmap(t);e.baseItem=a}this.drawCanvas(!0)},this.maybeInitStage=e=>{var t;return this.state.stage?t=this.state.stage:(t=new n.Easel.Stage(e)).enableMouseOver(),this.props.mediaEditController.stage=t,t},this.drawCanvas=(e,t)=>{if(this.refStaticCanvas&&this.refStaticCanvas.refCanvas){var a=this.refStaticCanvas.refCanvas;t&&this.props.mediaPickerStatsLogger&&this.props.mediaPickerStatsLogger.logChange(this.props.activeMediaId||-1,t);var i=this.props.editedMedia,s=i.editData,n=this.maybeInitStage(a);e&&(a.width=s.width,a.height=s.height),n.removeAllChildren(),null!=s.baseItem&&n.addChild(s.baseItem),s.items&&n.addChild(...s.items);var r=i.originalImage.naturalWidth,o=i.originalImage.naturalHeight;n.regX=r/2,n.regY=o/2,n.rotation=s.rotation,s.width&&s.height&&(n.x=s.width/2+s.scale*s.offsetX,n.y=s.height/2+s.scale*s.offsetY),n.scaleX=s.scale,n.scaleY=s.scale,n.update(),this.setState({canvasSize:{width:a.width,height:a.height},stage:n})}},this.saveCanvas=()=>{this.drawCanvas(!0);var e=this.refStaticCanvas&&this.refStaticCanvas.refCanvas;e&&this.props.editedMedia.saveEditsFromCanvas(e)},this.clearStage=e=>{e&&(e.children.forEach(e=>{e.removeAllEventListeners()}),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())},this.setRefStaticCanvas=e=>{this.refStaticCanvas=e},this.setRefMediaContainer=e=>{this.refMediaContainer=e},this.setRefCropOverlay=e=>{this.refCropOverlay=e},this.updateCanvasSize=(e,t)=>{this.setState({canvasSize:{width:e,height:t}})},this.state={canvasSize:{height:1,width:1},stage:null,mediaContainer:null}}componentDidMount(){this.initCanvas(),this.setState({mediaContainer:this.refMediaContainer}),this.cropOverlay=new n.Easel.Stage(this.refCropOverlay),this.cropOverlay.autoClear=!1,this.cropOverlay.enableMouseOver(),this.refMediaContainer&&(this.props.mediaEditController.mediaContainer=this.refMediaContainer),this.props.mediaEditController.cropOverlay=this.cropOverlay}componentWillUnmount(){var e=this.props.editedMedia.originalImage;e.complete||(e.onload=void 0),this.saveCanvas(),this.clearStage(this.state.stage),this.clearStage(this.cropOverlay)}render(){var e=r.createElement("canvas",{ref:this.setRefCropOverlay,className:o.default.cropOverlay});return r.createElement("div",{className:this.props.className,ref:this.setRefMediaContainer},r.createElement(l.default,{type:this.props.fitType||"scaleDown",size:this.state.canvasSize},e,r.createElement(d.default,{ref:this.setRefStaticCanvas,className:o.default.mediaViewerImg})))}}t.default=c},dcebgggdhi:function(e,t){e.exports={container:"_27Jlt",border:"_3tkqu",square:"yMINV",avatar:"_1Olyg",count:"L-Jkb",two:"_3OQ-5",first:"_3qJZa",second:"_3Aczi",three:"_20doK",third:"_6fzuE",four:"_2uTWL",fourth:"_3o-2t"}},dcejeebede:function(e,t){e.exports={container:"_3pj7z",body:"_23B__",footer:"_2Ppdl",retakeBtn:"_2al2V",retakeIcon:"_3vJtp",caption:"_3d978",videoContainer:"_3P_u3",video:"_2TaxI",btn:"ZMREK",videoInactive:"_1NlLU",btnSend:"_1bxsX",image:"BImGF",snapshot:"_1FMe7"}},dcfihjeedb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dgffihajaa")),r=i(a("bdeebiagii")),o=i(a("dbjchidfej")),l=s(a("ddhijeejag"));class d extends r.default{constructor(...e){super(...e),this.onImageSelected=(e,t)=>{this.push(l.createElement(n.default,{onCancel:this._handleCancel,attributionUrl:t,onFinished:this.onFinished,onRetake:this._pop,retryText:n.RETRY_OPTIONS.NONE,img:e}))},this._handleCancel=()=>{this.end()},this._pop=()=>{this.pop()},this.onFinished=(e,t)=>{this.props.onFinished(e,t),this.end()}}componentDidMount(){this.push(l.createElement(o.default,{onCancel:this._pop,onImageSelected:this.onImageSelected}))}}t.default=d},dcgdbhbjdi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("effbcehec")),o=i(a("cefccdiabc")),l=i(a("cfadcbbiie")),d=i(a("bgddgdiefd"));t.default=({title:e,icon:t,t:a})=>{var i=null!=a?l.default.relativeDateAndTimeStr(a):"-",s=n.createElement("div",{className:d.default.title,"data-a8n":r.default.key("msg-info-title")},t,e);return n.createElement(o.default,{primary:s,secondary:i,theme:"plain",idle:!0})}},dcjahegieh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("cebbffhbdf")),r=s(a("dahagdijgh")),o=s(a("bjheffjbgd")),l=i(a("bjjhgjdbhd")),d=s(a("bdjjabfecc")),c=s(a("dagdiahdfi")),h=i(a("ddhijeejag"));t.default=e=>h.createElement(r.default,null,h.createElement(l.default,{a8n:"drawer-title-notifications",title:d.default.t(1052),onBack:e.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),h.createElement(o.default,null,h.createElement(n.default,{key:"notifications",mute:c.default.globalMute()})))},ddcjddjgfe:function(e,t){e.exports={list:"_1tupn",stopSharingButton:"hIU_h"}},dddhbbadie:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=a("ebjaejiaba"),o=i(a("dahagdijgh")),l=i(a("bjheffjbgd")),d=s(a("bjjhgjdbhd")),c=i(a("gfebgebbi")),h=i(a("dhfbfehaef")),u=i(a("bdjjabfecc")),f=s(a("dgjfidhijd")),p=i(a("deffjjfcba")),m=i(a("dgdcjccfdi")),g=i(a("bdhddbagij")),b=i(a("ecbejhejff")),v=a("cjjdjbcgjh");class E extends n.Component{render(){var e,{contactList:t,onSend:a,onBack:i,chat:s}=this.props;switch(s.kind){case r.CHAT_KIND.CHAT:e=u.default.t(455,{chat:s.title(),count:u.default.n(t.length),_plural:t.length});break;case r.CHAT_KIND.GROUP:e=u.default.t(456,{chat:s.title(),count:u.default.n(t.length),_plural:t.length});break;case r.CHAT_KIND.BROADCAST:e=u.default.t(454,{chat:s.title(),count:u.default.n(t.length),_plural:t.length})}var b=e?n.createElement(c.default,{text:e,direction:"auto",titlify:!0,ellipsify:!0}):null;return n.createElement(f.default,{type:f.BoxModalType},n.createElement(o.default,null,n.createElement(d.default,{type:d.DRAWER_HEADER_TYPE.POPUP,onBack:i},b),n.createElement(l.default,null,n.createElement(h.default,null,n.createElement("div",{className:g.default.body},t.map((e,t)=>this.renderVcard((0,v.vcardFromContactModel)(e),t.toString()))))),n.createElement("div",{className:g.default.btnContainer},n.createElement("div",{className:g.default.btnPosition},n.createElement(p.default,{large:!0,onClick:a},n.createElement(m.default,{name:"send",directional:!0}))))))}renderVcard(e,t){var a=(0,v.parseVcard)(e.vcard);return a?n.createElement("div",{key:t,className:g.default.vcardWrapper},n.createElement(b.default,{parsedVcard:a,thumbnail:(0,v.vcardThumbnail)(a)})):null}}t.default=E},ddfaijbfgj:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ffedgcdgj")),r=i(a("ddhijeejag")),o=a("dfdebdgdei"),l=s(a("ccbgfecegc")),d=s(a("hgigjbgie")),c=s(a("bdeebiagii")),h=s(a("bdjjabfecc")),u=i(a("chbeahhfcj")),f=s(a("bfgbdiffgd"));class p extends c.default{constructor(...e){var t;super(...e),t=this,this._handleForwardConfirmed=e=>{e.forEach(function(){var e=(0,n.default)((function*(e){e.isUser&&e.contact.isBlocked()&&(yield(0,o.unblockContact)(e.contact)),t._sendProduct(e)}));return function(){return e.apply(this,arguments)}}()),this.end(),1===e.length&&(l.default.openChatFromUnread(e[0]),window.innerWidth<=d.default.LAYOUT_2COLUMNS_MAX_WIDTH&&l.default.closeDrawerRight()),this.props.onSend&&this.props.onSend()},this._handleCancel=()=>{this.end()},this._sendProduct=e=>{var{product:t}=this.props;l.default.once("ui_idle",()=>{e.sendProductMessage(t)})}}componentDidMount(){l.default.closeContextMenu(),l.default.closeTooltip(),this.push(r.createElement(u.default,{onConfirm:this._handleForwardConfirmed,maxItems:f.default.multicastLimitGlobal,title:h.default.t(935),listType:u.ListType.CHAT_SELECT_MODAL,onCancel:this._handleCancel}))}}t.default=p},ddffdjfeag:function(e,t){e.exports={thumb:"XHdVe",active:"_2sFmi",body:"_1_kax",btnDelete:"_3Ruaa",bodyDoc:"_1PUEX"}},ddgehgjfdd:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ID_SEPARATOR=void 0;var s=i(a("gabccaieg")),n=a("heaagdjji");t.ID_SEPARATOR=",";t.default=class{constructor(...e){this.participants=new s.default,e.forEach(e=>this.add(e))}get id(){return this.participants.map(({id:e})=>e.toString()).join(",")}get center(){var e=this.participants.map(({lat:e})=>e),t=this.participants.map(({lng:e})=>e);return{lat:(Math.min(...e)+Math.max(...e))/2,lng:(Math.min(...t)+Math.max(...t))/2}}get lat(){return this.center.lat}get lng(){return this.center.lng}get length(){return this.participants.length}get northeast(){var e=this.participants.map(({lat:e})=>e),t=this.participants.map(({lng:e})=>e);return{lat:Math.max(...e),lng:Math.max(...t)}}get southwest(){var e=this.participants.map(({lat:e})=>e),t=this.participants.map(({lng:e})=>e);return{lat:Math.min(...e),lng:Math.min(...t)}}add(e){this.participants.add(e)}hasSingleParticipant(){return 1===this.length}fits(e,t,a){var{lat:i,lng:s}=this.center,{lat:r,lng:o}=e,l=(0,n.getMetersBetweenLatLngs)(i,s,i,o),d=(0,n.getMetersBetweenLatLngs)(i,s,r,s),c=(0,n.getMetersPerPixel)(i,t);return l/c<=a&&d/c<=a}}},ddggdgafij:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("dgebcfedgb")),l=i(a("jhjbdcjbc")),d=i(a("bdjjabfecc"));class c extends n.Component{constructor(...e){super(...e),this.onCapture=()=>{r.default.openModal(n.createElement(l.default,{onFinished:this.props.onImageTake}))}}render(){return n.createElement(o.default,{action:this.onCapture,a8n:"mi-take-photo",disabled:this.props.disabled},d.default.t(1304))}}t.default=c},ddigiajeji:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("effbcehec")),o=i(a("ebcagbhefg")),l=i(a("ccbgfecegc")),d=i(a("hgigjbgie")),c=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),u=s(a("bjjhgjdbhd")),f=i(a("ddeefhbafc")),p=s(a("cajijabhgb")),m=s(a("bgheieccaj")),g=i(a("dbfjeecgih")),b=a("eajdbbfgfg"),v=i(a("bdijbhadid")),E=i(a("bfjhddbcc")),j=i(a("dacbhighjj")),C=a("bfcfjggjab"),S=i(a("jheedhagg")),_=a("dhegcfddhg"),M=i(a("chhebaafhb")),I=i(a("bdjjabfecc")),y=i(a("ebddggeaib")),T=a("edagdaii"),P=i(a("biecbbiiee")),L=i(a("eigdejjai")),w=i(a("eahdicfdjf")),k=i(a("cbccffhcjb")),N=i(a("cahfddcdga")),R=i(a("dhccahhefj")),D=i(a("eafdabbdgj")),O=i(a("bfgbdiffgd")),A=i(a("ecdebjcgfa")),x=i(a("dcdbbhicce")),U=i(a("dgdcjccfdi")),F=a("dhhjhedjij"),B=s(a("bjhgigfbec")),V=i(a("ccbcihdfhg"));class G extends n.Component{constructor(...e){super(...e),this.flatListController=new g.default,this.setRefScrollable=e=>{this.refScrollable=e},this.state={msgInfo:void 0,unimplemented:!1},this.wrapper=null,this.isMsgVisible=(e,t=!1)=>e===this.props.msg.id&&(!!t||this.getMsgComponent()),this.onClose=()=>{this.props.uim.uie.requestDismiss()},this.getHeaderAtSection=e=>{var t,a;switch(e){case C.SECTIONS.PLAYED_HEADER:a=n.createElement(U.default,{name:"status-ptt",className:E.default.pttBlue}),t=I.default.t(893);break;case C.SECTIONS.READ_HEADER:a=n.createElement(U.default,{name:"status-dblcheck",className:E.default.ack}),t=I.default.t(895);break;case C.SECTIONS.DELIVERED_HEADER:a=n.createElement(U.default,{name:"status-dblcheck"}),t=I.default.t(891)}return a=n.createElement("div",{className:E.default.titleIcon},a),n.createElement("div",{"data-a8n":r.default.key("msg-info-title"),className:E.default.title},n.createElement(D.default,{side:a,ellipsify:!0},n.createElement(F.TextSpan,{theme:"section-title"},t)))},this.getFooterAtSection=e=>{var t=(0,N.default)(this.state.msgInfo,"this.state.msgInfo");return n.createElement(j.default,{key:e,section:e,msgInfo:t})},this.renderItem=e=>"MSG_INFO_ROW"===e.type?this.getInfoCell(e.participant):e.type===C.SECTIONS.FORWARD_COUNT?this.getForwardCount():e.type===C.SECTIONS.PLAYED_HEADER||e.type===C.SECTIONS.READ_HEADER||e.type===C.SECTIONS.DELIVERED_HEADER?this.getHeaderAtSection(e.type):this.getFooterAtSection(e.type)}componentDidMount(){var e;L.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.setState({msgInfo:e}),this.props.listeners.add(e.played,"add remove",()=>{this.forceUpdate()}),this.props.listeners.add(e.read,"add remove",()=>{this.forceUpdate()}),this.props.listeners.add(e.delivery,"add remove",()=>{this.forceUpdate()})}).catchType(p.Unmount,()=>{}).catch(()=>{this.setState({unimplemented:!0}),l.default.openToast(n.createElement(B.default,{msg:I.default.t(933),id:(0,B.genId)("msg_info_failed")}))});var t=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===d.default.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(e,t)=>{t===P.default&&this.props.uim.uie.requestDismiss()})}getAnimateEnterClass(e){return"animate-enter".concat(-1===e?"":e)}getMsgComponent(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}getInfoCell(e){return n.createElement(v.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}getForwardCount(){return O.default.hfmStringChanges?null:n.createElement("div",{className:E.default.forwardCount},n.createElement(w.default,{msg:this.props.msg}))}getData(){var{msg:e}=this.props,{msgInfo:t}=this.state,a=[];return t&&t.isPTT&&(a.push({type:C.SECTIONS.PLAYED_HEADER,itemKey:C.SECTIONS.PLAYED_HEADER,height:50}),a.push(...t.played.map(e=>({participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:m.DEFAULT_ITEM_HEIGHT}))),t.playedRemaining>0&&a.push({type:C.SECTIONS.PLAYED_FOOTER,itemKey:C.SECTIONS.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(a.push({type:C.SECTIONS.READ_HEADER,itemKey:C.SECTIONS.READ_HEADER,height:50}),a.push(...t.read.map(e=>({participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:m.DEFAULT_ITEM_HEIGHT}))),t.readRemaining>0&&a.push({type:C.SECTIONS.READ_FOOTER,itemKey:C.SECTIONS.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(a.push({type:C.SECTIONS.DELIVERED_HEADER,itemKey:C.SECTIONS.DELIVERED_HEADER,height:50}),a.push(...t.delivery.map(e=>({participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:m.DEFAULT_ITEM_HEIGHT}))),t.deliveryRemaining>0&&a.push({type:C.SECTIONS.DELIVERED_FOOTER,itemKey:C.SECTIONS.DELIVERED_FOOTER,height:50})),O.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&a.push({type:C.SECTIONS.FORWARD_COUNT,itemKey:C.SECTIONS.FORWARD_COUNT,height:60}),a}render(){var e,{msg:t}=this.props,{msgInfo:a,unimplemented:i}=this.state;a||i||(e=n.createElement("div",{className:E.default.spinner,key:"spinner"},n.createElement(A.default,{size:50,stroke:4})));var s=this.getData(),r=s.length?n.createElement(m.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:s,renderItem:this.renderItem}):null,l=null;return t.labels&&t.labels.length&&(0,b.canDisplayLabel)()&&(l=n.createElement(f.default,{theme:"padding"},n.createElement(M.default,{labels:t.labels}))),n.createElement(c.default,{key:"message-info-modal",theme:"striped"},n.createElement(u.default,{title:I.default.t(889),type:u.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),n.createElement(k.default,{ref:this.setRefScrollable,chatPreference:o.default.assertGet("defaultPreference")},n.createElement(V.default,{msg:t,ref:(0,_.GetRef)("wrapper",this),displayType:d.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:T.MsgPosition.END,onProductClick:this.props.onProductClick})),n.createElement(h.default,{flatListControllers:[this.flatListController]},l,e,n.createElement("div",{className:E.default.list},r)))}}G.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var H=(0,S.default)((0,R.default)((0,y.default)((0,x.default)(G,G.CONCERNS))));t.default=H},debbidcgjc:function(e,t){e.exports={overlay:"_1huBh",icon:"_1WUBO",text:"_3O0IT"}},debgiacjfi:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{order:t,onProductDetail:a,sellerJid:i,sessionId:s}=e;return n.createElement(l.default,{flatListControllers:[e.flatListController]},n.createElement(o.default,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(u=t.orderItemCollection.toArray(),i===(0,d.getMaybeMeUser)().toString()&&(0,c.logOrderListImpression)(s,t.id,u.length),u.map(e=>({itemKey:e.id.toString(),product:e}))),renderItem:e=>{var{product:t}=e,r={productId:t.id,businessOwnerJid:i};return n.createElement(h.default,{product:t,onClick:()=>a(r,s)})},defaultItemHeight:r.default.PRODUCT_LIST_ITEM_HEIGHT}));var u};var n=s(a("ddhijeejag")),r=i(a("hgigjbgie")),o=i(a("bgheieccaj")),l=i(a("bfchfhibba")),d=a("ddbdgibbbi"),c=a("habihjdae"),h=i(a("dfdhffjdjj"))},debhhgegij:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bdeebiagii")),o=i(a("bjihjhccce"));class l extends r.default{constructor(...e){super(...e),this.closeStatusViewer=()=>{this.end()}}componentDidMount(){this.push(n.createElement(o.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}t.default=l},deedfgdbdj:function(e,t){e.exports={actionBtns:"_31Ye9",newLabelBtn:"_24-mu",plus:"_371cj"}},defdgchjjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("ceffhbhahb")),o=a("djfeeacgad"),l=i(a("ddhijeejag")),d=s(a("dcejeebede")),c=s(a("ccbgfecegc")),h=s(a("hgigjbgie")),u=s(a("dahagdijgh")),f=s(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),m=i(a("cajijabhgb")),g=i(a("dciajcgfie")),b=a("dhegcfddhg"),v=i(a("dgjacfgggf")),E=s(a("bdjjabfecc")),j=s(a("gdjchhcha")),C=s(a("chjejfcdd")),S=i(a("dcecgegjfc")),_=s(a("bdcchebfge")),M=s(a("difhgjjfcb")),I=s(a("dcdjgccech")),y=s(a("dhccahhefj")),T=s(a("deffjjfcba")),P=s(a("ecdebjcgfa")),L=s(a("dgdcjccfdi")),w=s(a("edbaidcaf")),k=s(a("didfdhbecg")),N=s(a("ecfabjjeda"));function R(){var e=(0,n.default)(["captureDrawer:render Unhandled video capture state ",""]);return R=function(){return e},e}function D(){var e=(0,n.default)(["Assertion failed!"]);return D=function(){return e},e}function O(){var e=(0,n.default)(["Assertion failed!"]);return O=function(){return e},e}function A(){var e=(0,n.default)(["CaptureDrawer:onCapture can not get 2d context"]);return A=function(){return e},e}var x="ANIMATING",U="LOADING",F="RECORDING",B="SENDING";class V extends l.PureComponent{constructor(...e){super(...e),this.state={state:x,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},this.videoRef=null,this.startTimer=new o.ShiftTimer(e=>{this.loadNewStream(e)}),this.loadNewStream=e=>{e?(this.setState({state:U,stream:e}),(0,S.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(this.url),this.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(this.url),this.url=void 0))):this.state.state===x&&this.setState({state:U})},this.stopStreamTimer=new o.ShiftTimer(e=>{e&&S.stop(e),(0,S.isSrcObjectInVideoElement)()||(this.url=window.URL.revokeObjectURL(this.url))}),this.onCapture=()=>{if(this.videoRef){var e=this.videoRef.underlyingVideo();if(e){var{chat:t}=this.props,a=document.createElement("canvas");a.height=e.videoHeight,a.width=e.videoWidth;var i=a.getContext("2d");if(i){i.translate(a.width,0),i.scale(-1,1),i.drawImage(e,0,0,e.videoWidth,e.videoHeight);var s=this.props.onCaptured;if(s)v.canvasToBlob(a).then(e=>{s(e)});else{this.stopStreamTimer.onOrBefore(500,this.state.stream),this.mediaLogger=new j.default,this.mediaLogger.logAdd("CAPTURE_MEDIA","image",_.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),this.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var n=a.toDataURL("image/jpeg");this.setState({state:B,stream:void 0,img:n})}}else __LOG__(3)(A())}}},this.onVideoLoaded=e=>{this.setState({state:F,videoSize:{width:e.videoWidth,height:e.videoHeight}})},this.onRetake=()=>{this.setState({state:U,caption:void 0});var e=S.start("camera");Promise.race([e,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(e=>{e&&((0,S.isSrcObjectInVideoElement)()||(this.url=window.URL.createObjectURL(e)),this.setState({stream:e}))}).catchType(m.Unmount,()=>{e.then(e=>S.stop(e)).catch(()=>{})}).catchType(m.GUM.NotAllowedError,()=>{this.props.onBack(),c.default.openModal(l.createElement(g.default,{messaging:g.Messaging.CAMERA_FAIL,type:g.default.TYPE.GUIDE_UNBLOCK}))}).catchType(m.GUM.GUMError,()=>{this.props.onBack(),c.default.openModal(l.createElement(g.default,{messaging:g.Messaging.CAMERA_MISSING,type:g.default.TYPE.GUIDE_NONE}))})},this.onSend=()=>{var{img:e,caption:t}=this.state,a=this.props.onSend;if(a)if(e){var i=this.refCaptionInput&&this.refCaptionInput.refInput,s=[];if(t&&i){var n=i.serialize(t),[r,o]=[n[0].trim(),n[1]];r.length&&(t=r,s=o.mentionedJidList||[])}a({getImg:I.default.createFromBase64Jpeg(w.default.parseDataURL(e).data),caption:t,mentionedJidList:s}),this.mediaLogger.logSend()}else e||(__LOG__(4,!1,new Error)(D()),SEND_LOGS("capture-drawer-no-img"));else a||(__LOG__(4,!1,new Error)(O()),SEND_LOGS("capture-drawer-no-onSend"))},this.onCaptionChange=e=>{this.setState({caption:e})},this.setRefCaptionInput=e=>{this.refCaptionInput=e}}componentDidMount(){this.startTimer.onOrBefore(300,this.props.stream)}componentWillUnmount(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&S.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}render(){var e,t,a,i,s;switch(this.state.state){case x:case U:if(s=l.createElement(P.default,{stroke:4,size:50}),this.state.state===x)break;case F:var n=(0,r.default)(d.default.video,{[d.default.videoInactive]:this.state.stream&&this.state.state===U}),o=this.state.stream?l.createElement(N.default,{autoPlay:!0,ref:(0,b.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;a=this.state.stream?l.createElement("div",{key:"webcam"},l.createElement(M.default,{type:this.props.layoutType,size:this.state.videoSize},l.createElement("div",{className:n,"data-animage-capture-webcam":!0},o))):null,e=this.state.state===F?l.createElement("div",{className:d.default.btn,key:"btn-capture"},l.createElement(T.default,{large:!0,onClick:this.onCapture},l.createElement(L.default,{name:"camera"}))):null;break;case B:a=l.createElement(M.default,{type:this.props.layoutType,size:this.state.videoSize},l.createElement("img",{className:d.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=l.createElement("div",{className:(0,r.default)(d.default.btn,d.default.btnSend),key:"btn-send"},l.createElement(T.default,{large:!0,onClick:this.onSend},l.createElement(L.default,{name:"send",directional:!0}))),t=l.createElement("div",{className:d.default.retakeBtn,onClick:this.onRetake},l.createElement("div",{className:d.default.retakeIcon},l.createElement(L.default,{name:"return"})),E.default.t(1169)),i=this.props.chat?l.createElement(C.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:h.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:E.default.t(179),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:__LOG__(2)(R(),this.state.state)}var c=this.props.caption?l.createElement(k.default,{transitionName:"media-caption",className:d.default.caption},i):null;return l.createElement(u.default,{key:"attach-capture-modal",theme:"capture"},l.createElement(p.default,{title:E.default.t(1304),type:p.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),l.createElement(f.default,{overflow:"hidden"},l.createElement("div",{className:d.default.container},s,l.createElement("div",{className:d.default.body},l.createElement(k.default,{transitionName:"capture",className:d.default.videoContainer},a))),l.createElement("div",{className:d.default.footer},c,l.createElement(k.default,{transitionName:"pop_delay"},e))))}}V.defaultProps={caption:!1};var G=(0,y.default)(V);t.default=class extends G{constructor(...e){super(...e),this.loadNewStream=e=>{this.getComponent().loadNewStream(e)}}}},dfbdhdcebe:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bdeebiagii")),o=i(a("ddigiajeji")),l=i(a("cjgdgbgbj"));class d extends r.default{constructor(...e){super(...e),this.onProductClick=(e,t)=>{this.push(n.createElement(l.default,{refreshCarousel:!0,chat:this.props.msg.chat,product:e,sessionId:t,onEnd:this._pop}))},this._pop=()=>{this.pop()}}componentDidMount(){this.push(n.createElement(o.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}t.default=d},dfdhffjdjj:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var{product:t,onClick:a}=e,i=n.createElement(l.default,{text:t.name,ellipsify:!0,titlify:!0}),s=n.createElement(h.default,{mediaData:t.mediaData,theme:"list"}),f=d.default.t(1075,{quantity:t.quantity.toString()}),p=null;t.quantity&&(p=n.createElement(u.TextSpan,{className:c.default.quantity},f));var m=null;t.price&&(m=n.createElement(u.TextSpan,{className:c.default.price},o.format(t.currency,t.price)));var g=null;null!=m&&null!=p&&(g=n.createElement("span",{className:c.default.separator},"•"));var b=n.createElement("div",null,m,g,p);return n.createElement(r.default,{key:t.id.toString(),image:s,customImage:!0,primary:i,secondary:b,theme:"order-product",onClick:a})};var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=s(a("bjgiedaj")),l=i(a("gfebgebbi")),d=i(a("bdjjabfecc")),c=i(a("bccajbfghh")),h=i(a("dchhjffcdj")),u=a("dhhjhedjij")},dffbbbhiad:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var n=s(a("dfadhaifh")),r=s(a("dbahhcabjf")),o=s(a("cfjdfebffb")),l=s(a("dbafiicfja")),d=a("bjhaecbifc"),c=s(a("bgcdajbhif")),h=i(a("bgabgddgch"));function u(){var e=(0,n.default)(["error while loading more status msgs: ",""]);return u=function(){return e},e}function f(){var e=(0,n.default)(["error while loading more status msgs: ",""]);return f=function(){return e},e}function p(){var e=(0,n.default)(["Loaded "," messages with total count ",", but noEarlierMsgs set"]);return p=function(){return e},e}function m(){var e=(0,n.default)(["error while getting first unread status: ",""]);return m=function(){return e},e}function g(){var e=(0,n.default)(["Total count: ",", unread count: ",", msgs length: ",""]);return g=function(){return e},e}class b extends((0,d.customError)("InvalidStatusV3Iterator")){}t.InvalidStatusV3Iterator=b;class v extends((0,d.customError)("StatusV3LoadingError")){}t.StatusV3LoadingError=v;class E extends((0,d.customError)("StatusV3MsgNotFound")){}t.StatusV3MsgNotFound=E;t.default=class{constructor(e,t){if(this.printInfo=()=>{this.statuses.forEach(e=>{__LOG__(2)(g(),e.totalCount,e.unreadCount,e.msgs.length)})},this.getFirstUnread=(e,t,a)=>{var i=this.statuses.findIndex(t=>t.statusV3===e);if(-1!==i){var s,n=this.statuses[i],r=n.readMsgKeys;return a?(s=n.msgs?n.msgs.findIndex(e=>a&&e.id.toString()===a.toString()):-1)>=0?Promise.resolve({msgIdx:s,statusIdx:i}):Promise.reject(new b):-1===(s=n.msgs?n.msgs.findIndex(e=>!r.includes(e.id.toString())):-1)&&e.msgs.msgLoadState.noEarlierMsgs?(s=t?0:n.msgs.length-1,Promise.resolve({msgIdx:s,statusIdx:i})):-1!==s?Promise.resolve({msgIdx:s,statusIdx:i}):0===n.unreadCount&&t&&n.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:i}):this.fetchMore(e).then(()=>this.getFirstUnread(e,t,a)).catch(e=>(__LOG__(3)(m(),String(e)),Promise.reject(new b)))}return Promise.reject(new b)},this.hasNext=e=>{var t=this.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<this.statuses.length},this.getNext=e=>{var t=this.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)(p(),t.msgs.length,t.totalCount),Promise.reject(new b)):this.fetchMore(a).then(()=>this.getNext(e)).catch(t=>{if(__LOG__(3)(f(),String(t)),e.statusIdx+1<this.statuses.length){var a=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(a,!0)}return Promise.reject(new b)});if(e.statusIdx+1<this.statuses.length){var i=this.statuses[e.statusIdx+1].statusV3;return this.getFirstUnread(i,!0)}return Promise.reject(new b)},this.hasPrev=e=>e.msgIdx>0||e.statusIdx>0,this.getPrev=e=>{if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){var t=this.statuses[e.statusIdx-1].statusV3;return this.getFirstUnread(t,!1)}return Promise.reject(new b)},this.statusAt=(e,t)=>{var a=this.statuses[e.statusIdx],i=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):i.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new b):this.fetchMore(i).then(()=>this.statusAt(e,t)).catch(e=>(__LOG__(3)(u(),String(e)),Promise.reject(new b)))},this.fetchMore=e=>Promise.loop((t,a,i)=>{var s=Promise.delay(h.expBackoff(i,12e4,1e3,.1));return e.loadMore().then(()=>{var a=this.statuses.findIndex(t=>t.statusV3===e);if(-1!==a){var n=this.statuses[a],d=n.totalCount,c=n.unreadCount,h=e.msgs.getModelsArray().slice(0,d),u=h.slice(0,d-c),f=(0,l.default)(u,e=>e.id.toString());n.msgs=h,n.readMsgKeys=(0,o.default)((0,r.default)(n.readMsgKeys,f)),t(!0)}else{if(!(i>=4))return s;t(!1)}}).catch(()=>{if(!(i>=4))return s;t(!1)})}).then(e=>{if(!e)throw new v}),t){var a=e.msgs.getModelsArray().find(e=>t&&e.id.toString()===t.toString());if(!a)throw new E;this.statuses=[{statusV3:e,totalCount:1,unreadCount:0,msgs:[a],readMsgKeys:[a.id.toString()]}]}else if(e.unreadCount>0&&!e.contact.isMe&&!e.contact.statusMute){var i=c.default.getUnexpired(!0),s=[];i.forEach(e=>{if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,i=t.slice(0,a),n=(0,l.default)(i,e=>e.id.toString());s.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:n})}}),this.statuses=s}else{var n=e.msgs.getModelsArray(),d=e.totalCount-e.unreadCount,j=n.slice(0,d),C=(0,l.default)(j,e=>e.id.toString()),S=[{statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:n,readMsgKeys:C}];this.statuses=S}this.printInfo()}}},dfjfejdjjh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bhehgiigij")),r=s(a("bacbhehedf")),o=i(a("bgabgddgch")),l=i(a("bgeajihhc")),d=s(a("bjieiiccce"));function c(e){return Promise.loop((function(t,a,i){var s=Promise.delay(o.expBackoff(i,6e4,void 0,.1));return(l.default.state===l.STATE.CONNECTED?Promise.resolve():(0,r.default)(l.default,"change:state",(0,n.default)({state:l.STATE.CONNECTED}))).then(()=>e()).then(e=>{if(e.status>=500&&e.status<600)return s;t(e)}).catch(()=>s)}))}var h={headRetry:function(e){return c((function(){return d.default.head(e)}))},getRetry:function(e,t){return c((function(){return d.default.get(e,t)}))},postRetry:function(e,t){return c((function(){return d.default.post(e,t)}))}};t.default=h},dfjhjafaab:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return"".concat("https://www.whatsapp.com/legal/","?lg=").concat(s.default.getLocale())},t.TOS_BASE_URL=void 0;var s=i(a("bdjjabfecc"));t.TOS_BASE_URL="https://www.whatsapp.com/legal/"},dgaefbheia:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bhcgjhdbdj")),o=a("eajdbbfgfg"),l=i(a("bijffg")),d=i(a("ecbbjjjhh")),c=i(a("ebddggeaib")),h=i(a("gfgihaeab"));class u extends n.PureComponent{constructor(){super(),this.refLastLabel=null,this.updateData=(e,t,a)=>{var{shouldScrollIntoViewAndSelect:i}=this.props;this.setState({labels:l.default.toArray()},()=>{if(a.add&&i){var{shouldScrollIntoView:t,shouldSelect:s}=i(e.name);t&&this.refLastLabel&&this.refLastLabel.scrollIntoView({behavior:"smooth"}),s&&this.onMultiSelect(e,!0,!1)}})},this.setRefLastLabel=e=>{this.refLastLabel=e},this.onMultiSelect=(e,t,a)=>{var{selectedLabels:i,onMultiSelect:s}=this.props;i&&i.setVal(e,t,a),s&&s(e.id)},this.renderLabelRow=()=>{var{renderContext:e,onLabelClick:t,initialLabelState:a={}}=this.props,i=this.props.SelectableState||new h.default(!0);return this.state.labels.reduce((s,c,h)=>{var u=l.default.assertGet(c.id);if(!c.name)return s;var f="label-selection"===e||(0,o.canEditLabel)()?n.createElement(r.default,{theme:e,model:u,initialSelection:a[c.id]||0,multiSelection:this.props.selectedLabels,selectableState:i,onSelect:this.onMultiSelect},n.createElement(d.default,{label:c.id})):n.createElement(d.default,{label:c.id,theme:e});return[...s,n.createElement("div",{key:"label_item_".concat(c.id),ref:h===this.state.labels.length-1?this.setRefLastLabel:()=>{},onClick:t?t.bind(null,c.id):()=>{}},f)]},[])},this.state={labels:l.default.toArray()}}componentDidMount(){this.props.listeners.add(l.default,"add remove",this.updateData)}render(){return n.createElement("div",null,this.renderLabelRow())}}var f=(0,c.default)(u);t.default=f},dgffihajaa:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.RETRY_OPTIONS=void 0;var n=s(a("bebajedcaf")),r=i(a("ddhijeejag")),o=s(a("dahagdijgh")),l=s(a("bjheffjbgd")),d=s(a("bjjhgjdbhd")),c=s(a("ggefijcjf")),h=s(a("dacaegbbf")),u=s(a("djaiggcdb")),f=s(a("bdjjabfecc")),p=s(a("ebddggeaib")),m=s(a("dcdefbibje")),g=s(a("dhdeebadad")),b=s(a("difhgjjfcb")),v=s(a("cehjgabfic")),E=s(a("deffjjfcba")),j=s(a("dgdcjccfdi")),C=a("dfjhjafaab"),S=s(a("edbaidcaf")),_=s(a("didfdhbecg")),M={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=M;class I extends r.Component{constructor(e){super(e),this.onDoneEditing=()=>{var e=this.state.editedMedia;this.saveCanvas(),this.refProfileCropTool&&this.refProfileCropTool.getComponent().crop().then(({thumb:t,full:a})=>{this.props.onFinished(t,a),e.cleanUp()})},this.onObjectLoad=e=>{if(e&&e instanceof HTMLElement){var t={};!this.state.editorSize||this.state.editorSize.width===e.clientWidth&&this.state.editorSize.height===e.clientHeight||(t.editorSize={width:e.clientWidth,height:e.clientHeight}),this.state.loaded||(t.loaded=!0),(0,n.default)(t)||this.setState(t)}},this.setRefMediaEditCanvas=e=>{this.mediaEditCanvas=e},this.setRefProfileCropTool=e=>{this.refProfileCropTool=e},this.drawCanvas=(e,t)=>{this.mediaEditCanvas&&this.mediaEditCanvas.drawCanvas(e,t)},this.saveCanvas=()=>{this.mediaEditCanvas&&this.mediaEditCanvas.saveCanvas()},this.updateCanvasSize=(e,t)=>{this.mediaEditCanvas&&this.mediaEditCanvas.updateCanvasSize(e,t)},this.onCanvasInitialized=()=>{this.forceUpdate()},this.state={doneEditing:!1,loaded:!1,editorSize:{width:500,height:361},editedMedia:new h.default(e.img)},this.mediaEditController=new g.default}componentDidMount(){this.props.listeners.add(this.mediaEditController,"change:isInitialized",this.onCanvasInitialized)}render(){var e,{attributionUrl:t,onRetake:a,retryText:i}=this.props,s=this.state.loaded?r.createElement("div",{className:c.default.btnSend,key:"btn-send"},r.createElement(E.default,{large:!0,onClick:this.onDoneEditing},r.createElement(j.default,{name:"checkmark-large"}))):null;this.mediaEditController.isInitialized&&(e=r.createElement(v.default,{editedMedia:this.state.editedMedia,stage:this.mediaEditController.stage,cropOverlay:this.mediaEditController.cropOverlay,mediaContainer:this.mediaEditController.mediaContainer,drawCanvas:this.drawCanvas,ref:this.setRefProfileCropTool}));var n,h=r.createElement(m.default,{className:c.default.mediaElement,editedMedia:this.state.editedMedia,mediaEditController:this.mediaEditController,fitType:"cover",ref:this.setRefMediaEditCanvas});if(a){var p;switch(i){case M.NONE:p=null;break;case M.RETAKE:p=f.default.t(1169);break;case M.RESTART:default:p=f.default.t(1178)}n=r.createElement("div",{className:c.default.retake,onClick:a},r.createElement("div",{className:c.default.retakeIcon},r.createElement(j.default,{name:"return"})),p)}var g=t?r.createElement("div",{className:c.default.attribution},r.createElement(u.default,{className:c.default.attributionLink,href:t},S.default.hostname(t)),r.createElement("span",null,f.default.t(761)," ",r.createElement(u.default,{href:(0,C.getTosUrl)()},f.default.t(767)))):null,I=r.createElement("div",{className:c.default.footer},r.createElement(_.default,{transitionName:"btn"},s),g),y=this.props.imageSize?this.props.imageSize:{width:500,height:361};return r.createElement(o.default,{key:"attach-edit-modal",theme:"edit"},r.createElement(d.default,{title:f.default.t(196),type:"offset",onCancel:this.props.onCancel},n),r.createElement(l.default,{overflow:"hidden"},r.createElement("div",{className:c.default.mediaBody},e,r.createElement("div",{className:c.default.containerBackground},r.createElement(_.default,{transitionName:"capture"},r.createElement(b.default,{type:"cover",size:y,onObjectLoad:this.onObjectLoad},h)))),I))}}var y=I;t.Component=y;var T=(0,p.default)(I);t.default=T},dggddfhei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bdjjabfecc")),o=i(a("ebddggeaib")),l=i(a("diffaiehid"));class d extends n.Component{constructor(e){super(e),this.onUpdate=e=>{this.setState({timestampText:this.getTimestampText(e)})},this.state={timestampText:this.getTimestampText(e.participant)}}componentDidMount(){var{participant:e}=this.props;e.isMe?this.props.listeners.add(e,"change:expiration",this.onUpdate):this.props.listeners.add(e,"change:lastUpdated",this.onUpdate);var t=this.getTime(e);this.setTimeoutForNextMinute(t)}componentDidUpdate(e){var{participant:t}=this.props,{participant:a}=e;if(t.expiration!==a.expiration&&t.lastUpdated!==a.lastUpdated){null!=this.timeoutId&&this.props.clearTimeout(this.timeoutId),null!=this.intervalId&&this.props.clearInterval(this.intervalId);var i=this.getTime(t);this.setTimeoutForNextMinute(i)}}getTimestampText(e){return e.isMe?this.remainingTimeText(e.remainingTime()):this.elapsedTimeText(e.elapsedTime())}getTime(e){return e.isMe?e.remainingTime():e.elapsedTime()}setTimeoutForNextMinute(e){this.timeoutId=this.props.setTimeout(()=>{this.setState({timestampText:this.getTimestampText(this.props.participant)}),this.setIntervalForEveryMinute()},e%60*1e3)}setIntervalForEveryMinute(){this.intervalId=this.props.setInterval(()=>{this.setState({timestampText:this.getTimestampText(this.props.participant)})},6e4)}elapsedTimeText(e){var{hours:t,minutes:a}=this.toHoursAndMinutes(e);return t>0?a>0?r.default.t(830,{hours:t,minutes:a}):r.default.t(829,{hours:t,_plural:t}):a>0?r.default.t(832,{minutes:a,_plural:a}):r.default.t(831)}remainingTimeText(e){var{hours:t,minutes:a}=this.toHoursAndMinutes(e,!0);return t>0?a>0?r.default.t(817,{hours:t,minutes:a}):r.default.t(816,{hours:t,_plural:t}):r.default.t(818,{minutes:a,_plural:a})}toHoursAndMinutes(e,t=!1){var a=e;t&&(a+=59);var i=a%3600;return{hours:Math.floor(a/3600),minutes:Math.floor(i/60)}}render(){return n.createElement("span",null,this.state.timestampText)}}var c=(0,o.default)((0,l.default)(d));t.default=c},dhajefgece:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(e,t,a=30){var i={q:e,SafeSearch:"Strict",appid:"D41D8CD98F00B204E9800998ECF8427E4F4A7492",mkt:h[r.default.getLocale()]||h.en,size:c,aspect:d,count:a,offset:t},s=o.default.build("https://www.bingapis.com/api/v6/images/search",i);return l.default.get(s,l.default.RESP_TYPE.JSON).then(t=>{if(!t.response.hasOwnProperty("_type"))throw new n.InvalidServerResponseError(s,status,"Not a valid Bing response: ".concat(JSON.stringify(t.response)));if("ErrorResponse"===t.response._type){var a=t.response;throw new n.BingServerError(e,t.status,a)}if("Images"!==t.response._type)throw new n.InvalidServerResponseError(s,status,"Did not receive an image search response, "+"potentially malformed query ".concat(JSON.stringify(t.response)));return t.response})};var n=s(a("cajijabhgb")),r=i(a("bdjjabfecc")),o=i(a("edbaidcaf")),l=i(a("bjieiiccce")),d="Square",c="Medium",h={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW"}},dhdeebadad:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("dcaifjegcg"));class n extends s.default{constructor(...e){super(...e),this.stage=(0,s.prop)(),this.cropOverlay=(0,s.prop)(),this.mediaContainer=(0,s.prop)(),this.isInitialized=(0,s.derived)(this._isInitialized,["stage","cropOverlay","mediaContainer"])}_isInitialized(){return!!this.stage&&!!this.cropOverlay&&!!this.mediaContainer}clearStage(e){e&&(e.children.forEach(e=>{e.removeAllEventListeners()}),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}var r=(0,s.defineModel)(n);t.default=r},dhibhgiihj:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("bfgbdiffgd"));function n(e){return Math.min(e,s.default.statusVideoMaxDuration)}var r=class{constructor(){this.addListeners=(e,t,a)=>{this._onStart=e,this._onPause=t,this._onEnded=a},this.setVideo=e=>{this._video!==e&&(this.unsetVideo(),this._video=e,null!=e&&(e.addEventListener("playing",this._onPlayingHandler),e.addEventListener("pause",this._onPauseHandler),e.addEventListener("ended",this._onEndedHandler),e.addEventListener("timeupdate",this._onTimeUpdate)))},this.unsetVideo=()=>{var e=this._video;e&&(this.stop(),e.removeEventListener("playing",this._onPlayingHandler),e.removeEventListener("pause",this._onPauseHandler),e.removeEventListener("ended",this._onEndedHandler),e.removeEventListener("timeupdate",this._onTimeUpdate))},this.play=()=>{this._video&&this._video.play()},this.pause=()=>{this._video&&!this._video.paused&&this._video.pause()},this.resume=()=>{this._video&&this._video.play()},this.stop=()=>{this._video&&!this._video.paused&&this._video.pause()},this._onPlayingHandler=()=>{var e=this._video;if(null!=e){var t=this._onStart;if(t){var a=n(e.duration);t(1e3*(a-e.currentTime),1e3*a)}}},this._onPauseHandler=()=>{var e=this._onPause;e&&e()},this._onEndedHandler=()=>{var e=this._onEnded;e&&e()},this._onTimeUpdate=()=>{var e,t=null===(e=this._video)||void 0===e?void 0:e.currentTime;if(null!=t&&t>=s.default.statusVideoMaxDuration){this.stop(),this._onEndedHandler();var a=this._video;a&&(a.removeEventListener("timeupdate",this._onTimeUpdate),a.removeEventListener("ended",this._onEndedHandler))}},this.removeListeners=()=>{this.stop(),this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0}}get duration(){return null==this._video?0:1e3*n(this._video.duration)}};t.default=r},dhiecjhe:function(e,t){e.exports={container:"_3RIGr",preview:"_1CfJq",caption:"_1xuvS",img:"_2Qc7p"}},dhigcdiaid:function(e,t,a){e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},diddacjbhj:function(e,t){e.exports={panel:"_6_Lyj",tileContainer:"_3C2Xq",imageTile:"VdazA",imageThumb:"_1w_dS",btnDelete:"_28PVo",deleteIcon:"IivB2",btnAdd:"_3hBqy",btnAddContainer:"_2keOd",btnAddText:"_2ORGb",errorMessage:"_3NrCS"}},dieaaaeidb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("eaaagccfda")),o=s(a("ceffhbhahb")),l=i(a("ddhijeejag")),d=s(a("jigjfjjij")),c=s(a("dbdfbgehgj")),h=s(a("cfadcbbiie")),u=s(a("ccbgfecegc")),f=s(a("hgigjbgie")),p=s(a("hhcjfgifh")),m=s(a("gfebgebbi")),g=i(a("cajijabhgb")),b=s(a("ddajbaceej")),v=s(a("djifeiaaea")),E=a("dhegcfddhg"),j=s(a("dhfbfehaef")),C=s(a("bhbcdbjdeg")),S=a("gaifbabbj"),_=s(a("bdjjabfecc")),M=s(a("ebddggeaib")),I=s(a("dcjigehfeb")),y=s(a("chihecbaj")),T=s(a("bdcchebfge")),P=s(a("difhgjjfcb")),L=s(a("dhccahhefj")),w=s(a("ecdebjcgfa")),k=s(a("dcdbbhicce")),N=s(a("bfffjiagfi")),R=a("eaaffccdb"),D=s(a("cbggbjhahe")),O=s(a("cdhjbegegf")),A=s(a("cgjdibiahi")),x=a("bficeagfg"),U=s(a("cdhbehgbej"));function F(){var e=(0,n.default)(["Invalid status v3 image type: ",""]);return F=function(){return e},e}class B extends l.Component{constructor(){super(...arguments),this.refProgressBar=l.createRef(),this.refProgressBarComponent=l.createRef(),this.refMeasuringProfile=l.createRef(),this.refWrapper=l.createRef(),this.componentWillUnmount=()=>{if(this.playbackController.removeListeners(),null!=this.props.sessionId){var e=Math.round(this.playbackController.duration||0);this.statusViewEvent.webcStatusPlaybackT=e;var{playStartTime:t}=this;null!=t&&(this.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-t),this.playStartTime=void 0),this.statusViewEvent.commit()}},this.onWindowResize=()=>{var e=this.refMeasuringProfile&&this.refMeasuringProfile.current,t=this.refProgressBar&&this.refProgressBar.current;if(e&&t){var a=e.getBoundingClientRect(),i=t.getBoundingClientRect();!_.default.isRTL()&&a.right>i.left-5||_.default.isRTL()&&a.left<i.right+5?this.setState({narrow:!0}):this.setState({narrow:!1})}},this.onTab=e=>{(e&&(e.stopPropagation(),e.preventDefault()),this.props.statusV3.contact.isMe)||(this.composeBox.isFocused()?this.dismissReply():this.startReply())},this.onWindowGainedFocus=()=>{this.windowFocused=!0,this.play()},this.onWindowLostFocus=()=>{this.windowFocused=!1,this.pause()},this.onClickProfile=()=>{var e=this.props.statusV3.contact.id;c.default.find(e).then(e=>u.default.openChatBottom(e)).then(()=>{this.props.closeStatusViewer(!0)})},this.play=()=>{var e=this.props.mediaData;if(e){if(e.mediaStage!==I.default.STAGE.RESOLVED)return;this.statusViewEvent.webcStatusLoadT||(this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0)}var t=this.composeBox;t&&t.isPaused()||this.windowFocused&&(this.playStartTime=window.performance.now(),this.playbackController.resume())},this.pause=()=>{var e=this.props.mediaData;if(!e||e.mediaStage===I.default.STAGE.RESOLVED){var{playStartTime:t}=this;null!=t&&(this.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-t),this.playStartTime=void 0),this.playbackController.pause()}},this.onMouseDown=()=>{this.pause()},this.onMouseUp=()=>{this.play()},this.dismissReply=()=>{var e=this.refWrapper&&this.refWrapper.current;e&&b.default.focus(e)},this.startReply=()=>{this.composeBox.restoreFocus()},this.onSend=()=>{this.statusViewEvent.webcStatusReplyCount++},this.state={chat:void 0,narrow:!1},this.windowFocused=!0,this.playbackController=(0,R.setupStatusV3Controller)(this.props.mediaData,this.props.msg),this.statusViewEvent=new T.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0})}componentDidMount(){var{statusV3:e,msg:t,mediaData:a,msgIdx:i,sessionId:s}=this.props;if(null!=s){var n;n=e.contact.isMe?T.default.WEBC_STATUS_ROW_SECTION.MY:e.contact.statusMute?T.default.WEBC_STATUS_ROW_SECTION.MUTED:e.hasUnread?T.default.WEBC_STATUS_ROW_SECTION.RECENT:T.default.WEBC_STATUS_ROW_SECTION.VIEWED;var o,l=this.props.rowIdx||0,d=e.msgs.length-1-i<e.unreadCount;a?o=a.isGif?T.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===a.type?T.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:T.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(o=t.getLinks().length?T.default.WEBC_STATUS_MEDIA_TYPE.URL:T.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=s,this.statusViewEvent.webcStatusRowSection=n,this.statusViewEvent.webcStatusRowIndex=l,this.statusViewEvent.webcStatusMediaType=o,this.statusViewEvent.webcStatusUnread=d}this.refProgressBarComponent&&this.refProgressBarComponent.current&&this.playbackController.addListeners((e,t)=>{var a=this.refProgressBarComponent&&this.refProgressBarComponent.current;a&&a.onStart(e,t)},()=>{var e=this.refProgressBarComponent&&this.refProgressBarComponent.current;e&&e.onPause()},()=>{var e=this.refProgressBarComponent&&this.refProgressBarComponent.current;e&&e.onEnded().checkpoint(this.props.rejectOnUnmount()).then(()=>{this.props.onNext()}).catchType(g.Unmount,()=>{})}),a?(this.play(),a&&a.mediaStage===I.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,f.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var c=this.refWrapper&&this.refWrapper.current;c&&c.focus();var h=this.props.listeners;h.add(window,"focus",this.onWindowGainedFocus),h.add(window,"blur",this.onWindowLostFocus),h.add(window,"resize",(0,r.default)(this.onWindowResize)),this.onWindowResize()}render(){var e,t,{msg:a,mediaData:i,statusV3:s}=this.props;if(i&&i.preview)e={backgroundImage:"url(".concat(i.preview.url(),")")};else if(a.type===f.default.MSG_TYPE.CHAT){e={backgroundColor:a.statusV3TextBg}}if(i)switch(i.type){case I.default.TYPE.IMAGE:t=l.createElement(G,{msg:a,statusV3:s,mediaData:i,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case I.default.TYPE.VIDEO:t=l.createElement(W,{msg:a,statusV3:s,mediaData:i,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:__LOG__(3)(F(),i.type)}else t=a.type===f.default.MSG_TYPE.CHAT?l.createElement(z,{msg:a,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):l.createElement(K,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var n,r=l.createElement("div",{ref:this.refProgressBar},l.createElement(O.default,{ref:this.refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}));a.type!==f.default.MSG_TYPE.CHAT&&(n=l.createElement("div",{className:D.default.captionBackdrop},l.createElement(m.default,{className:D.default.mediaCaption,text:a.caption,formatters:S.Configuration.StatusV3Caption()})));var d,c,u=(0,o.default)(D.default.profile,{[D.default.nonClickProfile]:a.isSentByMe,[D.default.profileNarrow]:this.state.narrow}),g=(0,o.default)(D.default.profile,D.default.measuringProfile,{}),b=l.createElement("div",{className:u,onClick:a.isSentByMe?null:this.onClickProfile},l.createElement("div",{className:D.default.playerAvatar},l.createElement(p.default,{id:s.contact.id,theme:"status_v3",size:40})),l.createElement("div",{className:D.default.msgInfo},l.createElement(m.default,{className:D.default.msgInfoName,text:s.contact.formattedName}),l.createElement("div",{className:D.default.timestamp},h.default.relativeDateAndTimeStr(a.t)))),v=l.createElement("div",{ref:this.refMeasuringProfile,className:g},l.createElement("div",{className:D.default.playerAvatar},l.createElement(p.default,{id:s.contact.id,theme:"status_v3",size:40})),l.createElement("div",{className:D.default.msgInfo},l.createElement(m.default,{className:D.default.msgInfoName,text:s.contact.formattedName}),l.createElement("div",{className:D.default.timestamp},h.default.relativeDateAndTimeStr(a.t)))),C={tab:this.onTab,"shift+tab":this.onTab},_=e=>e.stopPropagation();i&&(d=l.createElement(q,{mediaData:i})),this.props.statusV3.contact.isMe||(c=l.createElement(j.default,{handlers:{left:_,right:_}},l.createElement(N.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,E.GetRef)("composeBox",this)})));var M,y=(0,o.default)(D.default.playerBackground,{[D.default.media]:i}),T=(0,o.default)(D.default.progressBackdrop,{[D.default.progressBarBackdropNarrow]:this.state.narrow});return a.type!==f.default.MSG_TYPE.CHAT&&(M=l.createElement("div",{className:T})),l.createElement(A.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:e=>{e||this.props.closeStatusViewer()},requestFocus:this.dismissReply},l.createElement(j.default,{handlers:C},l.createElement("div",{className:D.default.playerWrapper,key:a.id.toString(),tabIndex:-1,ref:this.refWrapper},v,b,M,r,n,l.createElement("div",{className:y,style:e}),t,d,c)))}}class V extends l.PureComponent{constructor(...e){super(...e),this._renderImage=e=>{var{msg:t,mediaData:a}=this.props,i=(0,o.default)(D.default.playerContent,D.default.v3Image);return l.createElement("div",{className:i,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onDragEnd:this.props.onMouseUp},l.createElement(P.default,{type:"contain",size:{width:a.fullWidth,height:a.fullHeight}},l.createElement("div",{className:D.default.mediaViewer},l.createElement(C.default,{src:e,disableContextMenu:!0}),t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&l.createElement(d.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))},this._renderPreviewImage=()=>{var{mediaData:e}=this.props,t=(0,o.default)(D.default.playerContent,D.default.v3Image,D.default.loading);return l.createElement("div",{className:t,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},l.createElement(P.default,{type:"contain",size:{width:e.aspectRatio,height:1}},l.createElement(C.default,{src:e.preview&&e.preview.url()})))},this._downloadMedia=()=>this.props.msg.downloadMedia(!0,T.default.WEBC_RMR_REASON_CODE.STATUS_V3)}componentDidMount(){this.props.mediaData.mediaStage!==I.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,T.default.WEBC_RMR_REASON_CODE.STATUS_V3)}componentDidUpdate(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===I.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){return l.createElement(y.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0},this._renderImage)}}V.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]};var G=(0,k.default)(V,V.CONCERNS);class H extends l.PureComponent{constructor(...e){super(...e),this.refVideo=l.createRef(),this.setRefVideo=e=>{this.refVideo=e,this.props.playbackController.setVideo(this.refVideo.current)}}componentDidMount(){var e=this.props.mediaData;e.streamable||e.isStreamable()||this.props.msg.downloadMedia(!0,T.default.WEBC_RMR_REASON_CODE.STATUS_V3)}componentDidUpdate(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===I.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}componentWillUnmount(){this.props.pause()}render(){var{msg:e,mediaData:t,onMouseDown:a,onMouseUp:i}=this.props,s=t.mediaStage!==I.default.STAGE.RESOLVED,n=(0,o.default)(D.default.playerContent,D.default.v3Video,{loading:s}),r=t.preview?t.preview.url():void 0;return l.createElement("div",{className:n,onMouseDown:a,onMouseUp:i},l.createElement(P.default,{type:"contain",size:{width:t.fullWidth,height:t.fullHeight}},l.createElement("div",{className:D.default.mediaViewer},l.createElement(U.default,{msg:e,mediaData:t,autoPlay:!0,refVideo:this.setRefVideo,poster:r,disableContextMenu:!0},_.default.t(1383)),e&&e.interactiveAnnotations&&e.interactiveAnnotations.length>0&&l.createElement(d.default,{annotations:e.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))}}H.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable"]};var W=(0,k.default)(H,H.CONCERNS);class z extends l.PureComponent{componentDidMount(){v.default.load(this.props.msg.font).catch(()=>{})}render(){var e,t,a=(0,x.numCodepoints)(this.props.msg.body),i={[D.default["font_".concat(this.props.msg.font)]]:!0};return a<=60?(e=(0,o.default)(D.default.text,D.default.textLarge,i),t=S.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):a<=240?(e=(0,o.default)(D.default.text,D.default.textMedium,i),t=S.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e=(0,o.default)(D.default.text,D.default.textSmall,i),l.createElement("div",{className:(0,o.default)(D.default.playerContent,{[D.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[D.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[D.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},l.createElement("div",{className:e},l.createElement(m.default,{text:this.props.msg.body,formatters:t})))}}t.StatusV3Text=z;class K extends l.PureComponent{render(){return l.createElement("div",{className:D.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},l.createElement("div",{className:D.default.unknown},_.default.t(1277)))}}class Y extends l.Component{render(){var{mediaData:e}=this.props;return e.mediaStage!==I.default.STAGE.RESOLVED?l.createElement("div",{className:D.default.mediaStateControls},l.createElement("button",{className:"icon-media-disabled"},l.createElement(w.default,{size:50,stroke:4,color:"white"}))):null}}Y.CONCERNS={mediaData:["mediaStage"]};var q=(0,k.default)(Y,Y.CONCERNS),Z=(0,L.default)((0,M.default)(B));t.default=Z},dihjjfjaca:function(e,t){e.exports={versionInfo:"ez9g0"}},diibfjicfe:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushnameLocally=function(e){s.default.pushname=e,(0,n.setPushname)(e)};var s=i(a("bjigbaghc")),n=a("ddbdgibbbi")},dijgefdehc:function(e,t){e.exports={title:"_373-F",text:"_1b_tc",icon:"_2o6B-"}},djdjdgjjdc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bjhdcidgah")),o=s(a("djbghdgcj")),l=i(a("ccbgfecegc")),d=i(a("bibjjjghee")),c=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),u=i(a("cciafahdib")),f=s(a("bjjhgjdbhd")),p=a("djaiggcdb"),m=a("facgccaif"),g=i(a("bhbdiadfhj")),b=i(a("dbdjeddfia")),v=i(a("djbjbichdf")),E=i(a("bdjjabfecc")),j=i(a("jabfchggf")),C=i(a("bdcchebfge")),S=i(a("djiecjceea")),_=a("dfjhjafaab"),M=i(a("jajhhaah")),I={id:"animated-doodle",selectors:[".".concat(b.default.animation)],low:{default:r.default},high:{default:r.default}};class y extends n.Component{constructor(...e){super(...e),this.openTime=-1,this.actionsTaken=!1,this.onTOS=()=>{this.actionsTaken=!0,(0,p.openExternalLink)((0,_.getTosUrl)())},this.onFAQ=()=>{(0,p.openExternalLink)((0,m.getFaqUrl)()),this.logSessionEvent(C.default.CONTACT_US_EXIT_STATE.FAQ)},this.onContactUs=()=>{l.default.openModal(g.default.supportsFeature(g.default.F.SUPPORT)?n.createElement(d.default,{onCancel:this.onContactUsCancel}):n.createElement(S.default,{onCancel:this.onContactUsCancel,onSend:this.onContactUsSend}))},this.onLicenses=()=>{l.default.openModal(n.createElement(j.default,{onOk:this.onLicensesOk}))},this.onContactUsCancel=()=>{this.logSessionEvent(C.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},this.onContactUsSend=e=>{this.logSessionEvent(C.default.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},this.onLicensesOk=()=>{},this.onKeyboardShortcuts=()=>{l.default.openModal(n.createElement(v.default,null))}}componentDidMount(){this.openTime=performance.now(),o.default.loadAsset(I,o.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)}componentWillUnmount(){this.actionsTaken||this.logSessionEvent(C.default.CONTACT_US_EXIT_STATE.CANCELLED)}logSessionEvent(e,t){var a=new C.default.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=t.subject,a.contactUsScreenshotC=t.numScreenshots),a.commit(),this.actionsTaken=!0}render(){var e;return g.default.supportsFeature(g.default.F.LICENSES_PAGE)&&(e=n.createElement(u.default,{a8nText:"li-licenses",onClick:this.onLicenses},E.default.t(795))),n.createElement(c.default,null,n.createElement(f.default,{a8n:"drawer-title-help",title:E.default.t(754),onBack:this.props.onClose,type:f.DRAWER_HEADER_TYPE.LARGE}),n.createElement(h.default,null,n.createElement("div",{className:b.default.animation}),n.createElement(M.default,{className:b.default.versionInfo}),n.createElement(u.default,{a8nText:"li-faq",onClick:this.onFAQ},E.default.t(1718)),void 0,n.createElement(u.default,{a8nText:"li-contact-us",onClick:this.onContactUs},E.default.t(1240)),e,n.createElement(u.default,{a8nText:"li-tos",onClick:this.onTOS},E.default.t(1313)),void 0,void 0))}}t.default=y},djgcaefhci:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("hgigjbgie")),l=i(a("hhcjfgifh")),d=i(a("dahagdijgh")),c=i(a("bjheffjbgd")),h=s(a("bjjhgjdbhd")),u=i(a("gfebgebbi")),f=i(a("jggdejhae")),p=i(a("bdjjabfecc")),m=i(a("dgjfidhijd")),g=i(a("cbdjcijgja")),b=i(a("dhefcajhhb")),v=i(a("dhccahhefj")),E=i(a("deffjjfcba")),j=i(a("dgdcjccfdi")),C=i(a("dbihaeaggd")),S=i(a("didfdhbecg")),_=i(a("bjieiiccce"));class M extends n.Component{constructor(...e){super(...e),this.state={isBusy:!1,inviteComment:p.default.t(715)},this.setRefParticipantList=e=>{this.refParticipantList=e},this.onClose=()=>{var{onClose:e}=this.props;e()},this.getGroupThumbBase64=()=>{var{gid:e}=this.props,t=b.default.get(e);return new Promise(e=>{t&&t.img?_.default.get(t.img,_.default.RESP_TYPE.BLOB).then(t=>{if(200===t.status){var a=new FileReader;a.onloadend=function(){var t=a.result;if(null!=t){var i=t.toString().split(",")[1];e(i)}else e(void 0)},a.readAsDataURL(t.response)}else e(void 0)}).catch(()=>e(void 0)):e(void 0)})},this.onSend=()=>{var{onSend:e}=this.props,{inviteComment:t}=this.state;this.getGroupThumbBase64().then(a=>{e(t,a)})},this.onInviteCommentChange=e=>{this.setState({inviteComment:e})},this.setRefEmojiInput=e=>{this.refEmojiInput=e}}render(){var e=n.createElement(E.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},n.createElement(j.default,{name:"send",directional:!0})),t=n.createElement(l.default,{id:this.props.gid}),a=n.createElement(u.default,{text:this.props.subject});return n.createElement(m.default,{type:"invite"},n.createElement(d.default,{theme:"invite"},n.createElement(h.default,{type:h.DRAWER_HEADER_TYPE.POPUP,title:p.default.t(725),onCancel:this.onClose}),n.createElement(c.default,null,n.createElement("div",{className:f.default.search},n.createElement("div",{"data-list-scroll-container":!0},n.createElement(g.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map(e=>e.contact)}))),n.createElement("div",{className:f.default.commentInput},n.createElement(C.default,{a8n:"groups-v4-invite-add-comment-input",ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:o.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),n.createElement(S.default,{transitionName:"btn",className:f.default.onSendInvite},e),n.createElement("div",{className:f.default.groupInfo},n.createElement(r.default,{idle:!0,image:t,primary:a,secondary:p.default.t(720),theme:"group_v4_invite"})))))}}var I=(0,v.default)(M);t.default=I},djhaaeddde:function(e,t){e.exports={more:"_3MxH4",hotKeyWraper:"_2XBFW"}},djifeiaaea:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("cdfdfciehj")),n=a("cabeijgaif"),r=a("dhigcdiaid"),o={};o[n.ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},o[n.ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},o[n.ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},o[n.ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},o[n.ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var l={};l[n.ExtendedTextMessageFontType.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'.concat(r,'") format("truetype");}');var d=new class{constructor(){this.loadedFonts={},this.loadingPromise={}}load(e){if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var t=o[e],a=l[e],i=(a?new Promise((e,t)=>{var i=document.createElement("style");i.appendChild(document.createTextNode(a)),i.onload=e,i.onerror=t,document.head&&document.head.appendChild(i)}):Promise.resolve()).then(()=>new Promise((a,i)=>{var n=(0,s.default)((0,s.default)({},t),{},{active:()=>{this.loadedFonts[e]=!0,a()},inactive:()=>{this.loadingPromise[e]=void 0,i("Failed to load font: "+e)}});WebFont.load(n)}));return this.loadingPromise[e]=i,i}loadAllFonts(){return Promise.all(Array.from(n.ExtendedTextMessageFontType.members()).map(e=>this.load(e)))}};t.default=d},djihccehdc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("defdgchjjh")),o=i(a("bdeebiagii")),l=a("cjahggceac");class d extends o.default{constructor(...e){super(...e),this.sendMedia=({getImg:e,caption:t,mentionedJidList:a})=>{var i=this.props.chat,s=i.composeQuotedMsg;i.composeQuotedMsg=null;var n=i.getComposeContents().ctwaContext||void 0;(0,l.prepRawMedia)(e,{}).sendToChat(i,{caption:t,mentionedJidList:a,quotedMsg:s,ctwaContext:n}),this.props.onCaptureSent(),this.end()}}componentDidMount(){this.push(n.createElement(r.default,{onBack:()=>{this.end()},chat:this.props.chat,caption:!0,layoutType:"contain",onSend:this.sendMedia,stream:this.props.stream}))}}t.default=d},djjcfcigdi:function(e,t){e.exports={disabled:"Abvb-",title:"K_bwx"}},eaaffccdb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setupStatusV3Controller=function(e,t){if(e){if(e.type===o.default.TYPE.IMAGE){var a=4500;return(0,n.default)(t.caption)||(a+=2e3*Math.min(t.caption.length/150,1)),new h(a)}return e.type===o.default.TYPE.VIDEO?t.isGif?new u:new l.default:new h(3e3)}if(t.type===r.default.MSG_TYPE.CHAT){var i=2e3+60*Math.min(t.body.length,1e3);return new h(i)}return new h(3e3)},t.StatusV3GifController=t.StatusV3CountdownController=void 0;var s=i(a("dfadhaifh")),n=i(a("bebajedcaf")),r=i(a("hgigjbgie")),o=i(a("dcjigehfeb")),l=i(a("dhibhgiihj"));function d(){var e=(0,s.default)(["Timer stop called on stopped timer"]);return d=function(){return e},e}function c(){var e=(0,s.default)(["Duplicate timer start"]);return c=function(){return e},e}class h{constructor(e){this.addListeners=(e,t,a)=>{this._onStart=e,this._onPause=t,this._onEnded=a},this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0},this.play=()=>{if(this._timer)__LOG__(1)(c());else{this._timer=setTimeout(this._onTimeup,this._timeout),this._start=(new Date).getTime();var e=this._onStart;e&&e(this._timeout,this._duration)}},this.stop=()=>{if(this._timer){clearTimeout(this._timer),this._timer=null;var e=(new Date).getTime();this._timeout-=e-this._start;var t=this._onPause;t&&t()}else __LOG__(1)(d())},this.resume=()=>{this.play()},this.pause=()=>{this.stop()},this._onTimeup=()=>{var e=this._onEnded;e&&e()},this._duration=e,this._timeout=this._duration,this._start=0}get duration(){return this._duration}}t.StatusV3CountdownController=h;class u{constructor(){this.removeListeners=()=>{this._onStart=void 0,this._onPause=void 0,this._onEnded=void 0,this._videoController.removeListeners(),this._countdownController.removeListeners()},this.setVideo=(e,t)=>{this._video!==e&&(this._video=e,null!=t&&(this._duration=t),this._videoController.setVideo(e))},this._onVideoStartHandler=()=>{var e=this._video;if(null!=e){var t=this._onStart,a=e.duration||this._duration,i=Math.max(3*a*1e3,6e3);t&&t(i-1e3*a*this._playCounter-1e3*e.currentTime,i)}},this._onVideoPauseHandler=()=>{var e=this._onPause;e&&e()},this._onVideoEndedHandler=()=>{var e=this._video;if(null!=e){this._playCounter++;var t=this._onEnded;3===this._playCounter&&(this._videoEnded=!0,this._timerEnded&&t&&t()),e.currentTime=0,this._videoEnded&&this._timerEnded||setTimeout(()=>{this._videoController.play()},0)}},this._onTimerEndedHandler=()=>{var e=this._onEnded;this._timerEnded=!0,e&&this._videoEnded&&e()},this.play=()=>{this._videoController.play(),this._countdownController.play()},this.stop=()=>{this._videoController.stop(),this._countdownController.stop()},this.resume=()=>{this._videoController.resume(),this._countdownController.resume()},this.pause=()=>{this._videoController.pause(),this._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new l.default,this._countdownController=new h(6e3),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}addListeners(e,t,a){this._onStart=e,this._onPause=t,this._onEnded=a}get duration(){return Math.max(3*(this._video&&this._video.duration||this._duration)*1e3,6e3)}}t.StatusV3GifController=u},eabhbddaei:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("ccbgfecegc")),o=i(a("bbfjdcedab")),l=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),c=s(a("bjjhgjdbhd")),h=a("eajdbbfgfg"),u=i(a("bdjjabfecc")),f=i(a("cbddigijbj")),p=a("dcfieddiah"),m=i(a("ebddggeaib")),g=i(a("bdcchebfge")),b=i(a("bhgjeaceh")),v=i(a("dgaefbheia")),E=i(a("dceicchccd")),j=i(a("deffjjfcba")),C=i(a("dgdcjccfdi"));class S extends n.PureComponent{constructor(){super(),this.onMultiSelect=()=>{var e=this.multiSelection.getSelected().length;this.setState({selectedCount:e})},this.shouldScrollIntoViewAndSelect=()=>({shouldScrollIntoView:!0,shouldSelect:!1}),this.onDeleteLabel=e=>{r.default.closeModal(),this.multiSelection.unsetAll(),this.props.onDeleteLabel(e)},this.confirmDeleteSelectedLabels=()=>{var e=this.multiSelection.getSelected();(0,p.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW,e.length,g.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),r.default.openModal(n.createElement(o.default,{title:u.default.t(492,{_plural:e.length}),okText:u.default.t(1777),cancelText:u.default.t(1644),onCancel:()=>{(0,p.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,g.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),r.default.closeModal()},onOK:()=>{(0,p.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,g.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),this.onDeleteLabel(e)}}))},this.onCancelSelection=()=>{this.multiSelection.unsetAll(),this.setState({selectedCount:0})},this.multiSelection=new E.default([],e=>e.id),this.state={selectedCount:0}}componentDidMount(){(0,p.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW,void 0,g.default.LABEL_TARGETS.LABELS_SCREEN)}render(){var{selectedCount:e}=this.state,t=null;t=e>0?n.createElement(b.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):n.createElement(c.default,{title:u.default.t(792),onBack:this.props.onClose,type:c.DRAWER_HEADER_TYPE.LARGE});var a=(0,h.canEditLabel)()&&n.createElement("div",{className:f.default.addLabelBtContainer},n.createElement(j.default,{large:!0,onClick:this.props.openAddLabel},n.createElement(C.default,{name:"plus-large"})));return n.createElement(l.default,{theme:"settings"},t,n.createElement(d.default,null,n.createElement(v.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContext:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),a)}}var _=(0,m.default)(S);t.default=_},eadddjbjhg:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("biheibdage")),o=i(a("ccbgfecegc")),l=i(a("hgigjbgie")),d=a("cfffidafid"),c=s(a("cajijabhgb")),h=i(a("bdjjabfecc")),u=a("cjahggceac"),f=i(a("dcjigehfeb")),p=a("cbcbdjdah"),m=i(a("dcdjgccech")),g=i(a("diddacjbhj")),b=i(a("dchhjffcdj")),v=i(a("dhccahhefj")),E=i(a("dgdcjccfdi")),j=s(a("bjhgigfbec")),C=i(a("didfdhbecg"));class S extends n.Component{constructor(e){super(e),this.onAddFileClick=()=>{this.refInput&&this.refInput.click()},this.onFilePick=e=>{(0,d.getFiles)(e,l.default.IMAGE_MIMES).then(e=>{var t=this.props.maxImageCount-this.state.images.length;e.length>t&&o.default.openToast(n.createElement(j.default,{msg:h.default.t(855),duration:6e3,action:{onAction:()=>{},actionText:h.default.t(666),dismiss:!0,theme:"success"},id:(0,j.genId)()})),e.slice(0,this.props.maxImageCount-this.state.images.length).map(e=>({file:e,filename:e.name,mimetype:e.type,type:p.TYPE.PRODUCT})).map(e=>{var t,a=new r.default({file:Promise.resolve(e)});return null===(t=a.processPromise)||void 0===t?void 0:t.then(()=>{this.appendImage(a)})})}).checkpoint(this.props.rejectOnUnmount()).catchType(c.Unmount,()=>{}),e.target&&e.target.value&&(e.target.value="")},this.uploadImages=()=>{var e=this.state.images.filter(e=>null==e.url).map(e=>(0,u.uploadProductImage)(e.mediaData.mediaBlob,e.mediaData.filehash).then(t=>{e.url=t}));return Promise.all(e).then(()=>this.state.images.map(e=>e.url||""))},this.setRefInput=e=>{this.refInput=e};var t=e.product.productImageCollection.map(e=>({url:e.mediaUrl,mediaData:e.mediaData}));this.state={images:t}}appendImage(e){e.mediaPrep.waitForPrep().then(t=>{if(this.validateImage(t)){t.mediaStage=f.default.STAGE.RESOLVED,t.renderableUrl=e.fullPreview;var a=t.mediaBlob;!a||a instanceof m.default||m.default.createFromData(a,a.type).then(e=>{t.mediaBlob=e}),this.setState({images:[...this.state.images,{url:null,mediaData:t}]}),this.props.onChange&&this.props.onChange(this.state.images)}})}validateImage(e){return!(this.state.images.filter(t=>t.mediaData.filehash===e.filehash).length>0)||(o.default.openToast(n.createElement(j.default,{id:(0,j.genId)(),msg:h.default.t(598)})),!1)}deleteImage(e){var t=this.state.images.filter(t=>t!==e);this.setState({images:t}),this.props.onChange&&this.props.onChange(t)}renderTiles(){return this.state.images.filter(e=>e.mediaData).map(e=>n.createElement("div",{key:e.mediaData.filehash,className:g.default.imageTile},n.createElement("div",{className:g.default.btnDelete,onClick:()=>this.deleteImage(e),role:"button"},n.createElement(E.default,{className:g.default.deleteIcon,name:"x-alt"})),n.createElement(b.default,{mediaData:e.mediaData,className:g.default.imageThumb})))}renderAddImageButton(){return this.state.images.length<this.props.maxImageCount?n.createElement("div",{className:g.default.btnAddContainer,onClick:this.onAddFileClick,role:"button"},n.createElement("div",{className:g.default.btnAdd},n.createElement(E.default,{name:"camera"}),n.createElement("div",{className:g.default.btnAddText},h.default.t(373)))):null}renderFileInput(){return n.createElement("input",{ref:this.setRefInput,type:"file",accept:l.default.IMAGE_MIMES,style:{display:"none"},onChange:this.onFilePick,multiple:!0})}renderErrorMessage(){return n.createElement("div",{className:g.default.errorMessage},this.props.error)}render(){return n.createElement("div",{className:g.default.panel},n.createElement("div",{className:g.default.tileContainer},n.createElement(C.default,{transitionAppear:!0,transitionName:"thumb-scale-flex"},this.renderTiles(),this.renderAddImageButton()),this.renderFileInput()),this.renderErrorMessage())}}var _=(0,v.default)(S);t.default=_},eafahcacji:function(e,t,a){"use strict";var i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("ddhijeejag"));class n extends s.Component{constructor(...e){super(...e),this.setRefCanvas=e=>{this.refCanvas=e}}shouldComponentUpdate(){return!1}render(){return s.createElement("canvas",{className:this.props.className,ref:this.setRefCanvas})}}t.default=n},eafijicig:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=s(a("cfadcbbiie")),d=s(a("hgigjbgie")),c=a("bgihjbde"),h=i(a("cajijabhgb")),u=s(a("bhbdiadfhj")),f=s(a("bdjjabfecc")),p=s(a("ebddggeaib")),m=s(a("eigdejjai")),g=s(a("dhccahhefj")),b=s(a("ecdebjcgfa")),v=s(a("cjeffdedac")),E=a("dieaaaeidb"),j=s(a("dgdcjccfdi"));function C(){var e=(0,n.default)(["error while loading all out status: ",""]);return C=function(){return e},e}class S extends r.Component{render(){var e,t,a=r.createElement(M,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus});return u.default.supportsFeature(u.default.F.STATUS_V3_UI_SENDING)&&(e=r.createElement("div",{className:v.default.updateWrapper},r.createElement("div",{className:v.default.updateTitle},f.default.t(1278)),r.createElement("div",{className:v.default.uploadButtons},r.createElement("div",{className:v.default.buttonContainer},r.createElement(j.default,{name:"status-v3-upload",className:v.default.buttonIcon}),f.default.t(1279)),r.createElement("div",{className:v.default.buttonContainer},r.createElement(j.default,{name:"status-v3-camera",className:v.default.buttonIcon}),f.default.t(1265)))),t=r.createElement("hr",null)),r.createElement("div",{className:v.default.outStatusPanel},e,t,a)}}class _ extends r.Component{constructor(...e){super(...e),this.rerender=()=>{this.forceUpdate()}}componentDidMount(){var{statusV3:e,listeners:t}=this.props;e&&(t.add(e,"change:msgsChanged",this.rerender),e.loadMore(e.totalCount).catch(e=>{__LOG__(3)(C(),String(e))}))}componentDidUpdate(e){var{listeners:t,statusV3:a}=this.props,{statusV3:i}=e;i!==a&&(i&&t.remove(i,"change:msgsChanged",this.rerender),a&&t.add(a,"change:msgsChanged",this.rerender))}render(){var e=this.props.statusV3;if(e&&e.msgs.length>0){var t=e.msgs.map(t=>r.createElement(y,{key:t.id.toString(),msg:t,status:e,onOpenStatus:this.props.onOpenStatus}));return r.createElement("div",{className:v.default.viewWrapper},r.createElement("div",{className:v.default.viewTitle},f.default.t(1280)),r.createElement("div",{className:v.default.viewUpdates},t))}return r.createElement("div",{className:v.default.viewWrapper},r.createElement("div",{className:v.default.placeholderIcon},r.createElement(j.default,{name:"status-v3-placeholder"})),r.createElement("div",{"data-a8n":o.default.key("status-placeholder"),className:v.default.placeholderText},f.default.t(1274)))}}var M=(0,p.default)(_);class I extends r.Component{constructor(){super(...arguments),this.state={}}componentDidMount(){m.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(e=>{this.props.listeners.add(e.read,"add remove",()=>{this.setState({seenCount:e.read.length})}),this.setState({seenCount:e.read.length})}).catchType(h.Unmount,()=>{}).catchType(c.EphemeralDrop,()=>{})}render(){var e,t,a,{msg:i,status:s}=this.props,n=i.mediaData;if(n&&n.preview)e={backgroundImage:"url(".concat(n.preview.url(),")")};else if(i.type===d.default.MSG_TYPE.CHAT){e={backgroundColor:i.statusV3TextBg}}return i.type===d.default.MSG_TYPE.CHAT&&(t=r.createElement(E.StatusV3Text,{msg:i,theme:"status-panel"})),a=void 0!==this.state.seenCount?r.createElement(r.Fragment,null,r.createElement(j.default,{name:"status-v3-seen",className:v.default.iconSeen}),r.createElement("div",{className:v.default.seenCount},this.state.seenCount)):r.createElement(b.default,{stroke:3,size:12}),r.createElement("div",{className:v.default.outDetail},r.createElement("div",{className:v.default.statusImage,style:e,onClickCapture:e=>{this.props.onOpenStatus(s,i),e.preventDefault(),e.stopPropagation()}},t),r.createElement("div",{className:v.default.seen},a),r.createElement("div",{className:v.default.timestamp},l.default.relativeDateAndTimeStr(i.t)))}}var y=(0,g.default)((0,p.default)(I)),T=S;t.default=T},eahdicfdjf:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("bdjjabfecc")),o=i(a("dijgefdehc")),l=i(a("dcdbbhicce")),d=i(a("dgdcjccfdi")),c=a("dhhjhedjij");class h extends n.PureComponent{render(){var{numTimesForwarded:e,isFrequentlyForwarded:t}=this.props.msg;if(e<=0||t)return null;var a=n.createElement(d.default,{name:"forwarded",display:"inline",className:o.default.icon}),i=r.default.t(628,{count:e,_plural:e});return n.createElement("div",{className:o.default.title},a,n.createElement(c.TextSpan,{theme:"title",className:o.default.text},i))}}h.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]};var u=(0,l.default)(h,h.CONCERNS);t.default=u},ebddbjbgeb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountryShortcodeByPhone=function(e){var t=(null==e?void 0:e.substr(0,e.length-10))||"";return i[t]||""};var i={1:"US",7:"RU",20:"EG",27:"ZA",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",40:"RO",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",51:"PE",52:"MX",53:"CU",54:"AR",55:"BR",56:"CL",57:"CO",58:"VE",60:"MY",61:"AU",62:"ID",63:"PH",64:"NZ",65:"SG",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",91:"IN",92:"PK",93:"AF",94:"LK",95:"MM",98:"IR",211:"SS",212:"MA",213:"DZ",216:"TN",218:"LY",220:"GM",221:"SN",222:"MR",223:"ML",224:"GN",225:"CI",226:"BF",227:"NE",228:"TG",229:"BJ",230:"MU",231:"LR",232:"SL",233:"GH",234:"NG",235:"TD",236:"CF",237:"CM",238:"CV",239:"ST",240:"GQ",241:"GA",242:"CG",243:"CD",244:"AO",245:"GW",246:"IO",247:"AC",248:"SC",249:"SD",250:"RW",251:"ET",252:"SO",253:"DJ",254:"KE",255:"TZ",256:"UG",257:"BI",258:"MZ",260:"ZM",261:"MG",262:"RE",263:"ZW",264:"NA",265:"MW",266:"LS",267:"BW",268:"SZ",269:"KM",290:"SH",291:"ER",297:"AW",298:"FO",299:"GL",350:"GI",351:"PT",352:"LU",353:"IE",354:"IS",355:"AL",356:"MT",357:"CY",358:"FI",359:"BG",370:"LT",371:"LV",372:"EE",373:"MD",374:"AM",375:"BY",376:"AD",377:"MC",378:"SM",380:"UA",381:"RS",382:"ME",383:"XK",385:"HR",386:"SI",387:"BA",389:"MK",420:"CZ",421:"SK",423:"LI",500:"FK",501:"BZ",502:"GT",503:"SV",504:"HN",505:"NI",506:"CR",507:"PA",508:"PM",509:"HT",590:"GP",591:"BO",592:"GY",593:"EC",594:"GF",595:"PY",596:"MQ",597:"SR",598:"UY",599:"CW",670:"TL",672:"NF",673:"BN",674:"NR",675:"PG",676:"TO",677:"SB",678:"VU",679:"FJ",680:"PW",681:"WF",682:"CK",683:"NU",685:"WS",686:"KI",687:"NC",688:"TV",689:"PF",690:"TK",691:"FM",692:"MH",850:"KP",852:"HK",853:"MO",855:"KH",856:"LA",880:"BD",886:"TW",960:"MV",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",967:"YE",968:"OM",970:"PS",971:"AE",972:"IL",973:"BH",974:"QA",975:"BT",976:"MN",977:"NP",992:"TJ",993:"TM",994:"AZ",995:"GE",996:"KG",998:"UZ","":"UNKNOWN"}},ebgdcjifc:function(e,t){e.exports={container:"_1iMC7",textContainer:"hVoOt",spinner:"_1G_hs"}},ecbbjjjhh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("gfebgebbi")),l=a("eajdbbfgfg"),d=i(a("bdjjabfecc")),c=i(a("bijffg")),h=s(a("eeebhdeed")),u=i(a("ebddggeaib"));class f extends n.PureComponent{constructor(...e){super(...e),this.updateLabels=()=>{this.forceUpdate()}}componentDidMount(){this.props.listeners.add(c.default,"label_updated_".concat(this.props.label),this.updateLabels)}render(){var{label:e}=this.props,t=c.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var a=n.createElement(h.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),i=n.createElement(o.default,{text:t.name,ellipsify:!0,titlify:!0});return n.createElement(r.default,{theme:(0,l.canEditLabel)()?"chat-checkbox":void 0,image:a,primary:i,secondary:d.default.t(784,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var s=(0,h.renderLabelSvg)(t.hexColor),u=n.createElement(o.default,{text:t.name,ellipsify:!0,titlify:!0});return n.createElement(r.default,{theme:"label-selection",image:s,primary:u})}}var p=(0,u.default)(f);t.default=p},ecgechdigh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("dfadhaifh")),r=s(a("iidhbgeed")),o=i(a("ddhijeejag")),l=s(a("dababjcdei")),d=s(a("ecfgahegjj")),c=s(a("ccbgfecegc")),h=s(a("bbfjdcedab")),u=s(a("hgigjbgie")),f=s(a("dhigahgdjb")),p=s(a("dcjhajfghf")),m=s(a("dgebcfedgb")),g=s(a("bjbifafigc")),b=a("cgffhfegce"),v=s(a("hjieaedbd")),E=s(a("bhbdiadfhj")),j=s(a("jheedhagg")),C=s(a("dcfihjeedb")),S=s(a("bhbcdbjdeg")),_=s(a("bdjjabfecc")),M=i(a("baffhfhhda")),I=i(a("dgjfidhijd")),y=s(a("difhgjjfcb")),T=s(a("dicacbdagf")),P=s(a("cfcfdeifjb")),L=s(a("dcbcigbda")),w=s(a("dgdcjccfdi")),k=s(a("ddggdgafij")),N=s(a("cgjdibiahi")),R=s(a("dfciadajdf")),D=s(a("didfdhbecg"));function O(){var e=(0,n.default)(["PhotoPicker:onImageReceived failed to load image: ",""]);return O=function(){return e},e}class A extends o.Component{constructor(...e){super(...e),this.state={img:this.props.startImage,hover:!1,imageSize:null},this.setRefImageContainer=e=>{this.refImageContainer=e},this.setRefImageInput=e=>{this.refImageInput=e},this.onUpload=()=>{var e=this.refImageInput;if(e)return e.click(),!0},this.removeImage=()=>{this.props.onImageSet(),c.default.closeModal()},this.onRemove=()=>{var e=this.props.type===P.default.GROUP?_.default.t(1138):_.default.t(1142);c.default.openModal(o.createElement(h.default,{onOK:this.removeImage,okText:_.default.t(1137),onCancel:()=>c.default.closeModal(),cancelText:_.default.t(1497)},e))},this.onView=()=>{var e=this.refImageContainer,{id:t,attachToChat:a}=this.props;if(e&&t){var i=f.default.assertGet(t),s={transition:"profile-viewer"};a&&(s.uim=this.props.uim),c.default.openModalMedia(o.createElement(L.default,{contact:i,profilePicThumb:i.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:t=>{t(e)}}),s)}},this.onPaste=e=>{if(this.state.contextMenu){var t=new p.default(e.clipboardData),a=(0,r.default)(t.getFiles(),e=>"image"===(0,b.typeFromMimetype)(e.type));if(a.length){e.preventDefault(),e.stopPropagation(),this.closeContextMenu();var i=a[0];this.onImagePick(i)}}},this.onImageSelected=e=>{this.closeContextMenu();var t=e.target.files[0];if(!t)return!1;this.onImagePick(t),e.target.value=""},this.onImageReceived=(e,t)=>{e?M.loadImage(e).then(()=>{this.setState({img:e}),this.props.onImageSet(e,t)}).catch(e=>{__LOG__(3)(O(),String(e));var t=this.props.type===P.default.GROUP?_.default.t(90):_.default.t(160);c.default.openModal(o.createElement(h.default,{onOK:()=>c.default.closeModal()},t))}):this.setState({img:null,imageSize:null})},this.onSearch=()=>{c.default.openModal(o.createElement(I.default,{type:I.BoxModalType},o.createElement(C.default,{onFinished:this.onImageReceived})))},this.onImagePick=e=>{var t=URL.createObjectURL(e);M.loadImage(t).then(t=>{t&&(t.width<u.default.MIN_PIC_SIDE||t.height<u.default.MIN_PIC_SIDE)?c.default.openModal(o.createElement(h.default,{onOK:()=>c.default.closeModal()},_.default.t(1129,{size:u.default.MIN_PIC_SIDE,_plural:u.default.MIN_PIC_SIDE}))):c.default.openModal(o.createElement(I.default,{type:I.BoxModalType},o.createElement(g.default,{img:e,onFinished:this.onImageReceived,onRetake:this.onUpload})))}).catch(()=>{var e=this.props.type===P.default.GROUP?_.default.t(90):_.default.t(160);c.default.openModal(o.createElement(h.default,{onOK:()=>c.default.closeModal()},e))}).finally(()=>{URL.revokeObjectURL(t)})},this.onImageClick=e=>{if(this.props.readOnly)this.state.img&&this.onView();else{e.stopPropagation(),e.preventDefault();var t=[];this.props.id&&this.state.img&&t.push(o.createElement(m.default,{a8n:"mi-view-photo",key:"view",action:this.onView},_.default.t(1393))),v.default&&t.push(o.createElement(k.default,{key:"take",onImageTake:this.onImageReceived})),t.push(o.createElement(m.default,{a8n:"mi-upload-photo",key:"upload",action:this.onUpload},_.default.t(1356))),E.default.supportsFeature(E.default.F.BING_IMAGE_SEARCH)&&this.props.type===P.default.GROUP&&t.push(o.createElement(m.default,{a8n:"mi-search-photo",key:"search",action:this.onSearch},_.default.t(1711))),this.state.img&&t.push(o.createElement(m.default,{a8n:"mi-remove-photo",key:"remove",action:this.onRemove},_.default.t(1141))),e.persist(),this.setState({contextMenu:{menu:t,event:e}})}},this.closeContextMenu=()=>{this.setState({contextMenu:null})},this.onMouseOver=()=>{this.state.hover||this.setState({hover:!0})},this.onMouseEnter=()=>{this.state.hover||this.setState({hover:!0})},this.onMouseLeave=()=>{this.state.hover&&this.setState({hover:!1})},this.onLoad=e=>{var t=e.target.clientWidth,a=e.target.clientHeight;this.setState({imageSize:{width:t,height:a}})}}static getDerivedStateFromProps(e){return e.startImage?{img:e.startImage}:{img:e.startImage,imageSize:null}}render(){var e,t;this.state.img&&(e=o.createElement(y.default,{type:"cover",size:this.state.imageSize},o.createElement(S.default,{src:this.state.img,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:this.onLoad}))),(this.props.pending||this.state.img&&!this.state.imageSize)&&(t=o.createElement(d.default,null));var a=null;if(!this.props.pending&&!this.props.readOnly&&(!this.state.img||this.state.imageSize)&&(!this.state.img||this.state.contextMenu||this.state.hover)){var i="";switch(this.props.type){case P.default.GROUP:i=this.state.img?_.default.t(390):_.default.t(188);break;case P.default.PROFILE:i=this.state.img?_.default.t(395):_.default.t(194)}a=o.createElement(l.default,{icon:o.createElement(w.default,{name:"camera"}),text:i})}var s,n,r=this.props.pending||!this.state.imageSize&&this.state.img?()=>{}:this.onImageClick;if(this.state.contextMenu&&(s=o.createElement(N.default,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},o.createElement(R.default,{contextMenu:this.state.contextMenu}))),this.props.pending||!this.state.img||this.state.img&&!this.state.imageSize){var c=this.props.type===P.default.PROFILE?"default-user":"default-group";n=o.createElement("div",{className:T.default.defaultIcon},o.createElement(w.default,{name:c}))}return o.createElement("div",{className:T.default.container},o.createElement("div",{className:T.default.body,onClick:r,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPaste:this.onPaste,ref:this.setRefImageContainer,dir:"ltr"},o.createElement("div",{className:T.default.imageContainer},e,n),o.createElement(D.default,{transitionName:"fade"},t,a)),o.createElement("input",{ref:this.setRefImageInput,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:this.onImageSelected}),s)}}var x=(0,j.default)(A);t.default=x},ehdgbgee:function(e,t){e.exports={drawerHeader:"_1HePc",productName:"_3rzWC",drawerHeaderButtonContainer:"_3mPXo",productWrapper:"_1MZ-h",businessInfoTitle:"_2HBMJ",statusAlert:"_2GWne",appealText:"_1jWWI"}},eibcjagbe:function(e,t){e.exports={container:"_34Km4",media:"_1aZmm"}},fgghedjgb:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("cefccdiabc")),o=i(a("ccbgfecegc")),l=i(a("chhdaecjcj")),d=s(a("hhcjfgifh")),c=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),u=i(a("cciafahdib")),f=s(a("bjjhgjdbhd")),p=i(a("gfebgebbi")),m=a("cdhbdacigj"),g=a("bgihjbde"),b=s(a("cajijabhgb")),v=a("bejbgaghc"),E=i(a("cjgeeiibdf")),j=i(a("bffajdjibj")),C=i(a("bdjjabfecc")),S=i(a("dhccahhefj")),_=a("cbhhehcjbb"),M=i(a("caifaihfad")),I=i(a("ddjgdbbihc")),y=i(a("dcdbbhicce")),T=i(a("dgdcjccfdi")),P=s(a("bjhgigfbec")),L=0,w=1,k=2;class N extends n.Component{constructor(...e){super(...e),this.state={state:L},this.getErrorMessageFromStatusCode=e=>{switch(e){case 401:return C.default.t(687);case 403:return C.default.t(688);case 404:return C.default.t(689);default:return C.default.t(690)}},this.handleLoadingErrorStatusCode=e=>{var t=this.getErrorMessageFromStatusCode(e);this.props.onBack(),o.default.openToast(n.createElement(P.default,{msg:t,id:(0,P.genId)()}))},this.handleRevokeGroupInvite=()=>{o.default.openModal(n.createElement(j.default,{pushTransition:"none",popTransition:"none",chat:this.props.chat,onConfirm:this.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},this.handleRevokingErrorStatusCode=e=>{var t=this.getErrorMessageFromStatusCode(e);this.props.onBack(),o.default.openToast(n.createElement(P.default,{msg:t,id:(0,P.genId)()}))},this.handleConfirmRevokeGroupInvite=()=>{this.setState({state:w});var e=(0,v.revokeGroupInvite)(this.props.groupMetadata);Promise.delay(500).then(()=>e).checkpoint(this.props.rejectOnUnmount()).then(()=>{o.default.openToast(n.createElement(P.default,{msg:C.default.t(695),id:(0,P.genId)()})),this.setState({state:k})}).catchType(g.ServerStatusCodeError,e=>{this.handleRevokingErrorStatusCode(e.statusCode)}).catchType(b.Unmount,()=>{})},this.handleSendGroupInviteLink=()=>{o.default.openModal(n.createElement(M.default,{chat:this.props.chat}),{transition:"modal-flow"})},this.handleClickGroupInviteLinkCapture=e=>{e.preventDefault(),e.stopPropagation()},this.renderDrawerBody=()=>{var e,t=this.props.groupMetadata;if(this.state.state===L)e=n.createElement(m.LoadingWithText,{text:C.default.t(678)});else if(this.state.state===w)e=n.createElement(m.LoadingWithText,{text:C.default.t(694,{groupName:this.props.chat.contact.name})});else{var a=t.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=n.createElement(l.default,{elementId:"group-invite-link-anchor"}));var s=n.createElement(d.default,{id:this.props.chat.id,size:82,quality:d.DETAIL_IMAGE_QUALITY.HIGH}),o=n.createElement("span",{className:E.default.linkContainer},n.createElement(_.SelectableLink,{id:"group-invite-link-anchor",href:a,selectable:!0},a));e=n.createElement(h.default,null,n.createElement(r.default,{image:s,primary:n.createElement(p.default,{text:this.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:o}),n.createElement("div",{className:E.default.descContainer},C.default.t(685)),n.createElement(I.default,{onClick:this.handleSendGroupInviteLink}),i,n.createElement(u.default,{a8nText:"li-revoke-link",icon:n.createElement(T.default,{name:"revoke",className:E.default.icon}),onClick:this.handleRevokeGroupInvite},C.default.t(682)))}return e}}componentDidMount(){(0,v.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then(()=>{this.setState({state:k})}).catchType(g.ServerStatusCodeError,e=>{this.handleLoadingErrorStatusCode(e.statusCode)}).catchType(b.Unmount,()=>{})}render(){return n.createElement(c.default,null,n.createElement(f.default,{title:C.default.t(684),onBack:this.props.onBack,type:f.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}N.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]};var R=(0,S.default)((0,y.default)(N,N.CONCERNS));t.default=R},fhajfeecb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("bebajedcaf")),r=s(a("ceffhbhahb")),o=a("biciedabid"),l=i(a("ddhijeejag")),d=i(a("dfhjacfbjg")),c=s(a("ccbgfecegc")),h=s(a("bbfjdcedab")),u=s(a("bjigbaghc")),f=s(a("hgigjbgie")),p=a("cfffidafid"),m=a("ddbdgibbbi"),g=s(a("dhfbfehaef")),b=s(a("bdjjabfecc")),v=i(a("dbcedfihd")),E=s(a("caaehhchbg")),j=s(a("dgdcjccfdi")),C=s(a("dbihaeaggd")),S=i(a("bjhgigfbec")),{SEND_LOGS_MAX_EMAIL_LENGTH:_,SEND_LOGS_MAX_SUBJECT_LENGTH:M,SEND_LOGS_MIN_DESC_LENGTH:I,SEND_LOGS_MAX_DESC_LENGTH:y,SEND_LOGS_MAX_SCREENSHOTS:T,SEND_LOGS_MAX_SCREENSHOT_SIZE:P}=f.default;class L extends l.Component{constructor(...e){super(...e),this.state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:u.default.isSMB?b.default.t(1243):b.default.t(1244),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},this.setAttachButton=e=>{this.attachButton=e},this.setEmailAddr=e=>{this.emailAddrInput=e},this.onSend=()=>{var e={},{email:t,confirmEmail:a,subject:i,description:s,screenshots:r}=this.state,h=t.trim(),u=a.trim();if(this.validateEmail(h)||(e.emailError=b.default.t(1230)),this.validateConfirmEmail(u)||(e.confirmEmailError=b.default.t(1231)),this.validateDescription(s)||(e.descriptionError=b.default.t(1242)),this.validateSubject(i)||(e.subjectError=b.default.t(1239)),(0,n.default)(e)){this.setState({email:h,confirmEmail:u,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),r.map(e=>{e.url&&(URL.revokeObjectURL(e.url),delete e.url)});var f=(0,m.getMaybeMeUser)(),p=f?(0,o.formatPhone)(f.user):null,g=i.trim()||b.default.t(1227);d.uploadUserReport(p,h,g,s,r),this.props.onSend&&this.props.onSend({subject:g,description:s,numScreenshots:r.length}),c.default.closeModal(),c.default.openToast(l.createElement(S.default,{msg:b.default.t(1238),id:(0,S.genId)()}))}else e.email=h,e.confirmEmail=u,this.setState(e)},this.onCancel=()=>{this.props.onCancel&&this.props.onCancel(),c.default.closeModal()},this.onSubjectChange=e=>{var t={subject:e,subjectError:this.state.subjectError};this.state.subjectError&&this.validateSubject(t.subject)&&(t.subjectError=void 0),this.setState(t)},this.onSubjectBlur=()=>{var e;this.validateSubject(this.state.subject)||(e=b.default.t(1239)),this.state.subjectError!==e&&this.setState({subjectError:e})},this.onDescriptionChange=e=>{var t={description:e,descriptionError:this.state.descriptionError};this.state.descriptionError&&this.validateDescription(t.description)&&(t.descriptionError=void 0),this.setState(t)},this.onDescriptionBlur=()=>{var e;!this.state.description&&!this.state.descriptionError||this.validateDescription(this.state.description)||(e=b.default.t(1242)),this.state.descriptionError!==e&&this.setState({descriptionError:e})},this.onEmailChange=e=>{var t={email:e,emailError:this.state.emailError};this.state.emailError&&this.validateEmail(t.email)&&(t.emailError=void 0),this.setState(t)},this.onEmailBlur=()=>{var e,t=this.state.email.trim(),a={};!this.state.email&&!this.state.emailError||this.validateEmail(t)||(e=b.default.t(1230)),this.state.emailError!==e&&(a.emailError=e),this.state.email!==t&&(a.email=t),(0,n.default)(a)||this.setState(a)},this.onConfirmEmailChange=e=>{var t={confirmEmail:e,confirmEmailError:this.state.confirmEmailError};this.state.confirmEmailError&&this.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),this.setState(t)},this.onConfirmEmailBlur=()=>{var e,t=this.state.confirmEmail.trim(),a={};!this.state.confirmEmail&&!this.state.confirmEmailError||this.validateConfirmEmail(t)||(e=b.default.t(1231)),this.state.confirmEmailError!==e&&(a.confirmEmailError=e),this.state.confirmEmail!==t&&(a.confirmEmail=t),(0,n.default)(a)||this.setState(a)},this.validateEmail=e=>v.validateEmail(e),this.validateConfirmEmail=e=>this.state.email===e,this.validateDescription=e=>e.length>I,this.validateSubject=()=>!0,this.onFilePick=e=>{e.preventDefault(),e.stopPropagation(),this.reachMaxScreenshots()||(0,p.getFiles)(e,"image/*").then(e=>{this.attachButton&&(this.attachButton.value="");var t=e.filter(e=>e.size<=P);t.length<e.length&&c.default.openToast(l.createElement(S.default,{msg:b.default.t(1233),id:(0,S.genId)()}));var a=this.state.screenshots.concat(t).slice(0,T);a.map(e=>{e.url||(e.url=URL.createObjectURL(e))}),this.setState({screenshots:a})})},this.onDragChange=e=>{this.setState({isDragging:e})},this.handleAttachClick=()=>{this.attachButton&&!this.reachMaxScreenshots()&&this.attachButton.click()},this.stopPropagation=e=>{e.stopPropagation()}}componentDidMount(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}componentWillUnmount(){this.state.screenshots.map(({url:e})=>e&&URL.revokeObjectURL(e))}reachMaxScreenshots(){return this.state.screenshots.length>=T}deleteScreenshot(e){var t=this.state.screenshots.slice(),[a]=t.splice(e,1);a.url&&URL.revokeObjectURL(a.url),this.setState({screenshots:t})}getScreenshotsList(){var e=this.state.screenshots.map((e,t)=>{if(!e.url)return null;var a="url(".concat(e.url,")"),i="screenshot-".concat(t);return l.createElement("div",{key:i,className:E.default.screenshotsImg,style:{backgroundImage:a}},l.createElement("button",{className:E.default.btnDelete,onClick:()=>{this.deleteScreenshot(t)}},l.createElement(j.default,{name:"x-alt"})))});return e.length?l.createElement("div",{className:E.default.screenshotPreview},e):null}getScreenshotAction(){if(this.reachMaxScreenshots()){var e=T;return l.createElement("div",{className:(0,r.default)(E.default.action,E.default.disabled)},b.default.t(1241,{count:e,_plural:e}))}return this.state.isDragging?l.createElement("div",{className:E.default.action},b.default.t(1236)):l.createElement("div",{className:E.default.action,onClick:this.handleAttachClick},b.default.t(1237))}render(){var e={enter:this.stopPropagation},t=l.createElement("div",{className:E.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),l.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return l.createElement(h.default,{title:b.default.t(1240),okText:b.default.t(1226),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},l.createElement(g.default,{handlers:e},l.createElement(C.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:_,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:b.default.t(1228)}),l.createElement(C.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:_,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:b.default.t(1229)}),l.createElement(C.default,{value:this.state.subject,error:this.state.subjectError,maxLength:M,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:b.default.t(1232)}),l.createElement(C.default,{value:this.state.description,error:this.state.descriptionError,maxLength:y,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:b.default.t(496),multiline:!0}),t))}}t.default=L},fjdjhajce:function(e,t){e.exports={container:"_3ABKr",section:"ZQyg_",control:"_3Kt9n",label:"_3jrgD",disabled:"_1pJHe"}},gafggdea:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("fhfbcdaib")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=a("dfdebdgdei"),d=s(a("cddjjebiij")),c=s(a("bgfcjjddjf")),h=s(a("ccbgfecegc")),u=s(a("bbfjdcedab")),f=s(a("ieeidjijb")),p=s(a("dhigahgdjb")),m=s(a("bdacheahgj")),g=s(a("dahagdijgh")),b=s(a("bjheffjbgd")),v=s(a("cciafahdib")),E=i(a("bjjhgjdbhd")),j=a("cdhbdacigj"),C=s(a("bgheieccaj")),S=s(a("bfchfhibba")),_=s(a("dbfjeecgih")),M=s(a("bdjjabfecc")),I=s(a("ebddggeaib")),y=s(a("dgdcjccfdi"));class T extends r.Component{constructor(...e){super(...e),this.flatListController=new _.default,this.onBlockConfirm=e=>{(0,l.blockContact)(e).catch(()=>{}),h.default.closeModal()},this.onBlock=()=>{h.default.openModal(r.createElement(m.default,{title:M.default.t(184),filter:function(e){return!!p.default.isFilteredContact(e)&&(!c.default.get(e.id)||M.default.t(1081))},onCancel:()=>h.default.closeModal(),onSelect:(0,n.default)(this.onBlockConfirm)}))},this.onUnblockConfirm=e=>{(0,l.unblockContact)(e).catch(()=>{}),h.default.closeModal()},this.onUnblockCancel=()=>{h.default.closeModal()},this.onUnblock=(e,t)=>{h.default.openModal(r.createElement(u.default,{okText:M.default.t(1325),onOK:this.onUnblockConfirm.bind(this,t),cancelText:M.default.t(1497),onCancel:this.onUnblockCancel},M.default.t(1326,{contact:t.formattedName})))},this.renderItem=e=>{var{blocklist:t}=e,a=t.contact();return r.createElement(f.default,{contact:a,key:a.id.toString(),onClick:this.onUnblock,onDelete:this.onUnblock,waitIdle:!0})}}componentDidMount(){this.props.listeners.add(c.default,"add remove",()=>{this.forceUpdate()})}getData(){return c.default.map(e=>({itemKey:e.id.toString(),blocklist:e}))}render(){var e,t;return c.default.length>0?(e=r.createElement(S.default,{flatListControllers:[this.flatListController],className:d.default.list},r.createElement(C.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=r.createElement("div",{"data-a8n":o.default.key("blocked-description"),className:d.default.hint},M.default.t(181))):e=r.createElement(j.Blocked,null),r.createElement(g.default,null,r.createElement(E.default,{title:M.default.t(254),onBack:this.props.onClose,type:E.DRAWER_HEADER_TYPE.LARGE}),r.createElement("div",{className:d.default.button},r.createElement(v.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:r.createElement(y.default,{name:"add-user",directional:!0})},M.default.t(184))),r.createElement(b.default,null,e,t))}}var P=(0,I.default)(T);t.default=P},gbcgaicef:function(e,t){e.exports={textThumb:"J9MbH",statusImage:"_1HaC6",container:"mYo1M"}},gceccdhhh:function(e,t){e.exports={productWrapper:"wXBGn",drawerHeader:"_1z8zg",drawerHeaderButtonContainer:"_2I8lX",deleteButtonContainer:"zsxxu",isSending:"_1BLu0",spinner:"_1wLQh"}},gddidehjd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),l=i(a("dhigahgdjb")),d=i(a("bjcgjiedih")),c=i(a("bdeebiagii")),h=i(a("bdjjabfecc")),u=i(a("hdhcfhidh")),f=i(a("cejfghgbfb"));class p extends c.default{constructor(...e){super(...e),this.onClick=(e,t)=>{r.default.find(t.id).then(o.default.openChatFromUnread.bind(o.default)),this.end()},this.onNewGroup=()=>{this.push(n.createElement(f.default,{onBack:this.pop,onContinue:this.onSetGroupInfo}))},this.onSetGroupInfo=e=>{this.push(n.createElement(u.default,{participants:e,onBack:()=>{this.popAndUpdate({participants:e})},onContinue:this.end}))}}componentDidMount(){l.default.ensureSorted(),this.push(n.createElement(d.default,{title:h.default.t(1032),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}t.default=p},gfhdfcfge:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){n.default.supportsFeature(n.default.F.MD_BACKEND);return r.default.setPushname(e).then(e=>{if(e.status&&200!==e.status)throw new s.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}})};var s=a("bgihjbde"),n=i(a("bhbdiadfhj")),r=i(a("cfidecfjad"))},ggefijcjf:function(e,t){e.exports={btnSend:"_13Vq-",attributionLink:"_2A0b0",mediaBody:"_4xf66",attribution:"_3Qmrp",footer:"AywA2",containerBackground:"iHmJh",retake:"_3K8oF",retakeIcon:"pGqnK",mediaElementBase:"_239P0",mediaElement:"SCGu- _239P0"}},gjfejjidf:function(e,t){e.exports={container:"_30K1P",popupPanel:"_18ixn",wrapper:"_10mnq",emojiIcon:"BiQht",sendIcon:"_3TUT5",lineWrapper:"_3KBZU"}},gjiifgfgh:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("gafggdea")),o=s(a("dfhjacfbjg")),l=i(a("ccbgfecegc")),d=i(a("bjigbaghc")),c=i(a("bdeebiagii")),h=a("ddbdgibbbi"),u=i(a("djdjdgjjdc")),f=i(a("dcjahegieh")),p=i(a("daehjhdfgf")),m=i(a("dhefcajhhb")),g=i(a("cghhjgjffa")),b=i(a("gbbacfeci")),v=i(a("bhfeiiegef")),E=i(a("bjjegffjad"));class j extends c.default{constructor(...e){super(...e),this.showWallpaperDrawer=()=>{this.push(n.createElement(E.default,{onClose:this._pop}))},this.showBlockedDrawer=()=>{this.push(n.createElement(r.default,{onClose:this._pop}))},this.showProfileDrawer=()=>{var e=(0,h.getMaybeMeUser)(),t=b.default.assertGet(e),a=m.default.assertGet(e);this.push(n.createElement(p.default,{status:t,profilePicThumb:a,conn:d.default,onClose:this._pop}))},this.showNotifications=()=>{this.push(n.createElement(f.default,{onClose:this._pop}))},this.showHelp=()=>{o.upload({reason:"help-page-opened",isHighPri:!0}),this.push(n.createElement(u.default,{onClose:this._pop}))},this.showThemePopup=()=>{l.default.openModal(n.createElement(v.default,null))},this._pop=()=>{this.pop()}}componentDidMount(){this.push(n.createElement(g.default,{profileId:(0,h.getMaybeMeUser)(),onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onThemeSettings:this.showThemePopup,onClose:this._pop}))}}t.default=j},hbafgiab:function(e,t){e.exports={container:"icRWJ",media:"_3BCve",document:"_3zrV6",text:"LCSYy",icon:"_1tCQI"}},hdhcfhidh:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("fhfbcdaib")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=a("dffedeegcb"),d=s(a("dahagdijgh")),c=s(a("bjheffjbgd")),h=i(a("bjjhgjdbhd")),u=a("dgjddffcfg"),f=s(a("bdjjabfecc")),p=s(a("bbgfcjhfbi")),m=s(a("hajhefagc")),g=s(a("cfcfdeifjb")),b=s(a("deffjjfcba")),v=s(a("dgdcjccfdi")),E=s(a("dbihaeaggd")),j=s(a("didfdhbecg"));class C extends r.Component{constructor(e){super(e),this.onImageSet=(e,t)=>{this.setState({thumb:e,full:t})},this.onContinue=()=>{var e=(0,u.emojify)(this.state.text.trim());(0,l.createGroup)(e,this.state.thumb,this.state.full,this.props.participants),this.props.onContinue()},this.onSubjectChange=e=>{this.setState({text:e})},this.setRefEmojiInput=e=>{this.refEmojiInput=e},this.state={text:e.subject||"",thumb:e.thumb,full:e.full}}componentDidMount(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}render(){var e=this.state.text.trim().length>0,t=e?r.createElement("div",{className:p.default.nextButton},r.createElement(b.default,{a8nText:"create-group-btn",onClick:(0,n.default)(this.onContinue)},r.createElement(v.default,{name:"checkmark-medium"}))):null;return r.createElement(d.default,null,r.createElement(h.default,{title:f.default.t(1033),type:h.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),r.createElement(c.default,null,r.createElement("div",{className:p.default.section},r.createElement(m.default,{type:g.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),r.createElement("div",{"data-a8n":o.default.key("group-subject"),className:p.default.section},r.createElement(E.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:f.default.t(714),onEnter:e?(0,n.default)(this.onContinue):()=>{},supportsEmoji:!0})),r.createElement(j.default,{transitionName:"btn"},t)))}}t.default=C},heaagdjji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetersBetweenLatLngs=function(e,t,a,s){var n=i(a-e),r=i(s-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(i(e))*Math.cos(i(a))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return 6371e3*l},t.getMetersPerPixel=function(e,t){var a=Math.cos(e*Math.PI/180),i=1/Math.pow(2,t);return 156543.03392*a*i},t.getLatDiff=function(e){return s(e/6371e3)},t.getLngDiff=function(e,t){var a=6371e3*Math.cos(i(t));return s(e/a)};function i(e){return e*(Math.PI/180)}function s(e){return e*(180/Math.PI)}},icfeihfad:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("bdeebiagii")),c=i(a("djaadchjch")),h=i(a("djgcaefhci")),u=i(a("bdjjabfecc")),f=i(a("cjfeddifcd")),p=i(a("gjbhafcjg")),m=a("dgbddfjdhi"),g=s(a("bjhgigfbec"));class b extends d.default{constructor(...e){super(...e),this.onSendInvite=(e="",t)=>{o.default.closeModal(),Promise.all(this.props.participantNeedInvite.map(a=>{var{contact:i,invite_code:s,invite_code_exp:n}=a;return r.default.find(i.id).then(a=>{var r=this.props.groupGid.toString(),o=c.default.assertGet(r);return a.sendGroupInviteMessage(r,this.props.subject,s||"",n,e,t).then(e=>e===m.SendMsgResult.OK&&(o.pendingParticipants.add({id:i.id}),!0))})})).then(e=>{var t=e.filter(Boolean).length;o.default.openToast(n.createElement(g.default,{msg:u.default.t(1616,{num:t,_plural:t}),id:(0,g.genId)()}))})},this.addInviteCommment=e=>{this.push(n.createElement(h.default,{participants:e,gid:this.props.groupGid,subject:this.props.subject,groupDesc:this.props.groupDesc,onClose:this._pop,onSend:this.onSendInvite}))},this._pop=()=>{this.pop()}}componentDidMount(){var{participantNeedInvite:e}=this.props,t=this.getFormattedNames(e.map(e=>e.contact),!0),a=u.default.t(719,{participant:t,_plural:e.length});this.push(n.createElement(l.default,{onOK:this.addInviteCommment.bind(this,e),okText:u.default.t(1615),onCancel:this._pop,cancelText:u.default.t(1497)},a))}getFormattedName(e,t=!1){return t?e.formattedUser:n.createElement(p.default,{contact:e})}getFormattedNames(e,t=!1){if(!Array.isArray(e))return this.getFormattedName(e,t);var a=e.map(e=>this.getFormattedName(e,t));return(0,f.default)(a,t)}}t.default=b,b.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},iieiegjjd:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=a("biheibdage"),l=s(a("cjjfbiafb")),d=s(a("bghfehcaaj")),c=s(a("cdbfcccegj")),h=s(a("bfajgaeghd")),u=s(a("cggjjcbdia")),f=s(a("bihjdjceid")),p=s(a("bjddhceafh")),m=s(a("fhgchaefa")),g=s(a("ccbgfecegc")),b=s(a("bbfjdcedab")),v=s(a("hgigjbgie")),E=s(a("dcjhajfghf")),j=s(a("chjgbgddjh")),C=s(a("dahagdijgh")),S=s(a("bjheffjbgd")),_=i(a("bjjhgjdbhd")),M=a("cfffidafid"),I=i(a("cajijabhgb")),y=a("cgffhfegce"),T=s(a("ddajbaceej")),P=s(a("dhfbfehaef")),L=s(a("bdjjabfecc")),w=s(a("ebddggeaib")),k=s(a("chjejfcdd")),N=s(a("bdcchebfge")),R=a("cedhgehjef"),D=s(a("dhccahhefj")),O=s(a("deffjjfcba")),A=s(a("bfgbdiffgd")),x=s(a("ecdebjcgfa")),U=s(a("dgdcjccfdi")),F=i(a("bjhgigfbec")),B=s(a("bchiiahecb")),V=s(a("didfdhbecg")),{IMAGE:G,VIDEO:H,DOCUMENT:W,AUDIO:z}=v.default.MSG_TYPE,{PROCESSING:K}=o.ATTACH_MEDIA_STATE;class Y extends r.Component{static getDerivedStateFromProps(e,t){var a=e.mediaCollection.getActive(),i=e.initCaption&&e.initCaption.text,s=t.isInitCaptionUsed;return s||t.activeMedia||!i||!a||a.type!==G&&a.type!==H||(a.caption=i,s=!0),{prevActiveMedia:t.activeMedia,activeMedia:a,isInitCaptionUsed:s}}constructor(e){super(e),this.attachMediaRefMap=new Map,this.setRefContainer=e=>{this.refContainer=e},this.setRefInput=e=>{this.refInput=e},this.setAttachMediaRef=(e,t)=>{this.attachMediaRefMap.set(e,t)},this.onMediaProcessUpdate=()=>{var{mediaCollection:e}=this.props;if(e.canSend()){var{errorMsgs:t}=e.uiProcessMsgs(),a=e.getPreviewableMedias();t&&a.length>0&&g.default.openToast(r.createElement(F.default,{msg:t,id:(0,F.genId)()})),this.forceUpdate()}},this.onFilesNotSupported=()=>{var e=this.props.mediaCollection.filter(e=>e.exception);e.length>0&&this.props.onFailedMedias(e)},this.showIgnoredToast=e=>{if(e>0){var t=L.default.t(1318,{number:e,_plural:e});g.default.openToast(r.createElement(F.default,{msg:t,id:(0,F.genId)()}))}},this.onDrop=e=>{this.onFilePick(e)},this.onDragLeave=()=>{this.props.mediaCollection.length||this.props.onBack()},this.onDragChange=(e,t)=>{this.setState({isDragging:e}),e||t||this.props.mediaCollection.length||this.props.onBack()},this.onEnter=e=>{this.state.activeMedia&&(e.repeat||e.shiftKey||this.onSend())},this.onArrowLeft=e=>{if(this.state.activeMedia&&!e.repeat){var t=this.state.activeMedia&&!this.state.activeMedia.caption,a=this.refCaptionInput&&this.refCaptionInput.refInput;(t||a&&!a.isFocused()||a&&a.cursorIsAtStart())&&this.onPrev()}},this.onArrowRight=e=>{if(this.state.activeMedia&&!e.repeat){var t=this.state.activeMedia&&!this.state.activeMedia.caption,a=this.refCaptionInput&&this.refCaptionInput.refInput;(t||a&&!a.isFocused()||a&&a.cursorIsAtEnd())&&this.onNext()}},this.onNext=()=>{this.props.mediaCollection.setNextAsActive()&&(this.refSendButton&&T.default.focus(this.refSendButton),this._scrollIntoView())},this.onPrev=()=>{this.props.mediaCollection.setPrevAsActive()&&(this.refSendButton&&T.default.focus(this.refSendButton),this._scrollIntoView())},this._scrollIntoView=()=>{var e=this.props.mediaCollection.getActive();if(e){var t=this.attachMediaRefMap.get(e.id);t&&t.scrollIntoView()}},this.onSelectThumb=e=>{this.props.mediaCollection.setActive(e)},this.onSend=e=>{e&&e.preventDefault(),e&&e.shiftKey||this.props.mediaCollection.canSend()&&Promise.all([]).then(()=>{var e=this.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map(e=>{var t=e.caption,a=[],i=this.refCaptionInput&&this.refCaptionInput.refInput;if(t&&i){var s=i.serialize(t),[n,r]=[s[0].trim(),s[1]];n.length&&(t=n,a=r.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:a}});this.props.onSendMedia(t,this.state.isInitCaptionUsed,this.state.isViewOnce)}})},this.onAddFileClick=()=>{this.refInput&&this.refInput.click()},this.onFilePick=e=>{(0,M.getFiles)(e).then(e=>this.props.mediaCollection.processAttachments(e.map(e=>({file:e})),N.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)).checkpoint(this.props.rejectOnUnmount()).catchType(I.Unmount,()=>{}).catchType(I.MediaDragDropError,e=>{this.props.mediaCollection.length||this.props.onDropText(e.src)}),e.target&&e.target.value&&(e.target.value="")},this.onRemoveThumb=(e,t)=>{t.stopPropagation(),t.preventDefault(),this.props.mediaCollection.remove(e),0===this.props.mediaCollection.getValidMedias().length?this.delayedClose=setTimeout(()=>{this.props.onBack()},200):this.refSendButton&&T.default.focus(this.refSendButton)},this.onCaptionChange=e=>{var{activeMedia:t,isInitCaptionUsed:a}=this.state;if(t){var i=this.props.mediaCollection.indexOf(t);t.caption=e,0===i&&""===e&&a?this.setState({isInitCaptionUsed:!1}):this.forceUpdate()}},this.onPaste=e=>{e.preventDefault(),e.stopPropagation();var t=new E.default(e.clipboardData);t.hasFiles()&&this.onFiles(t)},this.onFiles=e=>{var t=e.getFiles().filter(e=>{var t=(0,y.typeFromMimetype)(e.type);return"image"===t||"video"===t}).map(e=>({file:e}));this.props.mediaCollection.processAttachments(t,N.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},this.onViewOnceChange=()=>{this.setState(e=>({isViewOnce:!e.isViewOnce}))},this.setRefCaptionInput=e=>{this.state.activeMedia&&!e||(this.refCaptionInput=e)},this.getMedia=e=>{var t,a,i;switch(e.type){case G:case H:t||(t=r.createElement(f.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===K,preview:e.preview}));var s=A.default.viewOnceWrite&&1===this.props.mediaCollection.length;a=r.createElement("div",{className:l.default.captionInput,"data-animate-media-caption":!0},r.createElement(k.default,{ref:this.setRefCaptionInput,value:e.caption,placeholder:L.default.t(179),maxLength:v.default.MAX_CAPTION_LENGTH,onEnter:this.onSend,onChange:this.onCaptionChange,onFiles:this.onFiles,chat:this.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}),s?r.createElement(B.default,{className:(0,n.default)(l.default.btnViewOnce,{[l.default.btnViewOnceActive]:this.state.isViewOnce}),onClick:this.onViewOnceChange},r.createElement(U.default,{name:"view-once"})):null);break;case z:t=r.createElement(c.default,{mimeType:e.mimetype,url:e.fullPreview});break;case W:switch((0,R.previewType)(e.mimetype)){case"pdf":t=r.createElement(p.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pageCount:e.documentPageCount,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=r.createElement(h.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=r.createElement(u.default,{mimeType:e.mimetype,filename:e.filename})}}return"image/gif"===e.originalMimetype&&(i=r.createElement("div",{className:l.default.mediaWarning,"data-animate-attach-media":!0},L.default.t(860)," ",r.createElement(m.default,{onClick:this.onWarningCtaClick},L.default.t(794)))),r.createElement("div",{className:l.default.mediaBody,key:e.id},t,i,a)},this.onWarningCtaClick=e=>{e.preventDefault(),g.default.openModal(r.createElement(b.default,{onOK:()=>g.default.closeModal()},L.default.t(643)))},this.getThumbs=e=>e.map(e=>r.createElement(d.default,{id:e.id,key:"media-"+e.id,active:e===this.state.activeMedia,attachMedia:e,onClick:this.onSelectThumb,onClose:this.onRemoveThumb,onRef:this.setAttachMediaRef})),this.setRefSendButton=e=>{this.refSendButton=e},this.state={activeMedia:null,prevActiveMedia:null,isDragging:!1,isInitCaptionUsed:!1,isViewOnce:!1}}componentDidMount(){var{mediaCollection:e,listeners:t}=this.props;t.add(e,"add remove reset",()=>{this.forceUpdate()}),t.add(e,"active-change change:state change:previewable",this.onMediaProcessUpdate),t.add(e,"files_not_supported",this.onFilesNotSupported),t.add(e,"max_upload_limit",this.showIgnoredToast),e.mediaPickerStatsLogger.resumeTimer()}componentDidUpdate(e,t){!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle(()=>{this.refCaptionInput&&this.refCaptionInput.restoreFocus()}):this.refSendButton&&this.refContainer&&!this.refContainer.contains(document.activeElement)&&T.default.focus(this.refSendButton)}componentWillUnmount(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}render(){var e,t,a,{mediaCollection:i}=this.props,{activeMedia:s,prevActiveMedia:o}=this.state,d=0,c=!0,h=i.getPreviewableMedias();h.length>v.default.MAX_FILES&&(h=h.slice(0,v.default.MAX_FILES)),i.canSend()?s?e=this.getMedia(s):0===h.length&&i.errorMsgs&&(e=r.createElement("div",{className:l.default.invalidContainer,key:"pending"},r.createElement("div",{className:l.default.invalidMedia},i.errorMsgs))):(c=!1,e=r.createElement(x.default,{key:"processing",color:"highlight"})),h.length>0&&(t=this.getThumbs(h),d=1===h.length?400:400+(150+15*h.length),a=c?r.createElement("div",{className:l.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:e=>e.preventDefault()},r.createElement(O.default,{large:!0,onClick:this.onSend},r.createElement(U.default,{name:"send",directional:!0}))):null);var u=this.state.isDragging?r.createElement(j.default,null):null,f=h.length<v.default.MAX_FILES?r.createElement("div",{className:(0,n.default)(l.default.btnAdd,{[l.default.btnAddDisabled]:this.state.isViewOnce}),key:"media-more",onClick:this.state.isViewOnce?void 0:this.onAddFileClick,role:"button"},r.createElement(U.default,{name:"add-alt"}),r.createElement("div",{className:l.default.btnAddText},L.default.t(186))):null,p={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},m="*"===R.DOC_MIMES?"*":[v.default.IMAGE_MIMES,v.default.VIDEO_MIMES,R.DOC_MIMES].join(),g="media-scale";return s&&o&&s!==o&&(g=i.indexOf(s)>i.indexOf(o)?"media-slide-forward":"media-slide-back"),r.createElement(P.default,{handlers:p,onRef:this.setRefContainer},r.createElement(C.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},r.createElement(_.default,{title:L.default.t(1702),type:_.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),r.createElement(S.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},u,r.createElement("div",{className:l.default.body},r.createElement(V.default,{transitionName:g},e)),r.createElement("div",{className:l.default.thumbs},r.createElement(V.default,{transitionAppear:!0,transitionName:"thumb-scale",className:l.default.thumbsContainer},t),f),r.createElement(V.default,{transitionAppear:!0,transitionName:"btn",delay:d},a),r.createElement("input",{ref:this.setRefInput,type:"file",accept:m,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}var q=(0,D.default)((0,w.default)(Y));t.default=q},iiiaeiedi:function(e,t){e.exports={container:"lfUbT",body:"_1ZaYJ"}},jajhhaah:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ceffhbhahb")),r=i(a("ddhijeejag")),o=s(a("effbcehec")),l=s(a("hgigjbgie")),d=s(a("bdjjabfecc")),c=a("cbhhehcjbb"),h=s(a("dihjjfjaca"));class u extends r.PureComponent{render(){var e=l.default.VERSION_STR;return r.createElement(c.SelectableDiv,{"data-a8n":o.default.key("version"),className:(0,n.default)(h.default.versionInfo,this.props.className),selectable:!0},d.default.t(1378,{version:""}),r.createElement("span",{dir:"LTR"},e),null)}}t.default=u},jdibabjeb:function(e,t,a){"use strict";var i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(a("cfgafiffdb")),n=i(a("dfdhhbaich")),r=i(a("dbbhijehii")),o=i(a("ecddiajibj")),l=i(a("igieaiddf")),d=i(a("ifdgihhgf")),c=i(a("cecdefhddc")),h=i(a("dajheaeehj")),u=new o.default,f=new s.default;class p extends((0,l.default)([n.default,f,u,d.default])){}t.default=p,p.MentionSuggestions=(0,h.default)(c.default,{plugin:u}),p.EmojiSuggestions=(0,h.default)(r.default,{plugin:f})},jgabafafc:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbeeeigche")),o=i(a("hhcjfgifh")),l=i(a("bgheieccaj")),d=i(a("bfchfhibba")),c=i(a("dbfjeecgih")),h=i(a("bdjjabfecc")),u=i(a("gjbhafcjg")),f=i(a("dgdcjccfdi")),p=i(a("dggddfhei"));class m extends n.Component{constructor(...e){super(...e),this.flatListController=new c.default,this.renderListItem=e=>{var{participant:t}=e,a=t.isMe?n.createElement("div",{className:r.default.time},n.createElement(p.default,{participant:t})):null;return n.createElement("div",{className:r.default.item,onClick:()=>this.props.onParticipantSelected(t.contact.id.toString())},n.createElement("div",{className:r.default.left},n.createElement(o.default,{id:t.contact.id,size:28})),n.createElement("div",{className:r.default.right},n.createElement("div",{className:r.default.name},n.createElement(u.default,{contact:t.contact,titlify:!0,ellipsify:!0,you:!0})),a))}}getListData(){return this.props.participants.map(e=>({itemKey:e.id.toString(),participant:e}))}render(){return n.createElement("div",{className:r.default.container},n.createElement("div",{className:r.default.header},n.createElement("div",{className:r.default.left},n.createElement("span",{className:r.default.close,onClick:this.props.onClearSelected},n.createElement(f.default,{name:"x"}))),n.createElement("div",{className:r.default.right},h.default.t(802,{count:this.props.participants.length,_plural:this.props.participants.length}))),n.createElement(d.default,{className:r.default.list,flatListControllers:[this.flatListController]},n.createElement(l.default,{data:this.getListData(),flatListController:this.flatListController,direction:"vertical",defaultItemHeight:48,renderItem:this.renderListItem})))}}t.default=m},jggdejhae:function(e,t){e.exports={commentInput:"_3BOoA",search:"_22ba7",groupInfo:"_10umX",onSendInvite:"OSrIL"}},jgjccejgb:function(e,t,a){"use strict";var i=a("bfejgijfbh"),s=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("eaaagccfda")),r=s(a("iidhbgeed")),o=s(a("dbafiicfja")),l=i(a("ddhijeejag")),d=i(a("dighcbdehd")),c=a("cdhbdacigj"),h=a("dgjddffcfg"),u=s(a("bdjjabfecc")),f=s(a("bciccdecig")),p=s(a("dcaibchbg"));class m extends l.Component{constructor(e){super(e),this.onSelect=(e,t)=>{if(t instanceof d.Mode){var a=t.props.chat;!0===this.props.filter(a)&&this.props.onGroup(t.props.chat)}},this.onSearch=(0,n.default)(e=>{this.setState({searchText:e})},100),this.renderItem=e=>{var t,a,{onGroup:i,filter:s}=this.props,n=s(e.chat),r="boolean"!=typeof n;return r&&(t=n,a="group-modal"),l.createElement(d.default,{chat:e.chat,contact:e.chat.contact,mode:d.Mode.INFO,active:this.selection,secondary:t,noContext:!0,theme:a,onClick:r?void 0:i.bind(null,e.chat)})},this.selection=new p.default,this.state={loading:!0,searchText:void 0}}componentDidMount(){var{chats:e}=this.props;Promise.delay(300).then(()=>Promise.all((0,o.default)((0,r.default)(e,e=>e.groupMetadata.stale),e=>a("djaadchjch").default.update(e.groupMetadata.id).catch(()=>{})))).then(()=>this.setState({loading:!1}))}getData(){var{chats:e,filter:t}=this.props,{loading:a,searchText:i}=this.state;if(a)return[];var s=u.default.accentFold(i),n=(0,h.numberSearch)(s),r=e.filter(e=>t(e)&&(!s||s&&e.contact.searchMatch(s,n)));return this.selection.init(r.filter(e=>!0===t(e)).map(e=>e.id)),r.map(e=>({chat:e,itemKey:e.id.toString()}))}render(){var{onCancel:e}=this.props,{loading:t}=this.state,a=t?l.createElement(c.Loading,null):l.createElement(c.SearchGroups,null);return l.createElement(f.default,{title:u.default.t(1618),data:this.getData(),renderItem:this.renderItem,emptyState:a,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:u.default.t(1198),onSelect:this.onSelect,onCancel:e})}}t.default=m,m.defaultProps={filter:function(){return!0}}},jjhjbgbd:function(e,t,a){"use strict";var i=a("cfjecfhbfg"),s=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a("ddhijeejag")),r=i(a("dbdfbgehgj")),o=i(a("ccbgfecegc")),l=i(a("bbfjdcedab")),d=i(a("gfebgebbi")),c=i(a("bdjjabfecc"));class h extends n.Component{constructor(...e){super(...e),this.onCancel=()=>{o.default.closeModal()},this.onUnstar=()=>{var e=this.props.chat,t=this.props.msgs;e&&e.pendingAction++,r.default.unstarAllMessages(t,e).finally(()=>{e&&e.pendingAction--}),o.default.closeModal()}}render(){return n.createElement(l.default,{onOK:this.onUnstar,okText:c.default.t(1335),onCancel:this.onCancel},n.createElement("div",null,n.createElement(d.default,{text:c.default.t(1336)})))}}t.default=h}}]);